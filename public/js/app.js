/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 93);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n * Rangy, a cross-browser JavaScript range and selection library\r\n * https://github.com/timdown/rangy\r\n *\r\n * Copyright 2015, Tim Down\r\n * Licensed under the MIT license.\r\n * Version: 1.3.0\r\n * Build date: 10 May 2015\r\n */\r\n\r\n(function(factory, root) {\r\n    if (true) {\r\n        // AMD. Register as an anonymous module.\r\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n    } else if (typeof module != \"undefined\" && typeof exports == \"object\") {\r\n        // Node/CommonJS style\r\n        module.exports = factory();\r\n    } else {\r\n        // No AMD or CommonJS support so we place Rangy in (probably) the global variable\r\n        root.rangy = factory();\r\n    }\r\n})(function() {\r\n\r\n    var OBJECT = \"object\", FUNCTION = \"function\", UNDEFINED = \"undefined\";\r\n\r\n    // Minimal set of properties required for DOM Level 2 Range compliance. Comparison constants such as START_TO_START\r\n    // are omitted because ranges in KHTML do not have them but otherwise work perfectly well. See issue 113.\r\n    var domRangeProperties = [\"startContainer\", \"startOffset\", \"endContainer\", \"endOffset\", \"collapsed\",\r\n        \"commonAncestorContainer\"];\r\n\r\n    // Minimal set of methods required for DOM Level 2 Range compliance\r\n    var domRangeMethods = [\"setStart\", \"setStartBefore\", \"setStartAfter\", \"setEnd\", \"setEndBefore\",\r\n        \"setEndAfter\", \"collapse\", \"selectNode\", \"selectNodeContents\", \"compareBoundaryPoints\", \"deleteContents\",\r\n        \"extractContents\", \"cloneContents\", \"insertNode\", \"surroundContents\", \"cloneRange\", \"toString\", \"detach\"];\r\n\r\n    var textRangeProperties = [\"boundingHeight\", \"boundingLeft\", \"boundingTop\", \"boundingWidth\", \"htmlText\", \"text\"];\r\n\r\n    // Subset of TextRange's full set of methods that we're interested in\r\n    var textRangeMethods = [\"collapse\", \"compareEndPoints\", \"duplicate\", \"moveToElementText\", \"parentElement\", \"select\",\r\n        \"setEndPoint\", \"getBoundingClientRect\"];\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Trio of functions taken from Peter Michaux's article:\r\n    // http://peter.michaux.ca/articles/feature-detection-state-of-the-art-browser-scripting\r\n    function isHostMethod(o, p) {\r\n        var t = typeof o[p];\r\n        return t == FUNCTION || (!!(t == OBJECT && o[p])) || t == \"unknown\";\r\n    }\r\n\r\n    function isHostObject(o, p) {\r\n        return !!(typeof o[p] == OBJECT && o[p]);\r\n    }\r\n\r\n    function isHostProperty(o, p) {\r\n        return typeof o[p] != UNDEFINED;\r\n    }\r\n\r\n    // Creates a convenience function to save verbose repeated calls to tests functions\r\n    function createMultiplePropertyTest(testFunc) {\r\n        return function(o, props) {\r\n            var i = props.length;\r\n            while (i--) {\r\n                if (!testFunc(o, props[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n    }\r\n\r\n    // Next trio of functions are a convenience to save verbose repeated calls to previous two functions\r\n    var areHostMethods = createMultiplePropertyTest(isHostMethod);\r\n    var areHostObjects = createMultiplePropertyTest(isHostObject);\r\n    var areHostProperties = createMultiplePropertyTest(isHostProperty);\r\n\r\n    function isTextRange(range) {\r\n        return range && areHostMethods(range, textRangeMethods) && areHostProperties(range, textRangeProperties);\r\n    }\r\n\r\n    function getBody(doc) {\r\n        return isHostObject(doc, \"body\") ? doc.body : doc.getElementsByTagName(\"body\")[0];\r\n    }\r\n\r\n    var forEach = [].forEach ?\r\n        function(arr, func) {\r\n            arr.forEach(func);\r\n        } :\r\n        function(arr, func) {\r\n            for (var i = 0, len = arr.length; i < len; ++i) {\r\n                func(arr[i], i);\r\n            }\r\n        };\r\n\r\n    var modules = {};\r\n\r\n    var isBrowser = (typeof window != UNDEFINED && typeof document != UNDEFINED);\r\n\r\n    var util = {\r\n        isHostMethod: isHostMethod,\r\n        isHostObject: isHostObject,\r\n        isHostProperty: isHostProperty,\r\n        areHostMethods: areHostMethods,\r\n        areHostObjects: areHostObjects,\r\n        areHostProperties: areHostProperties,\r\n        isTextRange: isTextRange,\r\n        getBody: getBody,\r\n        forEach: forEach\r\n    };\r\n\r\n    var api = {\r\n        version: \"1.3.0\",\r\n        initialized: false,\r\n        isBrowser: isBrowser,\r\n        supported: true,\r\n        util: util,\r\n        features: {},\r\n        modules: modules,\r\n        config: {\r\n            alertOnFail: false,\r\n            alertOnWarn: false,\r\n            preferTextRange: false,\r\n            autoInitialize: (typeof rangyAutoInitialize == UNDEFINED) ? true : rangyAutoInitialize\r\n        }\r\n    };\r\n\r\n    function consoleLog(msg) {\r\n        if (typeof console != UNDEFINED && isHostMethod(console, \"log\")) {\r\n            console.log(msg);\r\n        }\r\n    }\r\n\r\n    function alertOrLog(msg, shouldAlert) {\r\n        if (isBrowser && shouldAlert) {\r\n            alert(msg);\r\n        } else  {\r\n            consoleLog(msg);\r\n        }\r\n    }\r\n\r\n    function fail(reason) {\r\n        api.initialized = true;\r\n        api.supported = false;\r\n        alertOrLog(\"Rangy is not supported in this environment. Reason: \" + reason, api.config.alertOnFail);\r\n    }\r\n\r\n    api.fail = fail;\r\n\r\n    function warn(msg) {\r\n        alertOrLog(\"Rangy warning: \" + msg, api.config.alertOnWarn);\r\n    }\r\n\r\n    api.warn = warn;\r\n\r\n    // Add utility extend() method\r\n    var extend;\r\n    if ({}.hasOwnProperty) {\r\n        util.extend = extend = function(obj, props, deep) {\r\n            var o, p;\r\n            for (var i in props) {\r\n                if (props.hasOwnProperty(i)) {\r\n                    o = obj[i];\r\n                    p = props[i];\r\n                    if (deep && o !== null && typeof o == \"object\" && p !== null && typeof p == \"object\") {\r\n                        extend(o, p, true);\r\n                    }\r\n                    obj[i] = p;\r\n                }\r\n            }\r\n            // Special case for toString, which does not show up in for...in loops in IE <= 8\r\n            if (props.hasOwnProperty(\"toString\")) {\r\n                obj.toString = props.toString;\r\n            }\r\n            return obj;\r\n        };\r\n\r\n        util.createOptions = function(optionsParam, defaults) {\r\n            var options = {};\r\n            extend(options, defaults);\r\n            if (optionsParam) {\r\n                extend(options, optionsParam);\r\n            }\r\n            return options;\r\n        };\r\n    } else {\r\n        fail(\"hasOwnProperty not supported\");\r\n    }\r\n\r\n    // Test whether we're in a browser and bail out if not\r\n    if (!isBrowser) {\r\n        fail(\"Rangy can only run in a browser\");\r\n    }\r\n\r\n    // Test whether Array.prototype.slice can be relied on for NodeLists and use an alternative toArray() if not\r\n    (function() {\r\n        var toArray;\r\n\r\n        if (isBrowser) {\r\n            var el = document.createElement(\"div\");\r\n            el.appendChild(document.createElement(\"span\"));\r\n            var slice = [].slice;\r\n            try {\r\n                if (slice.call(el.childNodes, 0)[0].nodeType == 1) {\r\n                    toArray = function(arrayLike) {\r\n                        return slice.call(arrayLike, 0);\r\n                    };\r\n                }\r\n            } catch (e) {}\r\n        }\r\n\r\n        if (!toArray) {\r\n            toArray = function(arrayLike) {\r\n                var arr = [];\r\n                for (var i = 0, len = arrayLike.length; i < len; ++i) {\r\n                    arr[i] = arrayLike[i];\r\n                }\r\n                return arr;\r\n            };\r\n        }\r\n\r\n        util.toArray = toArray;\r\n    })();\r\n\r\n    // Very simple event handler wrapper function that doesn't attempt to solve issues such as \"this\" handling or\r\n    // normalization of event properties\r\n    var addListener;\r\n    if (isBrowser) {\r\n        if (isHostMethod(document, \"addEventListener\")) {\r\n            addListener = function(obj, eventType, listener) {\r\n                obj.addEventListener(eventType, listener, false);\r\n            };\r\n        } else if (isHostMethod(document, \"attachEvent\")) {\r\n            addListener = function(obj, eventType, listener) {\r\n                obj.attachEvent(\"on\" + eventType, listener);\r\n            };\r\n        } else {\r\n            fail(\"Document does not have required addEventListener or attachEvent method\");\r\n        }\r\n\r\n        util.addListener = addListener;\r\n    }\r\n\r\n    var initListeners = [];\r\n\r\n    function getErrorDesc(ex) {\r\n        return ex.message || ex.description || String(ex);\r\n    }\r\n\r\n    // Initialization\r\n    function init() {\r\n        if (!isBrowser || api.initialized) {\r\n            return;\r\n        }\r\n        var testRange;\r\n        var implementsDomRange = false, implementsTextRange = false;\r\n\r\n        // First, perform basic feature tests\r\n\r\n        if (isHostMethod(document, \"createRange\")) {\r\n            testRange = document.createRange();\r\n            if (areHostMethods(testRange, domRangeMethods) && areHostProperties(testRange, domRangeProperties)) {\r\n                implementsDomRange = true;\r\n            }\r\n        }\r\n\r\n        var body = getBody(document);\r\n        if (!body || body.nodeName.toLowerCase() != \"body\") {\r\n            fail(\"No body element found\");\r\n            return;\r\n        }\r\n\r\n        if (body && isHostMethod(body, \"createTextRange\")) {\r\n            testRange = body.createTextRange();\r\n            if (isTextRange(testRange)) {\r\n                implementsTextRange = true;\r\n            }\r\n        }\r\n\r\n        if (!implementsDomRange && !implementsTextRange) {\r\n            fail(\"Neither Range nor TextRange are available\");\r\n            return;\r\n        }\r\n\r\n        api.initialized = true;\r\n        api.features = {\r\n            implementsDomRange: implementsDomRange,\r\n            implementsTextRange: implementsTextRange\r\n        };\r\n\r\n        // Initialize modules\r\n        var module, errorMessage;\r\n        for (var moduleName in modules) {\r\n            if ( (module = modules[moduleName]) instanceof Module ) {\r\n                module.init(module, api);\r\n            }\r\n        }\r\n\r\n        // Call init listeners\r\n        for (var i = 0, len = initListeners.length; i < len; ++i) {\r\n            try {\r\n                initListeners[i](api);\r\n            } catch (ex) {\r\n                errorMessage = \"Rangy init listener threw an exception. Continuing. Detail: \" + getErrorDesc(ex);\r\n                consoleLog(errorMessage);\r\n            }\r\n        }\r\n    }\r\n\r\n    function deprecationNotice(deprecated, replacement, module) {\r\n        if (module) {\r\n            deprecated += \" in module \" + module.name;\r\n        }\r\n        api.warn(\"DEPRECATED: \" + deprecated + \" is deprecated. Please use \" +\r\n        replacement + \" instead.\");\r\n    }\r\n\r\n    function createAliasForDeprecatedMethod(owner, deprecated, replacement, module) {\r\n        owner[deprecated] = function() {\r\n            deprecationNotice(deprecated, replacement, module);\r\n            return owner[replacement].apply(owner, util.toArray(arguments));\r\n        };\r\n    }\r\n\r\n    util.deprecationNotice = deprecationNotice;\r\n    util.createAliasForDeprecatedMethod = createAliasForDeprecatedMethod;\r\n\r\n    // Allow external scripts to initialize this library in case it's loaded after the document has loaded\r\n    api.init = init;\r\n\r\n    // Execute listener immediately if already initialized\r\n    api.addInitListener = function(listener) {\r\n        if (api.initialized) {\r\n            listener(api);\r\n        } else {\r\n            initListeners.push(listener);\r\n        }\r\n    };\r\n\r\n    var shimListeners = [];\r\n\r\n    api.addShimListener = function(listener) {\r\n        shimListeners.push(listener);\r\n    };\r\n\r\n    function shim(win) {\r\n        win = win || window;\r\n        init();\r\n\r\n        // Notify listeners\r\n        for (var i = 0, len = shimListeners.length; i < len; ++i) {\r\n            shimListeners[i](win);\r\n        }\r\n    }\r\n\r\n    if (isBrowser) {\r\n        api.shim = api.createMissingNativeApi = shim;\r\n        createAliasForDeprecatedMethod(api, \"createMissingNativeApi\", \"shim\");\r\n    }\r\n\r\n    function Module(name, dependencies, initializer) {\r\n        this.name = name;\r\n        this.dependencies = dependencies;\r\n        this.initialized = false;\r\n        this.supported = false;\r\n        this.initializer = initializer;\r\n    }\r\n\r\n    Module.prototype = {\r\n        init: function() {\r\n            var requiredModuleNames = this.dependencies || [];\r\n            for (var i = 0, len = requiredModuleNames.length, requiredModule, moduleName; i < len; ++i) {\r\n                moduleName = requiredModuleNames[i];\r\n\r\n                requiredModule = modules[moduleName];\r\n                if (!requiredModule || !(requiredModule instanceof Module)) {\r\n                    throw new Error(\"required module '\" + moduleName + \"' not found\");\r\n                }\r\n\r\n                requiredModule.init();\r\n\r\n                if (!requiredModule.supported) {\r\n                    throw new Error(\"required module '\" + moduleName + \"' not supported\");\r\n                }\r\n            }\r\n\r\n            // Now run initializer\r\n            this.initializer(this);\r\n        },\r\n\r\n        fail: function(reason) {\r\n            this.initialized = true;\r\n            this.supported = false;\r\n            throw new Error(reason);\r\n        },\r\n\r\n        warn: function(msg) {\r\n            api.warn(\"Module \" + this.name + \": \" + msg);\r\n        },\r\n\r\n        deprecationNotice: function(deprecated, replacement) {\r\n            api.warn(\"DEPRECATED: \" + deprecated + \" in module \" + this.name + \" is deprecated. Please use \" +\r\n                replacement + \" instead\");\r\n        },\r\n\r\n        createError: function(msg) {\r\n            return new Error(\"Error in Rangy \" + this.name + \" module: \" + msg);\r\n        }\r\n    };\r\n\r\n    function createModule(name, dependencies, initFunc) {\r\n        var newModule = new Module(name, dependencies, function(module) {\r\n            if (!module.initialized) {\r\n                module.initialized = true;\r\n                try {\r\n                    initFunc(api, module);\r\n                    module.supported = true;\r\n                } catch (ex) {\r\n                    var errorMessage = \"Module '\" + name + \"' failed to load: \" + getErrorDesc(ex);\r\n                    consoleLog(errorMessage);\r\n                    if (ex.stack) {\r\n                        consoleLog(ex.stack);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        modules[name] = newModule;\r\n        return newModule;\r\n    }\r\n\r\n    api.createModule = function(name) {\r\n        // Allow 2 or 3 arguments (second argument is an optional array of dependencies)\r\n        var initFunc, dependencies;\r\n        if (arguments.length == 2) {\r\n            initFunc = arguments[1];\r\n            dependencies = [];\r\n        } else {\r\n            initFunc = arguments[2];\r\n            dependencies = arguments[1];\r\n        }\r\n\r\n        var module = createModule(name, dependencies, initFunc);\r\n\r\n        // Initialize the module immediately if the core is already initialized\r\n        if (api.initialized && api.supported) {\r\n            module.init();\r\n        }\r\n    };\r\n\r\n    api.createCoreModule = function(name, dependencies, initFunc) {\r\n        createModule(name, dependencies, initFunc);\r\n    };\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Ensure rangy.rangePrototype and rangy.selectionPrototype are available immediately\r\n\r\n    function RangePrototype() {}\r\n    api.RangePrototype = RangePrototype;\r\n    api.rangePrototype = new RangePrototype();\r\n\r\n    function SelectionPrototype() {}\r\n    api.selectionPrototype = new SelectionPrototype();\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // DOM utility methods used by Rangy\n    api.createCoreModule(\"DomUtil\", [], function(api, module) {\n        var UNDEF = \"undefined\";\n        var util = api.util;\n        var getBody = util.getBody;\n\n        // Perform feature tests\n        if (!util.areHostMethods(document, [\"createDocumentFragment\", \"createElement\", \"createTextNode\"])) {\n            module.fail(\"document missing a Node creation method\");\n        }\n\n        if (!util.isHostMethod(document, \"getElementsByTagName\")) {\n            module.fail(\"document missing getElementsByTagName method\");\n        }\n\n        var el = document.createElement(\"div\");\n        if (!util.areHostMethods(el, [\"insertBefore\", \"appendChild\", \"cloneNode\"] ||\n                !util.areHostObjects(el, [\"previousSibling\", \"nextSibling\", \"childNodes\", \"parentNode\"]))) {\n            module.fail(\"Incomplete Element implementation\");\n        }\n\n        // innerHTML is required for Range's createContextualFragment method\n        if (!util.isHostProperty(el, \"innerHTML\")) {\n            module.fail(\"Element is missing innerHTML property\");\n        }\n\n        var textNode = document.createTextNode(\"test\");\n        if (!util.areHostMethods(textNode, [\"splitText\", \"deleteData\", \"insertData\", \"appendData\", \"cloneNode\"] ||\n                !util.areHostObjects(el, [\"previousSibling\", \"nextSibling\", \"childNodes\", \"parentNode\"]) ||\n                !util.areHostProperties(textNode, [\"data\"]))) {\n            module.fail(\"Incomplete Text Node implementation\");\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Removed use of indexOf because of a bizarre bug in Opera that is thrown in one of the Acid3 tests. I haven't been\n        // able to replicate it outside of the test. The bug is that indexOf returns -1 when called on an Array that\n        // contains just the document as a single element and the value searched for is the document.\n        var arrayContains = /*Array.prototype.indexOf ?\n            function(arr, val) {\n                return arr.indexOf(val) > -1;\n            }:*/\n\n            function(arr, val) {\n                var i = arr.length;\n                while (i--) {\n                    if (arr[i] === val) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n\n        // Opera 11 puts HTML elements in the null namespace, it seems, and IE 7 has undefined namespaceURI\n        function isHtmlNamespace(node) {\n            var ns;\n            return typeof node.namespaceURI == UNDEF || ((ns = node.namespaceURI) === null || ns == \"http://www.w3.org/1999/xhtml\");\n        }\n\n        function parentElement(node) {\n            var parent = node.parentNode;\n            return (parent.nodeType == 1) ? parent : null;\n        }\n\n        function getNodeIndex(node) {\n            var i = 0;\n            while( (node = node.previousSibling) ) {\n                ++i;\n            }\n            return i;\n        }\n\n        function getNodeLength(node) {\n            switch (node.nodeType) {\n                case 7:\n                case 10:\n                    return 0;\n                case 3:\n                case 8:\n                    return node.length;\n                default:\n                    return node.childNodes.length;\n            }\n        }\n\n        function getCommonAncestor(node1, node2) {\n            var ancestors = [], n;\n            for (n = node1; n; n = n.parentNode) {\n                ancestors.push(n);\n            }\n\n            for (n = node2; n; n = n.parentNode) {\n                if (arrayContains(ancestors, n)) {\n                    return n;\n                }\n            }\n\n            return null;\n        }\n\n        function isAncestorOf(ancestor, descendant, selfIsAncestor) {\n            var n = selfIsAncestor ? descendant : descendant.parentNode;\n            while (n) {\n                if (n === ancestor) {\n                    return true;\n                } else {\n                    n = n.parentNode;\n                }\n            }\n            return false;\n        }\n\n        function isOrIsAncestorOf(ancestor, descendant) {\n            return isAncestorOf(ancestor, descendant, true);\n        }\n\n        function getClosestAncestorIn(node, ancestor, selfIsAncestor) {\n            var p, n = selfIsAncestor ? node : node.parentNode;\n            while (n) {\n                p = n.parentNode;\n                if (p === ancestor) {\n                    return n;\n                }\n                n = p;\n            }\n            return null;\n        }\n\n        function isCharacterDataNode(node) {\n            var t = node.nodeType;\n            return t == 3 || t == 4 || t == 8 ; // Text, CDataSection or Comment\n        }\n\n        function isTextOrCommentNode(node) {\n            if (!node) {\n                return false;\n            }\n            var t = node.nodeType;\n            return t == 3 || t == 8 ; // Text or Comment\n        }\n\n        function insertAfter(node, precedingNode) {\n            var nextNode = precedingNode.nextSibling, parent = precedingNode.parentNode;\n            if (nextNode) {\n                parent.insertBefore(node, nextNode);\n            } else {\n                parent.appendChild(node);\n            }\n            return node;\n        }\n\n        // Note that we cannot use splitText() because it is bugridden in IE 9.\n        function splitDataNode(node, index, positionsToPreserve) {\n            var newNode = node.cloneNode(false);\n            newNode.deleteData(0, index);\n            node.deleteData(index, node.length - index);\n            insertAfter(newNode, node);\n\n            // Preserve positions\n            if (positionsToPreserve) {\n                for (var i = 0, position; position = positionsToPreserve[i++]; ) {\n                    // Handle case where position was inside the portion of node after the split point\n                    if (position.node == node && position.offset > index) {\n                        position.node = newNode;\n                        position.offset -= index;\n                    }\n                    // Handle the case where the position is a node offset within node's parent\n                    else if (position.node == node.parentNode && position.offset > getNodeIndex(node)) {\n                        ++position.offset;\n                    }\n                }\n            }\n            return newNode;\n        }\n\n        function getDocument(node) {\n            if (node.nodeType == 9) {\n                return node;\n            } else if (typeof node.ownerDocument != UNDEF) {\n                return node.ownerDocument;\n            } else if (typeof node.document != UNDEF) {\n                return node.document;\n            } else if (node.parentNode) {\n                return getDocument(node.parentNode);\n            } else {\n                throw module.createError(\"getDocument: no document found for node\");\n            }\n        }\n\n        function getWindow(node) {\n            var doc = getDocument(node);\n            if (typeof doc.defaultView != UNDEF) {\n                return doc.defaultView;\n            } else if (typeof doc.parentWindow != UNDEF) {\n                return doc.parentWindow;\n            } else {\n                throw module.createError(\"Cannot get a window object for node\");\n            }\n        }\n\n        function getIframeDocument(iframeEl) {\n            if (typeof iframeEl.contentDocument != UNDEF) {\n                return iframeEl.contentDocument;\n            } else if (typeof iframeEl.contentWindow != UNDEF) {\n                return iframeEl.contentWindow.document;\n            } else {\n                throw module.createError(\"getIframeDocument: No Document object found for iframe element\");\n            }\n        }\n\n        function getIframeWindow(iframeEl) {\n            if (typeof iframeEl.contentWindow != UNDEF) {\n                return iframeEl.contentWindow;\n            } else if (typeof iframeEl.contentDocument != UNDEF) {\n                return iframeEl.contentDocument.defaultView;\n            } else {\n                throw module.createError(\"getIframeWindow: No Window object found for iframe element\");\n            }\n        }\n\n        // This looks bad. Is it worth it?\n        function isWindow(obj) {\n            return obj && util.isHostMethod(obj, \"setTimeout\") && util.isHostObject(obj, \"document\");\n        }\n\n        function getContentDocument(obj, module, methodName) {\n            var doc;\n\n            if (!obj) {\n                doc = document;\n            }\n\n            // Test if a DOM node has been passed and obtain a document object for it if so\n            else if (util.isHostProperty(obj, \"nodeType\")) {\n                doc = (obj.nodeType == 1 && obj.tagName.toLowerCase() == \"iframe\") ?\n                    getIframeDocument(obj) : getDocument(obj);\n            }\n\n            // Test if the doc parameter appears to be a Window object\n            else if (isWindow(obj)) {\n                doc = obj.document;\n            }\n\n            if (!doc) {\n                throw module.createError(methodName + \"(): Parameter must be a Window object or DOM node\");\n            }\n\n            return doc;\n        }\n\n        function getRootContainer(node) {\n            var parent;\n            while ( (parent = node.parentNode) ) {\n                node = parent;\n            }\n            return node;\n        }\n\n        function comparePoints(nodeA, offsetA, nodeB, offsetB) {\n            // See http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Comparing\n            var nodeC, root, childA, childB, n;\n            if (nodeA == nodeB) {\n                // Case 1: nodes are the same\n                return offsetA === offsetB ? 0 : (offsetA < offsetB) ? -1 : 1;\n            } else if ( (nodeC = getClosestAncestorIn(nodeB, nodeA, true)) ) {\n                // Case 2: node C (container B or an ancestor) is a child node of A\n                return offsetA <= getNodeIndex(nodeC) ? -1 : 1;\n            } else if ( (nodeC = getClosestAncestorIn(nodeA, nodeB, true)) ) {\n                // Case 3: node C (container A or an ancestor) is a child node of B\n                return getNodeIndex(nodeC) < offsetB  ? -1 : 1;\n            } else {\n                root = getCommonAncestor(nodeA, nodeB);\n                if (!root) {\n                    throw new Error(\"comparePoints error: nodes have no common ancestor\");\n                }\n\n                // Case 4: containers are siblings or descendants of siblings\n                childA = (nodeA === root) ? root : getClosestAncestorIn(nodeA, root, true);\n                childB = (nodeB === root) ? root : getClosestAncestorIn(nodeB, root, true);\n\n                if (childA === childB) {\n                    // This shouldn't be possible\n                    throw module.createError(\"comparePoints got to case 4 and childA and childB are the same!\");\n                } else {\n                    n = root.firstChild;\n                    while (n) {\n                        if (n === childA) {\n                            return -1;\n                        } else if (n === childB) {\n                            return 1;\n                        }\n                        n = n.nextSibling;\n                    }\n                }\n            }\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Test for IE's crash (IE 6/7) or exception (IE >= 8) when a reference to garbage-collected text node is queried\n        var crashyTextNodes = false;\n\n        function isBrokenNode(node) {\n            var n;\n            try {\n                n = node.parentNode;\n                return false;\n            } catch (e) {\n                return true;\n            }\n        }\n\n        (function() {\n            var el = document.createElement(\"b\");\n            el.innerHTML = \"1\";\n            var textNode = el.firstChild;\n            el.innerHTML = \"<br />\";\n            crashyTextNodes = isBrokenNode(textNode);\n\n            api.features.crashyTextNodes = crashyTextNodes;\n        })();\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        function inspectNode(node) {\n            if (!node) {\n                return \"[No node]\";\n            }\n            if (crashyTextNodes && isBrokenNode(node)) {\n                return \"[Broken node]\";\n            }\n            if (isCharacterDataNode(node)) {\n                return '\"' + node.data + '\"';\n            }\n            if (node.nodeType == 1) {\n                var idAttr = node.id ? ' id=\"' + node.id + '\"' : \"\";\n                return \"<\" + node.nodeName + idAttr + \">[index:\" + getNodeIndex(node) + \",length:\" + node.childNodes.length + \"][\" + (node.innerHTML || \"[innerHTML not supported]\").slice(0, 25) + \"]\";\n            }\n            return node.nodeName;\n        }\n\n        function fragmentFromNodeChildren(node) {\n            var fragment = getDocument(node).createDocumentFragment(), child;\n            while ( (child = node.firstChild) ) {\n                fragment.appendChild(child);\n            }\n            return fragment;\n        }\n\n        var getComputedStyleProperty;\n        if (typeof window.getComputedStyle != UNDEF) {\n            getComputedStyleProperty = function(el, propName) {\n                return getWindow(el).getComputedStyle(el, null)[propName];\n            };\n        } else if (typeof document.documentElement.currentStyle != UNDEF) {\n            getComputedStyleProperty = function(el, propName) {\n                return el.currentStyle ? el.currentStyle[propName] : \"\";\n            };\n        } else {\n            module.fail(\"No means of obtaining computed style properties found\");\n        }\n\n        function createTestElement(doc, html, contentEditable) {\n            var body = getBody(doc);\n            var el = doc.createElement(\"div\");\n            el.contentEditable = \"\" + !!contentEditable;\n            if (html) {\n                el.innerHTML = html;\n            }\n\n            // Insert the test element at the start of the body to prevent scrolling to the bottom in iOS (issue #292)\n            var bodyFirstChild = body.firstChild;\n            if (bodyFirstChild) {\n                body.insertBefore(el, bodyFirstChild);\n            } else {\n                body.appendChild(el);\n            }\n\n            return el;\n        }\n\n        function removeNode(node) {\n            return node.parentNode.removeChild(node);\n        }\n\n        function NodeIterator(root) {\n            this.root = root;\n            this._next = root;\n        }\n\n        NodeIterator.prototype = {\n            _current: null,\n\n            hasNext: function() {\n                return !!this._next;\n            },\n\n            next: function() {\n                var n = this._current = this._next;\n                var child, next;\n                if (this._current) {\n                    child = n.firstChild;\n                    if (child) {\n                        this._next = child;\n                    } else {\n                        next = null;\n                        while ((n !== this.root) && !(next = n.nextSibling)) {\n                            n = n.parentNode;\n                        }\n                        this._next = next;\n                    }\n                }\n                return this._current;\n            },\n\n            detach: function() {\n                this._current = this._next = this.root = null;\n            }\n        };\n\n        function createIterator(root) {\n            return new NodeIterator(root);\n        }\n\n        function DomPosition(node, offset) {\n            this.node = node;\n            this.offset = offset;\n        }\n\n        DomPosition.prototype = {\n            equals: function(pos) {\n                return !!pos && this.node === pos.node && this.offset == pos.offset;\n            },\n\n            inspect: function() {\n                return \"[DomPosition(\" + inspectNode(this.node) + \":\" + this.offset + \")]\";\n            },\n\n            toString: function() {\n                return this.inspect();\n            }\n        };\n\n        function DOMException(codeName) {\n            this.code = this[codeName];\n            this.codeName = codeName;\n            this.message = \"DOMException: \" + this.codeName;\n        }\n\n        DOMException.prototype = {\n            INDEX_SIZE_ERR: 1,\n            HIERARCHY_REQUEST_ERR: 3,\n            WRONG_DOCUMENT_ERR: 4,\n            NO_MODIFICATION_ALLOWED_ERR: 7,\n            NOT_FOUND_ERR: 8,\n            NOT_SUPPORTED_ERR: 9,\n            INVALID_STATE_ERR: 11,\n            INVALID_NODE_TYPE_ERR: 24\n        };\n\n        DOMException.prototype.toString = function() {\n            return this.message;\n        };\n\n        api.dom = {\n            arrayContains: arrayContains,\n            isHtmlNamespace: isHtmlNamespace,\n            parentElement: parentElement,\n            getNodeIndex: getNodeIndex,\n            getNodeLength: getNodeLength,\n            getCommonAncestor: getCommonAncestor,\n            isAncestorOf: isAncestorOf,\n            isOrIsAncestorOf: isOrIsAncestorOf,\n            getClosestAncestorIn: getClosestAncestorIn,\n            isCharacterDataNode: isCharacterDataNode,\n            isTextOrCommentNode: isTextOrCommentNode,\n            insertAfter: insertAfter,\n            splitDataNode: splitDataNode,\n            getDocument: getDocument,\n            getWindow: getWindow,\n            getIframeWindow: getIframeWindow,\n            getIframeDocument: getIframeDocument,\n            getBody: getBody,\n            isWindow: isWindow,\n            getContentDocument: getContentDocument,\n            getRootContainer: getRootContainer,\n            comparePoints: comparePoints,\n            isBrokenNode: isBrokenNode,\n            inspectNode: inspectNode,\n            getComputedStyleProperty: getComputedStyleProperty,\n            createTestElement: createTestElement,\n            removeNode: removeNode,\n            fragmentFromNodeChildren: fragmentFromNodeChildren,\n            createIterator: createIterator,\n            DomPosition: DomPosition\n        };\n\n        api.DOMException = DOMException;\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Pure JavaScript implementation of DOM Range\n    api.createCoreModule(\"DomRange\", [\"DomUtil\"], function(api, module) {\n        var dom = api.dom;\n        var util = api.util;\n        var DomPosition = dom.DomPosition;\n        var DOMException = api.DOMException;\n\n        var isCharacterDataNode = dom.isCharacterDataNode;\n        var getNodeIndex = dom.getNodeIndex;\n        var isOrIsAncestorOf = dom.isOrIsAncestorOf;\n        var getDocument = dom.getDocument;\n        var comparePoints = dom.comparePoints;\n        var splitDataNode = dom.splitDataNode;\n        var getClosestAncestorIn = dom.getClosestAncestorIn;\n        var getNodeLength = dom.getNodeLength;\n        var arrayContains = dom.arrayContains;\n        var getRootContainer = dom.getRootContainer;\n        var crashyTextNodes = api.features.crashyTextNodes;\n\n        var removeNode = dom.removeNode;\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Utility functions\n\n        function isNonTextPartiallySelected(node, range) {\n            return (node.nodeType != 3) &&\n                   (isOrIsAncestorOf(node, range.startContainer) || isOrIsAncestorOf(node, range.endContainer));\n        }\n\n        function getRangeDocument(range) {\n            return range.document || getDocument(range.startContainer);\n        }\n\n        function getRangeRoot(range) {\n            return getRootContainer(range.startContainer);\n        }\n\n        function getBoundaryBeforeNode(node) {\n            return new DomPosition(node.parentNode, getNodeIndex(node));\n        }\n\n        function getBoundaryAfterNode(node) {\n            return new DomPosition(node.parentNode, getNodeIndex(node) + 1);\n        }\n\n        function insertNodeAtPosition(node, n, o) {\n            var firstNodeInserted = node.nodeType == 11 ? node.firstChild : node;\n            if (isCharacterDataNode(n)) {\n                if (o == n.length) {\n                    dom.insertAfter(node, n);\n                } else {\n                    n.parentNode.insertBefore(node, o == 0 ? n : splitDataNode(n, o));\n                }\n            } else if (o >= n.childNodes.length) {\n                n.appendChild(node);\n            } else {\n                n.insertBefore(node, n.childNodes[o]);\n            }\n            return firstNodeInserted;\n        }\n\n        function rangesIntersect(rangeA, rangeB, touchingIsIntersecting) {\n            assertRangeValid(rangeA);\n            assertRangeValid(rangeB);\n\n            if (getRangeDocument(rangeB) != getRangeDocument(rangeA)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n\n            var startComparison = comparePoints(rangeA.startContainer, rangeA.startOffset, rangeB.endContainer, rangeB.endOffset),\n                endComparison = comparePoints(rangeA.endContainer, rangeA.endOffset, rangeB.startContainer, rangeB.startOffset);\n\n            return touchingIsIntersecting ? startComparison <= 0 && endComparison >= 0 : startComparison < 0 && endComparison > 0;\n        }\n\n        function cloneSubtree(iterator) {\n            var partiallySelected;\n            for (var node, frag = getRangeDocument(iterator.range).createDocumentFragment(), subIterator; node = iterator.next(); ) {\n                partiallySelected = iterator.isPartiallySelectedSubtree();\n                node = node.cloneNode(!partiallySelected);\n                if (partiallySelected) {\n                    subIterator = iterator.getSubtreeIterator();\n                    node.appendChild(cloneSubtree(subIterator));\n                    subIterator.detach();\n                }\n\n                if (node.nodeType == 10) { // DocumentType\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n                frag.appendChild(node);\n            }\n            return frag;\n        }\n\n        function iterateSubtree(rangeIterator, func, iteratorState) {\n            var it, n;\n            iteratorState = iteratorState || { stop: false };\n            for (var node, subRangeIterator; node = rangeIterator.next(); ) {\n                if (rangeIterator.isPartiallySelectedSubtree()) {\n                    if (func(node) === false) {\n                        iteratorState.stop = true;\n                        return;\n                    } else {\n                        // The node is partially selected by the Range, so we can use a new RangeIterator on the portion of\n                        // the node selected by the Range.\n                        subRangeIterator = rangeIterator.getSubtreeIterator();\n                        iterateSubtree(subRangeIterator, func, iteratorState);\n                        subRangeIterator.detach();\n                        if (iteratorState.stop) {\n                            return;\n                        }\n                    }\n                } else {\n                    // The whole node is selected, so we can use efficient DOM iteration to iterate over the node and its\n                    // descendants\n                    it = dom.createIterator(node);\n                    while ( (n = it.next()) ) {\n                        if (func(n) === false) {\n                            iteratorState.stop = true;\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n\n        function deleteSubtree(iterator) {\n            var subIterator;\n            while (iterator.next()) {\n                if (iterator.isPartiallySelectedSubtree()) {\n                    subIterator = iterator.getSubtreeIterator();\n                    deleteSubtree(subIterator);\n                    subIterator.detach();\n                } else {\n                    iterator.remove();\n                }\n            }\n        }\n\n        function extractSubtree(iterator) {\n            for (var node, frag = getRangeDocument(iterator.range).createDocumentFragment(), subIterator; node = iterator.next(); ) {\n\n                if (iterator.isPartiallySelectedSubtree()) {\n                    node = node.cloneNode(false);\n                    subIterator = iterator.getSubtreeIterator();\n                    node.appendChild(extractSubtree(subIterator));\n                    subIterator.detach();\n                } else {\n                    iterator.remove();\n                }\n                if (node.nodeType == 10) { // DocumentType\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n                frag.appendChild(node);\n            }\n            return frag;\n        }\n\n        function getNodesInRange(range, nodeTypes, filter) {\n            var filterNodeTypes = !!(nodeTypes && nodeTypes.length), regex;\n            var filterExists = !!filter;\n            if (filterNodeTypes) {\n                regex = new RegExp(\"^(\" + nodeTypes.join(\"|\") + \")$\");\n            }\n\n            var nodes = [];\n            iterateSubtree(new RangeIterator(range, false), function(node) {\n                if (filterNodeTypes && !regex.test(node.nodeType)) {\n                    return;\n                }\n                if (filterExists && !filter(node)) {\n                    return;\n                }\n                // Don't include a boundary container if it is a character data node and the range does not contain any\n                // of its character data. See issue 190.\n                var sc = range.startContainer;\n                if (node == sc && isCharacterDataNode(sc) && range.startOffset == sc.length) {\n                    return;\n                }\n\n                var ec = range.endContainer;\n                if (node == ec && isCharacterDataNode(ec) && range.endOffset == 0) {\n                    return;\n                }\n\n                nodes.push(node);\n            });\n            return nodes;\n        }\n\n        function inspect(range) {\n            var name = (typeof range.getName == \"undefined\") ? \"Range\" : range.getName();\n            return \"[\" + name + \"(\" + dom.inspectNode(range.startContainer) + \":\" + range.startOffset + \", \" +\n                    dom.inspectNode(range.endContainer) + \":\" + range.endOffset + \")]\";\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // RangeIterator code partially borrows from IERange by Tim Ryan (http://github.com/timcameronryan/IERange)\n\n        function RangeIterator(range, clonePartiallySelectedTextNodes) {\n            this.range = range;\n            this.clonePartiallySelectedTextNodes = clonePartiallySelectedTextNodes;\n\n\n            if (!range.collapsed) {\n                this.sc = range.startContainer;\n                this.so = range.startOffset;\n                this.ec = range.endContainer;\n                this.eo = range.endOffset;\n                var root = range.commonAncestorContainer;\n\n                if (this.sc === this.ec && isCharacterDataNode(this.sc)) {\n                    this.isSingleCharacterDataNode = true;\n                    this._first = this._last = this._next = this.sc;\n                } else {\n                    this._first = this._next = (this.sc === root && !isCharacterDataNode(this.sc)) ?\n                        this.sc.childNodes[this.so] : getClosestAncestorIn(this.sc, root, true);\n                    this._last = (this.ec === root && !isCharacterDataNode(this.ec)) ?\n                        this.ec.childNodes[this.eo - 1] : getClosestAncestorIn(this.ec, root, true);\n                }\n            }\n        }\n\n        RangeIterator.prototype = {\n            _current: null,\n            _next: null,\n            _first: null,\n            _last: null,\n            isSingleCharacterDataNode: false,\n\n            reset: function() {\n                this._current = null;\n                this._next = this._first;\n            },\n\n            hasNext: function() {\n                return !!this._next;\n            },\n\n            next: function() {\n                // Move to next node\n                var current = this._current = this._next;\n                if (current) {\n                    this._next = (current !== this._last) ? current.nextSibling : null;\n\n                    // Check for partially selected text nodes\n                    if (isCharacterDataNode(current) && this.clonePartiallySelectedTextNodes) {\n                        if (current === this.ec) {\n                            (current = current.cloneNode(true)).deleteData(this.eo, current.length - this.eo);\n                        }\n                        if (this._current === this.sc) {\n                            (current = current.cloneNode(true)).deleteData(0, this.so);\n                        }\n                    }\n                }\n\n                return current;\n            },\n\n            remove: function() {\n                var current = this._current, start, end;\n\n                if (isCharacterDataNode(current) && (current === this.sc || current === this.ec)) {\n                    start = (current === this.sc) ? this.so : 0;\n                    end = (current === this.ec) ? this.eo : current.length;\n                    if (start != end) {\n                        current.deleteData(start, end - start);\n                    }\n                } else {\n                    if (current.parentNode) {\n                        removeNode(current);\n                    } else {\n                    }\n                }\n            },\n\n            // Checks if the current node is partially selected\n            isPartiallySelectedSubtree: function() {\n                var current = this._current;\n                return isNonTextPartiallySelected(current, this.range);\n            },\n\n            getSubtreeIterator: function() {\n                var subRange;\n                if (this.isSingleCharacterDataNode) {\n                    subRange = this.range.cloneRange();\n                    subRange.collapse(false);\n                } else {\n                    subRange = new Range(getRangeDocument(this.range));\n                    var current = this._current;\n                    var startContainer = current, startOffset = 0, endContainer = current, endOffset = getNodeLength(current);\n\n                    if (isOrIsAncestorOf(current, this.sc)) {\n                        startContainer = this.sc;\n                        startOffset = this.so;\n                    }\n                    if (isOrIsAncestorOf(current, this.ec)) {\n                        endContainer = this.ec;\n                        endOffset = this.eo;\n                    }\n\n                    updateBoundaries(subRange, startContainer, startOffset, endContainer, endOffset);\n                }\n                return new RangeIterator(subRange, this.clonePartiallySelectedTextNodes);\n            },\n\n            detach: function() {\n                this.range = this._current = this._next = this._first = this._last = this.sc = this.so = this.ec = this.eo = null;\n            }\n        };\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var beforeAfterNodeTypes = [1, 3, 4, 5, 7, 8, 10];\n        var rootContainerNodeTypes = [2, 9, 11];\n        var readonlyNodeTypes = [5, 6, 10, 12];\n        var insertableNodeTypes = [1, 3, 4, 5, 7, 8, 10, 11];\n        var surroundNodeTypes = [1, 3, 4, 5, 7, 8];\n\n        function createAncestorFinder(nodeTypes) {\n            return function(node, selfIsAncestor) {\n                var t, n = selfIsAncestor ? node : node.parentNode;\n                while (n) {\n                    t = n.nodeType;\n                    if (arrayContains(nodeTypes, t)) {\n                        return n;\n                    }\n                    n = n.parentNode;\n                }\n                return null;\n            };\n        }\n\n        var getDocumentOrFragmentContainer = createAncestorFinder( [9, 11] );\n        var getReadonlyAncestor = createAncestorFinder(readonlyNodeTypes);\n        var getDocTypeNotationEntityAncestor = createAncestorFinder( [6, 10, 12] );\n\n        function assertNoDocTypeNotationEntityAncestor(node, allowSelf) {\n            if (getDocTypeNotationEntityAncestor(node, allowSelf)) {\n                throw new DOMException(\"INVALID_NODE_TYPE_ERR\");\n            }\n        }\n\n        function assertValidNodeType(node, invalidTypes) {\n            if (!arrayContains(invalidTypes, node.nodeType)) {\n                throw new DOMException(\"INVALID_NODE_TYPE_ERR\");\n            }\n        }\n\n        function assertValidOffset(node, offset) {\n            if (offset < 0 || offset > (isCharacterDataNode(node) ? node.length : node.childNodes.length)) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            }\n        }\n\n        function assertSameDocumentOrFragment(node1, node2) {\n            if (getDocumentOrFragmentContainer(node1, true) !== getDocumentOrFragmentContainer(node2, true)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n        }\n\n        function assertNodeNotReadOnly(node) {\n            if (getReadonlyAncestor(node, true)) {\n                throw new DOMException(\"NO_MODIFICATION_ALLOWED_ERR\");\n            }\n        }\n\n        function assertNode(node, codeName) {\n            if (!node) {\n                throw new DOMException(codeName);\n            }\n        }\n\n        function isValidOffset(node, offset) {\n            return offset <= (isCharacterDataNode(node) ? node.length : node.childNodes.length);\n        }\n\n        function isRangeValid(range) {\n            return (!!range.startContainer && !!range.endContainer &&\n                    !(crashyTextNodes && (dom.isBrokenNode(range.startContainer) || dom.isBrokenNode(range.endContainer))) &&\n                    getRootContainer(range.startContainer) == getRootContainer(range.endContainer) &&\n                    isValidOffset(range.startContainer, range.startOffset) &&\n                    isValidOffset(range.endContainer, range.endOffset));\n        }\n\n        function assertRangeValid(range) {\n            if (!isRangeValid(range)) {\n                throw new Error(\"Range error: Range is not valid. This usually happens after DOM mutation. Range: (\" + range.inspect() + \")\");\n            }\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Test the browser's innerHTML support to decide how to implement createContextualFragment\n        var styleEl = document.createElement(\"style\");\n        var htmlParsingConforms = false;\n        try {\n            styleEl.innerHTML = \"<b>x</b>\";\n            htmlParsingConforms = (styleEl.firstChild.nodeType == 3); // Opera incorrectly creates an element node\n        } catch (e) {\n            // IE 6 and 7 throw\n        }\n\n        api.features.htmlParsingConforms = htmlParsingConforms;\n\n        var createContextualFragment = htmlParsingConforms ?\n\n            // Implementation as per HTML parsing spec, trusting in the browser's implementation of innerHTML. See\n            // discussion and base code for this implementation at issue 67.\n            // Spec: http://html5.org/specs/dom-parsing.html#extensions-to-the-range-interface\n            // Thanks to Aleks Williams.\n            function(fragmentStr) {\n                // \"Let node the context object's start's node.\"\n                var node = this.startContainer;\n                var doc = getDocument(node);\n\n                // \"If the context object's start's node is null, raise an INVALID_STATE_ERR\n                // exception and abort these steps.\"\n                if (!node) {\n                    throw new DOMException(\"INVALID_STATE_ERR\");\n                }\n\n                // \"Let element be as follows, depending on node's interface:\"\n                // Document, Document Fragment: null\n                var el = null;\n\n                // \"Element: node\"\n                if (node.nodeType == 1) {\n                    el = node;\n\n                // \"Text, Comment: node's parentElement\"\n                } else if (isCharacterDataNode(node)) {\n                    el = dom.parentElement(node);\n                }\n\n                // \"If either element is null or element's ownerDocument is an HTML document\n                // and element's local name is \"html\" and element's namespace is the HTML\n                // namespace\"\n                if (el === null || (\n                    el.nodeName == \"HTML\" &&\n                    dom.isHtmlNamespace(getDocument(el).documentElement) &&\n                    dom.isHtmlNamespace(el)\n                )) {\n\n                // \"let element be a new Element with \"body\" as its local name and the HTML\n                // namespace as its namespace.\"\"\n                    el = doc.createElement(\"body\");\n                } else {\n                    el = el.cloneNode(false);\n                }\n\n                // \"If the node's document is an HTML document: Invoke the HTML fragment parsing algorithm.\"\n                // \"If the node's document is an XML document: Invoke the XML fragment parsing algorithm.\"\n                // \"In either case, the algorithm must be invoked with fragment as the input\n                // and element as the context element.\"\n                el.innerHTML = fragmentStr;\n\n                // \"If this raises an exception, then abort these steps. Otherwise, let new\n                // children be the nodes returned.\"\n\n                // \"Let fragment be a new DocumentFragment.\"\n                // \"Append all new children to fragment.\"\n                // \"Return fragment.\"\n                return dom.fragmentFromNodeChildren(el);\n            } :\n\n            // In this case, innerHTML cannot be trusted, so fall back to a simpler, non-conformant implementation that\n            // previous versions of Rangy used (with the exception of using a body element rather than a div)\n            function(fragmentStr) {\n                var doc = getRangeDocument(this);\n                var el = doc.createElement(\"body\");\n                el.innerHTML = fragmentStr;\n\n                return dom.fragmentFromNodeChildren(el);\n            };\n\n        function splitRangeBoundaries(range, positionsToPreserve) {\n            assertRangeValid(range);\n\n            var sc = range.startContainer, so = range.startOffset, ec = range.endContainer, eo = range.endOffset;\n            var startEndSame = (sc === ec);\n\n            if (isCharacterDataNode(ec) && eo > 0 && eo < ec.length) {\n                splitDataNode(ec, eo, positionsToPreserve);\n            }\n\n            if (isCharacterDataNode(sc) && so > 0 && so < sc.length) {\n                sc = splitDataNode(sc, so, positionsToPreserve);\n                if (startEndSame) {\n                    eo -= so;\n                    ec = sc;\n                } else if (ec == sc.parentNode && eo >= getNodeIndex(sc)) {\n                    eo++;\n                }\n                so = 0;\n            }\n            range.setStartAndEnd(sc, so, ec, eo);\n        }\n\n        function rangeToHtml(range) {\n            assertRangeValid(range);\n            var container = range.commonAncestorContainer.parentNode.cloneNode(false);\n            container.appendChild( range.cloneContents() );\n            return container.innerHTML;\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        var rangeProperties = [\"startContainer\", \"startOffset\", \"endContainer\", \"endOffset\", \"collapsed\",\n            \"commonAncestorContainer\"];\n\n        var s2s = 0, s2e = 1, e2e = 2, e2s = 3;\n        var n_b = 0, n_a = 1, n_b_a = 2, n_i = 3;\n\n        util.extend(api.rangePrototype, {\n            compareBoundaryPoints: function(how, range) {\n                assertRangeValid(this);\n                assertSameDocumentOrFragment(this.startContainer, range.startContainer);\n\n                var nodeA, offsetA, nodeB, offsetB;\n                var prefixA = (how == e2s || how == s2s) ? \"start\" : \"end\";\n                var prefixB = (how == s2e || how == s2s) ? \"start\" : \"end\";\n                nodeA = this[prefixA + \"Container\"];\n                offsetA = this[prefixA + \"Offset\"];\n                nodeB = range[prefixB + \"Container\"];\n                offsetB = range[prefixB + \"Offset\"];\n                return comparePoints(nodeA, offsetA, nodeB, offsetB);\n            },\n\n            insertNode: function(node) {\n                assertRangeValid(this);\n                assertValidNodeType(node, insertableNodeTypes);\n                assertNodeNotReadOnly(this.startContainer);\n\n                if (isOrIsAncestorOf(node, this.startContainer)) {\n                    throw new DOMException(\"HIERARCHY_REQUEST_ERR\");\n                }\n\n                // No check for whether the container of the start of the Range is of a type that does not allow\n                // children of the type of node: the browser's DOM implementation should do this for us when we attempt\n                // to add the node\n\n                var firstNodeInserted = insertNodeAtPosition(node, this.startContainer, this.startOffset);\n                this.setStartBefore(firstNodeInserted);\n            },\n\n            cloneContents: function() {\n                assertRangeValid(this);\n\n                var clone, frag;\n                if (this.collapsed) {\n                    return getRangeDocument(this).createDocumentFragment();\n                } else {\n                    if (this.startContainer === this.endContainer && isCharacterDataNode(this.startContainer)) {\n                        clone = this.startContainer.cloneNode(true);\n                        clone.data = clone.data.slice(this.startOffset, this.endOffset);\n                        frag = getRangeDocument(this).createDocumentFragment();\n                        frag.appendChild(clone);\n                        return frag;\n                    } else {\n                        var iterator = new RangeIterator(this, true);\n                        clone = cloneSubtree(iterator);\n                        iterator.detach();\n                    }\n                    return clone;\n                }\n            },\n\n            canSurroundContents: function() {\n                assertRangeValid(this);\n                assertNodeNotReadOnly(this.startContainer);\n                assertNodeNotReadOnly(this.endContainer);\n\n                // Check if the contents can be surrounded. Specifically, this means whether the range partially selects\n                // no non-text nodes.\n                var iterator = new RangeIterator(this, true);\n                var boundariesInvalid = (iterator._first && (isNonTextPartiallySelected(iterator._first, this)) ||\n                        (iterator._last && isNonTextPartiallySelected(iterator._last, this)));\n                iterator.detach();\n                return !boundariesInvalid;\n            },\n\n            surroundContents: function(node) {\n                assertValidNodeType(node, surroundNodeTypes);\n\n                if (!this.canSurroundContents()) {\n                    throw new DOMException(\"INVALID_STATE_ERR\");\n                }\n\n                // Extract the contents\n                var content = this.extractContents();\n\n                // Clear the children of the node\n                if (node.hasChildNodes()) {\n                    while (node.lastChild) {\n                        node.removeChild(node.lastChild);\n                    }\n                }\n\n                // Insert the new node and add the extracted contents\n                insertNodeAtPosition(node, this.startContainer, this.startOffset);\n                node.appendChild(content);\n\n                this.selectNode(node);\n            },\n\n            cloneRange: function() {\n                assertRangeValid(this);\n                var range = new Range(getRangeDocument(this));\n                var i = rangeProperties.length, prop;\n                while (i--) {\n                    prop = rangeProperties[i];\n                    range[prop] = this[prop];\n                }\n                return range;\n            },\n\n            toString: function() {\n                assertRangeValid(this);\n                var sc = this.startContainer;\n                if (sc === this.endContainer && isCharacterDataNode(sc)) {\n                    return (sc.nodeType == 3 || sc.nodeType == 4) ? sc.data.slice(this.startOffset, this.endOffset) : \"\";\n                } else {\n                    var textParts = [], iterator = new RangeIterator(this, true);\n                    iterateSubtree(iterator, function(node) {\n                        // Accept only text or CDATA nodes, not comments\n                        if (node.nodeType == 3 || node.nodeType == 4) {\n                            textParts.push(node.data);\n                        }\n                    });\n                    iterator.detach();\n                    return textParts.join(\"\");\n                }\n            },\n\n            // The methods below are all non-standard. The following batch were introduced by Mozilla but have since\n            // been removed from Mozilla.\n\n            compareNode: function(node) {\n                assertRangeValid(this);\n\n                var parent = node.parentNode;\n                var nodeIndex = getNodeIndex(node);\n\n                if (!parent) {\n                    throw new DOMException(\"NOT_FOUND_ERR\");\n                }\n\n                var startComparison = this.comparePoint(parent, nodeIndex),\n                    endComparison = this.comparePoint(parent, nodeIndex + 1);\n\n                if (startComparison < 0) { // Node starts before\n                    return (endComparison > 0) ? n_b_a : n_b;\n                } else {\n                    return (endComparison > 0) ? n_a : n_i;\n                }\n            },\n\n            comparePoint: function(node, offset) {\n                assertRangeValid(this);\n                assertNode(node, \"HIERARCHY_REQUEST_ERR\");\n                assertSameDocumentOrFragment(node, this.startContainer);\n\n                if (comparePoints(node, offset, this.startContainer, this.startOffset) < 0) {\n                    return -1;\n                } else if (comparePoints(node, offset, this.endContainer, this.endOffset) > 0) {\n                    return 1;\n                }\n                return 0;\n            },\n\n            createContextualFragment: createContextualFragment,\n\n            toHtml: function() {\n                return rangeToHtml(this);\n            },\n\n            // touchingIsIntersecting determines whether this method considers a node that borders a range intersects\n            // with it (as in WebKit) or not (as in Gecko pre-1.9, and the default)\n            intersectsNode: function(node, touchingIsIntersecting) {\n                assertRangeValid(this);\n                if (getRootContainer(node) != getRangeRoot(this)) {\n                    return false;\n                }\n\n                var parent = node.parentNode, offset = getNodeIndex(node);\n                if (!parent) {\n                    return true;\n                }\n\n                var startComparison = comparePoints(parent, offset, this.endContainer, this.endOffset),\n                    endComparison = comparePoints(parent, offset + 1, this.startContainer, this.startOffset);\n\n                return touchingIsIntersecting ? startComparison <= 0 && endComparison >= 0 : startComparison < 0 && endComparison > 0;\n            },\n\n            isPointInRange: function(node, offset) {\n                assertRangeValid(this);\n                assertNode(node, \"HIERARCHY_REQUEST_ERR\");\n                assertSameDocumentOrFragment(node, this.startContainer);\n\n                return (comparePoints(node, offset, this.startContainer, this.startOffset) >= 0) &&\n                       (comparePoints(node, offset, this.endContainer, this.endOffset) <= 0);\n            },\n\n            // The methods below are non-standard and invented by me.\n\n            // Sharing a boundary start-to-end or end-to-start does not count as intersection.\n            intersectsRange: function(range) {\n                return rangesIntersect(this, range, false);\n            },\n\n            // Sharing a boundary start-to-end or end-to-start does count as intersection.\n            intersectsOrTouchesRange: function(range) {\n                return rangesIntersect(this, range, true);\n            },\n\n            intersection: function(range) {\n                if (this.intersectsRange(range)) {\n                    var startComparison = comparePoints(this.startContainer, this.startOffset, range.startContainer, range.startOffset),\n                        endComparison = comparePoints(this.endContainer, this.endOffset, range.endContainer, range.endOffset);\n\n                    var intersectionRange = this.cloneRange();\n                    if (startComparison == -1) {\n                        intersectionRange.setStart(range.startContainer, range.startOffset);\n                    }\n                    if (endComparison == 1) {\n                        intersectionRange.setEnd(range.endContainer, range.endOffset);\n                    }\n                    return intersectionRange;\n                }\n                return null;\n            },\n\n            union: function(range) {\n                if (this.intersectsOrTouchesRange(range)) {\n                    var unionRange = this.cloneRange();\n                    if (comparePoints(range.startContainer, range.startOffset, this.startContainer, this.startOffset) == -1) {\n                        unionRange.setStart(range.startContainer, range.startOffset);\n                    }\n                    if (comparePoints(range.endContainer, range.endOffset, this.endContainer, this.endOffset) == 1) {\n                        unionRange.setEnd(range.endContainer, range.endOffset);\n                    }\n                    return unionRange;\n                } else {\n                    throw new DOMException(\"Ranges do not intersect\");\n                }\n            },\n\n            containsNode: function(node, allowPartial) {\n                if (allowPartial) {\n                    return this.intersectsNode(node, false);\n                } else {\n                    return this.compareNode(node) == n_i;\n                }\n            },\n\n            containsNodeContents: function(node) {\n                return this.comparePoint(node, 0) >= 0 && this.comparePoint(node, getNodeLength(node)) <= 0;\n            },\n\n            containsRange: function(range) {\n                var intersection = this.intersection(range);\n                return intersection !== null && range.equals(intersection);\n            },\n\n            containsNodeText: function(node) {\n                var nodeRange = this.cloneRange();\n                nodeRange.selectNode(node);\n                var textNodes = nodeRange.getNodes([3]);\n                if (textNodes.length > 0) {\n                    nodeRange.setStart(textNodes[0], 0);\n                    var lastTextNode = textNodes.pop();\n                    nodeRange.setEnd(lastTextNode, lastTextNode.length);\n                    return this.containsRange(nodeRange);\n                } else {\n                    return this.containsNodeContents(node);\n                }\n            },\n\n            getNodes: function(nodeTypes, filter) {\n                assertRangeValid(this);\n                return getNodesInRange(this, nodeTypes, filter);\n            },\n\n            getDocument: function() {\n                return getRangeDocument(this);\n            },\n\n            collapseBefore: function(node) {\n                this.setEndBefore(node);\n                this.collapse(false);\n            },\n\n            collapseAfter: function(node) {\n                this.setStartAfter(node);\n                this.collapse(true);\n            },\n\n            getBookmark: function(containerNode) {\n                var doc = getRangeDocument(this);\n                var preSelectionRange = api.createRange(doc);\n                containerNode = containerNode || dom.getBody(doc);\n                preSelectionRange.selectNodeContents(containerNode);\n                var range = this.intersection(preSelectionRange);\n                var start = 0, end = 0;\n                if (range) {\n                    preSelectionRange.setEnd(range.startContainer, range.startOffset);\n                    start = preSelectionRange.toString().length;\n                    end = start + range.toString().length;\n                }\n\n                return {\n                    start: start,\n                    end: end,\n                    containerNode: containerNode\n                };\n            },\n\n            moveToBookmark: function(bookmark) {\n                var containerNode = bookmark.containerNode;\n                var charIndex = 0;\n                this.setStart(containerNode, 0);\n                this.collapse(true);\n                var nodeStack = [containerNode], node, foundStart = false, stop = false;\n                var nextCharIndex, i, childNodes;\n\n                while (!stop && (node = nodeStack.pop())) {\n                    if (node.nodeType == 3) {\n                        nextCharIndex = charIndex + node.length;\n                        if (!foundStart && bookmark.start >= charIndex && bookmark.start <= nextCharIndex) {\n                            this.setStart(node, bookmark.start - charIndex);\n                            foundStart = true;\n                        }\n                        if (foundStart && bookmark.end >= charIndex && bookmark.end <= nextCharIndex) {\n                            this.setEnd(node, bookmark.end - charIndex);\n                            stop = true;\n                        }\n                        charIndex = nextCharIndex;\n                    } else {\n                        childNodes = node.childNodes;\n                        i = childNodes.length;\n                        while (i--) {\n                            nodeStack.push(childNodes[i]);\n                        }\n                    }\n                }\n            },\n\n            getName: function() {\n                return \"DomRange\";\n            },\n\n            equals: function(range) {\n                return Range.rangesEqual(this, range);\n            },\n\n            isValid: function() {\n                return isRangeValid(this);\n            },\n\n            inspect: function() {\n                return inspect(this);\n            },\n\n            detach: function() {\n                // In DOM4, detach() is now a no-op.\n            }\n        });\n\n        function copyComparisonConstantsToObject(obj) {\n            obj.START_TO_START = s2s;\n            obj.START_TO_END = s2e;\n            obj.END_TO_END = e2e;\n            obj.END_TO_START = e2s;\n\n            obj.NODE_BEFORE = n_b;\n            obj.NODE_AFTER = n_a;\n            obj.NODE_BEFORE_AND_AFTER = n_b_a;\n            obj.NODE_INSIDE = n_i;\n        }\n\n        function copyComparisonConstants(constructor) {\n            copyComparisonConstantsToObject(constructor);\n            copyComparisonConstantsToObject(constructor.prototype);\n        }\n\n        function createRangeContentRemover(remover, boundaryUpdater) {\n            return function() {\n                assertRangeValid(this);\n\n                var sc = this.startContainer, so = this.startOffset, root = this.commonAncestorContainer;\n\n                var iterator = new RangeIterator(this, true);\n\n                // Work out where to position the range after content removal\n                var node, boundary;\n                if (sc !== root) {\n                    node = getClosestAncestorIn(sc, root, true);\n                    boundary = getBoundaryAfterNode(node);\n                    sc = boundary.node;\n                    so = boundary.offset;\n                }\n\n                // Check none of the range is read-only\n                iterateSubtree(iterator, assertNodeNotReadOnly);\n\n                iterator.reset();\n\n                // Remove the content\n                var returnValue = remover(iterator);\n                iterator.detach();\n\n                // Move to the new position\n                boundaryUpdater(this, sc, so, sc, so);\n\n                return returnValue;\n            };\n        }\n\n        function createPrototypeRange(constructor, boundaryUpdater) {\n            function createBeforeAfterNodeSetter(isBefore, isStart) {\n                return function(node) {\n                    assertValidNodeType(node, beforeAfterNodeTypes);\n                    assertValidNodeType(getRootContainer(node), rootContainerNodeTypes);\n\n                    var boundary = (isBefore ? getBoundaryBeforeNode : getBoundaryAfterNode)(node);\n                    (isStart ? setRangeStart : setRangeEnd)(this, boundary.node, boundary.offset);\n                };\n            }\n\n            function setRangeStart(range, node, offset) {\n                var ec = range.endContainer, eo = range.endOffset;\n                if (node !== range.startContainer || offset !== range.startOffset) {\n                    // Check the root containers of the range and the new boundary, and also check whether the new boundary\n                    // is after the current end. In either case, collapse the range to the new position\n                    if (getRootContainer(node) != getRootContainer(ec) || comparePoints(node, offset, ec, eo) == 1) {\n                        ec = node;\n                        eo = offset;\n                    }\n                    boundaryUpdater(range, node, offset, ec, eo);\n                }\n            }\n\n            function setRangeEnd(range, node, offset) {\n                var sc = range.startContainer, so = range.startOffset;\n                if (node !== range.endContainer || offset !== range.endOffset) {\n                    // Check the root containers of the range and the new boundary, and also check whether the new boundary\n                    // is after the current end. In either case, collapse the range to the new position\n                    if (getRootContainer(node) != getRootContainer(sc) || comparePoints(node, offset, sc, so) == -1) {\n                        sc = node;\n                        so = offset;\n                    }\n                    boundaryUpdater(range, sc, so, node, offset);\n                }\n            }\n\n            // Set up inheritance\n            var F = function() {};\n            F.prototype = api.rangePrototype;\n            constructor.prototype = new F();\n\n            util.extend(constructor.prototype, {\n                setStart: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n\n                    setRangeStart(this, node, offset);\n                },\n\n                setEnd: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n\n                    setRangeEnd(this, node, offset);\n                },\n\n                /**\n                 * Convenience method to set a range's start and end boundaries. Overloaded as follows:\n                 * - Two parameters (node, offset) creates a collapsed range at that position\n                 * - Three parameters (node, startOffset, endOffset) creates a range contained with node starting at\n                 *   startOffset and ending at endOffset\n                 * - Four parameters (startNode, startOffset, endNode, endOffset) creates a range starting at startOffset in\n                 *   startNode and ending at endOffset in endNode\n                 */\n                setStartAndEnd: function() {\n                    var args = arguments;\n                    var sc = args[0], so = args[1], ec = sc, eo = so;\n\n                    switch (args.length) {\n                        case 3:\n                            eo = args[2];\n                            break;\n                        case 4:\n                            ec = args[2];\n                            eo = args[3];\n                            break;\n                    }\n\n                    boundaryUpdater(this, sc, so, ec, eo);\n                },\n\n                setBoundary: function(node, offset, isStart) {\n                    this[\"set\" + (isStart ? \"Start\" : \"End\")](node, offset);\n                },\n\n                setStartBefore: createBeforeAfterNodeSetter(true, true),\n                setStartAfter: createBeforeAfterNodeSetter(false, true),\n                setEndBefore: createBeforeAfterNodeSetter(true, false),\n                setEndAfter: createBeforeAfterNodeSetter(false, false),\n\n                collapse: function(isStart) {\n                    assertRangeValid(this);\n                    if (isStart) {\n                        boundaryUpdater(this, this.startContainer, this.startOffset, this.startContainer, this.startOffset);\n                    } else {\n                        boundaryUpdater(this, this.endContainer, this.endOffset, this.endContainer, this.endOffset);\n                    }\n                },\n\n                selectNodeContents: function(node) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n\n                    boundaryUpdater(this, node, 0, node, getNodeLength(node));\n                },\n\n                selectNode: function(node) {\n                    assertNoDocTypeNotationEntityAncestor(node, false);\n                    assertValidNodeType(node, beforeAfterNodeTypes);\n\n                    var start = getBoundaryBeforeNode(node), end = getBoundaryAfterNode(node);\n                    boundaryUpdater(this, start.node, start.offset, end.node, end.offset);\n                },\n\n                extractContents: createRangeContentRemover(extractSubtree, boundaryUpdater),\n\n                deleteContents: createRangeContentRemover(deleteSubtree, boundaryUpdater),\n\n                canSurroundContents: function() {\n                    assertRangeValid(this);\n                    assertNodeNotReadOnly(this.startContainer);\n                    assertNodeNotReadOnly(this.endContainer);\n\n                    // Check if the contents can be surrounded. Specifically, this means whether the range partially selects\n                    // no non-text nodes.\n                    var iterator = new RangeIterator(this, true);\n                    var boundariesInvalid = (iterator._first && isNonTextPartiallySelected(iterator._first, this) ||\n                            (iterator._last && isNonTextPartiallySelected(iterator._last, this)));\n                    iterator.detach();\n                    return !boundariesInvalid;\n                },\n\n                splitBoundaries: function() {\n                    splitRangeBoundaries(this);\n                },\n\n                splitBoundariesPreservingPositions: function(positionsToPreserve) {\n                    splitRangeBoundaries(this, positionsToPreserve);\n                },\n\n                normalizeBoundaries: function() {\n                    assertRangeValid(this);\n\n                    var sc = this.startContainer, so = this.startOffset, ec = this.endContainer, eo = this.endOffset;\n\n                    var mergeForward = function(node) {\n                        var sibling = node.nextSibling;\n                        if (sibling && sibling.nodeType == node.nodeType) {\n                            ec = node;\n                            eo = node.length;\n                            node.appendData(sibling.data);\n                            removeNode(sibling);\n                        }\n                    };\n\n                    var mergeBackward = function(node) {\n                        var sibling = node.previousSibling;\n                        if (sibling && sibling.nodeType == node.nodeType) {\n                            sc = node;\n                            var nodeLength = node.length;\n                            so = sibling.length;\n                            node.insertData(0, sibling.data);\n                            removeNode(sibling);\n                            if (sc == ec) {\n                                eo += so;\n                                ec = sc;\n                            } else if (ec == node.parentNode) {\n                                var nodeIndex = getNodeIndex(node);\n                                if (eo == nodeIndex) {\n                                    ec = node;\n                                    eo = nodeLength;\n                                } else if (eo > nodeIndex) {\n                                    eo--;\n                                }\n                            }\n                        }\n                    };\n\n                    var normalizeStart = true;\n                    var sibling;\n\n                    if (isCharacterDataNode(ec)) {\n                        if (eo == ec.length) {\n                            mergeForward(ec);\n                        } else if (eo == 0) {\n                            sibling = ec.previousSibling;\n                            if (sibling && sibling.nodeType == ec.nodeType) {\n                                eo = sibling.length;\n                                if (sc == ec) {\n                                    normalizeStart = false;\n                                }\n                                sibling.appendData(ec.data);\n                                removeNode(ec);\n                                ec = sibling;\n                            }\n                        }\n                    } else {\n                        if (eo > 0) {\n                            var endNode = ec.childNodes[eo - 1];\n                            if (endNode && isCharacterDataNode(endNode)) {\n                                mergeForward(endNode);\n                            }\n                        }\n                        normalizeStart = !this.collapsed;\n                    }\n\n                    if (normalizeStart) {\n                        if (isCharacterDataNode(sc)) {\n                            if (so == 0) {\n                                mergeBackward(sc);\n                            } else if (so == sc.length) {\n                                sibling = sc.nextSibling;\n                                if (sibling && sibling.nodeType == sc.nodeType) {\n                                    if (ec == sibling) {\n                                        ec = sc;\n                                        eo += sc.length;\n                                    }\n                                    sc.appendData(sibling.data);\n                                    removeNode(sibling);\n                                }\n                            }\n                        } else {\n                            if (so < sc.childNodes.length) {\n                                var startNode = sc.childNodes[so];\n                                if (startNode && isCharacterDataNode(startNode)) {\n                                    mergeBackward(startNode);\n                                }\n                            }\n                        }\n                    } else {\n                        sc = ec;\n                        so = eo;\n                    }\n\n                    boundaryUpdater(this, sc, so, ec, eo);\n                },\n\n                collapseToPoint: function(node, offset) {\n                    assertNoDocTypeNotationEntityAncestor(node, true);\n                    assertValidOffset(node, offset);\n                    this.setStartAndEnd(node, offset);\n                }\n            });\n\n            copyComparisonConstants(constructor);\n        }\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        // Updates commonAncestorContainer and collapsed after boundary change\n        function updateCollapsedAndCommonAncestor(range) {\n            range.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\n            range.commonAncestorContainer = range.collapsed ?\n                range.startContainer : dom.getCommonAncestor(range.startContainer, range.endContainer);\n        }\n\n        function updateBoundaries(range, startContainer, startOffset, endContainer, endOffset) {\n            range.startContainer = startContainer;\n            range.startOffset = startOffset;\n            range.endContainer = endContainer;\n            range.endOffset = endOffset;\n            range.document = dom.getDocument(startContainer);\n\n            updateCollapsedAndCommonAncestor(range);\n        }\n\n        function Range(doc) {\n            this.startContainer = doc;\n            this.startOffset = 0;\n            this.endContainer = doc;\n            this.endOffset = 0;\n            this.document = doc;\n            updateCollapsedAndCommonAncestor(this);\n        }\n\n        createPrototypeRange(Range, updateBoundaries);\n\n        util.extend(Range, {\n            rangeProperties: rangeProperties,\n            RangeIterator: RangeIterator,\n            copyComparisonConstants: copyComparisonConstants,\n            createPrototypeRange: createPrototypeRange,\n            inspect: inspect,\n            toHtml: rangeToHtml,\n            getRangeDocument: getRangeDocument,\n            rangesEqual: function(r1, r2) {\n                return r1.startContainer === r2.startContainer &&\n                    r1.startOffset === r2.startOffset &&\n                    r1.endContainer === r2.endContainer &&\n                    r1.endOffset === r2.endOffset;\n            }\n        });\n\n        api.DomRange = Range;\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Wrappers for the browser's native DOM Range and/or TextRange implementation\n    api.createCoreModule(\"WrappedRange\", [\"DomRange\"], function(api, module) {\n        var WrappedRange, WrappedTextRange;\n        var dom = api.dom;\n        var util = api.util;\n        var DomPosition = dom.DomPosition;\n        var DomRange = api.DomRange;\n        var getBody = dom.getBody;\n        var getContentDocument = dom.getContentDocument;\n        var isCharacterDataNode = dom.isCharacterDataNode;\n\n\n        /*----------------------------------------------------------------------------------------------------------------*/\n\n        if (api.features.implementsDomRange) {\n            // This is a wrapper around the browser's native DOM Range. It has two aims:\n            // - Provide workarounds for specific browser bugs\n            // - provide convenient extensions, which are inherited from Rangy's DomRange\n\n            (function() {\n                var rangeProto;\n                var rangeProperties = DomRange.rangeProperties;\n\n                function updateRangeProperties(range) {\n                    var i = rangeProperties.length, prop;\n                    while (i--) {\n                        prop = rangeProperties[i];\n                        range[prop] = range.nativeRange[prop];\n                    }\n                    // Fix for broken collapsed property in IE 9.\n                    range.collapsed = (range.startContainer === range.endContainer && range.startOffset === range.endOffset);\n                }\n\n                function updateNativeRange(range, startContainer, startOffset, endContainer, endOffset) {\n                    var startMoved = (range.startContainer !== startContainer || range.startOffset != startOffset);\n                    var endMoved = (range.endContainer !== endContainer || range.endOffset != endOffset);\n                    var nativeRangeDifferent = !range.equals(range.nativeRange);\n\n                    // Always set both boundaries for the benefit of IE9 (see issue 35)\n                    if (startMoved || endMoved || nativeRangeDifferent) {\n                        range.setEnd(endContainer, endOffset);\n                        range.setStart(startContainer, startOffset);\n                    }\n                }\n\n                var createBeforeAfterNodeSetter;\n\n                WrappedRange = function(range) {\n                    if (!range) {\n                        throw module.createError(\"WrappedRange: Range must be specified\");\n                    }\n                    this.nativeRange = range;\n                    updateRangeProperties(this);\n                };\n\n                DomRange.createPrototypeRange(WrappedRange, updateNativeRange);\n\n                rangeProto = WrappedRange.prototype;\n\n                rangeProto.selectNode = function(node) {\n                    this.nativeRange.selectNode(node);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.cloneContents = function() {\n                    return this.nativeRange.cloneContents();\n                };\n\n                // Due to a long-standing Firefox bug that I have not been able to find a reliable way to detect,\n                // insertNode() is never delegated to the native range.\n\n                rangeProto.surroundContents = function(node) {\n                    this.nativeRange.surroundContents(node);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.collapse = function(isStart) {\n                    this.nativeRange.collapse(isStart);\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.cloneRange = function() {\n                    return new WrappedRange(this.nativeRange.cloneRange());\n                };\n\n                rangeProto.refresh = function() {\n                    updateRangeProperties(this);\n                };\n\n                rangeProto.toString = function() {\n                    return this.nativeRange.toString();\n                };\n\n                // Create test range and node for feature detection\n\n                var testTextNode = document.createTextNode(\"test\");\n                getBody(document).appendChild(testTextNode);\n                var range = document.createRange();\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for Firefox 2 bug that prevents moving the start of a Range to a point after its current end and\n                // correct for it\n\n                range.setStart(testTextNode, 0);\n                range.setEnd(testTextNode, 0);\n\n                try {\n                    range.setStart(testTextNode, 1);\n\n                    rangeProto.setStart = function(node, offset) {\n                        this.nativeRange.setStart(node, offset);\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.setEnd = function(node, offset) {\n                        this.nativeRange.setEnd(node, offset);\n                        updateRangeProperties(this);\n                    };\n\n                    createBeforeAfterNodeSetter = function(name) {\n                        return function(node) {\n                            this.nativeRange[name](node);\n                            updateRangeProperties(this);\n                        };\n                    };\n\n                } catch(ex) {\n\n                    rangeProto.setStart = function(node, offset) {\n                        try {\n                            this.nativeRange.setStart(node, offset);\n                        } catch (ex) {\n                            this.nativeRange.setEnd(node, offset);\n                            this.nativeRange.setStart(node, offset);\n                        }\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.setEnd = function(node, offset) {\n                        try {\n                            this.nativeRange.setEnd(node, offset);\n                        } catch (ex) {\n                            this.nativeRange.setStart(node, offset);\n                            this.nativeRange.setEnd(node, offset);\n                        }\n                        updateRangeProperties(this);\n                    };\n\n                    createBeforeAfterNodeSetter = function(name, oppositeName) {\n                        return function(node) {\n                            try {\n                                this.nativeRange[name](node);\n                            } catch (ex) {\n                                this.nativeRange[oppositeName](node);\n                                this.nativeRange[name](node);\n                            }\n                            updateRangeProperties(this);\n                        };\n                    };\n                }\n\n                rangeProto.setStartBefore = createBeforeAfterNodeSetter(\"setStartBefore\", \"setEndBefore\");\n                rangeProto.setStartAfter = createBeforeAfterNodeSetter(\"setStartAfter\", \"setEndAfter\");\n                rangeProto.setEndBefore = createBeforeAfterNodeSetter(\"setEndBefore\", \"setStartBefore\");\n                rangeProto.setEndAfter = createBeforeAfterNodeSetter(\"setEndAfter\", \"setStartAfter\");\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Always use DOM4-compliant selectNodeContents implementation: it's simpler and less code than testing\n                // whether the native implementation can be trusted\n                rangeProto.selectNodeContents = function(node) {\n                    this.setStartAndEnd(node, 0, dom.getNodeLength(node));\n                };\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for and correct WebKit bug that has the behaviour of compareBoundaryPoints round the wrong way for\n                // constants START_TO_END and END_TO_START: https://bugs.webkit.org/show_bug.cgi?id=20738\n\n                range.selectNodeContents(testTextNode);\n                range.setEnd(testTextNode, 3);\n\n                var range2 = document.createRange();\n                range2.selectNodeContents(testTextNode);\n                range2.setEnd(testTextNode, 4);\n                range2.setStart(testTextNode, 2);\n\n                if (range.compareBoundaryPoints(range.START_TO_END, range2) == -1 &&\n                        range.compareBoundaryPoints(range.END_TO_START, range2) == 1) {\n                    // This is the wrong way round, so correct for it\n\n                    rangeProto.compareBoundaryPoints = function(type, range) {\n                        range = range.nativeRange || range;\n                        if (type == range.START_TO_END) {\n                            type = range.END_TO_START;\n                        } else if (type == range.END_TO_START) {\n                            type = range.START_TO_END;\n                        }\n                        return this.nativeRange.compareBoundaryPoints(type, range);\n                    };\n                } else {\n                    rangeProto.compareBoundaryPoints = function(type, range) {\n                        return this.nativeRange.compareBoundaryPoints(type, range.nativeRange || range);\n                    };\n                }\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for IE deleteContents() and extractContents() bug and correct it. See issue 107.\n\n                var el = document.createElement(\"div\");\n                el.innerHTML = \"123\";\n                var textNode = el.firstChild;\n                var body = getBody(document);\n                body.appendChild(el);\n\n                range.setStart(textNode, 1);\n                range.setEnd(textNode, 2);\n                range.deleteContents();\n\n                if (textNode.data == \"13\") {\n                    // Behaviour is correct per DOM4 Range so wrap the browser's implementation of deleteContents() and\n                    // extractContents()\n                    rangeProto.deleteContents = function() {\n                        this.nativeRange.deleteContents();\n                        updateRangeProperties(this);\n                    };\n\n                    rangeProto.extractContents = function() {\n                        var frag = this.nativeRange.extractContents();\n                        updateRangeProperties(this);\n                        return frag;\n                    };\n                } else {\n                }\n\n                body.removeChild(el);\n                body = null;\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Test for existence of createContextualFragment and delegate to it if it exists\n                if (util.isHostMethod(range, \"createContextualFragment\")) {\n                    rangeProto.createContextualFragment = function(fragmentStr) {\n                        return this.nativeRange.createContextualFragment(fragmentStr);\n                    };\n                }\n\n                /*--------------------------------------------------------------------------------------------------------*/\n\n                // Clean up\n                getBody(document).removeChild(testTextNode);\n\n                rangeProto.getName = function() {\n                    return \"WrappedRange\";\n                };\n\n                api.WrappedRange = WrappedRange;\n\n                api.createNativeRange = function(doc) {\n                    doc = getContentDocument(doc, module, \"createNativeRange\");\n                    return doc.createRange();\n                };\n            })();\n        }\n\n        if (api.features.implementsTextRange) {\n            /*\n            This is a workaround for a bug where IE returns the wrong container element from the TextRange's parentElement()\n            method. For example, in the following (where pipes denote the selection boundaries):\n\n            <ul id=\"ul\"><li id=\"a\">| a </li><li id=\"b\"> b |</li></ul>\n\n            var range = document.selection.createRange();\n            alert(range.parentElement().id); // Should alert \"ul\" but alerts \"b\"\n\n            This method returns the common ancestor node of the following:\n            - the parentElement() of the textRange\n            - the parentElement() of the textRange after calling collapse(true)\n            - the parentElement() of the textRange after calling collapse(false)\n            */\n            var getTextRangeContainerElement = function(textRange) {\n                var parentEl = textRange.parentElement();\n                var range = textRange.duplicate();\n                range.collapse(true);\n                var startEl = range.parentElement();\n                range = textRange.duplicate();\n                range.collapse(false);\n                var endEl = range.parentElement();\n                var startEndContainer = (startEl == endEl) ? startEl : dom.getCommonAncestor(startEl, endEl);\n\n                return startEndContainer == parentEl ? startEndContainer : dom.getCommonAncestor(parentEl, startEndContainer);\n            };\n\n            var textRangeIsCollapsed = function(textRange) {\n                return textRange.compareEndPoints(\"StartToEnd\", textRange) == 0;\n            };\n\n            // Gets the boundary of a TextRange expressed as a node and an offset within that node. This function started\n            // out as an improved version of code found in Tim Cameron Ryan's IERange (http://code.google.com/p/ierange/)\n            // but has grown, fixing problems with line breaks in preformatted text, adding workaround for IE TextRange\n            // bugs, handling for inputs and images, plus optimizations.\n            var getTextRangeBoundaryPosition = function(textRange, wholeRangeContainerElement, isStart, isCollapsed, startInfo) {\n                var workingRange = textRange.duplicate();\n                workingRange.collapse(isStart);\n                var containerElement = workingRange.parentElement();\n\n                // Sometimes collapsing a TextRange that's at the start of a text node can move it into the previous node, so\n                // check for that\n                if (!dom.isOrIsAncestorOf(wholeRangeContainerElement, containerElement)) {\n                    containerElement = wholeRangeContainerElement;\n                }\n\n\n                // Deal with nodes that cannot \"contain rich HTML markup\". In practice, this means form inputs, images and\n                // similar. See http://msdn.microsoft.com/en-us/library/aa703950%28VS.85%29.aspx\n                if (!containerElement.canHaveHTML) {\n                    var pos = new DomPosition(containerElement.parentNode, dom.getNodeIndex(containerElement));\n                    return {\n                        boundaryPosition: pos,\n                        nodeInfo: {\n                            nodeIndex: pos.offset,\n                            containerElement: pos.node\n                        }\n                    };\n                }\n\n                var workingNode = dom.getDocument(containerElement).createElement(\"span\");\n\n                // Workaround for HTML5 Shiv's insane violation of document.createElement(). See Rangy issue 104 and HTML5\n                // Shiv issue 64: https://github.com/aFarkas/html5shiv/issues/64\n                if (workingNode.parentNode) {\n                    dom.removeNode(workingNode);\n                }\n\n                var comparison, workingComparisonType = isStart ? \"StartToStart\" : \"StartToEnd\";\n                var previousNode, nextNode, boundaryPosition, boundaryNode;\n                var start = (startInfo && startInfo.containerElement == containerElement) ? startInfo.nodeIndex : 0;\n                var childNodeCount = containerElement.childNodes.length;\n                var end = childNodeCount;\n\n                // Check end first. Code within the loop assumes that the endth child node of the container is definitely\n                // after the range boundary.\n                var nodeIndex = end;\n\n                while (true) {\n                    if (nodeIndex == childNodeCount) {\n                        containerElement.appendChild(workingNode);\n                    } else {\n                        containerElement.insertBefore(workingNode, containerElement.childNodes[nodeIndex]);\n                    }\n                    workingRange.moveToElementText(workingNode);\n                    comparison = workingRange.compareEndPoints(workingComparisonType, textRange);\n                    if (comparison == 0 || start == end) {\n                        break;\n                    } else if (comparison == -1) {\n                        if (end == start + 1) {\n                            // We know the endth child node is after the range boundary, so we must be done.\n                            break;\n                        } else {\n                            start = nodeIndex;\n                        }\n                    } else {\n                        end = (end == start + 1) ? start : nodeIndex;\n                    }\n                    nodeIndex = Math.floor((start + end) / 2);\n                    containerElement.removeChild(workingNode);\n                }\n\n\n                // We've now reached or gone past the boundary of the text range we're interested in\n                // so have identified the node we want\n                boundaryNode = workingNode.nextSibling;\n\n                if (comparison == -1 && boundaryNode && isCharacterDataNode(boundaryNode)) {\n                    // This is a character data node (text, comment, cdata). The working range is collapsed at the start of\n                    // the node containing the text range's boundary, so we move the end of the working range to the\n                    // boundary point and measure the length of its text to get the boundary's offset within the node.\n                    workingRange.setEndPoint(isStart ? \"EndToStart\" : \"EndToEnd\", textRange);\n\n                    var offset;\n\n                    if (/[\\r\\n]/.test(boundaryNode.data)) {\n                        /*\n                        For the particular case of a boundary within a text node containing rendered line breaks (within a\n                        <pre> element, for example), we need a slightly complicated approach to get the boundary's offset in\n                        IE. The facts:\n\n                        - Each line break is represented as \\r in the text node's data/nodeValue properties\n                        - Each line break is represented as \\r\\n in the TextRange's 'text' property\n                        - The 'text' property of the TextRange does not contain trailing line breaks\n\n                        To get round the problem presented by the final fact above, we can use the fact that TextRange's\n                        moveStart() and moveEnd() methods return the actual number of characters moved, which is not\n                        necessarily the same as the number of characters it was instructed to move. The simplest approach is\n                        to use this to store the characters moved when moving both the start and end of the range to the\n                        start of the document body and subtracting the start offset from the end offset (the\n                        \"move-negative-gazillion\" method). However, this is extremely slow when the document is large and\n                        the range is near the end of it. Clearly doing the mirror image (i.e. moving the range boundaries to\n                        the end of the document) has the same problem.\n\n                        Another approach that works is to use moveStart() to move the start boundary of the range up to the\n                        end boundary one character at a time and incrementing a counter with the value returned by the\n                        moveStart() call. However, the check for whether the start boundary has reached the end boundary is\n                        expensive, so this method is slow (although unlike \"move-negative-gazillion\" is largely unaffected\n                        by the location of the range within the document).\n\n                        The approach used below is a hybrid of the two methods above. It uses the fact that a string\n                        containing the TextRange's 'text' property with each \\r\\n converted to a single \\r character cannot\n                        be longer than the text of the TextRange, so the start of the range is moved that length initially\n                        and then a character at a time to make up for any trailing line breaks not contained in the 'text'\n                        property. This has good performance in most situations compared to the previous two methods.\n                        */\n                        var tempRange = workingRange.duplicate();\n                        var rangeLength = tempRange.text.replace(/\\r\\n/g, \"\\r\").length;\n\n                        offset = tempRange.moveStart(\"character\", rangeLength);\n                        while ( (comparison = tempRange.compareEndPoints(\"StartToEnd\", tempRange)) == -1) {\n                            offset++;\n                            tempRange.moveStart(\"character\", 1);\n                        }\n                    } else {\n                        offset = workingRange.text.length;\n                    }\n                    boundaryPosition = new DomPosition(boundaryNode, offset);\n                } else {\n\n                    // If the boundary immediately follows a character data node and this is the end boundary, we should favour\n                    // a position within that, and likewise for a start boundary preceding a character data node\n                    previousNode = (isCollapsed || !isStart) && workingNode.previousSibling;\n                    nextNode = (isCollapsed || isStart) && workingNode.nextSibling;\n                    if (nextNode && isCharacterDataNode(nextNode)) {\n                        boundaryPosition = new DomPosition(nextNode, 0);\n                    } else if (previousNode && isCharacterDataNode(previousNode)) {\n                        boundaryPosition = new DomPosition(previousNode, previousNode.data.length);\n                    } else {\n                        boundaryPosition = new DomPosition(containerElement, dom.getNodeIndex(workingNode));\n                    }\n                }\n\n                // Clean up\n                dom.removeNode(workingNode);\n\n                return {\n                    boundaryPosition: boundaryPosition,\n                    nodeInfo: {\n                        nodeIndex: nodeIndex,\n                        containerElement: containerElement\n                    }\n                };\n            };\n\n            // Returns a TextRange representing the boundary of a TextRange expressed as a node and an offset within that\n            // node. This function started out as an optimized version of code found in Tim Cameron Ryan's IERange\n            // (http://code.google.com/p/ierange/)\n            var createBoundaryTextRange = function(boundaryPosition, isStart) {\n                var boundaryNode, boundaryParent, boundaryOffset = boundaryPosition.offset;\n                var doc = dom.getDocument(boundaryPosition.node);\n                var workingNode, childNodes, workingRange = getBody(doc).createTextRange();\n                var nodeIsDataNode = isCharacterDataNode(boundaryPosition.node);\n\n                if (nodeIsDataNode) {\n                    boundaryNode = boundaryPosition.node;\n                    boundaryParent = boundaryNode.parentNode;\n                } else {\n                    childNodes = boundaryPosition.node.childNodes;\n                    boundaryNode = (boundaryOffset < childNodes.length) ? childNodes[boundaryOffset] : null;\n                    boundaryParent = boundaryPosition.node;\n                }\n\n                // Position the range immediately before the node containing the boundary\n                workingNode = doc.createElement(\"span\");\n\n                // Making the working element non-empty element persuades IE to consider the TextRange boundary to be within\n                // the element rather than immediately before or after it\n                workingNode.innerHTML = \"&#feff;\";\n\n                // insertBefore is supposed to work like appendChild if the second parameter is null. However, a bug report\n                // for IERange suggests that it can crash the browser: http://code.google.com/p/ierange/issues/detail?id=12\n                if (boundaryNode) {\n                    boundaryParent.insertBefore(workingNode, boundaryNode);\n                } else {\n                    boundaryParent.appendChild(workingNode);\n                }\n\n                workingRange.moveToElementText(workingNode);\n                workingRange.collapse(!isStart);\n\n                // Clean up\n                boundaryParent.removeChild(workingNode);\n\n                // Move the working range to the text offset, if required\n                if (nodeIsDataNode) {\n                    workingRange[isStart ? \"moveStart\" : \"moveEnd\"](\"character\", boundaryOffset);\n                }\n\n                return workingRange;\n            };\n\n            /*------------------------------------------------------------------------------------------------------------*/\n\n            // This is a wrapper around a TextRange, providing full DOM Range functionality using rangy's DomRange as a\n            // prototype\n\n            WrappedTextRange = function(textRange) {\n                this.textRange = textRange;\n                this.refresh();\n            };\n\n            WrappedTextRange.prototype = new DomRange(document);\n\n            WrappedTextRange.prototype.refresh = function() {\n                var start, end, startBoundary;\n\n                // TextRange's parentElement() method cannot be trusted. getTextRangeContainerElement() works around that.\n                var rangeContainerElement = getTextRangeContainerElement(this.textRange);\n\n                if (textRangeIsCollapsed(this.textRange)) {\n                    end = start = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, true,\n                        true).boundaryPosition;\n                } else {\n                    startBoundary = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, true, false);\n                    start = startBoundary.boundaryPosition;\n\n                    // An optimization used here is that if the start and end boundaries have the same parent element, the\n                    // search scope for the end boundary can be limited to exclude the portion of the element that precedes\n                    // the start boundary\n                    end = getTextRangeBoundaryPosition(this.textRange, rangeContainerElement, false, false,\n                        startBoundary.nodeInfo).boundaryPosition;\n                }\n\n                this.setStart(start.node, start.offset);\n                this.setEnd(end.node, end.offset);\n            };\n\n            WrappedTextRange.prototype.getName = function() {\n                return \"WrappedTextRange\";\n            };\n\n            DomRange.copyComparisonConstants(WrappedTextRange);\n\n            var rangeToTextRange = function(range) {\n                if (range.collapsed) {\n                    return createBoundaryTextRange(new DomPosition(range.startContainer, range.startOffset), true);\n                } else {\n                    var startRange = createBoundaryTextRange(new DomPosition(range.startContainer, range.startOffset), true);\n                    var endRange = createBoundaryTextRange(new DomPosition(range.endContainer, range.endOffset), false);\n                    var textRange = getBody( DomRange.getRangeDocument(range) ).createTextRange();\n                    textRange.setEndPoint(\"StartToStart\", startRange);\n                    textRange.setEndPoint(\"EndToEnd\", endRange);\n                    return textRange;\n                }\n            };\n\n            WrappedTextRange.rangeToTextRange = rangeToTextRange;\n\n            WrappedTextRange.prototype.toTextRange = function() {\n                return rangeToTextRange(this);\n            };\n\n            api.WrappedTextRange = WrappedTextRange;\n\n            // IE 9 and above have both implementations and Rangy makes both available. The next few lines sets which\n            // implementation to use by default.\n            if (!api.features.implementsDomRange || api.config.preferTextRange) {\n                // Add WrappedTextRange as the Range property of the global object to allow expression like Range.END_TO_END to work\n                var globalObj = (function(f) { return f(\"return this;\")(); })(Function);\n                if (typeof globalObj.Range == \"undefined\") {\n                    globalObj.Range = WrappedTextRange;\n                }\n\n                api.createNativeRange = function(doc) {\n                    doc = getContentDocument(doc, module, \"createNativeRange\");\n                    return getBody(doc).createTextRange();\n                };\n\n                api.WrappedRange = WrappedTextRange;\n            }\n        }\n\n        api.createRange = function(doc) {\n            doc = getContentDocument(doc, module, \"createRange\");\n            return new api.WrappedRange(api.createNativeRange(doc));\n        };\n\n        api.createRangyRange = function(doc) {\n            doc = getContentDocument(doc, module, \"createRangyRange\");\n            return new DomRange(doc);\n        };\n\n        util.createAliasForDeprecatedMethod(api, \"createIframeRange\", \"createRange\");\n        util.createAliasForDeprecatedMethod(api, \"createIframeRangyRange\", \"createRangyRange\");\n\n        api.addShimListener(function(win) {\n            var doc = win.document;\n            if (typeof doc.createRange == \"undefined\") {\n                doc.createRange = function() {\n                    return api.createRange(doc);\n                };\n            }\n            doc = win = null;\n        });\n    });\r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // This module creates a selection object wrapper that conforms as closely as possible to the Selection specification\n    // in the HTML Editing spec (http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#selections)\n    api.createCoreModule(\"WrappedSelection\", [\"DomRange\", \"WrappedRange\"], function(api, module) {\n        api.config.checkSelectionRanges = true;\n\n        var BOOLEAN = \"boolean\";\n        var NUMBER = \"number\";\n        var dom = api.dom;\n        var util = api.util;\n        var isHostMethod = util.isHostMethod;\n        var DomRange = api.DomRange;\n        var WrappedRange = api.WrappedRange;\n        var DOMException = api.DOMException;\n        var DomPosition = dom.DomPosition;\n        var getNativeSelection;\n        var selectionIsCollapsed;\n        var features = api.features;\n        var CONTROL = \"Control\";\n        var getDocument = dom.getDocument;\n        var getBody = dom.getBody;\n        var rangesEqual = DomRange.rangesEqual;\n\n\n        // Utility function to support direction parameters in the API that may be a string (\"backward\", \"backwards\",\n        // \"forward\" or \"forwards\") or a Boolean (true for backwards).\n        function isDirectionBackward(dir) {\n            return (typeof dir == \"string\") ? /^backward(s)?$/i.test(dir) : !!dir;\n        }\n\n        function getWindow(win, methodName) {\n            if (!win) {\n                return window;\n            } else if (dom.isWindow(win)) {\n                return win;\n            } else if (win instanceof WrappedSelection) {\n                return win.win;\n            } else {\n                var doc = dom.getContentDocument(win, module, methodName);\n                return dom.getWindow(doc);\n            }\n        }\n\n        function getWinSelection(winParam) {\n            return getWindow(winParam, \"getWinSelection\").getSelection();\n        }\n\n        function getDocSelection(winParam) {\n            return getWindow(winParam, \"getDocSelection\").document.selection;\n        }\n\n        function winSelectionIsBackward(sel) {\n            var backward = false;\n            if (sel.anchorNode) {\n                backward = (dom.comparePoints(sel.anchorNode, sel.anchorOffset, sel.focusNode, sel.focusOffset) == 1);\n            }\n            return backward;\n        }\n\n        // Test for the Range/TextRange and Selection features required\n        // Test for ability to retrieve selection\n        var implementsWinGetSelection = isHostMethod(window, \"getSelection\"),\n            implementsDocSelection = util.isHostObject(document, \"selection\");\n\n        features.implementsWinGetSelection = implementsWinGetSelection;\n        features.implementsDocSelection = implementsDocSelection;\n\n        var useDocumentSelection = implementsDocSelection && (!implementsWinGetSelection || api.config.preferTextRange);\n\n        if (useDocumentSelection) {\n            getNativeSelection = getDocSelection;\n            api.isSelectionValid = function(winParam) {\n                var doc = getWindow(winParam, \"isSelectionValid\").document, nativeSel = doc.selection;\n\n                // Check whether the selection TextRange is actually contained within the correct document\n                return (nativeSel.type != \"None\" || getDocument(nativeSel.createRange().parentElement()) == doc);\n            };\n        } else if (implementsWinGetSelection) {\n            getNativeSelection = getWinSelection;\n            api.isSelectionValid = function() {\n                return true;\n            };\n        } else {\n            module.fail(\"Neither document.selection or window.getSelection() detected.\");\n            return false;\n        }\n\n        api.getNativeSelection = getNativeSelection;\n\n        var testSelection = getNativeSelection();\n\n        // In Firefox, the selection is null in an iframe with display: none. See issue #138.\n        if (!testSelection) {\n            module.fail(\"Native selection was null (possibly issue 138?)\");\n            return false;\n        }\n\n        var testRange = api.createNativeRange(document);\n        var body = getBody(document);\n\n        // Obtaining a range from a selection\n        var selectionHasAnchorAndFocus = util.areHostProperties(testSelection,\n            [\"anchorNode\", \"focusNode\", \"anchorOffset\", \"focusOffset\"]);\n\n        features.selectionHasAnchorAndFocus = selectionHasAnchorAndFocus;\n\n        // Test for existence of native selection extend() method\n        var selectionHasExtend = isHostMethod(testSelection, \"extend\");\n        features.selectionHasExtend = selectionHasExtend;\n\n        // Test if rangeCount exists\n        var selectionHasRangeCount = (typeof testSelection.rangeCount == NUMBER);\n        features.selectionHasRangeCount = selectionHasRangeCount;\n\n        var selectionSupportsMultipleRanges = false;\n        var collapsedNonEditableSelectionsSupported = true;\n\n        var addRangeBackwardToNative = selectionHasExtend ?\n            function(nativeSelection, range) {\n                var doc = DomRange.getRangeDocument(range);\n                var endRange = api.createRange(doc);\n                endRange.collapseToPoint(range.endContainer, range.endOffset);\n                nativeSelection.addRange(getNativeRange(endRange));\n                nativeSelection.extend(range.startContainer, range.startOffset);\n            } : null;\n\n        if (util.areHostMethods(testSelection, [\"addRange\", \"getRangeAt\", \"removeAllRanges\"]) &&\n                typeof testSelection.rangeCount == NUMBER && features.implementsDomRange) {\n\n            (function() {\n                // Previously an iframe was used but this caused problems in some circumstances in IE, so tests are\n                // performed on the current document's selection. See issue 109.\n\n                // Note also that if a selection previously existed, it is wiped and later restored by these tests. This\n                // will result in the selection direction begin reversed if the original selection was backwards and the\n                // browser does not support setting backwards selections (Internet Explorer, I'm looking at you).\n                var sel = window.getSelection();\n                if (sel) {\n                    // Store the current selection\n                    var originalSelectionRangeCount = sel.rangeCount;\n                    var selectionHasMultipleRanges = (originalSelectionRangeCount > 1);\n                    var originalSelectionRanges = [];\n                    var originalSelectionBackward = winSelectionIsBackward(sel);\n                    for (var i = 0; i < originalSelectionRangeCount; ++i) {\n                        originalSelectionRanges[i] = sel.getRangeAt(i);\n                    }\n\n                    // Create some test elements\n                    var testEl = dom.createTestElement(document, \"\", false);\n                    var textNode = testEl.appendChild( document.createTextNode(\"\\u00a0\\u00a0\\u00a0\") );\n\n                    // Test whether the native selection will allow a collapsed selection within a non-editable element\n                    var r1 = document.createRange();\n\n                    r1.setStart(textNode, 1);\n                    r1.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(r1);\n                    collapsedNonEditableSelectionsSupported = (sel.rangeCount == 1);\n                    sel.removeAllRanges();\n\n                    // Test whether the native selection is capable of supporting multiple ranges.\n                    if (!selectionHasMultipleRanges) {\n                        // Doing the original feature test here in Chrome 36 (and presumably later versions) prints a\n                        // console error of \"Discontiguous selection is not supported.\" that cannot be suppressed. There's\n                        // nothing we can do about this while retaining the feature test so we have to resort to a browser\n                        // sniff. I'm not happy about it. See\n                        // https://code.google.com/p/chromium/issues/detail?id=399791\n                        var chromeMatch = window.navigator.appVersion.match(/Chrome\\/(.*?) /);\n                        if (chromeMatch && parseInt(chromeMatch[1]) >= 36) {\n                            selectionSupportsMultipleRanges = false;\n                        } else {\n                            var r2 = r1.cloneRange();\n                            r1.setStart(textNode, 0);\n                            r2.setEnd(textNode, 3);\n                            r2.setStart(textNode, 2);\n                            sel.addRange(r1);\n                            sel.addRange(r2);\n                            selectionSupportsMultipleRanges = (sel.rangeCount == 2);\n                        }\n                    }\n\n                    // Clean up\n                    dom.removeNode(testEl);\n                    sel.removeAllRanges();\n\n                    for (i = 0; i < originalSelectionRangeCount; ++i) {\n                        if (i == 0 && originalSelectionBackward) {\n                            if (addRangeBackwardToNative) {\n                                addRangeBackwardToNative(sel, originalSelectionRanges[i]);\n                            } else {\n                                api.warn(\"Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend\");\n                                sel.addRange(originalSelectionRanges[i]);\n                            }\n                        } else {\n                            sel.addRange(originalSelectionRanges[i]);\n                        }\n                    }\n                }\n            })();\n        }\n\n        features.selectionSupportsMultipleRanges = selectionSupportsMultipleRanges;\n        features.collapsedNonEditableSelectionsSupported = collapsedNonEditableSelectionsSupported;\n\n        // ControlRanges\n        var implementsControlRange = false, testControlRange;\n\n        if (body && isHostMethod(body, \"createControlRange\")) {\n            testControlRange = body.createControlRange();\n            if (util.areHostProperties(testControlRange, [\"item\", \"add\"])) {\n                implementsControlRange = true;\n            }\n        }\n        features.implementsControlRange = implementsControlRange;\n\n        // Selection collapsedness\n        if (selectionHasAnchorAndFocus) {\n            selectionIsCollapsed = function(sel) {\n                return sel.anchorNode === sel.focusNode && sel.anchorOffset === sel.focusOffset;\n            };\n        } else {\n            selectionIsCollapsed = function(sel) {\n                return sel.rangeCount ? sel.getRangeAt(sel.rangeCount - 1).collapsed : false;\n            };\n        }\n\n        function updateAnchorAndFocusFromRange(sel, range, backward) {\n            var anchorPrefix = backward ? \"end\" : \"start\", focusPrefix = backward ? \"start\" : \"end\";\n            sel.anchorNode = range[anchorPrefix + \"Container\"];\n            sel.anchorOffset = range[anchorPrefix + \"Offset\"];\n            sel.focusNode = range[focusPrefix + \"Container\"];\n            sel.focusOffset = range[focusPrefix + \"Offset\"];\n        }\n\n        function updateAnchorAndFocusFromNativeSelection(sel) {\n            var nativeSel = sel.nativeSelection;\n            sel.anchorNode = nativeSel.anchorNode;\n            sel.anchorOffset = nativeSel.anchorOffset;\n            sel.focusNode = nativeSel.focusNode;\n            sel.focusOffset = nativeSel.focusOffset;\n        }\n\n        function updateEmptySelection(sel) {\n            sel.anchorNode = sel.focusNode = null;\n            sel.anchorOffset = sel.focusOffset = 0;\n            sel.rangeCount = 0;\n            sel.isCollapsed = true;\n            sel._ranges.length = 0;\n        }\n\n        function getNativeRange(range) {\n            var nativeRange;\n            if (range instanceof DomRange) {\n                nativeRange = api.createNativeRange(range.getDocument());\n                nativeRange.setEnd(range.endContainer, range.endOffset);\n                nativeRange.setStart(range.startContainer, range.startOffset);\n            } else if (range instanceof WrappedRange) {\n                nativeRange = range.nativeRange;\n            } else if (features.implementsDomRange && (range instanceof dom.getWindow(range.startContainer).Range)) {\n                nativeRange = range;\n            }\n            return nativeRange;\n        }\n\n        function rangeContainsSingleElement(rangeNodes) {\n            if (!rangeNodes.length || rangeNodes[0].nodeType != 1) {\n                return false;\n            }\n            for (var i = 1, len = rangeNodes.length; i < len; ++i) {\n                if (!dom.isAncestorOf(rangeNodes[0], rangeNodes[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        function getSingleElementFromRange(range) {\n            var nodes = range.getNodes();\n            if (!rangeContainsSingleElement(nodes)) {\n                throw module.createError(\"getSingleElementFromRange: range \" + range.inspect() + \" did not consist of a single element\");\n            }\n            return nodes[0];\n        }\n\n        // Simple, quick test which only needs to distinguish between a TextRange and a ControlRange\n        function isTextRange(range) {\n            return !!range && typeof range.text != \"undefined\";\n        }\n\n        function updateFromTextRange(sel, range) {\n            // Create a Range from the selected TextRange\n            var wrappedRange = new WrappedRange(range);\n            sel._ranges = [wrappedRange];\n\n            updateAnchorAndFocusFromRange(sel, wrappedRange, false);\n            sel.rangeCount = 1;\n            sel.isCollapsed = wrappedRange.collapsed;\n        }\n\n        function updateControlSelection(sel) {\n            // Update the wrapped selection based on what's now in the native selection\n            sel._ranges.length = 0;\n            if (sel.docSelection.type == \"None\") {\n                updateEmptySelection(sel);\n            } else {\n                var controlRange = sel.docSelection.createRange();\n                if (isTextRange(controlRange)) {\n                    // This case (where the selection type is \"Control\" and calling createRange() on the selection returns\n                    // a TextRange) can happen in IE 9. It happens, for example, when all elements in the selected\n                    // ControlRange have been removed from the ControlRange and removed from the document.\n                    updateFromTextRange(sel, controlRange);\n                } else {\n                    sel.rangeCount = controlRange.length;\n                    var range, doc = getDocument(controlRange.item(0));\n                    for (var i = 0; i < sel.rangeCount; ++i) {\n                        range = api.createRange(doc);\n                        range.selectNode(controlRange.item(i));\n                        sel._ranges.push(range);\n                    }\n                    sel.isCollapsed = sel.rangeCount == 1 && sel._ranges[0].collapsed;\n                    updateAnchorAndFocusFromRange(sel, sel._ranges[sel.rangeCount - 1], false);\n                }\n            }\n        }\n\n        function addRangeToControlSelection(sel, range) {\n            var controlRange = sel.docSelection.createRange();\n            var rangeElement = getSingleElementFromRange(range);\n\n            // Create a new ControlRange containing all the elements in the selected ControlRange plus the element\n            // contained by the supplied range\n            var doc = getDocument(controlRange.item(0));\n            var newControlRange = getBody(doc).createControlRange();\n            for (var i = 0, len = controlRange.length; i < len; ++i) {\n                newControlRange.add(controlRange.item(i));\n            }\n            try {\n                newControlRange.add(rangeElement);\n            } catch (ex) {\n                throw module.createError(\"addRange(): Element within the specified Range could not be added to control selection (does it have layout?)\");\n            }\n            newControlRange.select();\n\n            // Update the wrapped selection based on what's now in the native selection\n            updateControlSelection(sel);\n        }\n\n        var getSelectionRangeAt;\n\n        if (isHostMethod(testSelection, \"getRangeAt\")) {\n            // try/catch is present because getRangeAt() must have thrown an error in some browser and some situation.\n            // Unfortunately, I didn't write a comment about the specifics and am now scared to take it out. Let that be a\n            // lesson to us all, especially me.\n            getSelectionRangeAt = function(sel, index) {\n                try {\n                    return sel.getRangeAt(index);\n                } catch (ex) {\n                    return null;\n                }\n            };\n        } else if (selectionHasAnchorAndFocus) {\n            getSelectionRangeAt = function(sel) {\n                var doc = getDocument(sel.anchorNode);\n                var range = api.createRange(doc);\n                range.setStartAndEnd(sel.anchorNode, sel.anchorOffset, sel.focusNode, sel.focusOffset);\n\n                // Handle the case when the selection was selected backwards (from the end to the start in the\n                // document)\n                if (range.collapsed !== this.isCollapsed) {\n                    range.setStartAndEnd(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset);\n                }\n\n                return range;\n            };\n        }\n\n        function WrappedSelection(selection, docSelection, win) {\n            this.nativeSelection = selection;\n            this.docSelection = docSelection;\n            this._ranges = [];\n            this.win = win;\n            this.refresh();\n        }\n\n        WrappedSelection.prototype = api.selectionPrototype;\n\n        function deleteProperties(sel) {\n            sel.win = sel.anchorNode = sel.focusNode = sel._ranges = null;\n            sel.rangeCount = sel.anchorOffset = sel.focusOffset = 0;\n            sel.detached = true;\n        }\n\n        var cachedRangySelections = [];\n\n        function actOnCachedSelection(win, action) {\n            var i = cachedRangySelections.length, cached, sel;\n            while (i--) {\n                cached = cachedRangySelections[i];\n                sel = cached.selection;\n                if (action == \"deleteAll\") {\n                    deleteProperties(sel);\n                } else if (cached.win == win) {\n                    if (action == \"delete\") {\n                        cachedRangySelections.splice(i, 1);\n                        return true;\n                    } else {\n                        return sel;\n                    }\n                }\n            }\n            if (action == \"deleteAll\") {\n                cachedRangySelections.length = 0;\n            }\n            return null;\n        }\n\n        var getSelection = function(win) {\n            // Check if the parameter is a Rangy Selection object\n            if (win && win instanceof WrappedSelection) {\n                win.refresh();\n                return win;\n            }\n\n            win = getWindow(win, \"getNativeSelection\");\n\n            var sel = actOnCachedSelection(win);\n            var nativeSel = getNativeSelection(win), docSel = implementsDocSelection ? getDocSelection(win) : null;\n            if (sel) {\n                sel.nativeSelection = nativeSel;\n                sel.docSelection = docSel;\n                sel.refresh();\n            } else {\n                sel = new WrappedSelection(nativeSel, docSel, win);\n                cachedRangySelections.push( { win: win, selection: sel } );\n            }\n            return sel;\n        };\n\n        api.getSelection = getSelection;\n\n        util.createAliasForDeprecatedMethod(api, \"getIframeSelection\", \"getSelection\");\n\n        var selProto = WrappedSelection.prototype;\n\n        function createControlSelection(sel, ranges) {\n            // Ensure that the selection becomes of type \"Control\"\n            var doc = getDocument(ranges[0].startContainer);\n            var controlRange = getBody(doc).createControlRange();\n            for (var i = 0, el, len = ranges.length; i < len; ++i) {\n                el = getSingleElementFromRange(ranges[i]);\n                try {\n                    controlRange.add(el);\n                } catch (ex) {\n                    throw module.createError(\"setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)\");\n                }\n            }\n            controlRange.select();\n\n            // Update the wrapped selection based on what's now in the native selection\n            updateControlSelection(sel);\n        }\n\n        // Selecting a range\n        if (!useDocumentSelection && selectionHasAnchorAndFocus && util.areHostMethods(testSelection, [\"removeAllRanges\", \"addRange\"])) {\n            selProto.removeAllRanges = function() {\n                this.nativeSelection.removeAllRanges();\n                updateEmptySelection(this);\n            };\n\n            var addRangeBackward = function(sel, range) {\n                addRangeBackwardToNative(sel.nativeSelection, range);\n                sel.refresh();\n            };\n\n            if (selectionHasRangeCount) {\n                selProto.addRange = function(range, direction) {\n                    if (implementsControlRange && implementsDocSelection && this.docSelection.type == CONTROL) {\n                        addRangeToControlSelection(this, range);\n                    } else {\n                        if (isDirectionBackward(direction) && selectionHasExtend) {\n                            addRangeBackward(this, range);\n                        } else {\n                            var previousRangeCount;\n                            if (selectionSupportsMultipleRanges) {\n                                previousRangeCount = this.rangeCount;\n                            } else {\n                                this.removeAllRanges();\n                                previousRangeCount = 0;\n                            }\n                            // Clone the native range so that changing the selected range does not affect the selection.\n                            // This is contrary to the spec but is the only way to achieve consistency between browsers. See\n                            // issue 80.\n                            var clonedNativeRange = getNativeRange(range).cloneRange();\n                            try {\n                                this.nativeSelection.addRange(clonedNativeRange);\n                            } catch (ex) {\n                            }\n\n                            // Check whether adding the range was successful\n                            this.rangeCount = this.nativeSelection.rangeCount;\n\n                            if (this.rangeCount == previousRangeCount + 1) {\n                                // The range was added successfully\n\n                                // Check whether the range that we added to the selection is reflected in the last range extracted from\n                                // the selection\n                                if (api.config.checkSelectionRanges) {\n                                    var nativeRange = getSelectionRangeAt(this.nativeSelection, this.rangeCount - 1);\n                                    if (nativeRange && !rangesEqual(nativeRange, range)) {\n                                        // Happens in WebKit with, for example, a selection placed at the start of a text node\n                                        range = new WrappedRange(nativeRange);\n                                    }\n                                }\n                                this._ranges[this.rangeCount - 1] = range;\n                                updateAnchorAndFocusFromRange(this, range, selectionIsBackward(this.nativeSelection));\n                                this.isCollapsed = selectionIsCollapsed(this);\n                            } else {\n                                // The range was not added successfully. The simplest thing is to refresh\n                                this.refresh();\n                            }\n                        }\n                    }\n                };\n            } else {\n                selProto.addRange = function(range, direction) {\n                    if (isDirectionBackward(direction) && selectionHasExtend) {\n                        addRangeBackward(this, range);\n                    } else {\n                        this.nativeSelection.addRange(getNativeRange(range));\n                        this.refresh();\n                    }\n                };\n            }\n\n            selProto.setRanges = function(ranges) {\n                if (implementsControlRange && implementsDocSelection && ranges.length > 1) {\n                    createControlSelection(this, ranges);\n                } else {\n                    this.removeAllRanges();\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        this.addRange(ranges[i]);\n                    }\n                }\n            };\n        } else if (isHostMethod(testSelection, \"empty\") && isHostMethod(testRange, \"select\") &&\n                   implementsControlRange && useDocumentSelection) {\n\n            selProto.removeAllRanges = function() {\n                // Added try/catch as fix for issue #21\n                try {\n                    this.docSelection.empty();\n\n                    // Check for empty() not working (issue #24)\n                    if (this.docSelection.type != \"None\") {\n                        // Work around failure to empty a control selection by instead selecting a TextRange and then\n                        // calling empty()\n                        var doc;\n                        if (this.anchorNode) {\n                            doc = getDocument(this.anchorNode);\n                        } else if (this.docSelection.type == CONTROL) {\n                            var controlRange = this.docSelection.createRange();\n                            if (controlRange.length) {\n                                doc = getDocument( controlRange.item(0) );\n                            }\n                        }\n                        if (doc) {\n                            var textRange = getBody(doc).createTextRange();\n                            textRange.select();\n                            this.docSelection.empty();\n                        }\n                    }\n                } catch(ex) {}\n                updateEmptySelection(this);\n            };\n\n            selProto.addRange = function(range) {\n                if (this.docSelection.type == CONTROL) {\n                    addRangeToControlSelection(this, range);\n                } else {\n                    api.WrappedTextRange.rangeToTextRange(range).select();\n                    this._ranges[0] = range;\n                    this.rangeCount = 1;\n                    this.isCollapsed = this._ranges[0].collapsed;\n                    updateAnchorAndFocusFromRange(this, range, false);\n                }\n            };\n\n            selProto.setRanges = function(ranges) {\n                this.removeAllRanges();\n                var rangeCount = ranges.length;\n                if (rangeCount > 1) {\n                    createControlSelection(this, ranges);\n                } else if (rangeCount) {\n                    this.addRange(ranges[0]);\n                }\n            };\n        } else {\n            module.fail(\"No means of selecting a Range or TextRange was found\");\n            return false;\n        }\n\n        selProto.getRangeAt = function(index) {\n            if (index < 0 || index >= this.rangeCount) {\n                throw new DOMException(\"INDEX_SIZE_ERR\");\n            } else {\n                // Clone the range to preserve selection-range independence. See issue 80.\n                return this._ranges[index].cloneRange();\n            }\n        };\n\n        var refreshSelection;\n\n        if (useDocumentSelection) {\n            refreshSelection = function(sel) {\n                var range;\n                if (api.isSelectionValid(sel.win)) {\n                    range = sel.docSelection.createRange();\n                } else {\n                    range = getBody(sel.win.document).createTextRange();\n                    range.collapse(true);\n                }\n\n                if (sel.docSelection.type == CONTROL) {\n                    updateControlSelection(sel);\n                } else if (isTextRange(range)) {\n                    updateFromTextRange(sel, range);\n                } else {\n                    updateEmptySelection(sel);\n                }\n            };\n        } else if (isHostMethod(testSelection, \"getRangeAt\") && typeof testSelection.rangeCount == NUMBER) {\n            refreshSelection = function(sel) {\n                if (implementsControlRange && implementsDocSelection && sel.docSelection.type == CONTROL) {\n                    updateControlSelection(sel);\n                } else {\n                    sel._ranges.length = sel.rangeCount = sel.nativeSelection.rangeCount;\n                    if (sel.rangeCount) {\n                        for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                            sel._ranges[i] = new api.WrappedRange(sel.nativeSelection.getRangeAt(i));\n                        }\n                        updateAnchorAndFocusFromRange(sel, sel._ranges[sel.rangeCount - 1], selectionIsBackward(sel.nativeSelection));\n                        sel.isCollapsed = selectionIsCollapsed(sel);\n                    } else {\n                        updateEmptySelection(sel);\n                    }\n                }\n            };\n        } else if (selectionHasAnchorAndFocus && typeof testSelection.isCollapsed == BOOLEAN && typeof testRange.collapsed == BOOLEAN && features.implementsDomRange) {\n            refreshSelection = function(sel) {\n                var range, nativeSel = sel.nativeSelection;\n                if (nativeSel.anchorNode) {\n                    range = getSelectionRangeAt(nativeSel, 0);\n                    sel._ranges = [range];\n                    sel.rangeCount = 1;\n                    updateAnchorAndFocusFromNativeSelection(sel);\n                    sel.isCollapsed = selectionIsCollapsed(sel);\n                } else {\n                    updateEmptySelection(sel);\n                }\n            };\n        } else {\n            module.fail(\"No means of obtaining a Range or TextRange from the user's selection was found\");\n            return false;\n        }\n\n        selProto.refresh = function(checkForChanges) {\n            var oldRanges = checkForChanges ? this._ranges.slice(0) : null;\n            var oldAnchorNode = this.anchorNode, oldAnchorOffset = this.anchorOffset;\n\n            refreshSelection(this);\n            if (checkForChanges) {\n                // Check the range count first\n                var i = oldRanges.length;\n                if (i != this._ranges.length) {\n                    return true;\n                }\n\n                // Now check the direction. Checking the anchor position is the same is enough since we're checking all the\n                // ranges after this\n                if (this.anchorNode != oldAnchorNode || this.anchorOffset != oldAnchorOffset) {\n                    return true;\n                }\n\n                // Finally, compare each range in turn\n                while (i--) {\n                    if (!rangesEqual(oldRanges[i], this._ranges[i])) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        };\n\n        // Removal of a single range\n        var removeRangeManually = function(sel, range) {\n            var ranges = sel.getAllRanges();\n            sel.removeAllRanges();\n            for (var i = 0, len = ranges.length; i < len; ++i) {\n                if (!rangesEqual(range, ranges[i])) {\n                    sel.addRange(ranges[i]);\n                }\n            }\n            if (!sel.rangeCount) {\n                updateEmptySelection(sel);\n            }\n        };\n\n        if (implementsControlRange && implementsDocSelection) {\n            selProto.removeRange = function(range) {\n                if (this.docSelection.type == CONTROL) {\n                    var controlRange = this.docSelection.createRange();\n                    var rangeElement = getSingleElementFromRange(range);\n\n                    // Create a new ControlRange containing all the elements in the selected ControlRange minus the\n                    // element contained by the supplied range\n                    var doc = getDocument(controlRange.item(0));\n                    var newControlRange = getBody(doc).createControlRange();\n                    var el, removed = false;\n                    for (var i = 0, len = controlRange.length; i < len; ++i) {\n                        el = controlRange.item(i);\n                        if (el !== rangeElement || removed) {\n                            newControlRange.add(controlRange.item(i));\n                        } else {\n                            removed = true;\n                        }\n                    }\n                    newControlRange.select();\n\n                    // Update the wrapped selection based on what's now in the native selection\n                    updateControlSelection(this);\n                } else {\n                    removeRangeManually(this, range);\n                }\n            };\n        } else {\n            selProto.removeRange = function(range) {\n                removeRangeManually(this, range);\n            };\n        }\n\n        // Detecting if a selection is backward\n        var selectionIsBackward;\n        if (!useDocumentSelection && selectionHasAnchorAndFocus && features.implementsDomRange) {\n            selectionIsBackward = winSelectionIsBackward;\n\n            selProto.isBackward = function() {\n                return selectionIsBackward(this);\n            };\n        } else {\n            selectionIsBackward = selProto.isBackward = function() {\n                return false;\n            };\n        }\n\n        // Create an alias for backwards compatibility. From 1.3, everything is \"backward\" rather than \"backwards\"\n        selProto.isBackwards = selProto.isBackward;\n\n        // Selection stringifier\n        // This is conformant to the old HTML5 selections draft spec but differs from WebKit and Mozilla's implementation.\n        // The current spec does not yet define this method.\n        selProto.toString = function() {\n            var rangeTexts = [];\n            for (var i = 0, len = this.rangeCount; i < len; ++i) {\n                rangeTexts[i] = \"\" + this._ranges[i];\n            }\n            return rangeTexts.join(\"\");\n        };\n\n        function assertNodeInSameDocument(sel, node) {\n            if (sel.win.document != getDocument(node)) {\n                throw new DOMException(\"WRONG_DOCUMENT_ERR\");\n            }\n        }\n\n        // No current browser conforms fully to the spec for this method, so Rangy's own method is always used\n        selProto.collapse = function(node, offset) {\n            assertNodeInSameDocument(this, node);\n            var range = api.createRange(node);\n            range.collapseToPoint(node, offset);\n            this.setSingleRange(range);\n            this.isCollapsed = true;\n        };\n\n        selProto.collapseToStart = function() {\n            if (this.rangeCount) {\n                var range = this._ranges[0];\n                this.collapse(range.startContainer, range.startOffset);\n            } else {\n                throw new DOMException(\"INVALID_STATE_ERR\");\n            }\n        };\n\n        selProto.collapseToEnd = function() {\n            if (this.rangeCount) {\n                var range = this._ranges[this.rangeCount - 1];\n                this.collapse(range.endContainer, range.endOffset);\n            } else {\n                throw new DOMException(\"INVALID_STATE_ERR\");\n            }\n        };\n\n        // The spec is very specific on how selectAllChildren should be implemented and not all browsers implement it as\n        // specified so the native implementation is never used by Rangy.\n        selProto.selectAllChildren = function(node) {\n            assertNodeInSameDocument(this, node);\n            var range = api.createRange(node);\n            range.selectNodeContents(node);\n            this.setSingleRange(range);\n        };\n\n        selProto.deleteFromDocument = function() {\n            // Sepcial behaviour required for IE's control selections\n            if (implementsControlRange && implementsDocSelection && this.docSelection.type == CONTROL) {\n                var controlRange = this.docSelection.createRange();\n                var element;\n                while (controlRange.length) {\n                    element = controlRange.item(0);\n                    controlRange.remove(element);\n                    dom.removeNode(element);\n                }\n                this.refresh();\n            } else if (this.rangeCount) {\n                var ranges = this.getAllRanges();\n                if (ranges.length) {\n                    this.removeAllRanges();\n                    for (var i = 0, len = ranges.length; i < len; ++i) {\n                        ranges[i].deleteContents();\n                    }\n                    // The spec says nothing about what the selection should contain after calling deleteContents on each\n                    // range. Firefox moves the selection to where the final selected range was, so we emulate that\n                    this.addRange(ranges[len - 1]);\n                }\n            }\n        };\n\n        // The following are non-standard extensions\n        selProto.eachRange = function(func, returnValue) {\n            for (var i = 0, len = this._ranges.length; i < len; ++i) {\n                if ( func( this.getRangeAt(i) ) ) {\n                    return returnValue;\n                }\n            }\n        };\n\n        selProto.getAllRanges = function() {\n            var ranges = [];\n            this.eachRange(function(range) {\n                ranges.push(range);\n            });\n            return ranges;\n        };\n\n        selProto.setSingleRange = function(range, direction) {\n            this.removeAllRanges();\n            this.addRange(range, direction);\n        };\n\n        selProto.callMethodOnEachRange = function(methodName, params) {\n            var results = [];\n            this.eachRange( function(range) {\n                results.push( range[methodName].apply(range, params || []) );\n            } );\n            return results;\n        };\n\n        function createStartOrEndSetter(isStart) {\n            return function(node, offset) {\n                var range;\n                if (this.rangeCount) {\n                    range = this.getRangeAt(0);\n                    range[\"set\" + (isStart ? \"Start\" : \"End\")](node, offset);\n                } else {\n                    range = api.createRange(this.win.document);\n                    range.setStartAndEnd(node, offset);\n                }\n                this.setSingleRange(range, this.isBackward());\n            };\n        }\n\n        selProto.setStart = createStartOrEndSetter(true);\n        selProto.setEnd = createStartOrEndSetter(false);\n\n        // Add select() method to Range prototype. Any existing selection will be removed.\n        api.rangePrototype.select = function(direction) {\n            getSelection( this.getDocument() ).setSingleRange(this, direction);\n        };\n\n        selProto.changeEachRange = function(func) {\n            var ranges = [];\n            var backward = this.isBackward();\n\n            this.eachRange(function(range) {\n                func(range);\n                ranges.push(range);\n            });\n\n            this.removeAllRanges();\n            if (backward && ranges.length == 1) {\n                this.addRange(ranges[0], \"backward\");\n            } else {\n                this.setRanges(ranges);\n            }\n        };\n\n        selProto.containsNode = function(node, allowPartial) {\n            return this.eachRange( function(range) {\n                return range.containsNode(node, allowPartial);\n            }, true ) || false;\n        };\n\n        selProto.getBookmark = function(containerNode) {\n            return {\n                backward: this.isBackward(),\n                rangeBookmarks: this.callMethodOnEachRange(\"getBookmark\", [containerNode])\n            };\n        };\n\n        selProto.moveToBookmark = function(bookmark) {\n            var selRanges = [];\n            for (var i = 0, rangeBookmark, range; rangeBookmark = bookmark.rangeBookmarks[i++]; ) {\n                range = api.createRange(this.win);\n                range.moveToBookmark(rangeBookmark);\n                selRanges.push(range);\n            }\n            if (bookmark.backward) {\n                this.setSingleRange(selRanges[0], \"backward\");\n            } else {\n                this.setRanges(selRanges);\n            }\n        };\n\n        selProto.saveRanges = function() {\n            return {\n                backward: this.isBackward(),\n                ranges: this.callMethodOnEachRange(\"cloneRange\")\n            };\n        };\n\n        selProto.restoreRanges = function(selRanges) {\n            this.removeAllRanges();\n            for (var i = 0, range; range = selRanges.ranges[i]; ++i) {\n                this.addRange(range, (selRanges.backward && i == 0));\n            }\n        };\n\n        selProto.toHtml = function() {\n            var rangeHtmls = [];\n            this.eachRange(function(range) {\n                rangeHtmls.push( DomRange.toHtml(range) );\n            });\n            return rangeHtmls.join(\"\");\n        };\n\n        if (features.implementsTextRange) {\n            selProto.getNativeTextRange = function() {\n                var sel, textRange;\n                if ( (sel = this.docSelection) ) {\n                    var range = sel.createRange();\n                    if (isTextRange(range)) {\n                        return range;\n                    } else {\n                        throw module.createError(\"getNativeTextRange: selection is a control selection\");\n                    }\n                } else if (this.rangeCount > 0) {\n                    return api.WrappedTextRange.rangeToTextRange( this.getRangeAt(0) );\n                } else {\n                    throw module.createError(\"getNativeTextRange: selection contains no range\");\n                }\n            };\n        }\n\n        function inspect(sel) {\n            var rangeInspects = [];\n            var anchor = new DomPosition(sel.anchorNode, sel.anchorOffset);\n            var focus = new DomPosition(sel.focusNode, sel.focusOffset);\n            var name = (typeof sel.getName == \"function\") ? sel.getName() : \"Selection\";\n\n            if (typeof sel.rangeCount != \"undefined\") {\n                for (var i = 0, len = sel.rangeCount; i < len; ++i) {\n                    rangeInspects[i] = DomRange.inspect(sel.getRangeAt(i));\n                }\n            }\n            return \"[\" + name + \"(Ranges: \" + rangeInspects.join(\", \") +\n                    \")(anchor: \" + anchor.inspect() + \", focus: \" + focus.inspect() + \"]\";\n        }\n\n        selProto.getName = function() {\n            return \"WrappedSelection\";\n        };\n\n        selProto.inspect = function() {\n            return inspect(this);\n        };\n\n        selProto.detach = function() {\n            actOnCachedSelection(this.win, \"delete\");\n            deleteProperties(this);\n        };\n\n        WrappedSelection.detachAll = function() {\n            actOnCachedSelection(null, \"deleteAll\");\n        };\n\n        WrappedSelection.inspect = inspect;\n        WrappedSelection.isDirectionBackward = isDirectionBackward;\n\n        api.Selection = WrappedSelection;\n\n        api.selectionPrototype = selProto;\n\n        api.addShimListener(function(win) {\n            if (typeof win.getSelection == \"undefined\") {\n                win.getSelection = function() {\n                    return getSelection(win);\n                };\n            }\n            win = null;\n        });\n    });\n    \r\n\r\n    /*----------------------------------------------------------------------------------------------------------------*/\r\n\r\n    // Wait for document to load before initializing\r\n    var docReady = false;\r\n\r\n    var loadHandler = function(e) {\r\n        if (!docReady) {\r\n            docReady = true;\r\n            if (!api.initialized && api.config.autoInitialize) {\r\n                init();\r\n            }\r\n        }\r\n    };\r\n\r\n    if (isBrowser) {\r\n        // Test whether the document has already been loaded and initialize immediately if so\r\n        if (document.readyState == \"complete\") {\r\n            loadHandler();\r\n        } else {\r\n            if (isHostMethod(document, \"addEventListener\")) {\r\n                document.addEventListener(\"DOMContentLoaded\", loadHandler, false);\r\n            }\r\n\r\n            // Add a fallback in case the DOMContentLoaded event isn't supported\r\n            addListener(window, \"load\", loadHandler);\r\n        }\r\n    }\r\n\r\n    return api;\r\n}, this);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vcmFuZ3kvbGliL3Jhbmd5LWNvcmUuanM/MGM5NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUmFuZ3ksIGEgY3Jvc3MtYnJvd3NlciBKYXZhU2NyaXB0IHJhbmdlIGFuZCBzZWxlY3Rpb24gbGlicmFyeVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdGltZG93bi9yYW5neVxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxNSwgVGltIERvd25cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG4gKiBWZXJzaW9uOiAxLjMuMFxyXG4gKiBCdWlsZCBkYXRlOiAxMCBNYXkgMjAxNVxyXG4gKi9cclxuXHJcbihmdW5jdGlvbihmYWN0b3J5LCByb290KSB7XHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgICAgICBkZWZpbmUoZmFjdG9yeSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgLy8gTm9kZS9Db21tb25KUyBzdHlsZVxyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBObyBBTUQgb3IgQ29tbW9uSlMgc3VwcG9ydCBzbyB3ZSBwbGFjZSBSYW5neSBpbiAocHJvYmFibHkpIHRoZSBnbG9iYWwgdmFyaWFibGVcclxuICAgICAgICByb290LnJhbmd5ID0gZmFjdG9yeSgpO1xyXG4gICAgfVxyXG59KShmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgT0JKRUNUID0gXCJvYmplY3RcIiwgRlVOQ1RJT04gPSBcImZ1bmN0aW9uXCIsIFVOREVGSU5FRCA9IFwidW5kZWZpbmVkXCI7XHJcblxyXG4gICAgLy8gTWluaW1hbCBzZXQgb2YgcHJvcGVydGllcyByZXF1aXJlZCBmb3IgRE9NIExldmVsIDIgUmFuZ2UgY29tcGxpYW5jZS4gQ29tcGFyaXNvbiBjb25zdGFudHMgc3VjaCBhcyBTVEFSVF9UT19TVEFSVFxyXG4gICAgLy8gYXJlIG9taXR0ZWQgYmVjYXVzZSByYW5nZXMgaW4gS0hUTUwgZG8gbm90IGhhdmUgdGhlbSBidXQgb3RoZXJ3aXNlIHdvcmsgcGVyZmVjdGx5IHdlbGwuIFNlZSBpc3N1ZSAxMTMuXHJcbiAgICB2YXIgZG9tUmFuZ2VQcm9wZXJ0aWVzID0gW1wic3RhcnRDb250YWluZXJcIiwgXCJzdGFydE9mZnNldFwiLCBcImVuZENvbnRhaW5lclwiLCBcImVuZE9mZnNldFwiLCBcImNvbGxhcHNlZFwiLFxyXG4gICAgICAgIFwiY29tbW9uQW5jZXN0b3JDb250YWluZXJcIl07XHJcblxyXG4gICAgLy8gTWluaW1hbCBzZXQgb2YgbWV0aG9kcyByZXF1aXJlZCBmb3IgRE9NIExldmVsIDIgUmFuZ2UgY29tcGxpYW5jZVxyXG4gICAgdmFyIGRvbVJhbmdlTWV0aG9kcyA9IFtcInNldFN0YXJ0XCIsIFwic2V0U3RhcnRCZWZvcmVcIiwgXCJzZXRTdGFydEFmdGVyXCIsIFwic2V0RW5kXCIsIFwic2V0RW5kQmVmb3JlXCIsXHJcbiAgICAgICAgXCJzZXRFbmRBZnRlclwiLCBcImNvbGxhcHNlXCIsIFwic2VsZWN0Tm9kZVwiLCBcInNlbGVjdE5vZGVDb250ZW50c1wiLCBcImNvbXBhcmVCb3VuZGFyeVBvaW50c1wiLCBcImRlbGV0ZUNvbnRlbnRzXCIsXHJcbiAgICAgICAgXCJleHRyYWN0Q29udGVudHNcIiwgXCJjbG9uZUNvbnRlbnRzXCIsIFwiaW5zZXJ0Tm9kZVwiLCBcInN1cnJvdW5kQ29udGVudHNcIiwgXCJjbG9uZVJhbmdlXCIsIFwidG9TdHJpbmdcIiwgXCJkZXRhY2hcIl07XHJcblxyXG4gICAgdmFyIHRleHRSYW5nZVByb3BlcnRpZXMgPSBbXCJib3VuZGluZ0hlaWdodFwiLCBcImJvdW5kaW5nTGVmdFwiLCBcImJvdW5kaW5nVG9wXCIsIFwiYm91bmRpbmdXaWR0aFwiLCBcImh0bWxUZXh0XCIsIFwidGV4dFwiXTtcclxuXHJcbiAgICAvLyBTdWJzZXQgb2YgVGV4dFJhbmdlJ3MgZnVsbCBzZXQgb2YgbWV0aG9kcyB0aGF0IHdlJ3JlIGludGVyZXN0ZWQgaW5cclxuICAgIHZhciB0ZXh0UmFuZ2VNZXRob2RzID0gW1wiY29sbGFwc2VcIiwgXCJjb21wYXJlRW5kUG9pbnRzXCIsIFwiZHVwbGljYXRlXCIsIFwibW92ZVRvRWxlbWVudFRleHRcIiwgXCJwYXJlbnRFbGVtZW50XCIsIFwic2VsZWN0XCIsXHJcbiAgICAgICAgXCJzZXRFbmRQb2ludFwiLCBcImdldEJvdW5kaW5nQ2xpZW50UmVjdFwiXTtcclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuICAgIC8vIFRyaW8gb2YgZnVuY3Rpb25zIHRha2VuIGZyb20gUGV0ZXIgTWljaGF1eCdzIGFydGljbGU6XHJcbiAgICAvLyBodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9mZWF0dXJlLWRldGVjdGlvbi1zdGF0ZS1vZi10aGUtYXJ0LWJyb3dzZXItc2NyaXB0aW5nXHJcbiAgICBmdW5jdGlvbiBpc0hvc3RNZXRob2QobywgcCkge1xyXG4gICAgICAgIHZhciB0ID0gdHlwZW9mIG9bcF07XHJcbiAgICAgICAgcmV0dXJuIHQgPT0gRlVOQ1RJT04gfHwgKCEhKHQgPT0gT0JKRUNUICYmIG9bcF0pKSB8fCB0ID09IFwidW5rbm93blwiO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzSG9zdE9iamVjdChvLCBwKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKHR5cGVvZiBvW3BdID09IE9CSkVDVCAmJiBvW3BdKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0hvc3RQcm9wZXJ0eShvLCBwKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvW3BdICE9IFVOREVGSU5FRDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGVzIGEgY29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2F2ZSB2ZXJib3NlIHJlcGVhdGVkIGNhbGxzIHRvIHRlc3RzIGZ1bmN0aW9uc1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlTXVsdGlwbGVQcm9wZXJ0eVRlc3QodGVzdEZ1bmMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24obywgcHJvcHMpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSBwcm9wcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGVzdEZ1bmMobywgcHJvcHNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTmV4dCB0cmlvIG9mIGZ1bmN0aW9ucyBhcmUgYSBjb252ZW5pZW5jZSB0byBzYXZlIHZlcmJvc2UgcmVwZWF0ZWQgY2FsbHMgdG8gcHJldmlvdXMgdHdvIGZ1bmN0aW9uc1xyXG4gICAgdmFyIGFyZUhvc3RNZXRob2RzID0gY3JlYXRlTXVsdGlwbGVQcm9wZXJ0eVRlc3QoaXNIb3N0TWV0aG9kKTtcclxuICAgIHZhciBhcmVIb3N0T2JqZWN0cyA9IGNyZWF0ZU11bHRpcGxlUHJvcGVydHlUZXN0KGlzSG9zdE9iamVjdCk7XHJcbiAgICB2YXIgYXJlSG9zdFByb3BlcnRpZXMgPSBjcmVhdGVNdWx0aXBsZVByb3BlcnR5VGVzdChpc0hvc3RQcm9wZXJ0eSk7XHJcblxyXG4gICAgZnVuY3Rpb24gaXNUZXh0UmFuZ2UocmFuZ2UpIHtcclxuICAgICAgICByZXR1cm4gcmFuZ2UgJiYgYXJlSG9zdE1ldGhvZHMocmFuZ2UsIHRleHRSYW5nZU1ldGhvZHMpICYmIGFyZUhvc3RQcm9wZXJ0aWVzKHJhbmdlLCB0ZXh0UmFuZ2VQcm9wZXJ0aWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRCb2R5KGRvYykge1xyXG4gICAgICAgIHJldHVybiBpc0hvc3RPYmplY3QoZG9jLCBcImJvZHlcIikgPyBkb2MuYm9keSA6IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGZvckVhY2ggPSBbXS5mb3JFYWNoID9cclxuICAgICAgICBmdW5jdGlvbihhcnIsIGZ1bmMpIHtcclxuICAgICAgICAgICAgYXJyLmZvckVhY2goZnVuYyk7XHJcbiAgICAgICAgfSA6XHJcbiAgICAgICAgZnVuY3Rpb24oYXJyLCBmdW5jKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoYXJyW2ldLCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgdmFyIG1vZHVsZXMgPSB7fTtcclxuXHJcbiAgICB2YXIgaXNCcm93c2VyID0gKHR5cGVvZiB3aW5kb3cgIT0gVU5ERUZJTkVEICYmIHR5cGVvZiBkb2N1bWVudCAhPSBVTkRFRklORUQpO1xyXG5cclxuICAgIHZhciB1dGlsID0ge1xyXG4gICAgICAgIGlzSG9zdE1ldGhvZDogaXNIb3N0TWV0aG9kLFxyXG4gICAgICAgIGlzSG9zdE9iamVjdDogaXNIb3N0T2JqZWN0LFxyXG4gICAgICAgIGlzSG9zdFByb3BlcnR5OiBpc0hvc3RQcm9wZXJ0eSxcclxuICAgICAgICBhcmVIb3N0TWV0aG9kczogYXJlSG9zdE1ldGhvZHMsXHJcbiAgICAgICAgYXJlSG9zdE9iamVjdHM6IGFyZUhvc3RPYmplY3RzLFxyXG4gICAgICAgIGFyZUhvc3RQcm9wZXJ0aWVzOiBhcmVIb3N0UHJvcGVydGllcyxcclxuICAgICAgICBpc1RleHRSYW5nZTogaXNUZXh0UmFuZ2UsXHJcbiAgICAgICAgZ2V0Qm9keTogZ2V0Qm9keSxcclxuICAgICAgICBmb3JFYWNoOiBmb3JFYWNoXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBhcGkgPSB7XHJcbiAgICAgICAgdmVyc2lvbjogXCIxLjMuMFwiLFxyXG4gICAgICAgIGluaXRpYWxpemVkOiBmYWxzZSxcclxuICAgICAgICBpc0Jyb3dzZXI6IGlzQnJvd3NlcixcclxuICAgICAgICBzdXBwb3J0ZWQ6IHRydWUsXHJcbiAgICAgICAgdXRpbDogdXRpbCxcclxuICAgICAgICBmZWF0dXJlczoge30sXHJcbiAgICAgICAgbW9kdWxlczogbW9kdWxlcyxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgYWxlcnRPbkZhaWw6IGZhbHNlLFxyXG4gICAgICAgICAgICBhbGVydE9uV2FybjogZmFsc2UsXHJcbiAgICAgICAgICAgIHByZWZlclRleHRSYW5nZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGF1dG9Jbml0aWFsaXplOiAodHlwZW9mIHJhbmd5QXV0b0luaXRpYWxpemUgPT0gVU5ERUZJTkVEKSA/IHRydWUgOiByYW5neUF1dG9Jbml0aWFsaXplXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb25zb2xlTG9nKG1zZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPSBVTkRFRklORUQgJiYgaXNIb3N0TWV0aG9kKGNvbnNvbGUsIFwibG9nXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFsZXJ0T3JMb2cobXNnLCBzaG91bGRBbGVydCkge1xyXG4gICAgICAgIGlmIChpc0Jyb3dzZXIgJiYgc2hvdWxkQWxlcnQpIHtcclxuICAgICAgICAgICAgYWxlcnQobXNnKTtcclxuICAgICAgICB9IGVsc2UgIHtcclxuICAgICAgICAgICAgY29uc29sZUxvZyhtc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmYWlsKHJlYXNvbikge1xyXG4gICAgICAgIGFwaS5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgYXBpLnN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIGFsZXJ0T3JMb2coXCJSYW5neSBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuIFJlYXNvbjogXCIgKyByZWFzb24sIGFwaS5jb25maWcuYWxlcnRPbkZhaWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwaS5mYWlsID0gZmFpbDtcclxuXHJcbiAgICBmdW5jdGlvbiB3YXJuKG1zZykge1xyXG4gICAgICAgIGFsZXJ0T3JMb2coXCJSYW5neSB3YXJuaW5nOiBcIiArIG1zZywgYXBpLmNvbmZpZy5hbGVydE9uV2Fybik7XHJcbiAgICB9XHJcblxyXG4gICAgYXBpLndhcm4gPSB3YXJuO1xyXG5cclxuICAgIC8vIEFkZCB1dGlsaXR5IGV4dGVuZCgpIG1ldGhvZFxyXG4gICAgdmFyIGV4dGVuZDtcclxuICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eSkge1xyXG4gICAgICAgIHV0aWwuZXh0ZW5kID0gZXh0ZW5kID0gZnVuY3Rpb24ob2JqLCBwcm9wcywgZGVlcCkge1xyXG4gICAgICAgICAgICB2YXIgbywgcDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbyA9IG9ialtpXTtcclxuICAgICAgICAgICAgICAgICAgICBwID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZXAgJiYgbyAhPT0gbnVsbCAmJiB0eXBlb2YgbyA9PSBcIm9iamVjdFwiICYmIHAgIT09IG51bGwgJiYgdHlwZW9mIHAgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmQobywgcCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9ialtpXSA9IHA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciB0b1N0cmluZywgd2hpY2ggZG9lcyBub3Qgc2hvdyB1cCBpbiBmb3IuLi5pbiBsb29wcyBpbiBJRSA8PSA4XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShcInRvU3RyaW5nXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoudG9TdHJpbmcgPSBwcm9wcy50b1N0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHV0aWwuY3JlYXRlT3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnNQYXJhbSwgZGVmYXVsdHMpIHtcclxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgZXh0ZW5kKG9wdGlvbnMsIGRlZmF1bHRzKTtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnNQYXJhbSkge1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKG9wdGlvbnMsIG9wdGlvbnNQYXJhbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmFpbChcImhhc093blByb3BlcnR5IG5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGVzdCB3aGV0aGVyIHdlJ3JlIGluIGEgYnJvd3NlciBhbmQgYmFpbCBvdXQgaWYgbm90XHJcbiAgICBpZiAoIWlzQnJvd3Nlcikge1xyXG4gICAgICAgIGZhaWwoXCJSYW5neSBjYW4gb25seSBydW4gaW4gYSBicm93c2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRlc3Qgd2hldGhlciBBcnJheS5wcm90b3R5cGUuc2xpY2UgY2FuIGJlIHJlbGllZCBvbiBmb3IgTm9kZUxpc3RzIGFuZCB1c2UgYW4gYWx0ZXJuYXRpdmUgdG9BcnJheSgpIGlmIG5vdFxyXG4gICAgKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0b0FycmF5O1xyXG5cclxuICAgICAgICBpZiAoaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKTtcclxuICAgICAgICAgICAgdmFyIHNsaWNlID0gW10uc2xpY2U7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2xpY2UuY2FsbChlbC5jaGlsZE5vZGVzLCAwKVswXS5ub2RlVHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9BcnJheSA9IGZ1bmN0aW9uKGFycmF5TGlrZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheUxpa2UsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRvQXJyYXkpIHtcclxuICAgICAgICAgICAgdG9BcnJheSA9IGZ1bmN0aW9uKGFycmF5TGlrZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5TGlrZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycltpXSA9IGFycmF5TGlrZVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnI7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1dGlsLnRvQXJyYXkgPSB0b0FycmF5O1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvLyBWZXJ5IHNpbXBsZSBldmVudCBoYW5kbGVyIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCBkb2Vzbid0IGF0dGVtcHQgdG8gc29sdmUgaXNzdWVzIHN1Y2ggYXMgXCJ0aGlzXCIgaGFuZGxpbmcgb3JcclxuICAgIC8vIG5vcm1hbGl6YXRpb24gb2YgZXZlbnQgcHJvcGVydGllc1xyXG4gICAgdmFyIGFkZExpc3RlbmVyO1xyXG4gICAgaWYgKGlzQnJvd3Nlcikge1xyXG4gICAgICAgIGlmIChpc0hvc3RNZXRob2QoZG9jdW1lbnQsIFwiYWRkRXZlbnRMaXN0ZW5lclwiKSkge1xyXG4gICAgICAgICAgICBhZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKG9iaiwgZXZlbnRUeXBlLCBsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNIb3N0TWV0aG9kKGRvY3VtZW50LCBcImF0dGFjaEV2ZW50XCIpKSB7XHJcbiAgICAgICAgICAgIGFkZExpc3RlbmVyID0gZnVuY3Rpb24ob2JqLCBldmVudFR5cGUsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouYXR0YWNoRXZlbnQoXCJvblwiICsgZXZlbnRUeXBlLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmFpbChcIkRvY3VtZW50IGRvZXMgbm90IGhhdmUgcmVxdWlyZWQgYWRkRXZlbnRMaXN0ZW5lciBvciBhdHRhY2hFdmVudCBtZXRob2RcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1dGlsLmFkZExpc3RlbmVyID0gYWRkTGlzdGVuZXI7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGluaXRMaXN0ZW5lcnMgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRFcnJvckRlc2MoZXgpIHtcclxuICAgICAgICByZXR1cm4gZXgubWVzc2FnZSB8fCBleC5kZXNjcmlwdGlvbiB8fCBTdHJpbmcoZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpemF0aW9uXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGlmICghaXNCcm93c2VyIHx8IGFwaS5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ZXN0UmFuZ2U7XHJcbiAgICAgICAgdmFyIGltcGxlbWVudHNEb21SYW5nZSA9IGZhbHNlLCBpbXBsZW1lbnRzVGV4dFJhbmdlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEZpcnN0LCBwZXJmb3JtIGJhc2ljIGZlYXR1cmUgdGVzdHNcclxuXHJcbiAgICAgICAgaWYgKGlzSG9zdE1ldGhvZChkb2N1bWVudCwgXCJjcmVhdGVSYW5nZVwiKSkge1xyXG4gICAgICAgICAgICB0ZXN0UmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG4gICAgICAgICAgICBpZiAoYXJlSG9zdE1ldGhvZHModGVzdFJhbmdlLCBkb21SYW5nZU1ldGhvZHMpICYmIGFyZUhvc3RQcm9wZXJ0aWVzKHRlc3RSYW5nZSwgZG9tUmFuZ2VQcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgICAgICAgaW1wbGVtZW50c0RvbVJhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGJvZHkgPSBnZXRCb2R5KGRvY3VtZW50KTtcclxuICAgICAgICBpZiAoIWJvZHkgfHwgYm9keS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9IFwiYm9keVwiKSB7XHJcbiAgICAgICAgICAgIGZhaWwoXCJObyBib2R5IGVsZW1lbnQgZm91bmRcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChib2R5ICYmIGlzSG9zdE1ldGhvZChib2R5LCBcImNyZWF0ZVRleHRSYW5nZVwiKSkge1xyXG4gICAgICAgICAgICB0ZXN0UmFuZ2UgPSBib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xyXG4gICAgICAgICAgICBpZiAoaXNUZXh0UmFuZ2UodGVzdFJhbmdlKSkge1xyXG4gICAgICAgICAgICAgICAgaW1wbGVtZW50c1RleHRSYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaW1wbGVtZW50c0RvbVJhbmdlICYmICFpbXBsZW1lbnRzVGV4dFJhbmdlKSB7XHJcbiAgICAgICAgICAgIGZhaWwoXCJOZWl0aGVyIFJhbmdlIG5vciBUZXh0UmFuZ2UgYXJlIGF2YWlsYWJsZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXBpLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICBhcGkuZmVhdHVyZXMgPSB7XHJcbiAgICAgICAgICAgIGltcGxlbWVudHNEb21SYW5nZTogaW1wbGVtZW50c0RvbVJhbmdlLFxyXG4gICAgICAgICAgICBpbXBsZW1lbnRzVGV4dFJhbmdlOiBpbXBsZW1lbnRzVGV4dFJhbmdlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBtb2R1bGVzXHJcbiAgICAgICAgdmFyIG1vZHVsZSwgZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgIGZvciAodmFyIG1vZHVsZU5hbWUgaW4gbW9kdWxlcykge1xyXG4gICAgICAgICAgICBpZiAoIChtb2R1bGUgPSBtb2R1bGVzW21vZHVsZU5hbWVdKSBpbnN0YW5jZW9mIE1vZHVsZSApIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZS5pbml0KG1vZHVsZSwgYXBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsbCBpbml0IGxpc3RlbmVyc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpbml0TGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpbml0TGlzdGVuZXJzW2ldKGFwaSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlJhbmd5IGluaXQgbGlzdGVuZXIgdGhyZXcgYW4gZXhjZXB0aW9uLiBDb250aW51aW5nLiBEZXRhaWw6IFwiICsgZ2V0RXJyb3JEZXNjKGV4KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGVMb2coZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZXByZWNhdGlvbk5vdGljZShkZXByZWNhdGVkLCByZXBsYWNlbWVudCwgbW9kdWxlKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZSkge1xyXG4gICAgICAgICAgICBkZXByZWNhdGVkICs9IFwiIGluIG1vZHVsZSBcIiArIG1vZHVsZS5uYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcGkud2FybihcIkRFUFJFQ0FURUQ6IFwiICsgZGVwcmVjYXRlZCArIFwiIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCIgK1xyXG4gICAgICAgIHJlcGxhY2VtZW50ICsgXCIgaW5zdGVhZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQWxpYXNGb3JEZXByZWNhdGVkTWV0aG9kKG93bmVyLCBkZXByZWNhdGVkLCByZXBsYWNlbWVudCwgbW9kdWxlKSB7XHJcbiAgICAgICAgb3duZXJbZGVwcmVjYXRlZF0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZGVwcmVjYXRpb25Ob3RpY2UoZGVwcmVjYXRlZCwgcmVwbGFjZW1lbnQsIG1vZHVsZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvd25lcltyZXBsYWNlbWVudF0uYXBwbHkob3duZXIsIHV0aWwudG9BcnJheShhcmd1bWVudHMpKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHV0aWwuZGVwcmVjYXRpb25Ob3RpY2UgPSBkZXByZWNhdGlvbk5vdGljZTtcclxuICAgIHV0aWwuY3JlYXRlQWxpYXNGb3JEZXByZWNhdGVkTWV0aG9kID0gY3JlYXRlQWxpYXNGb3JEZXByZWNhdGVkTWV0aG9kO1xyXG5cclxuICAgIC8vIEFsbG93IGV4dGVybmFsIHNjcmlwdHMgdG8gaW5pdGlhbGl6ZSB0aGlzIGxpYnJhcnkgaW4gY2FzZSBpdCdzIGxvYWRlZCBhZnRlciB0aGUgZG9jdW1lbnQgaGFzIGxvYWRlZFxyXG4gICAgYXBpLmluaXQgPSBpbml0O1xyXG5cclxuICAgIC8vIEV4ZWN1dGUgbGlzdGVuZXIgaW1tZWRpYXRlbHkgaWYgYWxyZWFkeSBpbml0aWFsaXplZFxyXG4gICAgYXBpLmFkZEluaXRMaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgaWYgKGFwaS5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihhcGkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGluaXRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc2hpbUxpc3RlbmVycyA9IFtdO1xyXG5cclxuICAgIGFwaS5hZGRTaGltTGlzdGVuZXIgPSBmdW5jdGlvbihsaXN0ZW5lcikge1xyXG4gICAgICAgIHNoaW1MaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNoaW0od2luKSB7XHJcbiAgICAgICAgd2luID0gd2luIHx8IHdpbmRvdztcclxuICAgICAgICBpbml0KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnNcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2hpbUxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICAgICAgICBzaGltTGlzdGVuZXJzW2ldKHdpbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0Jyb3dzZXIpIHtcclxuICAgICAgICBhcGkuc2hpbSA9IGFwaS5jcmVhdGVNaXNzaW5nTmF0aXZlQXBpID0gc2hpbTtcclxuICAgICAgICBjcmVhdGVBbGlhc0ZvckRlcHJlY2F0ZWRNZXRob2QoYXBpLCBcImNyZWF0ZU1pc3NpbmdOYXRpdmVBcGlcIiwgXCJzaGltXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIE1vZHVsZShuYW1lLCBkZXBlbmRlbmNpZXMsIGluaXRpYWxpemVyKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVyID0gaW5pdGlhbGl6ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgTW9kdWxlLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVpcmVkTW9kdWxlTmFtZXMgPSB0aGlzLmRlcGVuZGVuY2llcyB8fCBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlcXVpcmVkTW9kdWxlTmFtZXMubGVuZ3RoLCByZXF1aXJlZE1vZHVsZSwgbW9kdWxlTmFtZTsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lID0gcmVxdWlyZWRNb2R1bGVOYW1lc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZE1vZHVsZSA9IG1vZHVsZXNbbW9kdWxlTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcXVpcmVkTW9kdWxlIHx8ICEocmVxdWlyZWRNb2R1bGUgaW5zdGFuY2VvZiBNb2R1bGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicmVxdWlyZWQgbW9kdWxlICdcIiArIG1vZHVsZU5hbWUgKyBcIicgbm90IGZvdW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkTW9kdWxlLmluaXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcXVpcmVkTW9kdWxlLnN1cHBvcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInJlcXVpcmVkIG1vZHVsZSAnXCIgKyBtb2R1bGVOYW1lICsgXCInIG5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE5vdyBydW4gaW5pdGlhbGl6ZXJcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplcih0aGlzKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBmYWlsOiBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZWFzb24pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHdhcm46IGZ1bmN0aW9uKG1zZykge1xyXG4gICAgICAgICAgICBhcGkud2FybihcIk1vZHVsZSBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIG1zZyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZGVwcmVjYXRpb25Ob3RpY2U6IGZ1bmN0aW9uKGRlcHJlY2F0ZWQsIHJlcGxhY2VtZW50KSB7XHJcbiAgICAgICAgICAgIGFwaS53YXJuKFwiREVQUkVDQVRFRDogXCIgKyBkZXByZWNhdGVkICsgXCIgaW4gbW9kdWxlIFwiICsgdGhpcy5uYW1lICsgXCIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBcIiArXHJcbiAgICAgICAgICAgICAgICByZXBsYWNlbWVudCArIFwiIGluc3RlYWRcIik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY3JlYXRlRXJyb3I6IGZ1bmN0aW9uKG1zZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiRXJyb3IgaW4gUmFuZ3kgXCIgKyB0aGlzLm5hbWUgKyBcIiBtb2R1bGU6IFwiICsgbXNnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1vZHVsZShuYW1lLCBkZXBlbmRlbmNpZXMsIGluaXRGdW5jKSB7XHJcbiAgICAgICAgdmFyIG5ld01vZHVsZSA9IG5ldyBNb2R1bGUobmFtZSwgZGVwZW5kZW5jaWVzLCBmdW5jdGlvbihtb2R1bGUpIHtcclxuICAgICAgICAgICAgaWYgKCFtb2R1bGUuaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRGdW5jKGFwaSwgbW9kdWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGUuc3VwcG9ydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiTW9kdWxlICdcIiArIG5hbWUgKyBcIicgZmFpbGVkIHRvIGxvYWQ6IFwiICsgZ2V0RXJyb3JEZXNjKGV4KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlTG9nKGVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4LnN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVMb2coZXguc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1vZHVsZXNbbmFtZV0gPSBuZXdNb2R1bGU7XHJcbiAgICAgICAgcmV0dXJuIG5ld01vZHVsZTtcclxuICAgIH1cclxuXHJcbiAgICBhcGkuY3JlYXRlTW9kdWxlID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgIC8vIEFsbG93IDIgb3IgMyBhcmd1bWVudHMgKHNlY29uZCBhcmd1bWVudCBpcyBhbiBvcHRpb25hbCBhcnJheSBvZiBkZXBlbmRlbmNpZXMpXHJcbiAgICAgICAgdmFyIGluaXRGdW5jLCBkZXBlbmRlbmNpZXM7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICBpbml0RnVuYyA9IGFyZ3VtZW50c1sxXTtcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gW107XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5pdEZ1bmMgPSBhcmd1bWVudHNbMl07XHJcbiAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGFyZ3VtZW50c1sxXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtb2R1bGUgPSBjcmVhdGVNb2R1bGUobmFtZSwgZGVwZW5kZW5jaWVzLCBpbml0RnVuYyk7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIG1vZHVsZSBpbW1lZGlhdGVseSBpZiB0aGUgY29yZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkXHJcbiAgICAgICAgaWYgKGFwaS5pbml0aWFsaXplZCAmJiBhcGkuc3VwcG9ydGVkKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS5pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBhcGkuY3JlYXRlQ29yZU1vZHVsZSA9IGZ1bmN0aW9uKG5hbWUsIGRlcGVuZGVuY2llcywgaW5pdEZ1bmMpIHtcclxuICAgICAgICBjcmVhdGVNb2R1bGUobmFtZSwgZGVwZW5kZW5jaWVzLCBpbml0RnVuYyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG4gICAgLy8gRW5zdXJlIHJhbmd5LnJhbmdlUHJvdG90eXBlIGFuZCByYW5neS5zZWxlY3Rpb25Qcm90b3R5cGUgYXJlIGF2YWlsYWJsZSBpbW1lZGlhdGVseVxyXG5cclxuICAgIGZ1bmN0aW9uIFJhbmdlUHJvdG90eXBlKCkge31cclxuICAgIGFwaS5SYW5nZVByb3RvdHlwZSA9IFJhbmdlUHJvdG90eXBlO1xyXG4gICAgYXBpLnJhbmdlUHJvdG90eXBlID0gbmV3IFJhbmdlUHJvdG90eXBlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gU2VsZWN0aW9uUHJvdG90eXBlKCkge31cclxuICAgIGFwaS5zZWxlY3Rpb25Qcm90b3R5cGUgPSBuZXcgU2VsZWN0aW9uUHJvdG90eXBlKCk7XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbiAgICAvLyBET00gdXRpbGl0eSBtZXRob2RzIHVzZWQgYnkgUmFuZ3lcbiAgICBhcGkuY3JlYXRlQ29yZU1vZHVsZShcIkRvbVV0aWxcIiwgW10sIGZ1bmN0aW9uKGFwaSwgbW9kdWxlKSB7XG4gICAgICAgIHZhciBVTkRFRiA9IFwidW5kZWZpbmVkXCI7XG4gICAgICAgIHZhciB1dGlsID0gYXBpLnV0aWw7XG4gICAgICAgIHZhciBnZXRCb2R5ID0gdXRpbC5nZXRCb2R5O1xuXG4gICAgICAgIC8vIFBlcmZvcm0gZmVhdHVyZSB0ZXN0c1xuICAgICAgICBpZiAoIXV0aWwuYXJlSG9zdE1ldGhvZHMoZG9jdW1lbnQsIFtcImNyZWF0ZURvY3VtZW50RnJhZ21lbnRcIiwgXCJjcmVhdGVFbGVtZW50XCIsIFwiY3JlYXRlVGV4dE5vZGVcIl0pKSB7XG4gICAgICAgICAgICBtb2R1bGUuZmFpbChcImRvY3VtZW50IG1pc3NpbmcgYSBOb2RlIGNyZWF0aW9uIG1ldGhvZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdXRpbC5pc0hvc3RNZXRob2QoZG9jdW1lbnQsIFwiZ2V0RWxlbWVudHNCeVRhZ05hbWVcIikpIHtcbiAgICAgICAgICAgIG1vZHVsZS5mYWlsKFwiZG9jdW1lbnQgbWlzc2luZyBnZXRFbGVtZW50c0J5VGFnTmFtZSBtZXRob2RcIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpZiAoIXV0aWwuYXJlSG9zdE1ldGhvZHMoZWwsIFtcImluc2VydEJlZm9yZVwiLCBcImFwcGVuZENoaWxkXCIsIFwiY2xvbmVOb2RlXCJdIHx8XG4gICAgICAgICAgICAgICAgIXV0aWwuYXJlSG9zdE9iamVjdHMoZWwsIFtcInByZXZpb3VzU2libGluZ1wiLCBcIm5leHRTaWJsaW5nXCIsIFwiY2hpbGROb2Rlc1wiLCBcInBhcmVudE5vZGVcIl0pKSkge1xuICAgICAgICAgICAgbW9kdWxlLmZhaWwoXCJJbmNvbXBsZXRlIEVsZW1lbnQgaW1wbGVtZW50YXRpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbm5lckhUTUwgaXMgcmVxdWlyZWQgZm9yIFJhbmdlJ3MgY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50IG1ldGhvZFxuICAgICAgICBpZiAoIXV0aWwuaXNIb3N0UHJvcGVydHkoZWwsIFwiaW5uZXJIVE1MXCIpKSB7XG4gICAgICAgICAgICBtb2R1bGUuZmFpbChcIkVsZW1lbnQgaXMgbWlzc2luZyBpbm5lckhUTUwgcHJvcGVydHlcIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInRlc3RcIik7XG4gICAgICAgIGlmICghdXRpbC5hcmVIb3N0TWV0aG9kcyh0ZXh0Tm9kZSwgW1wic3BsaXRUZXh0XCIsIFwiZGVsZXRlRGF0YVwiLCBcImluc2VydERhdGFcIiwgXCJhcHBlbmREYXRhXCIsIFwiY2xvbmVOb2RlXCJdIHx8XG4gICAgICAgICAgICAgICAgIXV0aWwuYXJlSG9zdE9iamVjdHMoZWwsIFtcInByZXZpb3VzU2libGluZ1wiLCBcIm5leHRTaWJsaW5nXCIsIFwiY2hpbGROb2Rlc1wiLCBcInBhcmVudE5vZGVcIl0pIHx8XG4gICAgICAgICAgICAgICAgIXV0aWwuYXJlSG9zdFByb3BlcnRpZXModGV4dE5vZGUsIFtcImRhdGFcIl0pKSkge1xuICAgICAgICAgICAgbW9kdWxlLmZhaWwoXCJJbmNvbXBsZXRlIFRleHQgTm9kZSBpbXBsZW1lbnRhdGlvblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgLy8gUmVtb3ZlZCB1c2Ugb2YgaW5kZXhPZiBiZWNhdXNlIG9mIGEgYml6YXJyZSBidWcgaW4gT3BlcmEgdGhhdCBpcyB0aHJvd24gaW4gb25lIG9mIHRoZSBBY2lkMyB0ZXN0cy4gSSBoYXZlbid0IGJlZW5cbiAgICAgICAgLy8gYWJsZSB0byByZXBsaWNhdGUgaXQgb3V0c2lkZSBvZiB0aGUgdGVzdC4gVGhlIGJ1ZyBpcyB0aGF0IGluZGV4T2YgcmV0dXJucyAtMSB3aGVuIGNhbGxlZCBvbiBhbiBBcnJheSB0aGF0XG4gICAgICAgIC8vIGNvbnRhaW5zIGp1c3QgdGhlIGRvY3VtZW50IGFzIGEgc2luZ2xlIGVsZW1lbnQgYW5kIHRoZSB2YWx1ZSBzZWFyY2hlZCBmb3IgaXMgdGhlIGRvY3VtZW50LlxuICAgICAgICB2YXIgYXJyYXlDb250YWlucyA9IC8qQXJyYXkucHJvdG90eXBlLmluZGV4T2YgP1xuICAgICAgICAgICAgZnVuY3Rpb24oYXJyLCB2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyLmluZGV4T2YodmFsKSA+IC0xO1xuICAgICAgICAgICAgfToqL1xuXG4gICAgICAgICAgICBmdW5jdGlvbihhcnIsIHZhbCkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gYXJyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJbaV0gPT09IHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBPcGVyYSAxMSBwdXRzIEhUTUwgZWxlbWVudHMgaW4gdGhlIG51bGwgbmFtZXNwYWNlLCBpdCBzZWVtcywgYW5kIElFIDcgaGFzIHVuZGVmaW5lZCBuYW1lc3BhY2VVUklcbiAgICAgICAgZnVuY3Rpb24gaXNIdG1sTmFtZXNwYWNlKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBucztcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygbm9kZS5uYW1lc3BhY2VVUkkgPT0gVU5ERUYgfHwgKChucyA9IG5vZGUubmFtZXNwYWNlVVJJKSA9PT0gbnVsbCB8fCBucyA9PSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwYXJlbnRFbGVtZW50KG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICByZXR1cm4gKHBhcmVudC5ub2RlVHlwZSA9PSAxKSA/IHBhcmVudCA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXROb2RlSW5kZXgobm9kZSkge1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUoIChub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmcpICkge1xuICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Tm9kZUxlbmd0aChub2RlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29tbW9uQW5jZXN0b3Iobm9kZTEsIG5vZGUyKSB7XG4gICAgICAgICAgICB2YXIgYW5jZXN0b3JzID0gW10sIG47XG4gICAgICAgICAgICBmb3IgKG4gPSBub2RlMTsgbjsgbiA9IG4ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGFuY2VzdG9ycy5wdXNoKG4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKG4gPSBub2RlMjsgbjsgbiA9IG4ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChhcnJheUNvbnRhaW5zKGFuY2VzdG9ycywgbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzQW5jZXN0b3JPZihhbmNlc3RvciwgZGVzY2VuZGFudCwgc2VsZklzQW5jZXN0b3IpIHtcbiAgICAgICAgICAgIHZhciBuID0gc2VsZklzQW5jZXN0b3IgPyBkZXNjZW5kYW50IDogZGVzY2VuZGFudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgd2hpbGUgKG4pIHtcbiAgICAgICAgICAgICAgICBpZiAobiA9PT0gYW5jZXN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IG4ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc09ySXNBbmNlc3Rvck9mKGFuY2VzdG9yLCBkZXNjZW5kYW50KSB7XG4gICAgICAgICAgICByZXR1cm4gaXNBbmNlc3Rvck9mKGFuY2VzdG9yLCBkZXNjZW5kYW50LCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldENsb3Nlc3RBbmNlc3RvckluKG5vZGUsIGFuY2VzdG9yLCBzZWxmSXNBbmNlc3Rvcikge1xuICAgICAgICAgICAgdmFyIHAsIG4gPSBzZWxmSXNBbmNlc3RvciA/IG5vZGUgOiBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICB3aGlsZSAobikge1xuICAgICAgICAgICAgICAgIHAgPSBuLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKHAgPT09IGFuY2VzdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuID0gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNDaGFyYWN0ZXJEYXRhTm9kZShub2RlKSB7XG4gICAgICAgICAgICB2YXIgdCA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgICAgICByZXR1cm4gdCA9PSAzIHx8IHQgPT0gNCB8fCB0ID09IDggOyAvLyBUZXh0LCBDRGF0YVNlY3Rpb24gb3IgQ29tbWVudFxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNUZXh0T3JDb21tZW50Tm9kZShub2RlKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdCA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgICAgICByZXR1cm4gdCA9PSAzIHx8IHQgPT0gOCA7IC8vIFRleHQgb3IgQ29tbWVudFxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIobm9kZSwgcHJlY2VkaW5nTm9kZSkge1xuICAgICAgICAgICAgdmFyIG5leHROb2RlID0gcHJlY2VkaW5nTm9kZS5uZXh0U2libGluZywgcGFyZW50ID0gcHJlY2VkaW5nTm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKG5leHROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBuZXh0Tm9kZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGNhbm5vdCB1c2Ugc3BsaXRUZXh0KCkgYmVjYXVzZSBpdCBpcyBidWdyaWRkZW4gaW4gSUUgOS5cbiAgICAgICAgZnVuY3Rpb24gc3BsaXREYXRhTm9kZShub2RlLCBpbmRleCwgcG9zaXRpb25zVG9QcmVzZXJ2ZSkge1xuICAgICAgICAgICAgdmFyIG5ld05vZGUgPSBub2RlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgICBuZXdOb2RlLmRlbGV0ZURhdGEoMCwgaW5kZXgpO1xuICAgICAgICAgICAgbm9kZS5kZWxldGVEYXRhKGluZGV4LCBub2RlLmxlbmd0aCAtIGluZGV4KTtcbiAgICAgICAgICAgIGluc2VydEFmdGVyKG5ld05vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSBwb3NpdGlvbnNcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbnNUb1ByZXNlcnZlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHBvc2l0aW9uOyBwb3NpdGlvbiA9IHBvc2l0aW9uc1RvUHJlc2VydmVbaSsrXTsgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHBvc2l0aW9uIHdhcyBpbnNpZGUgdGhlIHBvcnRpb24gb2Ygbm9kZSBhZnRlciB0aGUgc3BsaXQgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uLm5vZGUgPT0gbm9kZSAmJiBwb3NpdGlvbi5vZmZzZXQgPiBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ubm9kZSA9IG5ld05vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5vZmZzZXQgLT0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSBwb3NpdGlvbiBpcyBhIG5vZGUgb2Zmc2V0IHdpdGhpbiBub2RlJ3MgcGFyZW50XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uLm5vZGUgPT0gbm9kZS5wYXJlbnROb2RlICYmIHBvc2l0aW9uLm9mZnNldCA+IGdldE5vZGVJbmRleChub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKytwb3NpdGlvbi5vZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldERvY3VtZW50KG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUub3duZXJEb2N1bWVudCAhPSBVTkRFRikge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBub2RlLmRvY3VtZW50ICE9IFVOREVGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZG9jdW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXREb2N1bWVudChub2RlLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtb2R1bGUuY3JlYXRlRXJyb3IoXCJnZXREb2N1bWVudDogbm8gZG9jdW1lbnQgZm91bmQgZm9yIG5vZGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkge1xuICAgICAgICAgICAgdmFyIGRvYyA9IGdldERvY3VtZW50KG5vZGUpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2MuZGVmYXVsdFZpZXcgIT0gVU5ERUYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jLnBhcmVudFdpbmRvdyAhPSBVTkRFRikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2MucGFyZW50V2luZG93O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtb2R1bGUuY3JlYXRlRXJyb3IoXCJDYW5ub3QgZ2V0IGEgd2luZG93IG9iamVjdCBmb3Igbm9kZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldElmcmFtZURvY3VtZW50KGlmcmFtZUVsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlmcmFtZUVsLmNvbnRlbnREb2N1bWVudCAhPSBVTkRFRikge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZnJhbWVFbC5jb250ZW50RG9jdW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpZnJhbWVFbC5jb250ZW50V2luZG93ICE9IFVOREVGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlmcmFtZUVsLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG1vZHVsZS5jcmVhdGVFcnJvcihcImdldElmcmFtZURvY3VtZW50OiBObyBEb2N1bWVudCBvYmplY3QgZm91bmQgZm9yIGlmcmFtZSBlbGVtZW50XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0SWZyYW1lV2luZG93KGlmcmFtZUVsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlmcmFtZUVsLmNvbnRlbnRXaW5kb3cgIT0gVU5ERUYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWZyYW1lRWwuY29udGVudFdpbmRvdztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlmcmFtZUVsLmNvbnRlbnREb2N1bWVudCAhPSBVTkRFRikge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZnJhbWVFbC5jb250ZW50RG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG1vZHVsZS5jcmVhdGVFcnJvcihcImdldElmcmFtZVdpbmRvdzogTm8gV2luZG93IG9iamVjdCBmb3VuZCBmb3IgaWZyYW1lIGVsZW1lbnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzIGxvb2tzIGJhZC4gSXMgaXQgd29ydGggaXQ/XG4gICAgICAgIGZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiB1dGlsLmlzSG9zdE1ldGhvZChvYmosIFwic2V0VGltZW91dFwiKSAmJiB1dGlsLmlzSG9zdE9iamVjdChvYmosIFwiZG9jdW1lbnRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb250ZW50RG9jdW1lbnQob2JqLCBtb2R1bGUsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBkb2M7XG5cbiAgICAgICAgICAgIGlmICghb2JqKSB7XG4gICAgICAgICAgICAgICAgZG9jID0gZG9jdW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRlc3QgaWYgYSBET00gbm9kZSBoYXMgYmVlbiBwYXNzZWQgYW5kIG9idGFpbiBhIGRvY3VtZW50IG9iamVjdCBmb3IgaXQgaWYgc29cbiAgICAgICAgICAgIGVsc2UgaWYgKHV0aWwuaXNIb3N0UHJvcGVydHkob2JqLCBcIm5vZGVUeXBlXCIpKSB7XG4gICAgICAgICAgICAgICAgZG9jID0gKG9iai5ub2RlVHlwZSA9PSAxICYmIG9iai50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gXCJpZnJhbWVcIikgP1xuICAgICAgICAgICAgICAgICAgICBnZXRJZnJhbWVEb2N1bWVudChvYmopIDogZ2V0RG9jdW1lbnQob2JqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVGVzdCBpZiB0aGUgZG9jIHBhcmFtZXRlciBhcHBlYXJzIHRvIGJlIGEgV2luZG93IG9iamVjdFxuICAgICAgICAgICAgZWxzZSBpZiAoaXNXaW5kb3cob2JqKSkge1xuICAgICAgICAgICAgICAgIGRvYyA9IG9iai5kb2N1bWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtb2R1bGUuY3JlYXRlRXJyb3IobWV0aG9kTmFtZSArIFwiKCk6IFBhcmFtZXRlciBtdXN0IGJlIGEgV2luZG93IG9iamVjdCBvciBET00gbm9kZVwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFJvb3RDb250YWluZXIobm9kZSkge1xuICAgICAgICAgICAgdmFyIHBhcmVudDtcbiAgICAgICAgICAgIHdoaWxlICggKHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSkgKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29tcGFyZVBvaW50cyhub2RlQSwgb2Zmc2V0QSwgbm9kZUIsIG9mZnNldEIpIHtcbiAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1UcmF2ZXJzYWwtUmFuZ2UvcmFuZ2VzLmh0bWwjTGV2ZWwtMi1SYW5nZS1Db21wYXJpbmdcbiAgICAgICAgICAgIHZhciBub2RlQywgcm9vdCwgY2hpbGRBLCBjaGlsZEIsIG47XG4gICAgICAgICAgICBpZiAobm9kZUEgPT0gbm9kZUIpIHtcbiAgICAgICAgICAgICAgICAvLyBDYXNlIDE6IG5vZGVzIGFyZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIHJldHVybiBvZmZzZXRBID09PSBvZmZzZXRCID8gMCA6IChvZmZzZXRBIDwgb2Zmc2V0QikgPyAtMSA6IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCAobm9kZUMgPSBnZXRDbG9zZXN0QW5jZXN0b3JJbihub2RlQiwgbm9kZUEsIHRydWUpKSApIHtcbiAgICAgICAgICAgICAgICAvLyBDYXNlIDI6IG5vZGUgQyAoY29udGFpbmVyIEIgb3IgYW4gYW5jZXN0b3IpIGlzIGEgY2hpbGQgbm9kZSBvZiBBXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldEEgPD0gZ2V0Tm9kZUluZGV4KG5vZGVDKSA/IC0xIDogMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIChub2RlQyA9IGdldENsb3Nlc3RBbmNlc3RvckluKG5vZGVBLCBub2RlQiwgdHJ1ZSkpICkge1xuICAgICAgICAgICAgICAgIC8vIENhc2UgMzogbm9kZSBDIChjb250YWluZXIgQSBvciBhbiBhbmNlc3RvcikgaXMgYSBjaGlsZCBub2RlIG9mIEJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Tm9kZUluZGV4KG5vZGVDKSA8IG9mZnNldEIgID8gLTEgOiAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb290ID0gZ2V0Q29tbW9uQW5jZXN0b3Iobm9kZUEsIG5vZGVCKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29tcGFyZVBvaW50cyBlcnJvcjogbm9kZXMgaGF2ZSBubyBjb21tb24gYW5jZXN0b3JcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2FzZSA0OiBjb250YWluZXJzIGFyZSBzaWJsaW5ncyBvciBkZXNjZW5kYW50cyBvZiBzaWJsaW5nc1xuICAgICAgICAgICAgICAgIGNoaWxkQSA9IChub2RlQSA9PT0gcm9vdCkgPyByb290IDogZ2V0Q2xvc2VzdEFuY2VzdG9ySW4obm9kZUEsIHJvb3QsIHRydWUpO1xuICAgICAgICAgICAgICAgIGNoaWxkQiA9IChub2RlQiA9PT0gcm9vdCkgPyByb290IDogZ2V0Q2xvc2VzdEFuY2VzdG9ySW4obm9kZUIsIHJvb3QsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkQSA9PT0gY2hpbGRCKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2hvdWxkbid0IGJlIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG1vZHVsZS5jcmVhdGVFcnJvcihcImNvbXBhcmVQb2ludHMgZ290IHRvIGNhc2UgNCBhbmQgY2hpbGRBIGFuZCBjaGlsZEIgYXJlIHRoZSBzYW1lIVwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gcm9vdC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4gPT09IGNoaWxkQSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobiA9PT0gY2hpbGRCKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBuID0gbi5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgLy8gVGVzdCBmb3IgSUUncyBjcmFzaCAoSUUgNi83KSBvciBleGNlcHRpb24gKElFID49IDgpIHdoZW4gYSByZWZlcmVuY2UgdG8gZ2FyYmFnZS1jb2xsZWN0ZWQgdGV4dCBub2RlIGlzIHF1ZXJpZWRcbiAgICAgICAgdmFyIGNyYXNoeVRleHROb2RlcyA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzQnJva2VuTm9kZShub2RlKSB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbiA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYlwiKTtcbiAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IFwiMVwiO1xuICAgICAgICAgICAgdmFyIHRleHROb2RlID0gZWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IFwiPGJyIC8+XCI7XG4gICAgICAgICAgICBjcmFzaHlUZXh0Tm9kZXMgPSBpc0Jyb2tlbk5vZGUodGV4dE5vZGUpO1xuXG4gICAgICAgICAgICBhcGkuZmVhdHVyZXMuY3Jhc2h5VGV4dE5vZGVzID0gY3Jhc2h5VGV4dE5vZGVzO1xuICAgICAgICB9KSgpO1xuXG4gICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgZnVuY3Rpb24gaW5zcGVjdE5vZGUobm9kZSkge1xuICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW05vIG5vZGVdXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3Jhc2h5VGV4dE5vZGVzICYmIGlzQnJva2VuTm9kZShub2RlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIltCcm9rZW4gbm9kZV1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0NoYXJhY3RlckRhdGFOb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdcIicgKyBub2RlLmRhdGEgKyAnXCInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBpZEF0dHIgPSBub2RlLmlkID8gJyBpZD1cIicgKyBub2RlLmlkICsgJ1wiJyA6IFwiXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPFwiICsgbm9kZS5ub2RlTmFtZSArIGlkQXR0ciArIFwiPltpbmRleDpcIiArIGdldE5vZGVJbmRleChub2RlKSArIFwiLGxlbmd0aDpcIiArIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggKyBcIl1bXCIgKyAobm9kZS5pbm5lckhUTUwgfHwgXCJbaW5uZXJIVE1MIG5vdCBzdXBwb3J0ZWRdXCIpLnNsaWNlKDAsIDI1KSArIFwiXVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vZGUubm9kZU5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmcmFnbWVudEZyb21Ob2RlQ2hpbGRyZW4obm9kZSkge1xuICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gZ2V0RG9jdW1lbnQobm9kZSkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBjaGlsZDtcbiAgICAgICAgICAgIHdoaWxlICggKGNoaWxkID0gbm9kZS5maXJzdENoaWxkKSApIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2V0Q29tcHV0ZWRTdHlsZVByb3BlcnR5O1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICE9IFVOREVGKSB7XG4gICAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlUHJvcGVydHkgPSBmdW5jdGlvbihlbCwgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0V2luZG93KGVsKS5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKVtwcm9wTmFtZV07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlICE9IFVOREVGKSB7XG4gICAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlUHJvcGVydHkgPSBmdW5jdGlvbihlbCwgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlID8gZWwuY3VycmVudFN0eWxlW3Byb3BOYW1lXSA6IFwiXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kdWxlLmZhaWwoXCJObyBtZWFucyBvZiBvYnRhaW5pbmcgY29tcHV0ZWQgc3R5bGUgcHJvcGVydGllcyBmb3VuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRlc3RFbGVtZW50KGRvYywgaHRtbCwgY29udGVudEVkaXRhYmxlKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGdldEJvZHkoZG9jKTtcbiAgICAgICAgICAgIHZhciBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZWwuY29udGVudEVkaXRhYmxlID0gXCJcIiArICEhY29udGVudEVkaXRhYmxlO1xuICAgICAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbnNlcnQgdGhlIHRlc3QgZWxlbWVudCBhdCB0aGUgc3RhcnQgb2YgdGhlIGJvZHkgdG8gcHJldmVudCBzY3JvbGxpbmcgdG8gdGhlIGJvdHRvbSBpbiBpT1MgKGlzc3VlICMyOTIpXG4gICAgICAgICAgICB2YXIgYm9keUZpcnN0Q2hpbGQgPSBib2R5LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICBpZiAoYm9keUZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBib2R5Lmluc2VydEJlZm9yZShlbCwgYm9keUZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gTm9kZUl0ZXJhdG9yKHJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgICAgICB0aGlzLl9uZXh0ID0gcm9vdDtcbiAgICAgICAgfVxuXG4gICAgICAgIE5vZGVJdGVyYXRvci5wcm90b3R5cGUgPSB7XG4gICAgICAgICAgICBfY3VycmVudDogbnVsbCxcblxuICAgICAgICAgICAgaGFzTmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fbmV4dDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcy5fY3VycmVudCA9IHRoaXMuX25leHQ7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkLCBuZXh0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0gbi5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX25leHQgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChuICE9PSB0aGlzLnJvb3QpICYmICEobmV4dCA9IG4ubmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IG4ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZGV0YWNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fbmV4dCA9IHRoaXMucm9vdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSXRlcmF0b3Iocm9vdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlSXRlcmF0b3Iocm9vdCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBEb21Qb3NpdGlvbihub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIERvbVBvc2l0aW9uLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgIGVxdWFsczogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhcG9zICYmIHRoaXMubm9kZSA9PT0gcG9zLm5vZGUgJiYgdGhpcy5vZmZzZXQgPT0gcG9zLm9mZnNldDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGluc3BlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIltEb21Qb3NpdGlvbihcIiArIGluc3BlY3ROb2RlKHRoaXMubm9kZSkgKyBcIjpcIiArIHRoaXMub2Zmc2V0ICsgXCIpXVwiO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc3BlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBET01FeGNlcHRpb24oY29kZU5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29kZSA9IHRoaXNbY29kZU5hbWVdO1xuICAgICAgICAgICAgdGhpcy5jb2RlTmFtZSA9IGNvZGVOYW1lO1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gXCJET01FeGNlcHRpb246IFwiICsgdGhpcy5jb2RlTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUgPSB7XG4gICAgICAgICAgICBJTkRFWF9TSVpFX0VSUjogMSxcbiAgICAgICAgICAgIEhJRVJBUkNIWV9SRVFVRVNUX0VSUjogMyxcbiAgICAgICAgICAgIFdST05HX0RPQ1VNRU5UX0VSUjogNCxcbiAgICAgICAgICAgIE5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUjogNyxcbiAgICAgICAgICAgIE5PVF9GT1VORF9FUlI6IDgsXG4gICAgICAgICAgICBOT1RfU1VQUE9SVEVEX0VSUjogOSxcbiAgICAgICAgICAgIElOVkFMSURfU1RBVEVfRVJSOiAxMSxcbiAgICAgICAgICAgIElOVkFMSURfTk9ERV9UWVBFX0VSUjogMjRcbiAgICAgICAgfTtcblxuICAgICAgICBET01FeGNlcHRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFwaS5kb20gPSB7XG4gICAgICAgICAgICBhcnJheUNvbnRhaW5zOiBhcnJheUNvbnRhaW5zLFxuICAgICAgICAgICAgaXNIdG1sTmFtZXNwYWNlOiBpc0h0bWxOYW1lc3BhY2UsXG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50OiBwYXJlbnRFbGVtZW50LFxuICAgICAgICAgICAgZ2V0Tm9kZUluZGV4OiBnZXROb2RlSW5kZXgsXG4gICAgICAgICAgICBnZXROb2RlTGVuZ3RoOiBnZXROb2RlTGVuZ3RoLFxuICAgICAgICAgICAgZ2V0Q29tbW9uQW5jZXN0b3I6IGdldENvbW1vbkFuY2VzdG9yLFxuICAgICAgICAgICAgaXNBbmNlc3Rvck9mOiBpc0FuY2VzdG9yT2YsXG4gICAgICAgICAgICBpc09ySXNBbmNlc3Rvck9mOiBpc09ySXNBbmNlc3Rvck9mLFxuICAgICAgICAgICAgZ2V0Q2xvc2VzdEFuY2VzdG9ySW46IGdldENsb3Nlc3RBbmNlc3RvckluLFxuICAgICAgICAgICAgaXNDaGFyYWN0ZXJEYXRhTm9kZTogaXNDaGFyYWN0ZXJEYXRhTm9kZSxcbiAgICAgICAgICAgIGlzVGV4dE9yQ29tbWVudE5vZGU6IGlzVGV4dE9yQ29tbWVudE5vZGUsXG4gICAgICAgICAgICBpbnNlcnRBZnRlcjogaW5zZXJ0QWZ0ZXIsXG4gICAgICAgICAgICBzcGxpdERhdGFOb2RlOiBzcGxpdERhdGFOb2RlLFxuICAgICAgICAgICAgZ2V0RG9jdW1lbnQ6IGdldERvY3VtZW50LFxuICAgICAgICAgICAgZ2V0V2luZG93OiBnZXRXaW5kb3csXG4gICAgICAgICAgICBnZXRJZnJhbWVXaW5kb3c6IGdldElmcmFtZVdpbmRvdyxcbiAgICAgICAgICAgIGdldElmcmFtZURvY3VtZW50OiBnZXRJZnJhbWVEb2N1bWVudCxcbiAgICAgICAgICAgIGdldEJvZHk6IGdldEJvZHksXG4gICAgICAgICAgICBpc1dpbmRvdzogaXNXaW5kb3csXG4gICAgICAgICAgICBnZXRDb250ZW50RG9jdW1lbnQ6IGdldENvbnRlbnREb2N1bWVudCxcbiAgICAgICAgICAgIGdldFJvb3RDb250YWluZXI6IGdldFJvb3RDb250YWluZXIsXG4gICAgICAgICAgICBjb21wYXJlUG9pbnRzOiBjb21wYXJlUG9pbnRzLFxuICAgICAgICAgICAgaXNCcm9rZW5Ob2RlOiBpc0Jyb2tlbk5vZGUsXG4gICAgICAgICAgICBpbnNwZWN0Tm9kZTogaW5zcGVjdE5vZGUsXG4gICAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlUHJvcGVydHk6IGdldENvbXB1dGVkU3R5bGVQcm9wZXJ0eSxcbiAgICAgICAgICAgIGNyZWF0ZVRlc3RFbGVtZW50OiBjcmVhdGVUZXN0RWxlbWVudCxcbiAgICAgICAgICAgIHJlbW92ZU5vZGU6IHJlbW92ZU5vZGUsXG4gICAgICAgICAgICBmcmFnbWVudEZyb21Ob2RlQ2hpbGRyZW46IGZyYWdtZW50RnJvbU5vZGVDaGlsZHJlbixcbiAgICAgICAgICAgIGNyZWF0ZUl0ZXJhdG9yOiBjcmVhdGVJdGVyYXRvcixcbiAgICAgICAgICAgIERvbVBvc2l0aW9uOiBEb21Qb3NpdGlvblxuICAgICAgICB9O1xuXG4gICAgICAgIGFwaS5ET01FeGNlcHRpb24gPSBET01FeGNlcHRpb247XG4gICAgfSk7XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbiAgICAvLyBQdXJlIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgRE9NIFJhbmdlXG4gICAgYXBpLmNyZWF0ZUNvcmVNb2R1bGUoXCJEb21SYW5nZVwiLCBbXCJEb21VdGlsXCJdLCBmdW5jdGlvbihhcGksIG1vZHVsZSkge1xuICAgICAgICB2YXIgZG9tID0gYXBpLmRvbTtcbiAgICAgICAgdmFyIHV0aWwgPSBhcGkudXRpbDtcbiAgICAgICAgdmFyIERvbVBvc2l0aW9uID0gZG9tLkRvbVBvc2l0aW9uO1xuICAgICAgICB2YXIgRE9NRXhjZXB0aW9uID0gYXBpLkRPTUV4Y2VwdGlvbjtcblxuICAgICAgICB2YXIgaXNDaGFyYWN0ZXJEYXRhTm9kZSA9IGRvbS5pc0NoYXJhY3RlckRhdGFOb2RlO1xuICAgICAgICB2YXIgZ2V0Tm9kZUluZGV4ID0gZG9tLmdldE5vZGVJbmRleDtcbiAgICAgICAgdmFyIGlzT3JJc0FuY2VzdG9yT2YgPSBkb20uaXNPcklzQW5jZXN0b3JPZjtcbiAgICAgICAgdmFyIGdldERvY3VtZW50ID0gZG9tLmdldERvY3VtZW50O1xuICAgICAgICB2YXIgY29tcGFyZVBvaW50cyA9IGRvbS5jb21wYXJlUG9pbnRzO1xuICAgICAgICB2YXIgc3BsaXREYXRhTm9kZSA9IGRvbS5zcGxpdERhdGFOb2RlO1xuICAgICAgICB2YXIgZ2V0Q2xvc2VzdEFuY2VzdG9ySW4gPSBkb20uZ2V0Q2xvc2VzdEFuY2VzdG9ySW47XG4gICAgICAgIHZhciBnZXROb2RlTGVuZ3RoID0gZG9tLmdldE5vZGVMZW5ndGg7XG4gICAgICAgIHZhciBhcnJheUNvbnRhaW5zID0gZG9tLmFycmF5Q29udGFpbnM7XG4gICAgICAgIHZhciBnZXRSb290Q29udGFpbmVyID0gZG9tLmdldFJvb3RDb250YWluZXI7XG4gICAgICAgIHZhciBjcmFzaHlUZXh0Tm9kZXMgPSBhcGkuZmVhdHVyZXMuY3Jhc2h5VGV4dE5vZGVzO1xuXG4gICAgICAgIHZhciByZW1vdmVOb2RlID0gZG9tLnJlbW92ZU5vZGU7XG5cbiAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgICAgICAvLyBVdGlsaXR5IGZ1bmN0aW9uc1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzTm9uVGV4dFBhcnRpYWxseVNlbGVjdGVkKG5vZGUsIHJhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm4gKG5vZGUubm9kZVR5cGUgIT0gMykgJiZcbiAgICAgICAgICAgICAgICAgICAoaXNPcklzQW5jZXN0b3JPZihub2RlLCByYW5nZS5zdGFydENvbnRhaW5lcikgfHwgaXNPcklzQW5jZXN0b3JPZihub2RlLCByYW5nZS5lbmRDb250YWluZXIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFJhbmdlRG9jdW1lbnQocmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiByYW5nZS5kb2N1bWVudCB8fCBnZXREb2N1bWVudChyYW5nZS5zdGFydENvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRSYW5nZVJvb3QocmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRSb290Q29udGFpbmVyKHJhbmdlLnN0YXJ0Q29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEJvdW5kYXJ5QmVmb3JlTm9kZShub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERvbVBvc2l0aW9uKG5vZGUucGFyZW50Tm9kZSwgZ2V0Tm9kZUluZGV4KG5vZGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEJvdW5kYXJ5QWZ0ZXJOb2RlKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRG9tUG9zaXRpb24obm9kZS5wYXJlbnROb2RlLCBnZXROb2RlSW5kZXgobm9kZSkgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluc2VydE5vZGVBdFBvc2l0aW9uKG5vZGUsIG4sIG8pIHtcbiAgICAgICAgICAgIHZhciBmaXJzdE5vZGVJbnNlcnRlZCA9IG5vZGUubm9kZVR5cGUgPT0gMTEgPyBub2RlLmZpcnN0Q2hpbGQgOiBub2RlO1xuICAgICAgICAgICAgaWYgKGlzQ2hhcmFjdGVyRGF0YU5vZGUobikpIHtcbiAgICAgICAgICAgICAgICBpZiAobyA9PSBuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkb20uaW5zZXJ0QWZ0ZXIobm9kZSwgbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBvID09IDAgPyBuIDogc3BsaXREYXRhTm9kZShuLCBvKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChvID49IG4uY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBuLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuLmluc2VydEJlZm9yZShub2RlLCBuLmNoaWxkTm9kZXNbb10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0Tm9kZUluc2VydGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmFuZ2VzSW50ZXJzZWN0KHJhbmdlQSwgcmFuZ2VCLCB0b3VjaGluZ0lzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBhc3NlcnRSYW5nZVZhbGlkKHJhbmdlQSk7XG4gICAgICAgICAgICBhc3NlcnRSYW5nZVZhbGlkKHJhbmdlQik7XG5cbiAgICAgICAgICAgIGlmIChnZXRSYW5nZURvY3VtZW50KHJhbmdlQikgIT0gZ2V0UmFuZ2VEb2N1bWVudChyYW5nZUEpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIldST05HX0RPQ1VNRU5UX0VSUlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHN0YXJ0Q29tcGFyaXNvbiA9IGNvbXBhcmVQb2ludHMocmFuZ2VBLnN0YXJ0Q29udGFpbmVyLCByYW5nZUEuc3RhcnRPZmZzZXQsIHJhbmdlQi5lbmRDb250YWluZXIsIHJhbmdlQi5lbmRPZmZzZXQpLFxuICAgICAgICAgICAgICAgIGVuZENvbXBhcmlzb24gPSBjb21wYXJlUG9pbnRzKHJhbmdlQS5lbmRDb250YWluZXIsIHJhbmdlQS5lbmRPZmZzZXQsIHJhbmdlQi5zdGFydENvbnRhaW5lciwgcmFuZ2VCLnN0YXJ0T2Zmc2V0KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRvdWNoaW5nSXNJbnRlcnNlY3RpbmcgPyBzdGFydENvbXBhcmlzb24gPD0gMCAmJiBlbmRDb21wYXJpc29uID49IDAgOiBzdGFydENvbXBhcmlzb24gPCAwICYmIGVuZENvbXBhcmlzb24gPiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2xvbmVTdWJ0cmVlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgcGFydGlhbGx5U2VsZWN0ZWQ7XG4gICAgICAgICAgICBmb3IgKHZhciBub2RlLCBmcmFnID0gZ2V0UmFuZ2VEb2N1bWVudChpdGVyYXRvci5yYW5nZSkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBzdWJJdGVyYXRvcjsgbm9kZSA9IGl0ZXJhdG9yLm5leHQoKTsgKSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbGx5U2VsZWN0ZWQgPSBpdGVyYXRvci5pc1BhcnRpYWxseVNlbGVjdGVkU3VidHJlZSgpO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmNsb25lTm9kZSghcGFydGlhbGx5U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0aWFsbHlTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJJdGVyYXRvciA9IGl0ZXJhdG9yLmdldFN1YnRyZWVJdGVyYXRvcigpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGNsb25lU3VidHJlZShzdWJJdGVyYXRvcikpO1xuICAgICAgICAgICAgICAgICAgICBzdWJJdGVyYXRvci5kZXRhY2goKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxMCkgeyAvLyBEb2N1bWVudFR5cGVcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkhJRVJBUkNIWV9SRVFVRVNUX0VSUlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmcmFnO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXRlcmF0ZVN1YnRyZWUocmFuZ2VJdGVyYXRvciwgZnVuYywgaXRlcmF0b3JTdGF0ZSkge1xuICAgICAgICAgICAgdmFyIGl0LCBuO1xuICAgICAgICAgICAgaXRlcmF0b3JTdGF0ZSA9IGl0ZXJhdG9yU3RhdGUgfHwgeyBzdG9wOiBmYWxzZSB9O1xuICAgICAgICAgICAgZm9yICh2YXIgbm9kZSwgc3ViUmFuZ2VJdGVyYXRvcjsgbm9kZSA9IHJhbmdlSXRlcmF0b3IubmV4dCgpOyApIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VJdGVyYXRvci5pc1BhcnRpYWxseVNlbGVjdGVkU3VidHJlZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmdW5jKG5vZGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3JTdGF0ZS5zdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBub2RlIGlzIHBhcnRpYWxseSBzZWxlY3RlZCBieSB0aGUgUmFuZ2UsIHNvIHdlIGNhbiB1c2UgYSBuZXcgUmFuZ2VJdGVyYXRvciBvbiB0aGUgcG9ydGlvbiBvZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG5vZGUgc2VsZWN0ZWQgYnkgdGhlIFJhbmdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViUmFuZ2VJdGVyYXRvciA9IHJhbmdlSXRlcmF0b3IuZ2V0U3VidHJlZUl0ZXJhdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRlU3VidHJlZShzdWJSYW5nZUl0ZXJhdG9yLCBmdW5jLCBpdGVyYXRvclN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlJhbmdlSXRlcmF0b3IuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlcmF0b3JTdGF0ZS5zdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdob2xlIG5vZGUgaXMgc2VsZWN0ZWQsIHNvIHdlIGNhbiB1c2UgZWZmaWNpZW50IERPTSBpdGVyYXRpb24gdG8gaXRlcmF0ZSBvdmVyIHRoZSBub2RlIGFuZCBpdHNcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVzY2VuZGFudHNcbiAgICAgICAgICAgICAgICAgICAgaXQgPSBkb20uY3JlYXRlSXRlcmF0b3Iobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICggKG4gPSBpdC5uZXh0KCkpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmMobikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3JTdGF0ZS5zdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZWxldGVTdWJ0cmVlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgc3ViSXRlcmF0b3I7XG4gICAgICAgICAgICB3aGlsZSAoaXRlcmF0b3IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLmlzUGFydGlhbGx5U2VsZWN0ZWRTdWJ0cmVlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViSXRlcmF0b3IgPSBpdGVyYXRvci5nZXRTdWJ0cmVlSXRlcmF0b3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlU3VidHJlZShzdWJJdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIHN1Ykl0ZXJhdG9yLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4dHJhY3RTdWJ0cmVlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBub2RlLCBmcmFnID0gZ2V0UmFuZ2VEb2N1bWVudChpdGVyYXRvci5yYW5nZSkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBzdWJJdGVyYXRvcjsgbm9kZSA9IGl0ZXJhdG9yLm5leHQoKTsgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0b3IuaXNQYXJ0aWFsbHlTZWxlY3RlZFN1YnRyZWUoKSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzdWJJdGVyYXRvciA9IGl0ZXJhdG9yLmdldFN1YnRyZWVJdGVyYXRvcigpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGV4dHJhY3RTdWJ0cmVlKHN1Ykl0ZXJhdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgIHN1Ykl0ZXJhdG9yLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxMCkgeyAvLyBEb2N1bWVudFR5cGVcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkhJRVJBUkNIWV9SRVFVRVNUX0VSUlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmcmFnO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Tm9kZXNJblJhbmdlKHJhbmdlLCBub2RlVHlwZXMsIGZpbHRlcikge1xuICAgICAgICAgICAgdmFyIGZpbHRlck5vZGVUeXBlcyA9ICEhKG5vZGVUeXBlcyAmJiBub2RlVHlwZXMubGVuZ3RoKSwgcmVnZXg7XG4gICAgICAgICAgICB2YXIgZmlsdGVyRXhpc3RzID0gISFmaWx0ZXI7XG4gICAgICAgICAgICBpZiAoZmlsdGVyTm9kZVR5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKFwiXihcIiArIG5vZGVUeXBlcy5qb2luKFwifFwiKSArIFwiKSRcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBub2RlcyA9IFtdO1xuICAgICAgICAgICAgaXRlcmF0ZVN1YnRyZWUobmV3IFJhbmdlSXRlcmF0b3IocmFuZ2UsIGZhbHNlKSwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJOb2RlVHlwZXMgJiYgIXJlZ2V4LnRlc3Qobm9kZS5ub2RlVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRXhpc3RzICYmICFmaWx0ZXIobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEb24ndCBpbmNsdWRlIGEgYm91bmRhcnkgY29udGFpbmVyIGlmIGl0IGlzIGEgY2hhcmFjdGVyIGRhdGEgbm9kZSBhbmQgdGhlIHJhbmdlIGRvZXMgbm90IGNvbnRhaW4gYW55XG4gICAgICAgICAgICAgICAgLy8gb2YgaXRzIGNoYXJhY3RlciBkYXRhLiBTZWUgaXNzdWUgMTkwLlxuICAgICAgICAgICAgICAgIHZhciBzYyA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuICAgICAgICAgICAgICAgIGlmIChub2RlID09IHNjICYmIGlzQ2hhcmFjdGVyRGF0YU5vZGUoc2MpICYmIHJhbmdlLnN0YXJ0T2Zmc2V0ID09IHNjLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGVjID0gcmFuZ2UuZW5kQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIGlmIChub2RlID09IGVjICYmIGlzQ2hhcmFjdGVyRGF0YU5vZGUoZWMpICYmIHJhbmdlLmVuZE9mZnNldCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbnNwZWN0KHJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9ICh0eXBlb2YgcmFuZ2UuZ2V0TmFtZSA9PSBcInVuZGVmaW5lZFwiKSA/IFwiUmFuZ2VcIiA6IHJhbmdlLmdldE5hbWUoKTtcbiAgICAgICAgICAgIHJldHVybiBcIltcIiArIG5hbWUgKyBcIihcIiArIGRvbS5pbnNwZWN0Tm9kZShyYW5nZS5zdGFydENvbnRhaW5lcikgKyBcIjpcIiArIHJhbmdlLnN0YXJ0T2Zmc2V0ICsgXCIsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgZG9tLmluc3BlY3ROb2RlKHJhbmdlLmVuZENvbnRhaW5lcikgKyBcIjpcIiArIHJhbmdlLmVuZE9mZnNldCArIFwiKV1cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgLy8gUmFuZ2VJdGVyYXRvciBjb2RlIHBhcnRpYWxseSBib3Jyb3dzIGZyb20gSUVSYW5nZSBieSBUaW0gUnlhbiAoaHR0cDovL2dpdGh1Yi5jb20vdGltY2FtZXJvbnJ5YW4vSUVSYW5nZSlcblxuICAgICAgICBmdW5jdGlvbiBSYW5nZUl0ZXJhdG9yKHJhbmdlLCBjbG9uZVBhcnRpYWxseVNlbGVjdGVkVGV4dE5vZGVzKSB7XG4gICAgICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgICAgICB0aGlzLmNsb25lUGFydGlhbGx5U2VsZWN0ZWRUZXh0Tm9kZXMgPSBjbG9uZVBhcnRpYWxseVNlbGVjdGVkVGV4dE5vZGVzO1xuXG5cbiAgICAgICAgICAgIGlmICghcmFuZ2UuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYyA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuc28gPSByYW5nZS5zdGFydE9mZnNldDtcbiAgICAgICAgICAgICAgICB0aGlzLmVjID0gcmFuZ2UuZW5kQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuZW8gPSByYW5nZS5lbmRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgdmFyIHJvb3QgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjID09PSB0aGlzLmVjICYmIGlzQ2hhcmFjdGVyRGF0YU5vZGUodGhpcy5zYykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1NpbmdsZUNoYXJhY3RlckRhdGFOb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSB0aGlzLl9sYXN0ID0gdGhpcy5fbmV4dCA9IHRoaXMuc2M7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSB0aGlzLl9uZXh0ID0gKHRoaXMuc2MgPT09IHJvb3QgJiYgIWlzQ2hhcmFjdGVyRGF0YU5vZGUodGhpcy5zYykpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2MuY2hpbGROb2Rlc1t0aGlzLnNvXSA6IGdldENsb3Nlc3RBbmNlc3RvckluKHRoaXMuc2MsIHJvb3QsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0ID0gKHRoaXMuZWMgPT09IHJvb3QgJiYgIWlzQ2hhcmFjdGVyRGF0YU5vZGUodGhpcy5lYykpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWMuY2hpbGROb2Rlc1t0aGlzLmVvIC0gMV0gOiBnZXRDbG9zZXN0QW5jZXN0b3JJbih0aGlzLmVjLCByb290LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSYW5nZUl0ZXJhdG9yLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgIF9jdXJyZW50OiBudWxsLFxuICAgICAgICAgICAgX25leHQ6IG51bGwsXG4gICAgICAgICAgICBfZmlyc3Q6IG51bGwsXG4gICAgICAgICAgICBfbGFzdDogbnVsbCxcbiAgICAgICAgICAgIGlzU2luZ2xlQ2hhcmFjdGVyRGF0YU5vZGU6IGZhbHNlLFxuXG4gICAgICAgICAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dCA9IHRoaXMuX2ZpcnN0O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGFzTmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fbmV4dDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gbmV4dCBub2RlXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9jdXJyZW50ID0gdGhpcy5fbmV4dDtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uZXh0ID0gKGN1cnJlbnQgIT09IHRoaXMuX2xhc3QpID8gY3VycmVudC5uZXh0U2libGluZyA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHBhcnRpYWxseSBzZWxlY3RlZCB0ZXh0IG5vZGVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NoYXJhY3RlckRhdGFOb2RlKGN1cnJlbnQpICYmIHRoaXMuY2xvbmVQYXJ0aWFsbHlTZWxlY3RlZFRleHROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VycmVudCA9IGN1cnJlbnQuY2xvbmVOb2RlKHRydWUpKS5kZWxldGVEYXRhKHRoaXMuZW8sIGN1cnJlbnQubGVuZ3RoIC0gdGhpcy5lbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudCA9PT0gdGhpcy5zYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC5jbG9uZU5vZGUodHJ1ZSkpLmRlbGV0ZURhdGEoMCwgdGhpcy5zbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9jdXJyZW50LCBzdGFydCwgZW5kO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2hhcmFjdGVyRGF0YU5vZGUoY3VycmVudCkgJiYgKGN1cnJlbnQgPT09IHRoaXMuc2MgfHwgY3VycmVudCA9PT0gdGhpcy5lYykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSAoY3VycmVudCA9PT0gdGhpcy5zYykgPyB0aGlzLnNvIDogMDtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gKGN1cnJlbnQgPT09IHRoaXMuZWMpID8gdGhpcy5lbyA6IGN1cnJlbnQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmRlbGV0ZURhdGEoc3RhcnQsIGVuZCAtIHN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBDaGVja3MgaWYgdGhlIGN1cnJlbnQgbm9kZSBpcyBwYXJ0aWFsbHkgc2VsZWN0ZWRcbiAgICAgICAgICAgIGlzUGFydGlhbGx5U2VsZWN0ZWRTdWJ0cmVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2N1cnJlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTm9uVGV4dFBhcnRpYWxseVNlbGVjdGVkKGN1cnJlbnQsIHRoaXMucmFuZ2UpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0U3VidHJlZUl0ZXJhdG9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViUmFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTaW5nbGVDaGFyYWN0ZXJEYXRhTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJSYW5nZSA9IHRoaXMucmFuZ2UuY2xvbmVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICBzdWJSYW5nZS5jb2xsYXBzZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViUmFuZ2UgPSBuZXcgUmFuZ2UoZ2V0UmFuZ2VEb2N1bWVudCh0aGlzLnJhbmdlKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5fY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0Q29udGFpbmVyID0gY3VycmVudCwgc3RhcnRPZmZzZXQgPSAwLCBlbmRDb250YWluZXIgPSBjdXJyZW50LCBlbmRPZmZzZXQgPSBnZXROb2RlTGVuZ3RoKGN1cnJlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09ySXNBbmNlc3Rvck9mKGN1cnJlbnQsIHRoaXMuc2MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbnRhaW5lciA9IHRoaXMuc2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE9mZnNldCA9IHRoaXMuc287XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT3JJc0FuY2VzdG9yT2YoY3VycmVudCwgdGhpcy5lYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZENvbnRhaW5lciA9IHRoaXMuZWM7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRPZmZzZXQgPSB0aGlzLmVvO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQm91bmRhcmllcyhzdWJSYW5nZSwgc3RhcnRDb250YWluZXIsIHN0YXJ0T2Zmc2V0LCBlbmRDb250YWluZXIsIGVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2VJdGVyYXRvcihzdWJSYW5nZSwgdGhpcy5jbG9uZVBhcnRpYWxseVNlbGVjdGVkVGV4dE5vZGVzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRldGFjaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9uZXh0ID0gdGhpcy5fZmlyc3QgPSB0aGlzLl9sYXN0ID0gdGhpcy5zYyA9IHRoaXMuc28gPSB0aGlzLmVjID0gdGhpcy5lbyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgICAgICB2YXIgYmVmb3JlQWZ0ZXJOb2RlVHlwZXMgPSBbMSwgMywgNCwgNSwgNywgOCwgMTBdO1xuICAgICAgICB2YXIgcm9vdENvbnRhaW5lck5vZGVUeXBlcyA9IFsyLCA5LCAxMV07XG4gICAgICAgIHZhciByZWFkb25seU5vZGVUeXBlcyA9IFs1LCA2LCAxMCwgMTJdO1xuICAgICAgICB2YXIgaW5zZXJ0YWJsZU5vZGVUeXBlcyA9IFsxLCAzLCA0LCA1LCA3LCA4LCAxMCwgMTFdO1xuICAgICAgICB2YXIgc3Vycm91bmROb2RlVHlwZXMgPSBbMSwgMywgNCwgNSwgNywgOF07XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQW5jZXN0b3JGaW5kZXIobm9kZVR5cGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24obm9kZSwgc2VsZklzQW5jZXN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCwgbiA9IHNlbGZJc0FuY2VzdG9yID8gbm9kZSA6IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobikge1xuICAgICAgICAgICAgICAgICAgICB0ID0gbi5ub2RlVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5Q29udGFpbnMobm9kZVR5cGVzLCB0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbiA9IG4ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdldERvY3VtZW50T3JGcmFnbWVudENvbnRhaW5lciA9IGNyZWF0ZUFuY2VzdG9yRmluZGVyKCBbOSwgMTFdICk7XG4gICAgICAgIHZhciBnZXRSZWFkb25seUFuY2VzdG9yID0gY3JlYXRlQW5jZXN0b3JGaW5kZXIocmVhZG9ubHlOb2RlVHlwZXMpO1xuICAgICAgICB2YXIgZ2V0RG9jVHlwZU5vdGF0aW9uRW50aXR5QW5jZXN0b3IgPSBjcmVhdGVBbmNlc3RvckZpbmRlciggWzYsIDEwLCAxMl0gKTtcblxuICAgICAgICBmdW5jdGlvbiBhc3NlcnROb0RvY1R5cGVOb3RhdGlvbkVudGl0eUFuY2VzdG9yKG5vZGUsIGFsbG93U2VsZikge1xuICAgICAgICAgICAgaWYgKGdldERvY1R5cGVOb3RhdGlvbkVudGl0eUFuY2VzdG9yKG5vZGUsIGFsbG93U2VsZikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiSU5WQUxJRF9OT0RFX1RZUEVfRVJSXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYXNzZXJ0VmFsaWROb2RlVHlwZShub2RlLCBpbnZhbGlkVHlwZXMpIHtcbiAgICAgICAgICAgIGlmICghYXJyYXlDb250YWlucyhpbnZhbGlkVHlwZXMsIG5vZGUubm9kZVR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIklOVkFMSURfTk9ERV9UWVBFX0VSUlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFzc2VydFZhbGlkT2Zmc2V0KG5vZGUsIG9mZnNldCkge1xuICAgICAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgb2Zmc2V0ID4gKGlzQ2hhcmFjdGVyRGF0YU5vZGUobm9kZSkgPyBub2RlLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIklOREVYX1NJWkVfRVJSXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYXNzZXJ0U2FtZURvY3VtZW50T3JGcmFnbWVudChub2RlMSwgbm9kZTIpIHtcbiAgICAgICAgICAgIGlmIChnZXREb2N1bWVudE9yRnJhZ21lbnRDb250YWluZXIobm9kZTEsIHRydWUpICE9PSBnZXREb2N1bWVudE9yRnJhZ21lbnRDb250YWluZXIobm9kZTIsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIldST05HX0RPQ1VNRU5UX0VSUlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFzc2VydE5vZGVOb3RSZWFkT25seShub2RlKSB7XG4gICAgICAgICAgICBpZiAoZ2V0UmVhZG9ubHlBbmNlc3Rvcihub2RlLCB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJOT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhc3NlcnROb2RlKG5vZGUsIGNvZGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKGNvZGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzVmFsaWRPZmZzZXQobm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gb2Zmc2V0IDw9IChpc0NoYXJhY3RlckRhdGFOb2RlKG5vZGUpID8gbm9kZS5sZW5ndGggOiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzUmFuZ2VWYWxpZChyYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuICghIXJhbmdlLnN0YXJ0Q29udGFpbmVyICYmICEhcmFuZ2UuZW5kQ29udGFpbmVyICYmXG4gICAgICAgICAgICAgICAgICAgICEoY3Jhc2h5VGV4dE5vZGVzICYmIChkb20uaXNCcm9rZW5Ob2RlKHJhbmdlLnN0YXJ0Q29udGFpbmVyKSB8fCBkb20uaXNCcm9rZW5Ob2RlKHJhbmdlLmVuZENvbnRhaW5lcikpKSAmJlxuICAgICAgICAgICAgICAgICAgICBnZXRSb290Q29udGFpbmVyKHJhbmdlLnN0YXJ0Q29udGFpbmVyKSA9PSBnZXRSb290Q29udGFpbmVyKHJhbmdlLmVuZENvbnRhaW5lcikgJiZcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZE9mZnNldChyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpICYmXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWRPZmZzZXQocmFuZ2UuZW5kQ29udGFpbmVyLCByYW5nZS5lbmRPZmZzZXQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFzc2VydFJhbmdlVmFsaWQocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmICghaXNSYW5nZVZhbGlkKHJhbmdlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJhbmdlIGVycm9yOiBSYW5nZSBpcyBub3QgdmFsaWQuIFRoaXMgdXN1YWxseSBoYXBwZW5zIGFmdGVyIERPTSBtdXRhdGlvbi4gUmFuZ2U6IChcIiArIHJhbmdlLmluc3BlY3QoKSArIFwiKVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgLy8gVGVzdCB0aGUgYnJvd3NlcidzIGlubmVySFRNTCBzdXBwb3J0IHRvIGRlY2lkZSBob3cgdG8gaW1wbGVtZW50IGNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudFxuICAgICAgICB2YXIgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgdmFyIGh0bWxQYXJzaW5nQ29uZm9ybXMgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0eWxlRWwuaW5uZXJIVE1MID0gXCI8Yj54PC9iPlwiO1xuICAgICAgICAgICAgaHRtbFBhcnNpbmdDb25mb3JtcyA9IChzdHlsZUVsLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gMyk7IC8vIE9wZXJhIGluY29ycmVjdGx5IGNyZWF0ZXMgYW4gZWxlbWVudCBub2RlXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIElFIDYgYW5kIDcgdGhyb3dcbiAgICAgICAgfVxuXG4gICAgICAgIGFwaS5mZWF0dXJlcy5odG1sUGFyc2luZ0NvbmZvcm1zID0gaHRtbFBhcnNpbmdDb25mb3JtcztcblxuICAgICAgICB2YXIgY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50ID0gaHRtbFBhcnNpbmdDb25mb3JtcyA/XG5cbiAgICAgICAgICAgIC8vIEltcGxlbWVudGF0aW9uIGFzIHBlciBIVE1MIHBhcnNpbmcgc3BlYywgdHJ1c3RpbmcgaW4gdGhlIGJyb3dzZXIncyBpbXBsZW1lbnRhdGlvbiBvZiBpbm5lckhUTUwuIFNlZVxuICAgICAgICAgICAgLy8gZGlzY3Vzc2lvbiBhbmQgYmFzZSBjb2RlIGZvciB0aGlzIGltcGxlbWVudGF0aW9uIGF0IGlzc3VlIDY3LlxuICAgICAgICAgICAgLy8gU3BlYzogaHR0cDovL2h0bWw1Lm9yZy9zcGVjcy9kb20tcGFyc2luZy5odG1sI2V4dGVuc2lvbnMtdG8tdGhlLXJhbmdlLWludGVyZmFjZVxuICAgICAgICAgICAgLy8gVGhhbmtzIHRvIEFsZWtzIFdpbGxpYW1zLlxuICAgICAgICAgICAgZnVuY3Rpb24oZnJhZ21lbnRTdHIpIHtcbiAgICAgICAgICAgICAgICAvLyBcIkxldCBub2RlIHRoZSBjb250ZXh0IG9iamVjdCdzIHN0YXJ0J3Mgbm9kZS5cIlxuICAgICAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5zdGFydENvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB2YXIgZG9jID0gZ2V0RG9jdW1lbnQobm9kZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBcIklmIHRoZSBjb250ZXh0IG9iamVjdCdzIHN0YXJ0J3Mgbm9kZSBpcyBudWxsLCByYWlzZSBhbiBJTlZBTElEX1NUQVRFX0VSUlxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiBhbmQgYWJvcnQgdGhlc2Ugc3RlcHMuXCJcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIklOVkFMSURfU1RBVEVfRVJSXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFwiTGV0IGVsZW1lbnQgYmUgYXMgZm9sbG93cywgZGVwZW5kaW5nIG9uIG5vZGUncyBpbnRlcmZhY2U6XCJcbiAgICAgICAgICAgICAgICAvLyBEb2N1bWVudCwgRG9jdW1lbnQgRnJhZ21lbnQ6IG51bGxcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gXCJFbGVtZW50OiBub2RlXCJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsID0gbm9kZTtcblxuICAgICAgICAgICAgICAgIC8vIFwiVGV4dCwgQ29tbWVudDogbm9kZSdzIHBhcmVudEVsZW1lbnRcIlxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNDaGFyYWN0ZXJEYXRhTm9kZShub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBlbCA9IGRvbS5wYXJlbnRFbGVtZW50KG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFwiSWYgZWl0aGVyIGVsZW1lbnQgaXMgbnVsbCBvciBlbGVtZW50J3Mgb3duZXJEb2N1bWVudCBpcyBhbiBIVE1MIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgLy8gYW5kIGVsZW1lbnQncyBsb2NhbCBuYW1lIGlzIFwiaHRtbFwiIGFuZCBlbGVtZW50J3MgbmFtZXNwYWNlIGlzIHRoZSBIVE1MXG4gICAgICAgICAgICAgICAgLy8gbmFtZXNwYWNlXCJcbiAgICAgICAgICAgICAgICBpZiAoZWwgPT09IG51bGwgfHwgKFxuICAgICAgICAgICAgICAgICAgICBlbC5ub2RlTmFtZSA9PSBcIkhUTUxcIiAmJlxuICAgICAgICAgICAgICAgICAgICBkb20uaXNIdG1sTmFtZXNwYWNlKGdldERvY3VtZW50KGVsKS5kb2N1bWVudEVsZW1lbnQpICYmXG4gICAgICAgICAgICAgICAgICAgIGRvbS5pc0h0bWxOYW1lc3BhY2UoZWwpXG4gICAgICAgICAgICAgICAgKSkge1xuXG4gICAgICAgICAgICAgICAgLy8gXCJsZXQgZWxlbWVudCBiZSBhIG5ldyBFbGVtZW50IHdpdGggXCJib2R5XCIgYXMgaXRzIGxvY2FsIG5hbWUgYW5kIHRoZSBIVE1MXG4gICAgICAgICAgICAgICAgLy8gbmFtZXNwYWNlIGFzIGl0cyBuYW1lc3BhY2UuXCJcIlxuICAgICAgICAgICAgICAgICAgICBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbCA9IGVsLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gXCJJZiB0aGUgbm9kZSdzIGRvY3VtZW50IGlzIGFuIEhUTUwgZG9jdW1lbnQ6IEludm9rZSB0aGUgSFRNTCBmcmFnbWVudCBwYXJzaW5nIGFsZ29yaXRobS5cIlxuICAgICAgICAgICAgICAgIC8vIFwiSWYgdGhlIG5vZGUncyBkb2N1bWVudCBpcyBhbiBYTUwgZG9jdW1lbnQ6IEludm9rZSB0aGUgWE1MIGZyYWdtZW50IHBhcnNpbmcgYWxnb3JpdGhtLlwiXG4gICAgICAgICAgICAgICAgLy8gXCJJbiBlaXRoZXIgY2FzZSwgdGhlIGFsZ29yaXRobSBtdXN0IGJlIGludm9rZWQgd2l0aCBmcmFnbWVudCBhcyB0aGUgaW5wdXRcbiAgICAgICAgICAgICAgICAvLyBhbmQgZWxlbWVudCBhcyB0aGUgY29udGV4dCBlbGVtZW50LlwiXG4gICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gZnJhZ21lbnRTdHI7XG5cbiAgICAgICAgICAgICAgICAvLyBcIklmIHRoaXMgcmFpc2VzIGFuIGV4Y2VwdGlvbiwgdGhlbiBhYm9ydCB0aGVzZSBzdGVwcy4gT3RoZXJ3aXNlLCBsZXQgbmV3XG4gICAgICAgICAgICAgICAgLy8gY2hpbGRyZW4gYmUgdGhlIG5vZGVzIHJldHVybmVkLlwiXG5cbiAgICAgICAgICAgICAgICAvLyBcIkxldCBmcmFnbWVudCBiZSBhIG5ldyBEb2N1bWVudEZyYWdtZW50LlwiXG4gICAgICAgICAgICAgICAgLy8gXCJBcHBlbmQgYWxsIG5ldyBjaGlsZHJlbiB0byBmcmFnbWVudC5cIlxuICAgICAgICAgICAgICAgIC8vIFwiUmV0dXJuIGZyYWdtZW50LlwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbS5mcmFnbWVudEZyb21Ob2RlQ2hpbGRyZW4oZWwpO1xuICAgICAgICAgICAgfSA6XG5cbiAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgaW5uZXJIVE1MIGNhbm5vdCBiZSB0cnVzdGVkLCBzbyBmYWxsIGJhY2sgdG8gYSBzaW1wbGVyLCBub24tY29uZm9ybWFudCBpbXBsZW1lbnRhdGlvbiB0aGF0XG4gICAgICAgICAgICAvLyBwcmV2aW91cyB2ZXJzaW9ucyBvZiBSYW5neSB1c2VkICh3aXRoIHRoZSBleGNlcHRpb24gb2YgdXNpbmcgYSBib2R5IGVsZW1lbnQgcmF0aGVyIHRoYW4gYSBkaXYpXG4gICAgICAgICAgICBmdW5jdGlvbihmcmFnbWVudFN0cikge1xuICAgICAgICAgICAgICAgIHZhciBkb2MgPSBnZXRSYW5nZURvY3VtZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBmcmFnbWVudFN0cjtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkb20uZnJhZ21lbnRGcm9tTm9kZUNoaWxkcmVuKGVsKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gc3BsaXRSYW5nZUJvdW5kYXJpZXMocmFuZ2UsIHBvc2l0aW9uc1RvUHJlc2VydmUpIHtcbiAgICAgICAgICAgIGFzc2VydFJhbmdlVmFsaWQocmFuZ2UpO1xuXG4gICAgICAgICAgICB2YXIgc2MgPSByYW5nZS5zdGFydENvbnRhaW5lciwgc28gPSByYW5nZS5zdGFydE9mZnNldCwgZWMgPSByYW5nZS5lbmRDb250YWluZXIsIGVvID0gcmFuZ2UuZW5kT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIHN0YXJ0RW5kU2FtZSA9IChzYyA9PT0gZWMpO1xuXG4gICAgICAgICAgICBpZiAoaXNDaGFyYWN0ZXJEYXRhTm9kZShlYykgJiYgZW8gPiAwICYmIGVvIDwgZWMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3BsaXREYXRhTm9kZShlYywgZW8sIHBvc2l0aW9uc1RvUHJlc2VydmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNDaGFyYWN0ZXJEYXRhTm9kZShzYykgJiYgc28gPiAwICYmIHNvIDwgc2MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2MgPSBzcGxpdERhdGFOb2RlKHNjLCBzbywgcG9zaXRpb25zVG9QcmVzZXJ2ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0RW5kU2FtZSkge1xuICAgICAgICAgICAgICAgICAgICBlbyAtPSBzbztcbiAgICAgICAgICAgICAgICAgICAgZWMgPSBzYztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVjID09IHNjLnBhcmVudE5vZGUgJiYgZW8gPj0gZ2V0Tm9kZUluZGV4KHNjKSkge1xuICAgICAgICAgICAgICAgICAgICBlbysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzbyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYW5nZS5zZXRTdGFydEFuZEVuZChzYywgc28sIGVjLCBlbyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByYW5nZVRvSHRtbChyYW5nZSkge1xuICAgICAgICAgICAgYXNzZXJ0UmFuZ2VWYWxpZChyYW5nZSk7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIucGFyZW50Tm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKCByYW5nZS5jbG9uZUNvbnRlbnRzKCkgKTtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaW5uZXJIVE1MO1xuICAgICAgICB9XG5cbiAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgICAgICB2YXIgcmFuZ2VQcm9wZXJ0aWVzID0gW1wic3RhcnRDb250YWluZXJcIiwgXCJzdGFydE9mZnNldFwiLCBcImVuZENvbnRhaW5lclwiLCBcImVuZE9mZnNldFwiLCBcImNvbGxhcHNlZFwiLFxuICAgICAgICAgICAgXCJjb21tb25BbmNlc3RvckNvbnRhaW5lclwiXTtcblxuICAgICAgICB2YXIgczJzID0gMCwgczJlID0gMSwgZTJlID0gMiwgZTJzID0gMztcbiAgICAgICAgdmFyIG5fYiA9IDAsIG5fYSA9IDEsIG5fYl9hID0gMiwgbl9pID0gMztcblxuICAgICAgICB1dGlsLmV4dGVuZChhcGkucmFuZ2VQcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGNvbXBhcmVCb3VuZGFyeVBvaW50czogZnVuY3Rpb24oaG93LCByYW5nZSkge1xuICAgICAgICAgICAgICAgIGFzc2VydFJhbmdlVmFsaWQodGhpcyk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0U2FtZURvY3VtZW50T3JGcmFnbWVudCh0aGlzLnN0YXJ0Q29udGFpbmVyLCByYW5nZS5zdGFydENvbnRhaW5lcik7XG5cbiAgICAgICAgICAgICAgICB2YXIgbm9kZUEsIG9mZnNldEEsIG5vZGVCLCBvZmZzZXRCO1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXhBID0gKGhvdyA9PSBlMnMgfHwgaG93ID09IHMycykgPyBcInN0YXJ0XCIgOiBcImVuZFwiO1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXhCID0gKGhvdyA9PSBzMmUgfHwgaG93ID09IHMycykgPyBcInN0YXJ0XCIgOiBcImVuZFwiO1xuICAgICAgICAgICAgICAgIG5vZGVBID0gdGhpc1twcmVmaXhBICsgXCJDb250YWluZXJcIl07XG4gICAgICAgICAgICAgICAgb2Zmc2V0QSA9IHRoaXNbcHJlZml4QSArIFwiT2Zmc2V0XCJdO1xuICAgICAgICAgICAgICAgIG5vZGVCID0gcmFuZ2VbcHJlZml4QiArIFwiQ29udGFpbmVyXCJdO1xuICAgICAgICAgICAgICAgIG9mZnNldEIgPSByYW5nZVtwcmVmaXhCICsgXCJPZmZzZXRcIl07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmVQb2ludHMobm9kZUEsIG9mZnNldEEsIG5vZGVCLCBvZmZzZXRCKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGluc2VydE5vZGU6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRSYW5nZVZhbGlkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGFzc2VydFZhbGlkTm9kZVR5cGUobm9kZSwgaW5zZXJ0YWJsZU5vZGVUeXBlcyk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0Tm9kZU5vdFJlYWRPbmx5KHRoaXMuc3RhcnRDb250YWluZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzT3JJc0FuY2VzdG9yT2Yobm9kZSwgdGhpcy5zdGFydENvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkhJRVJBUkNIWV9SRVFVRVNUX0VSUlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBObyBjaGVjayBmb3Igd2hldGhlciB0aGUgY29udGFpbmVyIG9mIHRoZSBzdGFydCBvZiB0aGUgUmFuZ2UgaXMgb2YgYSB0eXBlIHRoYXQgZG9lcyBub3QgYWxsb3dcbiAgICAgICAgICAgICAgICAvLyBjaGlsZHJlbiBvZiB0aGUgdHlwZSBvZiBub2RlOiB0aGUgYnJvd3NlcidzIERPTSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgZG8gdGhpcyBmb3IgdXMgd2hlbiB3ZSBhdHRlbXB0XG4gICAgICAgICAgICAgICAgLy8gdG8gYWRkIHRoZSBub2RlXG5cbiAgICAgICAgICAgICAgICB2YXIgZmlyc3ROb2RlSW5zZXJ0ZWQgPSBpbnNlcnROb2RlQXRQb3NpdGlvbihub2RlLCB0aGlzLnN0YXJ0Q29udGFpbmVyLCB0aGlzLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXJ0QmVmb3JlKGZpcnN0Tm9kZUluc2VydGVkKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNsb25lQ29udGVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFzc2VydFJhbmdlVmFsaWQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xvbmUsIGZyYWc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRSYW5nZURvY3VtZW50KHRoaXMpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydENvbnRhaW5lciA9PT0gdGhpcy5lbmRDb250YWluZXIgJiYgaXNDaGFyYWN0ZXJEYXRhTm9kZSh0aGlzLnN0YXJ0Q29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSB0aGlzLnN0YXJ0Q29udGFpbmVyLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLmRhdGEgPSBjbG9uZS5kYXRhLnNsaWNlKHRoaXMuc3RhcnRPZmZzZXQsIHRoaXMuZW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBnZXRSYW5nZURvY3VtZW50KHRoaXMpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyYWc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgUmFuZ2VJdGVyYXRvcih0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0gY2xvbmVTdWJ0cmVlKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjYW5TdXJyb3VuZENvbnRlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRSYW5nZVZhbGlkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGFzc2VydE5vZGVOb3RSZWFkT25seSh0aGlzLnN0YXJ0Q29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBhc3NlcnROb2RlTm90UmVhZE9ubHkodGhpcy5lbmRDb250YWluZXIpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbnRlbnRzIGNhbiBiZSBzdXJyb3VuZGVkLiBTcGVjaWZpY2FsbHksIHRoaXMgbWVhbnMgd2hldGhlciB0aGUgcmFuZ2UgcGFydGlhbGx5IHNlbGVjdHNcbiAgICAgICAgICAgICAgICAvLyBubyBub24tdGV4dCBub2Rlcy5cbiAgICAgICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgUmFuZ2VJdGVyYXRvcih0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmRhcmllc0ludmFsaWQgPSAoaXRlcmF0b3IuX2ZpcnN0ICYmIChpc05vblRleHRQYXJ0aWFsbHlTZWxlY3RlZChpdGVyYXRvci5fZmlyc3QsIHRoaXMpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGl0ZXJhdG9yLl9sYXN0ICYmIGlzTm9uVGV4dFBhcnRpYWxseVNlbGVjdGVkKGl0ZXJhdG9yLl9sYXN0LCB0aGlzKSkpO1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhYm91bmRhcmllc0ludmFsaWQ7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzdXJyb3VuZENvbnRlbnRzOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0VmFsaWROb2RlVHlwZShub2RlLCBzdXJyb3VuZE5vZGVUeXBlcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FuU3Vycm91bmRDb250ZW50cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJJTlZBTElEX1NUQVRFX0VSUlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBjb250ZW50c1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5leHRyYWN0Q29udGVudHMoKTtcblxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBjaGlsZHJlbiBvZiB0aGUgbm9kZVxuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBuZXcgbm9kZSBhbmQgYWRkIHRoZSBleHRyYWN0ZWQgY29udGVudHNcbiAgICAgICAgICAgICAgICBpbnNlcnROb2RlQXRQb3NpdGlvbihub2RlLCB0aGlzLnN0YXJ0Q29udGFpbmVyLCB0aGlzLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3ROb2RlKG5vZGUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgY2xvbmVSYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0UmFuZ2VWYWxpZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UoZ2V0UmFuZ2VEb2N1bWVudCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSByYW5nZVByb3BlcnRpZXMubGVuZ3RoLCBwcm9wO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcCA9IHJhbmdlUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VbcHJvcF0gPSB0aGlzW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0UmFuZ2VWYWxpZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgc2MgPSB0aGlzLnN0YXJ0Q29udGFpbmVyO1xuICAgICAgICAgICAgICAgIGlmIChzYyA9PT0gdGhpcy5lbmRDb250YWluZXIgJiYgaXNDaGFyYWN0ZXJEYXRhTm9kZShzYykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChzYy5ub2RlVHlwZSA9PSAzIHx8IHNjLm5vZGVUeXBlID09IDQpID8gc2MuZGF0YS5zbGljZSh0aGlzLnN0YXJ0T2Zmc2V0LCB0aGlzLmVuZE9mZnNldCkgOiBcIlwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0UGFydHMgPSBbXSwgaXRlcmF0b3IgPSBuZXcgUmFuZ2VJdGVyYXRvcih0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0ZVN1YnRyZWUoaXRlcmF0b3IsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY2VwdCBvbmx5IHRleHQgb3IgQ0RBVEEgbm9kZXMsIG5vdCBjb21tZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyB8fCBub2RlLm5vZGVUeXBlID09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGFydHMucHVzaChub2RlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0UGFydHMuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBUaGUgbWV0aG9kcyBiZWxvdyBhcmUgYWxsIG5vbi1zdGFuZGFyZC4gVGhlIGZvbGxvd2luZyBiYXRjaCB3ZXJlIGludHJvZHVjZWQgYnkgTW96aWxsYSBidXQgaGF2ZSBzaW5jZVxuICAgICAgICAgICAgLy8gYmVlbiByZW1vdmVkIGZyb20gTW96aWxsYS5cblxuICAgICAgICAgICAgY29tcGFyZU5vZGU6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRSYW5nZVZhbGlkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZUluZGV4ID0gZ2V0Tm9kZUluZGV4KG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIk5PVF9GT1VORF9FUlJcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0Q29tcGFyaXNvbiA9IHRoaXMuY29tcGFyZVBvaW50KHBhcmVudCwgbm9kZUluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgZW5kQ29tcGFyaXNvbiA9IHRoaXMuY29tcGFyZVBvaW50KHBhcmVudCwgbm9kZUluZGV4ICsgMSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRDb21wYXJpc29uIDwgMCkgeyAvLyBOb2RlIHN0YXJ0cyBiZWZvcmVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlbmRDb21wYXJpc29uID4gMCkgPyBuX2JfYSA6IG5fYjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGVuZENvbXBhcmlzb24gPiAwKSA/IG5fYSA6IG5faTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb21wYXJlUG9pbnQ6IGZ1bmN0aW9uKG5vZGUsIG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGFzc2VydFJhbmdlVmFsaWQodGhpcyk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0Tm9kZShub2RlLCBcIkhJRVJBUkNIWV9SRVFVRVNUX0VSUlwiKTtcbiAgICAgICAgICAgICAgICBhc3NlcnRTYW1lRG9jdW1lbnRPckZyYWdtZW50KG5vZGUsIHRoaXMuc3RhcnRDb250YWluZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVQb2ludHMobm9kZSwgb2Zmc2V0LCB0aGlzLnN0YXJ0Q29udGFpbmVyLCB0aGlzLnN0YXJ0T2Zmc2V0KSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcGFyZVBvaW50cyhub2RlLCBvZmZzZXQsIHRoaXMuZW5kQ29udGFpbmVyLCB0aGlzLmVuZE9mZnNldCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudDogY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50LFxuXG4gICAgICAgICAgICB0b0h0bWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZVRvSHRtbCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIHRvdWNoaW5nSXNJbnRlcnNlY3RpbmcgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgbWV0aG9kIGNvbnNpZGVycyBhIG5vZGUgdGhhdCBib3JkZXJzIGEgcmFuZ2UgaW50ZXJzZWN0c1xuICAgICAgICAgICAgLy8gd2l0aCBpdCAoYXMgaW4gV2ViS2l0KSBvciBub3QgKGFzIGluIEdlY2tvIHByZS0xLjksIGFuZCB0aGUgZGVmYXVsdClcbiAgICAgICAgICAgIGludGVyc2VjdHNOb2RlOiBmdW5jdGlvbihub2RlLCB0b3VjaGluZ0lzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0UmFuZ2VWYWxpZCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoZ2V0Um9vdENvbnRhaW5lcihub2RlKSAhPSBnZXRSYW5nZVJvb3QodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGUsIG9mZnNldCA9IGdldE5vZGVJbmRleChub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRDb21wYXJpc29uID0gY29tcGFyZVBvaW50cyhwYXJlbnQsIG9mZnNldCwgdGhpcy5lbmRDb250YWluZXIsIHRoaXMuZW5kT2Zmc2V0KSxcbiAgICAgICAgICAgICAgICAgICAgZW5kQ29tcGFyaXNvbiA9IGNvbXBhcmVQb2ludHMocGFyZW50LCBvZmZzZXQgKyAxLCB0aGlzLnN0YXJ0Q29udGFpbmVyLCB0aGlzLnN0YXJ0T2Zmc2V0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0b3VjaGluZ0lzSW50ZXJzZWN0aW5nID8gc3RhcnRDb21wYXJpc29uIDw9IDAgJiYgZW5kQ29tcGFyaXNvbiA+PSAwIDogc3RhcnRDb21wYXJpc29uIDwgMCAmJiBlbmRDb21wYXJpc29uID4gMDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGlzUG9pbnRJblJhbmdlOiBmdW5jdGlvbihub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRSYW5nZVZhbGlkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGFzc2VydE5vZGUobm9kZSwgXCJISUVSQVJDSFlfUkVRVUVTVF9FUlJcIik7XG4gICAgICAgICAgICAgICAgYXNzZXJ0U2FtZURvY3VtZW50T3JGcmFnbWVudChub2RlLCB0aGlzLnN0YXJ0Q29udGFpbmVyKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoY29tcGFyZVBvaW50cyhub2RlLCBvZmZzZXQsIHRoaXMuc3RhcnRDb250YWluZXIsIHRoaXMuc3RhcnRPZmZzZXQpID49IDApICYmXG4gICAgICAgICAgICAgICAgICAgICAgIChjb21wYXJlUG9pbnRzKG5vZGUsIG9mZnNldCwgdGhpcy5lbmRDb250YWluZXIsIHRoaXMuZW5kT2Zmc2V0KSA8PSAwKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIFRoZSBtZXRob2RzIGJlbG93IGFyZSBub24tc3RhbmRhcmQgYW5kIGludmVudGVkIGJ5IG1lLlxuXG4gICAgICAgICAgICAvLyBTaGFyaW5nIGEgYm91bmRhcnkgc3RhcnQtdG8tZW5kIG9yIGVuZC10by1zdGFydCBkb2VzIG5vdCBjb3VudCBhcyBpbnRlcnNlY3Rpb24uXG4gICAgICAgICAgICBpbnRlcnNlY3RzUmFuZ2U6IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlc0ludGVyc2VjdCh0aGlzLCByYW5nZSwgZmFsc2UpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gU2hhcmluZyBhIGJvdW5kYXJ5IHN0YXJ0LXRvLWVuZCBvciBlbmQtdG8tc3RhcnQgZG9lcyBjb3VudCBhcyBpbnRlcnNlY3Rpb24uXG4gICAgICAgICAgICBpbnRlcnNlY3RzT3JUb3VjaGVzUmFuZ2U6IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlc0ludGVyc2VjdCh0aGlzLCByYW5nZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb246IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0c1JhbmdlKHJhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRDb21wYXJpc29uID0gY29tcGFyZVBvaW50cyh0aGlzLnN0YXJ0Q29udGFpbmVyLCB0aGlzLnN0YXJ0T2Zmc2V0LCByYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kQ29tcGFyaXNvbiA9IGNvbXBhcmVQb2ludHModGhpcy5lbmRDb250YWluZXIsIHRoaXMuZW5kT2Zmc2V0LCByYW5nZS5lbmRDb250YWluZXIsIHJhbmdlLmVuZE9mZnNldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyc2VjdGlvblJhbmdlID0gdGhpcy5jbG9uZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydENvbXBhcmlzb24gPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvblJhbmdlLnNldFN0YXJ0KHJhbmdlLnN0YXJ0Q29udGFpbmVyLCByYW5nZS5zdGFydE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZENvbXBhcmlzb24gPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uUmFuZ2Uuc2V0RW5kKHJhbmdlLmVuZENvbnRhaW5lciwgcmFuZ2UuZW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uUmFuZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdW5pb246IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0c09yVG91Y2hlc1JhbmdlKHJhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdW5pb25SYW5nZSA9IHRoaXMuY2xvbmVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyZVBvaW50cyhyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQsIHRoaXMuc3RhcnRDb250YWluZXIsIHRoaXMuc3RhcnRPZmZzZXQpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlvblJhbmdlLnNldFN0YXJ0KHJhbmdlLnN0YXJ0Q29udGFpbmVyLCByYW5nZS5zdGFydE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVQb2ludHMocmFuZ2UuZW5kQ29udGFpbmVyLCByYW5nZS5lbmRPZmZzZXQsIHRoaXMuZW5kQ29udGFpbmVyLCB0aGlzLmVuZE9mZnNldCkgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5pb25SYW5nZS5zZXRFbmQocmFuZ2UuZW5kQ29udGFpbmVyLCByYW5nZS5lbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmlvblJhbmdlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJSYW5nZXMgZG8gbm90IGludGVyc2VjdFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb250YWluc05vZGU6IGZ1bmN0aW9uKG5vZGUsIGFsbG93UGFydGlhbCkge1xuICAgICAgICAgICAgICAgIGlmIChhbGxvd1BhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0c05vZGUobm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVOb2RlKG5vZGUpID09IG5faTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb250YWluc05vZGVDb250ZW50czogZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVQb2ludChub2RlLCAwKSA+PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KG5vZGUsIGdldE5vZGVMZW5ndGgobm9kZSkpIDw9IDA7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb250YWluc1JhbmdlOiBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcnNlY3Rpb24gPSB0aGlzLmludGVyc2VjdGlvbihyYW5nZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbiAhPT0gbnVsbCAmJiByYW5nZS5lcXVhbHMoaW50ZXJzZWN0aW9uKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNvbnRhaW5zTm9kZVRleHQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZVJhbmdlID0gdGhpcy5jbG9uZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgbm9kZVJhbmdlLnNlbGVjdE5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHROb2RlcyA9IG5vZGVSYW5nZS5nZXROb2RlcyhbM10pO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Tm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlUmFuZ2Uuc2V0U3RhcnQodGV4dE5vZGVzWzBdLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RUZXh0Tm9kZSA9IHRleHROb2Rlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZVJhbmdlLnNldEVuZChsYXN0VGV4dE5vZGUsIGxhc3RUZXh0Tm9kZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluc1JhbmdlKG5vZGVSYW5nZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbnNOb2RlQ29udGVudHMobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0Tm9kZXM6IGZ1bmN0aW9uKG5vZGVUeXBlcywgZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0UmFuZ2VWYWxpZCh0aGlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Tm9kZXNJblJhbmdlKHRoaXMsIG5vZGVUeXBlcywgZmlsdGVyKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGdldERvY3VtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UmFuZ2VEb2N1bWVudCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNvbGxhcHNlQmVmb3JlOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFbmRCZWZvcmUobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZShmYWxzZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb2xsYXBzZUFmdGVyOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGFydEFmdGVyKG5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBnZXRCb29rbWFyazogZnVuY3Rpb24oY29udGFpbmVyTm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBkb2MgPSBnZXRSYW5nZURvY3VtZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBwcmVTZWxlY3Rpb25SYW5nZSA9IGFwaS5jcmVhdGVSYW5nZShkb2MpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lck5vZGUgPSBjb250YWluZXJOb2RlIHx8IGRvbS5nZXRCb2R5KGRvYyk7XG4gICAgICAgICAgICAgICAgcHJlU2VsZWN0aW9uUmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGNvbnRhaW5lck5vZGUpO1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuaW50ZXJzZWN0aW9uKHByZVNlbGVjdGlvblJhbmdlKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSAwLCBlbmQgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBwcmVTZWxlY3Rpb25SYW5nZS5zZXRFbmQocmFuZ2Uuc3RhcnRDb250YWluZXIsIHJhbmdlLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBwcmVTZWxlY3Rpb25SYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gc3RhcnQgKyByYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogZW5kLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJOb2RlOiBjb250YWluZXJOb2RlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG1vdmVUb0Jvb2ttYXJrOiBmdW5jdGlvbihib29rbWFyaykge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJOb2RlID0gYm9va21hcmsuY29udGFpbmVyTm9kZTtcbiAgICAgICAgICAgICAgICB2YXIgY2hhckluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXJ0KGNvbnRhaW5lck5vZGUsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGVTdGFjayA9IFtjb250YWluZXJOb2RlXSwgbm9kZSwgZm91bmRTdGFydCA9IGZhbHNlLCBzdG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRDaGFySW5kZXgsIGksIGNoaWxkTm9kZXM7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoIXN0b3AgJiYgKG5vZGUgPSBub2RlU3RhY2sucG9wKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDaGFySW5kZXggPSBjaGFySW5kZXggKyBub2RlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm91bmRTdGFydCAmJiBib29rbWFyay5zdGFydCA+PSBjaGFySW5kZXggJiYgYm9va21hcmsuc3RhcnQgPD0gbmV4dENoYXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhcnQobm9kZSwgYm9va21hcmsuc3RhcnQgLSBjaGFySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kU3RhcnQgJiYgYm9va21hcmsuZW5kID49IGNoYXJJbmRleCAmJiBib29rbWFyay5lbmQgPD0gbmV4dENoYXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RW5kKG5vZGUsIGJvb2ttYXJrLmVuZCAtIGNoYXJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFySW5kZXggPSBuZXh0Q2hhckluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGROb2RlcyA9IG5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlU3RhY2sucHVzaChjaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGdldE5hbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIkRvbVJhbmdlXCI7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJhbmdlLnJhbmdlc0VxdWFsKHRoaXMsIHJhbmdlKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGlzVmFsaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1JhbmdlVmFsaWQodGhpcyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBpbnNwZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zcGVjdCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRldGFjaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gRE9NNCwgZGV0YWNoKCkgaXMgbm93IGEgbm8tb3AuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvcHlDb21wYXJpc29uQ29uc3RhbnRzVG9PYmplY3Qob2JqKSB7XG4gICAgICAgICAgICBvYmouU1RBUlRfVE9fU1RBUlQgPSBzMnM7XG4gICAgICAgICAgICBvYmouU1RBUlRfVE9fRU5EID0gczJlO1xuICAgICAgICAgICAgb2JqLkVORF9UT19FTkQgPSBlMmU7XG4gICAgICAgICAgICBvYmouRU5EX1RPX1NUQVJUID0gZTJzO1xuXG4gICAgICAgICAgICBvYmouTk9ERV9CRUZPUkUgPSBuX2I7XG4gICAgICAgICAgICBvYmouTk9ERV9BRlRFUiA9IG5fYTtcbiAgICAgICAgICAgIG9iai5OT0RFX0JFRk9SRV9BTkRfQUZURVIgPSBuX2JfYTtcbiAgICAgICAgICAgIG9iai5OT0RFX0lOU0lERSA9IG5faTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvcHlDb21wYXJpc29uQ29uc3RhbnRzKGNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBjb3B5Q29tcGFyaXNvbkNvbnN0YW50c1RvT2JqZWN0KGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGNvcHlDb21wYXJpc29uQ29uc3RhbnRzVG9PYmplY3QoY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlQ29udGVudFJlbW92ZXIocmVtb3ZlciwgYm91bmRhcnlVcGRhdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0UmFuZ2VWYWxpZCh0aGlzKTtcblxuICAgICAgICAgICAgICAgIHZhciBzYyA9IHRoaXMuc3RhcnRDb250YWluZXIsIHNvID0gdGhpcy5zdGFydE9mZnNldCwgcm9vdCA9IHRoaXMuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgICAgICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgUmFuZ2VJdGVyYXRvcih0aGlzLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vIFdvcmsgb3V0IHdoZXJlIHRvIHBvc2l0aW9uIHRoZSByYW5nZSBhZnRlciBjb250ZW50IHJlbW92YWxcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSwgYm91bmRhcnk7XG4gICAgICAgICAgICAgICAgaWYgKHNjICE9PSByb290KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBnZXRDbG9zZXN0QW5jZXN0b3JJbihzYywgcm9vdCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5ID0gZ2V0Qm91bmRhcnlBZnRlck5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHNjID0gYm91bmRhcnkubm9kZTtcbiAgICAgICAgICAgICAgICAgICAgc28gPSBib3VuZGFyeS5vZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgbm9uZSBvZiB0aGUgcmFuZ2UgaXMgcmVhZC1vbmx5XG4gICAgICAgICAgICAgICAgaXRlcmF0ZVN1YnRyZWUoaXRlcmF0b3IsIGFzc2VydE5vZGVOb3RSZWFkT25seSk7XG5cbiAgICAgICAgICAgICAgICBpdGVyYXRvci5yZXNldCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBjb250ZW50XG4gICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gcmVtb3ZlcihpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IuZGV0YWNoKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBuZXcgcG9zaXRpb25cbiAgICAgICAgICAgICAgICBib3VuZGFyeVVwZGF0ZXIodGhpcywgc2MsIHNvLCBzYywgc28pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVByb3RvdHlwZVJhbmdlKGNvbnN0cnVjdG9yLCBib3VuZGFyeVVwZGF0ZXIpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJlZm9yZUFmdGVyTm9kZVNldHRlcihpc0JlZm9yZSwgaXNTdGFydCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydFZhbGlkTm9kZVR5cGUobm9kZSwgYmVmb3JlQWZ0ZXJOb2RlVHlwZXMpO1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnRWYWxpZE5vZGVUeXBlKGdldFJvb3RDb250YWluZXIobm9kZSksIHJvb3RDb250YWluZXJOb2RlVHlwZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBib3VuZGFyeSA9IChpc0JlZm9yZSA/IGdldEJvdW5kYXJ5QmVmb3JlTm9kZSA6IGdldEJvdW5kYXJ5QWZ0ZXJOb2RlKShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgKGlzU3RhcnQgPyBzZXRSYW5nZVN0YXJ0IDogc2V0UmFuZ2VFbmQpKHRoaXMsIGJvdW5kYXJ5Lm5vZGUsIGJvdW5kYXJ5Lm9mZnNldCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0UmFuZ2VTdGFydChyYW5nZSwgbm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGVjID0gcmFuZ2UuZW5kQ29udGFpbmVyLCBlbyA9IHJhbmdlLmVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSAhPT0gcmFuZ2Uuc3RhcnRDb250YWluZXIgfHwgb2Zmc2V0ICE9PSByYW5nZS5zdGFydE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgcm9vdCBjb250YWluZXJzIG9mIHRoZSByYW5nZSBhbmQgdGhlIG5ldyBib3VuZGFyeSwgYW5kIGFsc28gY2hlY2sgd2hldGhlciB0aGUgbmV3IGJvdW5kYXJ5XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIGFmdGVyIHRoZSBjdXJyZW50IGVuZC4gSW4gZWl0aGVyIGNhc2UsIGNvbGxhcHNlIHRoZSByYW5nZSB0byB0aGUgbmV3IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXRSb290Q29udGFpbmVyKG5vZGUpICE9IGdldFJvb3RDb250YWluZXIoZWMpIHx8IGNvbXBhcmVQb2ludHMobm9kZSwgb2Zmc2V0LCBlYywgZW8pID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVjID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVvID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5VXBkYXRlcihyYW5nZSwgbm9kZSwgb2Zmc2V0LCBlYywgZW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0UmFuZ2VFbmQocmFuZ2UsIG5vZGUsIG9mZnNldCkge1xuICAgICAgICAgICAgICAgIHZhciBzYyA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLCBzbyA9IHJhbmdlLnN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChub2RlICE9PSByYW5nZS5lbmRDb250YWluZXIgfHwgb2Zmc2V0ICE9PSByYW5nZS5lbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIHJvb3QgY29udGFpbmVycyBvZiB0aGUgcmFuZ2UgYW5kIHRoZSBuZXcgYm91bmRhcnksIGFuZCBhbHNvIGNoZWNrIHdoZXRoZXIgdGhlIG5ldyBib3VuZGFyeVxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBhZnRlciB0aGUgY3VycmVudCBlbmQuIEluIGVpdGhlciBjYXNlLCBjb2xsYXBzZSB0aGUgcmFuZ2UgdG8gdGhlIG5ldyBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0Um9vdENvbnRhaW5lcihub2RlKSAhPSBnZXRSb290Q29udGFpbmVyKHNjKSB8fCBjb21wYXJlUG9pbnRzKG5vZGUsIG9mZnNldCwgc2MsIHNvKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2MgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc28gPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlVcGRhdGVyKHJhbmdlLCBzYywgc28sIG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXQgdXAgaW5oZXJpdGFuY2VcbiAgICAgICAgICAgIHZhciBGID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgIEYucHJvdG90eXBlID0gYXBpLnJhbmdlUHJvdG90eXBlO1xuICAgICAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IEYoKTtcblxuICAgICAgICAgICAgdXRpbC5leHRlbmQoY29uc3RydWN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgICAgICAgICAgc2V0U3RhcnQ6IGZ1bmN0aW9uKG5vZGUsIG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnROb0RvY1R5cGVOb3RhdGlvbkVudGl0eUFuY2VzdG9yKG5vZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnRWYWxpZE9mZnNldChub2RlLCBvZmZzZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFJhbmdlU3RhcnQodGhpcywgbm9kZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2V0RW5kOiBmdW5jdGlvbihub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0Tm9Eb2NUeXBlTm90YXRpb25FbnRpdHlBbmNlc3Rvcihub2RlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0VmFsaWRPZmZzZXQobm9kZSwgb2Zmc2V0KTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRSYW5nZUVuZCh0aGlzLCBub2RlLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gc2V0IGEgcmFuZ2UncyBzdGFydCBhbmQgZW5kIGJvdW5kYXJpZXMuIE92ZXJsb2FkZWQgYXMgZm9sbG93czpcbiAgICAgICAgICAgICAgICAgKiAtIFR3byBwYXJhbWV0ZXJzIChub2RlLCBvZmZzZXQpIGNyZWF0ZXMgYSBjb2xsYXBzZWQgcmFuZ2UgYXQgdGhhdCBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAqIC0gVGhyZWUgcGFyYW1ldGVycyAobm9kZSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCkgY3JlYXRlcyBhIHJhbmdlIGNvbnRhaW5lZCB3aXRoIG5vZGUgc3RhcnRpbmcgYXRcbiAgICAgICAgICAgICAgICAgKiAgIHN0YXJ0T2Zmc2V0IGFuZCBlbmRpbmcgYXQgZW5kT2Zmc2V0XG4gICAgICAgICAgICAgICAgICogLSBGb3VyIHBhcmFtZXRlcnMgKHN0YXJ0Tm9kZSwgc3RhcnRPZmZzZXQsIGVuZE5vZGUsIGVuZE9mZnNldCkgY3JlYXRlcyBhIHJhbmdlIHN0YXJ0aW5nIGF0IHN0YXJ0T2Zmc2V0IGluXG4gICAgICAgICAgICAgICAgICogICBzdGFydE5vZGUgYW5kIGVuZGluZyBhdCBlbmRPZmZzZXQgaW4gZW5kTm9kZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNldFN0YXJ0QW5kRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzYyA9IGFyZ3NbMF0sIHNvID0gYXJnc1sxXSwgZWMgPSBzYywgZW8gPSBzbztcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW8gPSBhcmdzWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjID0gYXJnc1syXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbyA9IGFyZ3NbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBib3VuZGFyeVVwZGF0ZXIodGhpcywgc2MsIHNvLCBlYywgZW8pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzZXRCb3VuZGFyeTogZnVuY3Rpb24obm9kZSwgb2Zmc2V0LCBpc1N0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJzZXRcIiArIChpc1N0YXJ0ID8gXCJTdGFydFwiIDogXCJFbmRcIildKG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHNldFN0YXJ0QmVmb3JlOiBjcmVhdGVCZWZvcmVBZnRlck5vZGVTZXR0ZXIodHJ1ZSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgc2V0U3RhcnRBZnRlcjogY3JlYXRlQmVmb3JlQWZ0ZXJOb2RlU2V0dGVyKGZhbHNlLCB0cnVlKSxcbiAgICAgICAgICAgICAgICBzZXRFbmRCZWZvcmU6IGNyZWF0ZUJlZm9yZUFmdGVyTm9kZVNldHRlcih0cnVlLCBmYWxzZSksXG4gICAgICAgICAgICAgICAgc2V0RW5kQWZ0ZXI6IGNyZWF0ZUJlZm9yZUFmdGVyTm9kZVNldHRlcihmYWxzZSwgZmFsc2UpLFxuXG4gICAgICAgICAgICAgICAgY29sbGFwc2U6IGZ1bmN0aW9uKGlzU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0UmFuZ2VWYWxpZCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5VXBkYXRlcih0aGlzLCB0aGlzLnN0YXJ0Q29udGFpbmVyLCB0aGlzLnN0YXJ0T2Zmc2V0LCB0aGlzLnN0YXJ0Q29udGFpbmVyLCB0aGlzLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5VXBkYXRlcih0aGlzLCB0aGlzLmVuZENvbnRhaW5lciwgdGhpcy5lbmRPZmZzZXQsIHRoaXMuZW5kQ29udGFpbmVyLCB0aGlzLmVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2VsZWN0Tm9kZUNvbnRlbnRzOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydE5vRG9jVHlwZU5vdGF0aW9uRW50aXR5QW5jZXN0b3Iobm9kZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlVcGRhdGVyKHRoaXMsIG5vZGUsIDAsIG5vZGUsIGdldE5vZGVMZW5ndGgobm9kZSkpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzZWxlY3ROb2RlOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydE5vRG9jVHlwZU5vdGF0aW9uRW50aXR5QW5jZXN0b3Iobm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnRWYWxpZE5vZGVUeXBlKG5vZGUsIGJlZm9yZUFmdGVyTm9kZVR5cGVzKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBnZXRCb3VuZGFyeUJlZm9yZU5vZGUobm9kZSksIGVuZCA9IGdldEJvdW5kYXJ5QWZ0ZXJOb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBib3VuZGFyeVVwZGF0ZXIodGhpcywgc3RhcnQubm9kZSwgc3RhcnQub2Zmc2V0LCBlbmQubm9kZSwgZW5kLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGV4dHJhY3RDb250ZW50czogY3JlYXRlUmFuZ2VDb250ZW50UmVtb3ZlcihleHRyYWN0U3VidHJlZSwgYm91bmRhcnlVcGRhdGVyKSxcblxuICAgICAgICAgICAgICAgIGRlbGV0ZUNvbnRlbnRzOiBjcmVhdGVSYW5nZUNvbnRlbnRSZW1vdmVyKGRlbGV0ZVN1YnRyZWUsIGJvdW5kYXJ5VXBkYXRlciksXG5cbiAgICAgICAgICAgICAgICBjYW5TdXJyb3VuZENvbnRlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0UmFuZ2VWYWxpZCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0Tm9kZU5vdFJlYWRPbmx5KHRoaXMuc3RhcnRDb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnROb2RlTm90UmVhZE9ubHkodGhpcy5lbmRDb250YWluZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjb250ZW50cyBjYW4gYmUgc3Vycm91bmRlZC4gU3BlY2lmaWNhbGx5LCB0aGlzIG1lYW5zIHdoZXRoZXIgdGhlIHJhbmdlIHBhcnRpYWxseSBzZWxlY3RzXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIG5vbi10ZXh0IG5vZGVzLlxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgUmFuZ2VJdGVyYXRvcih0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvdW5kYXJpZXNJbnZhbGlkID0gKGl0ZXJhdG9yLl9maXJzdCAmJiBpc05vblRleHRQYXJ0aWFsbHlTZWxlY3RlZChpdGVyYXRvci5fZmlyc3QsIHRoaXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGl0ZXJhdG9yLl9sYXN0ICYmIGlzTm9uVGV4dFBhcnRpYWxseVNlbGVjdGVkKGl0ZXJhdG9yLl9sYXN0LCB0aGlzKSkpO1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5kZXRhY2goKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFib3VuZGFyaWVzSW52YWxpZDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc3BsaXRCb3VuZGFyaWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXRSYW5nZUJvdW5kYXJpZXModGhpcyk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHNwbGl0Qm91bmRhcmllc1ByZXNlcnZpbmdQb3NpdGlvbnM6IGZ1bmN0aW9uKHBvc2l0aW9uc1RvUHJlc2VydmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXRSYW5nZUJvdW5kYXJpZXModGhpcywgcG9zaXRpb25zVG9QcmVzZXJ2ZSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUJvdW5kYXJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnRSYW5nZVZhbGlkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzYyA9IHRoaXMuc3RhcnRDb250YWluZXIsIHNvID0gdGhpcy5zdGFydE9mZnNldCwgZWMgPSB0aGlzLmVuZENvbnRhaW5lciwgZW8gPSB0aGlzLmVuZE9mZnNldDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVyZ2VGb3J3YXJkID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpYmxpbmcgJiYgc2libGluZy5ub2RlVHlwZSA9PSBub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWMgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVvID0gbm9kZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmREYXRhKHNpYmxpbmcuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShzaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVyZ2VCYWNrd2FyZCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2libGluZyAmJiBzaWJsaW5nLm5vZGVUeXBlID09IG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYyA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVMZW5ndGggPSBub2RlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbyA9IHNpYmxpbmcubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaW5zZXJ0RGF0YSgwLCBzaWJsaW5nLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoc2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjID09IGVjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVvICs9IHNvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYyA9IHNjO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWMgPT0gbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlSW5kZXggPSBnZXROb2RlSW5kZXgobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbyA9PSBub2RlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVvID0gbm9kZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbyA+IG5vZGVJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW8tLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2libGluZztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDaGFyYWN0ZXJEYXRhTm9kZShlYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbyA9PSBlYy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUZvcndhcmQoZWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbyA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZyA9IGVjLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2libGluZyAmJiBzaWJsaW5nLm5vZGVUeXBlID09IGVjLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVvID0gc2libGluZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYyA9PSBlYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5nLmFwcGVuZERhdGEoZWMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoZWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYyA9IHNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVvID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmROb2RlID0gZWMuY2hpbGROb2Rlc1tlbyAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmROb2RlICYmIGlzQ2hhcmFjdGVyRGF0YU5vZGUoZW5kTm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VGb3J3YXJkKGVuZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZVN0YXJ0ID0gIXRoaXMuY29sbGFwc2VkO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDaGFyYWN0ZXJEYXRhTm9kZShzYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc28gPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUJhY2t3YXJkKHNjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNvID09IHNjLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5nID0gc2MubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaWJsaW5nICYmIHNpYmxpbmcubm9kZVR5cGUgPT0gc2Mubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlYyA9PSBzaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWMgPSBzYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbyArPSBzYy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYy5hcHBlbmREYXRhKHNpYmxpbmcuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKHNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc28gPCBzYy5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnROb2RlID0gc2MuY2hpbGROb2Rlc1tzb107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydE5vZGUgJiYgaXNDaGFyYWN0ZXJEYXRhTm9kZShzdGFydE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUJhY2t3YXJkKHN0YXJ0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYyA9IGVjO1xuICAgICAgICAgICAgICAgICAgICAgICAgc28gPSBlbztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5VXBkYXRlcih0aGlzLCBzYywgc28sIGVjLCBlbyk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGNvbGxhcHNlVG9Qb2ludDogZnVuY3Rpb24obm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydE5vRG9jVHlwZU5vdGF0aW9uRW50aXR5QW5jZXN0b3Iobm9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydFZhbGlkT2Zmc2V0KG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhcnRBbmRFbmQobm9kZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29weUNvbXBhcmlzb25Db25zdGFudHMoY29uc3RydWN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgICAgICAvLyBVcGRhdGVzIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIGFuZCBjb2xsYXBzZWQgYWZ0ZXIgYm91bmRhcnkgY2hhbmdlXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbGxhcHNlZEFuZENvbW1vbkFuY2VzdG9yKHJhbmdlKSB7XG4gICAgICAgICAgICByYW5nZS5jb2xsYXBzZWQgPSAocmFuZ2Uuc3RhcnRDb250YWluZXIgPT09IHJhbmdlLmVuZENvbnRhaW5lciAmJiByYW5nZS5zdGFydE9mZnNldCA9PT0gcmFuZ2UuZW5kT2Zmc2V0KTtcbiAgICAgICAgICAgIHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyID0gcmFuZ2UuY29sbGFwc2VkID9cbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydENvbnRhaW5lciA6IGRvbS5nZXRDb21tb25BbmNlc3RvcihyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2UuZW5kQ29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUJvdW5kYXJpZXMocmFuZ2UsIHN0YXJ0Q29udGFpbmVyLCBzdGFydE9mZnNldCwgZW5kQ29udGFpbmVyLCBlbmRPZmZzZXQpIHtcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0Q29udGFpbmVyID0gc3RhcnRDb250YWluZXI7XG4gICAgICAgICAgICByYW5nZS5zdGFydE9mZnNldCA9IHN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgcmFuZ2UuZW5kQ29udGFpbmVyID0gZW5kQ29udGFpbmVyO1xuICAgICAgICAgICAgcmFuZ2UuZW5kT2Zmc2V0ID0gZW5kT2Zmc2V0O1xuICAgICAgICAgICAgcmFuZ2UuZG9jdW1lbnQgPSBkb20uZ2V0RG9jdW1lbnQoc3RhcnRDb250YWluZXIpO1xuXG4gICAgICAgICAgICB1cGRhdGVDb2xsYXBzZWRBbmRDb21tb25BbmNlc3RvcihyYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBSYW5nZShkb2MpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDb250YWluZXIgPSBkb2M7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHRoaXMuZW5kQ29udGFpbmVyID0gZG9jO1xuICAgICAgICAgICAgdGhpcy5lbmRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvYztcbiAgICAgICAgICAgIHVwZGF0ZUNvbGxhcHNlZEFuZENvbW1vbkFuY2VzdG9yKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3JlYXRlUHJvdG90eXBlUmFuZ2UoUmFuZ2UsIHVwZGF0ZUJvdW5kYXJpZXMpO1xuXG4gICAgICAgIHV0aWwuZXh0ZW5kKFJhbmdlLCB7XG4gICAgICAgICAgICByYW5nZVByb3BlcnRpZXM6IHJhbmdlUHJvcGVydGllcyxcbiAgICAgICAgICAgIFJhbmdlSXRlcmF0b3I6IFJhbmdlSXRlcmF0b3IsXG4gICAgICAgICAgICBjb3B5Q29tcGFyaXNvbkNvbnN0YW50czogY29weUNvbXBhcmlzb25Db25zdGFudHMsXG4gICAgICAgICAgICBjcmVhdGVQcm90b3R5cGVSYW5nZTogY3JlYXRlUHJvdG90eXBlUmFuZ2UsXG4gICAgICAgICAgICBpbnNwZWN0OiBpbnNwZWN0LFxuICAgICAgICAgICAgdG9IdG1sOiByYW5nZVRvSHRtbCxcbiAgICAgICAgICAgIGdldFJhbmdlRG9jdW1lbnQ6IGdldFJhbmdlRG9jdW1lbnQsXG4gICAgICAgICAgICByYW5nZXNFcXVhbDogZnVuY3Rpb24ocjEsIHIyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIxLnN0YXJ0Q29udGFpbmVyID09PSByMi5zdGFydENvbnRhaW5lciAmJlxuICAgICAgICAgICAgICAgICAgICByMS5zdGFydE9mZnNldCA9PT0gcjIuc3RhcnRPZmZzZXQgJiZcbiAgICAgICAgICAgICAgICAgICAgcjEuZW5kQ29udGFpbmVyID09PSByMi5lbmRDb250YWluZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgcjEuZW5kT2Zmc2V0ID09PSByMi5lbmRPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFwaS5Eb21SYW5nZSA9IFJhbmdlO1xuICAgIH0pO1xyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG4gICAgLy8gV3JhcHBlcnMgZm9yIHRoZSBicm93c2VyJ3MgbmF0aXZlIERPTSBSYW5nZSBhbmQvb3IgVGV4dFJhbmdlIGltcGxlbWVudGF0aW9uXG4gICAgYXBpLmNyZWF0ZUNvcmVNb2R1bGUoXCJXcmFwcGVkUmFuZ2VcIiwgW1wiRG9tUmFuZ2VcIl0sIGZ1bmN0aW9uKGFwaSwgbW9kdWxlKSB7XG4gICAgICAgIHZhciBXcmFwcGVkUmFuZ2UsIFdyYXBwZWRUZXh0UmFuZ2U7XG4gICAgICAgIHZhciBkb20gPSBhcGkuZG9tO1xuICAgICAgICB2YXIgdXRpbCA9IGFwaS51dGlsO1xuICAgICAgICB2YXIgRG9tUG9zaXRpb24gPSBkb20uRG9tUG9zaXRpb247XG4gICAgICAgIHZhciBEb21SYW5nZSA9IGFwaS5Eb21SYW5nZTtcbiAgICAgICAgdmFyIGdldEJvZHkgPSBkb20uZ2V0Qm9keTtcbiAgICAgICAgdmFyIGdldENvbnRlbnREb2N1bWVudCA9IGRvbS5nZXRDb250ZW50RG9jdW1lbnQ7XG4gICAgICAgIHZhciBpc0NoYXJhY3RlckRhdGFOb2RlID0gZG9tLmlzQ2hhcmFjdGVyRGF0YU5vZGU7XG5cblxuICAgICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgICAgIGlmIChhcGkuZmVhdHVyZXMuaW1wbGVtZW50c0RvbVJhbmdlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgd3JhcHBlciBhcm91bmQgdGhlIGJyb3dzZXIncyBuYXRpdmUgRE9NIFJhbmdlLiBJdCBoYXMgdHdvIGFpbXM6XG4gICAgICAgICAgICAvLyAtIFByb3ZpZGUgd29ya2Fyb3VuZHMgZm9yIHNwZWNpZmljIGJyb3dzZXIgYnVnc1xuICAgICAgICAgICAgLy8gLSBwcm92aWRlIGNvbnZlbmllbnQgZXh0ZW5zaW9ucywgd2hpY2ggYXJlIGluaGVyaXRlZCBmcm9tIFJhbmd5J3MgRG9tUmFuZ2VcblxuICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZVByb3RvO1xuICAgICAgICAgICAgICAgIHZhciByYW5nZVByb3BlcnRpZXMgPSBEb21SYW5nZS5yYW5nZVByb3BlcnRpZXM7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVSYW5nZVByb3BlcnRpZXMocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSByYW5nZVByb3BlcnRpZXMubGVuZ3RoLCBwcm9wO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wID0gcmFuZ2VQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VbcHJvcF0gPSByYW5nZS5uYXRpdmVSYW5nZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBGaXggZm9yIGJyb2tlbiBjb2xsYXBzZWQgcHJvcGVydHkgaW4gSUUgOS5cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2VkID0gKHJhbmdlLnN0YXJ0Q29udGFpbmVyID09PSByYW5nZS5lbmRDb250YWluZXIgJiYgcmFuZ2Uuc3RhcnRPZmZzZXQgPT09IHJhbmdlLmVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlTmF0aXZlUmFuZ2UocmFuZ2UsIHN0YXJ0Q29udGFpbmVyLCBzdGFydE9mZnNldCwgZW5kQ29udGFpbmVyLCBlbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0TW92ZWQgPSAocmFuZ2Uuc3RhcnRDb250YWluZXIgIT09IHN0YXJ0Q29udGFpbmVyIHx8IHJhbmdlLnN0YXJ0T2Zmc2V0ICE9IHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZE1vdmVkID0gKHJhbmdlLmVuZENvbnRhaW5lciAhPT0gZW5kQ29udGFpbmVyIHx8IHJhbmdlLmVuZE9mZnNldCAhPSBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmF0aXZlUmFuZ2VEaWZmZXJlbnQgPSAhcmFuZ2UuZXF1YWxzKHJhbmdlLm5hdGl2ZVJhbmdlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgc2V0IGJvdGggYm91bmRhcmllcyBmb3IgdGhlIGJlbmVmaXQgb2YgSUU5IChzZWUgaXNzdWUgMzUpXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydE1vdmVkIHx8IGVuZE1vdmVkIHx8IG5hdGl2ZVJhbmdlRGlmZmVyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQoZW5kQ29udGFpbmVyLCBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnRDb250YWluZXIsIHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjcmVhdGVCZWZvcmVBZnRlck5vZGVTZXR0ZXI7XG5cbiAgICAgICAgICAgICAgICBXcmFwcGVkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBtb2R1bGUuY3JlYXRlRXJyb3IoXCJXcmFwcGVkUmFuZ2U6IFJhbmdlIG11c3QgYmUgc3BlY2lmaWVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlUmFuZ2UgPSByYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmFuZ2VQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBEb21SYW5nZS5jcmVhdGVQcm90b3R5cGVSYW5nZShXcmFwcGVkUmFuZ2UsIHVwZGF0ZU5hdGl2ZVJhbmdlKTtcblxuICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8gPSBXcmFwcGVkUmFuZ2UucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgcmFuZ2VQcm90by5zZWxlY3ROb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZVJhbmdlLnNlbGVjdE5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJhbmdlUHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmFuZ2VQcm90by5jbG9uZUNvbnRlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVJhbmdlLmNsb25lQ29udGVudHMoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gRHVlIHRvIGEgbG9uZy1zdGFuZGluZyBGaXJlZm94IGJ1ZyB0aGF0IEkgaGF2ZSBub3QgYmVlbiBhYmxlIHRvIGZpbmQgYSByZWxpYWJsZSB3YXkgdG8gZGV0ZWN0LFxuICAgICAgICAgICAgICAgIC8vIGluc2VydE5vZGUoKSBpcyBuZXZlciBkZWxlZ2F0ZWQgdG8gdGhlIG5hdGl2ZSByYW5nZS5cblxuICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uc3Vycm91bmRDb250ZW50cyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXRpdmVSYW5nZS5zdXJyb3VuZENvbnRlbnRzKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSYW5nZVByb3BlcnRpZXModGhpcyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uY29sbGFwc2UgPSBmdW5jdGlvbihpc1N0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlUmFuZ2UuY29sbGFwc2UoaXNTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJhbmdlUHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmFuZ2VQcm90by5jbG9uZVJhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgV3JhcHBlZFJhbmdlKHRoaXMubmF0aXZlUmFuZ2UuY2xvbmVSYW5nZSgpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmFuZ2VQcm90by5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJhbmdlUHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmFuZ2VQcm90by50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVSYW5nZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGVzdCByYW5nZSBhbmQgbm9kZSBmb3IgZmVhdHVyZSBkZXRlY3Rpb25cblxuICAgICAgICAgICAgICAgIHZhciB0ZXN0VGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInRlc3RcIik7XG4gICAgICAgICAgICAgICAgZ2V0Qm9keShkb2N1bWVudCkuYXBwZW5kQ2hpbGQodGVzdFRleHROb2RlKTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgICAgICAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgICAgICAgICAvLyBUZXN0IGZvciBGaXJlZm94IDIgYnVnIHRoYXQgcHJldmVudHMgbW92aW5nIHRoZSBzdGFydCBvZiBhIFJhbmdlIHRvIGEgcG9pbnQgYWZ0ZXIgaXRzIGN1cnJlbnQgZW5kIGFuZFxuICAgICAgICAgICAgICAgIC8vIGNvcnJlY3QgZm9yIGl0XG5cbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydCh0ZXN0VGV4dE5vZGUsIDApO1xuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZCh0ZXN0VGV4dE5vZGUsIDApO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQodGVzdFRleHROb2RlLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICByYW5nZVByb3RvLnNldFN0YXJ0ID0gZnVuY3Rpb24obm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZVJhbmdlLnNldFN0YXJ0KG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSYW5nZVByb3BlcnRpZXModGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VQcm90by5zZXRFbmQgPSBmdW5jdGlvbihub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlUmFuZ2Uuc2V0RW5kKG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSYW5nZVByb3BlcnRpZXModGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmVmb3JlQWZ0ZXJOb2RlU2V0dGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZVJhbmdlW25hbWVdKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJhbmdlUHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9IGNhdGNoKGV4KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VQcm90by5zZXRTdGFydCA9IGZ1bmN0aW9uKG5vZGUsIG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZVJhbmdlLnNldFN0YXJ0KG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlUmFuZ2Uuc2V0RW5kKG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXRpdmVSYW5nZS5zZXRTdGFydChub2RlLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmFuZ2VQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uc2V0RW5kID0gZnVuY3Rpb24obm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlUmFuZ2Uuc2V0RW5kKG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlUmFuZ2Uuc2V0U3RhcnQobm9kZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZVJhbmdlLnNldEVuZChub2RlLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmFuZ2VQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUJlZm9yZUFmdGVyTm9kZVNldHRlciA9IGZ1bmN0aW9uKG5hbWUsIG9wcG9zaXRlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZVJhbmdlW25hbWVdKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlUmFuZ2Vbb3Bwb3NpdGVOYW1lXShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXRpdmVSYW5nZVtuYW1lXShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmFuZ2VQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByYW5nZVByb3RvLnNldFN0YXJ0QmVmb3JlID0gY3JlYXRlQmVmb3JlQWZ0ZXJOb2RlU2V0dGVyKFwic2V0U3RhcnRCZWZvcmVcIiwgXCJzZXRFbmRCZWZvcmVcIik7XG4gICAgICAgICAgICAgICAgcmFuZ2VQcm90by5zZXRTdGFydEFmdGVyID0gY3JlYXRlQmVmb3JlQWZ0ZXJOb2RlU2V0dGVyKFwic2V0U3RhcnRBZnRlclwiLCBcInNldEVuZEFmdGVyXCIpO1xuICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uc2V0RW5kQmVmb3JlID0gY3JlYXRlQmVmb3JlQWZ0ZXJOb2RlU2V0dGVyKFwic2V0RW5kQmVmb3JlXCIsIFwic2V0U3RhcnRCZWZvcmVcIik7XG4gICAgICAgICAgICAgICAgcmFuZ2VQcm90by5zZXRFbmRBZnRlciA9IGNyZWF0ZUJlZm9yZUFmdGVyTm9kZVNldHRlcihcInNldEVuZEFmdGVyXCIsIFwic2V0U3RhcnRBZnRlclwiKTtcblxuICAgICAgICAgICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIHVzZSBET000LWNvbXBsaWFudCBzZWxlY3ROb2RlQ29udGVudHMgaW1wbGVtZW50YXRpb246IGl0J3Mgc2ltcGxlciBhbmQgbGVzcyBjb2RlIHRoYW4gdGVzdGluZ1xuICAgICAgICAgICAgICAgIC8vIHdoZXRoZXIgdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBjYW4gYmUgdHJ1c3RlZFxuICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uc2VsZWN0Tm9kZUNvbnRlbnRzID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXJ0QW5kRW5kKG5vZGUsIDAsIGRvbS5nZXROb2RlTGVuZ3RoKG5vZGUpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgICAgICAgICAvLyBUZXN0IGZvciBhbmQgY29ycmVjdCBXZWJLaXQgYnVnIHRoYXQgaGFzIHRoZSBiZWhhdmlvdXIgb2YgY29tcGFyZUJvdW5kYXJ5UG9pbnRzIHJvdW5kIHRoZSB3cm9uZyB3YXkgZm9yXG4gICAgICAgICAgICAgICAgLy8gY29uc3RhbnRzIFNUQVJUX1RPX0VORCBhbmQgRU5EX1RPX1NUQVJUOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjA3MzhcblxuICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyh0ZXN0VGV4dE5vZGUpO1xuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZCh0ZXN0VGV4dE5vZGUsIDMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlMiA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UyLnNlbGVjdE5vZGVDb250ZW50cyh0ZXN0VGV4dE5vZGUpO1xuICAgICAgICAgICAgICAgIHJhbmdlMi5zZXRFbmQodGVzdFRleHROb2RlLCA0KTtcbiAgICAgICAgICAgICAgICByYW5nZTIuc2V0U3RhcnQodGVzdFRleHROb2RlLCAyKTtcblxuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb21wYXJlQm91bmRhcnlQb2ludHMocmFuZ2UuU1RBUlRfVE9fRU5ELCByYW5nZTIpID09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jb21wYXJlQm91bmRhcnlQb2ludHMocmFuZ2UuRU5EX1RPX1NUQVJULCByYW5nZTIpID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgd3Jvbmcgd2F5IHJvdW5kLCBzbyBjb3JyZWN0IGZvciBpdFxuXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uY29tcGFyZUJvdW5kYXJ5UG9pbnRzID0gZnVuY3Rpb24odHlwZSwgcmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gcmFuZ2UubmF0aXZlUmFuZ2UgfHwgcmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSByYW5nZS5TVEFSVF9UT19FTkQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gcmFuZ2UuRU5EX1RPX1NUQVJUO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09IHJhbmdlLkVORF9UT19TVEFSVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSByYW5nZS5TVEFSVF9UT19FTkQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVSYW5nZS5jb21wYXJlQm91bmRhcnlQb2ludHModHlwZSwgcmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uY29tcGFyZUJvdW5kYXJ5UG9pbnRzID0gZnVuY3Rpb24odHlwZSwgcmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVJhbmdlLmNvbXBhcmVCb3VuZGFyeVBvaW50cyh0eXBlLCByYW5nZS5uYXRpdmVSYW5nZSB8fCByYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgICAgICAgICAvLyBUZXN0IGZvciBJRSBkZWxldGVDb250ZW50cygpIGFuZCBleHRyYWN0Q29udGVudHMoKSBidWcgYW5kIGNvcnJlY3QgaXQuIFNlZSBpc3N1ZSAxMDcuXG5cbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IFwiMTIzXCI7XG4gICAgICAgICAgICAgICAgdmFyIHRleHROb2RlID0gZWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGdldEJvZHkoZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQodGV4dE5vZGUsIDEpO1xuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZCh0ZXh0Tm9kZSwgMik7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZXh0Tm9kZS5kYXRhID09IFwiMTNcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBCZWhhdmlvdXIgaXMgY29ycmVjdCBwZXIgRE9NNCBSYW5nZSBzbyB3cmFwIHRoZSBicm93c2VyJ3MgaW1wbGVtZW50YXRpb24gb2YgZGVsZXRlQ29udGVudHMoKSBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gZXh0cmFjdENvbnRlbnRzKClcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VQcm90by5kZWxldGVDb250ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXRpdmVSYW5nZS5kZWxldGVDb250ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmFuZ2VQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uZXh0cmFjdENvbnRlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJhZyA9IHRoaXMubmF0aXZlUmFuZ2UuZXh0cmFjdENvbnRlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSYW5nZVByb3BlcnRpZXModGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJhZztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgIGJvZHkgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgICAgICAgICAvLyBUZXN0IGZvciBleGlzdGVuY2Ugb2YgY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50IGFuZCBkZWxlZ2F0ZSB0byBpdCBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgICAgICBpZiAodXRpbC5pc0hvc3RNZXRob2QocmFuZ2UsIFwiY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlUHJvdG8uY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50ID0gZnVuY3Rpb24oZnJhZ21lbnRTdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChmcmFnbWVudFN0cik7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cFxuICAgICAgICAgICAgICAgIGdldEJvZHkoZG9jdW1lbnQpLnJlbW92ZUNoaWxkKHRlc3RUZXh0Tm9kZSk7XG5cbiAgICAgICAgICAgICAgICByYW5nZVByb3RvLmdldE5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiV3JhcHBlZFJhbmdlXCI7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFwaS5XcmFwcGVkUmFuZ2UgPSBXcmFwcGVkUmFuZ2U7XG5cbiAgICAgICAgICAgICAgICBhcGkuY3JlYXRlTmF0aXZlUmFuZ2UgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jID0gZ2V0Q29udGVudERvY3VtZW50KGRvYywgbW9kdWxlLCBcImNyZWF0ZU5hdGl2ZVJhbmdlXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXBpLmZlYXR1cmVzLmltcGxlbWVudHNUZXh0UmFuZ2UpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgYSBidWcgd2hlcmUgSUUgcmV0dXJucyB0aGUgd3JvbmcgY29udGFpbmVyIGVsZW1lbnQgZnJvbSB0aGUgVGV4dFJhbmdlJ3MgcGFyZW50RWxlbWVudCgpXG4gICAgICAgICAgICBtZXRob2QuIEZvciBleGFtcGxlLCBpbiB0aGUgZm9sbG93aW5nICh3aGVyZSBwaXBlcyBkZW5vdGUgdGhlIHNlbGVjdGlvbiBib3VuZGFyaWVzKTpcblxuICAgICAgICAgICAgPHVsIGlkPVwidWxcIj48bGkgaWQ9XCJhXCI+fCBhIDwvbGk+PGxpIGlkPVwiYlwiPiBiIHw8L2xpPjwvdWw+XG5cbiAgICAgICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgYWxlcnQocmFuZ2UucGFyZW50RWxlbWVudCgpLmlkKTsgLy8gU2hvdWxkIGFsZXJ0IFwidWxcIiBidXQgYWxlcnRzIFwiYlwiXG5cbiAgICAgICAgICAgIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGNvbW1vbiBhbmNlc3RvciBub2RlIG9mIHRoZSBmb2xsb3dpbmc6XG4gICAgICAgICAgICAtIHRoZSBwYXJlbnRFbGVtZW50KCkgb2YgdGhlIHRleHRSYW5nZVxuICAgICAgICAgICAgLSB0aGUgcGFyZW50RWxlbWVudCgpIG9mIHRoZSB0ZXh0UmFuZ2UgYWZ0ZXIgY2FsbGluZyBjb2xsYXBzZSh0cnVlKVxuICAgICAgICAgICAgLSB0aGUgcGFyZW50RWxlbWVudCgpIG9mIHRoZSB0ZXh0UmFuZ2UgYWZ0ZXIgY2FsbGluZyBjb2xsYXBzZShmYWxzZSlcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgZ2V0VGV4dFJhbmdlQ29udGFpbmVyRWxlbWVudCA9IGZ1bmN0aW9uKHRleHRSYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRFbCA9IHRleHRSYW5nZS5wYXJlbnRFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGV4dFJhbmdlLmR1cGxpY2F0ZSgpO1xuICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydEVsID0gcmFuZ2UucGFyZW50RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIHJhbmdlID0gdGV4dFJhbmdlLmR1cGxpY2F0ZSgpO1xuICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kRWwgPSByYW5nZS5wYXJlbnRFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0RW5kQ29udGFpbmVyID0gKHN0YXJ0RWwgPT0gZW5kRWwpID8gc3RhcnRFbCA6IGRvbS5nZXRDb21tb25BbmNlc3RvcihzdGFydEVsLCBlbmRFbCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRFbmRDb250YWluZXIgPT0gcGFyZW50RWwgPyBzdGFydEVuZENvbnRhaW5lciA6IGRvbS5nZXRDb21tb25BbmNlc3RvcihwYXJlbnRFbCwgc3RhcnRFbmRDb250YWluZXIpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHRleHRSYW5nZUlzQ29sbGFwc2VkID0gZnVuY3Rpb24odGV4dFJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHRSYW5nZS5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb0VuZFwiLCB0ZXh0UmFuZ2UpID09IDA7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBHZXRzIHRoZSBib3VuZGFyeSBvZiBhIFRleHRSYW5nZSBleHByZXNzZWQgYXMgYSBub2RlIGFuZCBhbiBvZmZzZXQgd2l0aGluIHRoYXQgbm9kZS4gVGhpcyBmdW5jdGlvbiBzdGFydGVkXG4gICAgICAgICAgICAvLyBvdXQgYXMgYW4gaW1wcm92ZWQgdmVyc2lvbiBvZiBjb2RlIGZvdW5kIGluIFRpbSBDYW1lcm9uIFJ5YW4ncyBJRVJhbmdlIChodHRwOi8vY29kZS5nb29nbGUuY29tL3AvaWVyYW5nZS8pXG4gICAgICAgICAgICAvLyBidXQgaGFzIGdyb3duLCBmaXhpbmcgcHJvYmxlbXMgd2l0aCBsaW5lIGJyZWFrcyBpbiBwcmVmb3JtYXR0ZWQgdGV4dCwgYWRkaW5nIHdvcmthcm91bmQgZm9yIElFIFRleHRSYW5nZVxuICAgICAgICAgICAgLy8gYnVncywgaGFuZGxpbmcgZm9yIGlucHV0cyBhbmQgaW1hZ2VzLCBwbHVzIG9wdGltaXphdGlvbnMuXG4gICAgICAgICAgICB2YXIgZ2V0VGV4dFJhbmdlQm91bmRhcnlQb3NpdGlvbiA9IGZ1bmN0aW9uKHRleHRSYW5nZSwgd2hvbGVSYW5nZUNvbnRhaW5lckVsZW1lbnQsIGlzU3RhcnQsIGlzQ29sbGFwc2VkLCBzdGFydEluZm8pIHtcbiAgICAgICAgICAgICAgICB2YXIgd29ya2luZ1JhbmdlID0gdGV4dFJhbmdlLmR1cGxpY2F0ZSgpO1xuICAgICAgICAgICAgICAgIHdvcmtpbmdSYW5nZS5jb2xsYXBzZShpc1N0YXJ0KTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyRWxlbWVudCA9IHdvcmtpbmdSYW5nZS5wYXJlbnRFbGVtZW50KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTb21ldGltZXMgY29sbGFwc2luZyBhIFRleHRSYW5nZSB0aGF0J3MgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dCBub2RlIGNhbiBtb3ZlIGl0IGludG8gdGhlIHByZXZpb3VzIG5vZGUsIHNvXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHRoYXRcbiAgICAgICAgICAgICAgICBpZiAoIWRvbS5pc09ySXNBbmNlc3Rvck9mKHdob2xlUmFuZ2VDb250YWluZXJFbGVtZW50LCBjb250YWluZXJFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJFbGVtZW50ID0gd2hvbGVSYW5nZUNvbnRhaW5lckVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAvLyBEZWFsIHdpdGggbm9kZXMgdGhhdCBjYW5ub3QgXCJjb250YWluIHJpY2ggSFRNTCBtYXJrdXBcIi4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgZm9ybSBpbnB1dHMsIGltYWdlcyBhbmRcbiAgICAgICAgICAgICAgICAvLyBzaW1pbGFyLiBTZWUgaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2FhNzAzOTUwJTI4VlMuODUlMjkuYXNweFxuICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyRWxlbWVudC5jYW5IYXZlSFRNTCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gbmV3IERvbVBvc2l0aW9uKGNvbnRhaW5lckVsZW1lbnQucGFyZW50Tm9kZSwgZG9tLmdldE5vZGVJbmRleChjb250YWluZXJFbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZGFyeVBvc2l0aW9uOiBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlSW5mbzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJbmRleDogcG9zLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJFbGVtZW50OiBwb3Mubm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB3b3JraW5nTm9kZSA9IGRvbS5nZXREb2N1bWVudChjb250YWluZXJFbGVtZW50KS5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblxuICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIEhUTUw1IFNoaXYncyBpbnNhbmUgdmlvbGF0aW9uIG9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoKS4gU2VlIFJhbmd5IGlzc3VlIDEwNCBhbmQgSFRNTDVcbiAgICAgICAgICAgICAgICAvLyBTaGl2IGlzc3VlIDY0OiBodHRwczovL2dpdGh1Yi5jb20vYUZhcmthcy9odG1sNXNoaXYvaXNzdWVzLzY0XG4gICAgICAgICAgICAgICAgaWYgKHdvcmtpbmdOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tLnJlbW92ZU5vZGUod29ya2luZ05vZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjb21wYXJpc29uLCB3b3JraW5nQ29tcGFyaXNvblR5cGUgPSBpc1N0YXJ0ID8gXCJTdGFydFRvU3RhcnRcIiA6IFwiU3RhcnRUb0VuZFwiO1xuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c05vZGUsIG5leHROb2RlLCBib3VuZGFyeVBvc2l0aW9uLCBib3VuZGFyeU5vZGU7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gKHN0YXJ0SW5mbyAmJiBzdGFydEluZm8uY29udGFpbmVyRWxlbWVudCA9PSBjb250YWluZXJFbGVtZW50KSA/IHN0YXJ0SW5mby5ub2RlSW5kZXggOiAwO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZE5vZGVDb3VudCA9IGNvbnRhaW5lckVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IGNoaWxkTm9kZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZW5kIGZpcnN0LiBDb2RlIHdpdGhpbiB0aGUgbG9vcCBhc3N1bWVzIHRoYXQgdGhlIGVuZHRoIGNoaWxkIG5vZGUgb2YgdGhlIGNvbnRhaW5lciBpcyBkZWZpbml0ZWx5XG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgdGhlIHJhbmdlIGJvdW5kYXJ5LlxuICAgICAgICAgICAgICAgIHZhciBub2RlSW5kZXggPSBlbmQ7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4ID09IGNoaWxkTm9kZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKHdvcmtpbmdOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQuaW5zZXJ0QmVmb3JlKHdvcmtpbmdOb2RlLCBjb250YWluZXJFbGVtZW50LmNoaWxkTm9kZXNbbm9kZUluZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd29ya2luZ1JhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KHdvcmtpbmdOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFyaXNvbiA9IHdvcmtpbmdSYW5nZS5jb21wYXJlRW5kUG9pbnRzKHdvcmtpbmdDb21wYXJpc29uVHlwZSwgdGV4dFJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmlzb24gPT0gMCB8fCBzdGFydCA9PSBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBhcmlzb24gPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPT0gc3RhcnQgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Uga25vdyB0aGUgZW5kdGggY2hpbGQgbm9kZSBpcyBhZnRlciB0aGUgcmFuZ2UgYm91bmRhcnksIHNvIHdlIG11c3QgYmUgZG9uZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBub2RlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSAoZW5kID09IHN0YXJ0ICsgMSkgPyBzdGFydCA6IG5vZGVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBNYXRoLmZsb29yKChzdGFydCArIGVuZCkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudC5yZW1vdmVDaGlsZCh3b3JraW5nTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAvLyBXZSd2ZSBub3cgcmVhY2hlZCBvciBnb25lIHBhc3QgdGhlIGJvdW5kYXJ5IG9mIHRoZSB0ZXh0IHJhbmdlIHdlJ3JlIGludGVyZXN0ZWQgaW5cbiAgICAgICAgICAgICAgICAvLyBzbyBoYXZlIGlkZW50aWZpZWQgdGhlIG5vZGUgd2Ugd2FudFxuICAgICAgICAgICAgICAgIGJvdW5kYXJ5Tm9kZSA9IHdvcmtpbmdOb2RlLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmlzb24gPT0gLTEgJiYgYm91bmRhcnlOb2RlICYmIGlzQ2hhcmFjdGVyRGF0YU5vZGUoYm91bmRhcnlOb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgY2hhcmFjdGVyIGRhdGEgbm9kZSAodGV4dCwgY29tbWVudCwgY2RhdGEpLiBUaGUgd29ya2luZyByYW5nZSBpcyBjb2xsYXBzZWQgYXQgdGhlIHN0YXJ0IG9mXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBub2RlIGNvbnRhaW5pbmcgdGhlIHRleHQgcmFuZ2UncyBib3VuZGFyeSwgc28gd2UgbW92ZSB0aGUgZW5kIG9mIHRoZSB3b3JraW5nIHJhbmdlIHRvIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBib3VuZGFyeSBwb2ludCBhbmQgbWVhc3VyZSB0aGUgbGVuZ3RoIG9mIGl0cyB0ZXh0IHRvIGdldCB0aGUgYm91bmRhcnkncyBvZmZzZXQgd2l0aGluIHRoZSBub2RlLlxuICAgICAgICAgICAgICAgICAgICB3b3JraW5nUmFuZ2Uuc2V0RW5kUG9pbnQoaXNTdGFydCA/IFwiRW5kVG9TdGFydFwiIDogXCJFbmRUb0VuZFwiLCB0ZXh0UmFuZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKC9bXFxyXFxuXS8udGVzdChib3VuZGFyeU5vZGUuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICBGb3IgdGhlIHBhcnRpY3VsYXIgY2FzZSBvZiBhIGJvdW5kYXJ5IHdpdGhpbiBhIHRleHQgbm9kZSBjb250YWluaW5nIHJlbmRlcmVkIGxpbmUgYnJlYWtzICh3aXRoaW4gYVxuICAgICAgICAgICAgICAgICAgICAgICAgPHByZT4gZWxlbWVudCwgZm9yIGV4YW1wbGUpLCB3ZSBuZWVkIGEgc2xpZ2h0bHkgY29tcGxpY2F0ZWQgYXBwcm9hY2ggdG8gZ2V0IHRoZSBib3VuZGFyeSdzIG9mZnNldCBpblxuICAgICAgICAgICAgICAgICAgICAgICAgSUUuIFRoZSBmYWN0czpcblxuICAgICAgICAgICAgICAgICAgICAgICAgLSBFYWNoIGxpbmUgYnJlYWsgaXMgcmVwcmVzZW50ZWQgYXMgXFxyIGluIHRoZSB0ZXh0IG5vZGUncyBkYXRhL25vZGVWYWx1ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAtIEVhY2ggbGluZSBicmVhayBpcyByZXByZXNlbnRlZCBhcyBcXHJcXG4gaW4gdGhlIFRleHRSYW5nZSdzICd0ZXh0JyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLSBUaGUgJ3RleHQnIHByb3BlcnR5IG9mIHRoZSBUZXh0UmFuZ2UgZG9lcyBub3QgY29udGFpbiB0cmFpbGluZyBsaW5lIGJyZWFrc1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBUbyBnZXQgcm91bmQgdGhlIHByb2JsZW0gcHJlc2VudGVkIGJ5IHRoZSBmaW5hbCBmYWN0IGFib3ZlLCB3ZSBjYW4gdXNlIHRoZSBmYWN0IHRoYXQgVGV4dFJhbmdlJ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVTdGFydCgpIGFuZCBtb3ZlRW5kKCkgbWV0aG9kcyByZXR1cm4gdGhlIGFjdHVhbCBudW1iZXIgb2YgY2hhcmFjdGVycyBtb3ZlZCwgd2hpY2ggaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICBuZWNlc3NhcmlseSB0aGUgc2FtZSBhcyB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgaXQgd2FzIGluc3RydWN0ZWQgdG8gbW92ZS4gVGhlIHNpbXBsZXN0IGFwcHJvYWNoIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICB0byB1c2UgdGhpcyB0byBzdG9yZSB0aGUgY2hhcmFjdGVycyBtb3ZlZCB3aGVuIG1vdmluZyBib3RoIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSByYW5nZSB0byB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0IG9mIHRoZSBkb2N1bWVudCBib2R5IGFuZCBzdWJ0cmFjdGluZyB0aGUgc3RhcnQgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZmZzZXQgKHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtb3ZlLW5lZ2F0aXZlLWdhemlsbGlvblwiIG1ldGhvZCkuIEhvd2V2ZXIsIHRoaXMgaXMgZXh0cmVtZWx5IHNsb3cgd2hlbiB0aGUgZG9jdW1lbnQgaXMgbGFyZ2UgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGUgcmFuZ2UgaXMgbmVhciB0aGUgZW5kIG9mIGl0LiBDbGVhcmx5IGRvaW5nIHRoZSBtaXJyb3IgaW1hZ2UgKGkuZS4gbW92aW5nIHRoZSByYW5nZSBib3VuZGFyaWVzIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCkgaGFzIHRoZSBzYW1lIHByb2JsZW0uXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFub3RoZXIgYXBwcm9hY2ggdGhhdCB3b3JrcyBpcyB0byB1c2UgbW92ZVN0YXJ0KCkgdG8gbW92ZSB0aGUgc3RhcnQgYm91bmRhcnkgb2YgdGhlIHJhbmdlIHVwIHRvIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kIGJvdW5kYXJ5IG9uZSBjaGFyYWN0ZXIgYXQgYSB0aW1lIGFuZCBpbmNyZW1lbnRpbmcgYSBjb3VudGVyIHdpdGggdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVN0YXJ0KCkgY2FsbC4gSG93ZXZlciwgdGhlIGNoZWNrIGZvciB3aGV0aGVyIHRoZSBzdGFydCBib3VuZGFyeSBoYXMgcmVhY2hlZCB0aGUgZW5kIGJvdW5kYXJ5IGlzXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlbnNpdmUsIHNvIHRoaXMgbWV0aG9kIGlzIHNsb3cgKGFsdGhvdWdoIHVubGlrZSBcIm1vdmUtbmVnYXRpdmUtZ2F6aWxsaW9uXCIgaXMgbGFyZ2VseSB1bmFmZmVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBieSB0aGUgbG9jYXRpb24gb2YgdGhlIHJhbmdlIHdpdGhpbiB0aGUgZG9jdW1lbnQpLlxuXG4gICAgICAgICAgICAgICAgICAgICAgICBUaGUgYXBwcm9hY2ggdXNlZCBiZWxvdyBpcyBhIGh5YnJpZCBvZiB0aGUgdHdvIG1ldGhvZHMgYWJvdmUuIEl0IHVzZXMgdGhlIGZhY3QgdGhhdCBhIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmluZyB0aGUgVGV4dFJhbmdlJ3MgJ3RleHQnIHByb3BlcnR5IHdpdGggZWFjaCBcXHJcXG4gY29udmVydGVkIHRvIGEgc2luZ2xlIFxcciBjaGFyYWN0ZXIgY2Fubm90XG4gICAgICAgICAgICAgICAgICAgICAgICBiZSBsb25nZXIgdGhhbiB0aGUgdGV4dCBvZiB0aGUgVGV4dFJhbmdlLCBzbyB0aGUgc3RhcnQgb2YgdGhlIHJhbmdlIGlzIG1vdmVkIHRoYXQgbGVuZ3RoIGluaXRpYWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZW4gYSBjaGFyYWN0ZXIgYXQgYSB0aW1lIHRvIG1ha2UgdXAgZm9yIGFueSB0cmFpbGluZyBsaW5lIGJyZWFrcyBub3QgY29udGFpbmVkIGluIHRoZSAndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LiBUaGlzIGhhcyBnb29kIHBlcmZvcm1hbmNlIGluIG1vc3Qgc2l0dWF0aW9ucyBjb21wYXJlZCB0byB0aGUgcHJldmlvdXMgdHdvIG1ldGhvZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBSYW5nZSA9IHdvcmtpbmdSYW5nZS5kdXBsaWNhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZUxlbmd0aCA9IHRlbXBSYW5nZS50ZXh0LnJlcGxhY2UoL1xcclxcbi9nLCBcIlxcclwiKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHRlbXBSYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgcmFuZ2VMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAoY29tcGFyaXNvbiA9IHRlbXBSYW5nZS5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb0VuZFwiLCB0ZW1wUmFuZ2UpKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBSYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSB3b3JraW5nUmFuZ2UudGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlQb3NpdGlvbiA9IG5ldyBEb21Qb3NpdGlvbihib3VuZGFyeU5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYm91bmRhcnkgaW1tZWRpYXRlbHkgZm9sbG93cyBhIGNoYXJhY3RlciBkYXRhIG5vZGUgYW5kIHRoaXMgaXMgdGhlIGVuZCBib3VuZGFyeSwgd2Ugc2hvdWxkIGZhdm91clxuICAgICAgICAgICAgICAgICAgICAvLyBhIHBvc2l0aW9uIHdpdGhpbiB0aGF0LCBhbmQgbGlrZXdpc2UgZm9yIGEgc3RhcnQgYm91bmRhcnkgcHJlY2VkaW5nIGEgY2hhcmFjdGVyIGRhdGEgbm9kZVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSAoaXNDb2xsYXBzZWQgfHwgIWlzU3RhcnQpICYmIHdvcmtpbmdOb2RlLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSAoaXNDb2xsYXBzZWQgfHwgaXNTdGFydCkgJiYgd29ya2luZ05vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Tm9kZSAmJiBpc0NoYXJhY3RlckRhdGFOb2RlKG5leHROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlQb3NpdGlvbiA9IG5ldyBEb21Qb3NpdGlvbihuZXh0Tm9kZSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNOb2RlICYmIGlzQ2hhcmFjdGVyRGF0YU5vZGUocHJldmlvdXNOb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlQb3NpdGlvbiA9IG5ldyBEb21Qb3NpdGlvbihwcmV2aW91c05vZGUsIHByZXZpb3VzTm9kZS5kYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZGFyeVBvc2l0aW9uID0gbmV3IERvbVBvc2l0aW9uKGNvbnRhaW5lckVsZW1lbnQsIGRvbS5nZXROb2RlSW5kZXgod29ya2luZ05vZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwXG4gICAgICAgICAgICAgICAgZG9tLnJlbW92ZU5vZGUod29ya2luZ05vZGUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlQb3NpdGlvbjogYm91bmRhcnlQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbm9kZUluZm86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudDogY29udGFpbmVyRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFJldHVybnMgYSBUZXh0UmFuZ2UgcmVwcmVzZW50aW5nIHRoZSBib3VuZGFyeSBvZiBhIFRleHRSYW5nZSBleHByZXNzZWQgYXMgYSBub2RlIGFuZCBhbiBvZmZzZXQgd2l0aGluIHRoYXRcbiAgICAgICAgICAgIC8vIG5vZGUuIFRoaXMgZnVuY3Rpb24gc3RhcnRlZCBvdXQgYXMgYW4gb3B0aW1pemVkIHZlcnNpb24gb2YgY29kZSBmb3VuZCBpbiBUaW0gQ2FtZXJvbiBSeWFuJ3MgSUVSYW5nZVxuICAgICAgICAgICAgLy8gKGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9pZXJhbmdlLylcbiAgICAgICAgICAgIHZhciBjcmVhdGVCb3VuZGFyeVRleHRSYW5nZSA9IGZ1bmN0aW9uKGJvdW5kYXJ5UG9zaXRpb24sIGlzU3RhcnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmRhcnlOb2RlLCBib3VuZGFyeVBhcmVudCwgYm91bmRhcnlPZmZzZXQgPSBib3VuZGFyeVBvc2l0aW9uLm9mZnNldDtcbiAgICAgICAgICAgICAgICB2YXIgZG9jID0gZG9tLmdldERvY3VtZW50KGJvdW5kYXJ5UG9zaXRpb24ubm9kZSk7XG4gICAgICAgICAgICAgICAgdmFyIHdvcmtpbmdOb2RlLCBjaGlsZE5vZGVzLCB3b3JraW5nUmFuZ2UgPSBnZXRCb2R5KGRvYykuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGVJc0RhdGFOb2RlID0gaXNDaGFyYWN0ZXJEYXRhTm9kZShib3VuZGFyeVBvc2l0aW9uLm5vZGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJc0RhdGFOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5Tm9kZSA9IGJvdW5kYXJ5UG9zaXRpb24ubm9kZTtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlQYXJlbnQgPSBib3VuZGFyeU5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZE5vZGVzID0gYm91bmRhcnlQb3NpdGlvbi5ub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5Tm9kZSA9IChib3VuZGFyeU9mZnNldCA8IGNoaWxkTm9kZXMubGVuZ3RoKSA/IGNoaWxkTm9kZXNbYm91bmRhcnlPZmZzZXRdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlQYXJlbnQgPSBib3VuZGFyeVBvc2l0aW9uLm5vZGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpb24gdGhlIHJhbmdlIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgbm9kZSBjb250YWluaW5nIHRoZSBib3VuZGFyeVxuICAgICAgICAgICAgICAgIHdvcmtpbmdOb2RlID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gTWFraW5nIHRoZSB3b3JraW5nIGVsZW1lbnQgbm9uLWVtcHR5IGVsZW1lbnQgcGVyc3VhZGVzIElFIHRvIGNvbnNpZGVyIHRoZSBUZXh0UmFuZ2UgYm91bmRhcnkgdG8gYmUgd2l0aGluXG4gICAgICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgcmF0aGVyIHRoYW4gaW1tZWRpYXRlbHkgYmVmb3JlIG9yIGFmdGVyIGl0XG4gICAgICAgICAgICAgICAgd29ya2luZ05vZGUuaW5uZXJIVE1MID0gXCImI2ZlZmY7XCI7XG5cbiAgICAgICAgICAgICAgICAvLyBpbnNlcnRCZWZvcmUgaXMgc3VwcG9zZWQgdG8gd29yayBsaWtlIGFwcGVuZENoaWxkIGlmIHRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIG51bGwuIEhvd2V2ZXIsIGEgYnVnIHJlcG9ydFxuICAgICAgICAgICAgICAgIC8vIGZvciBJRVJhbmdlIHN1Z2dlc3RzIHRoYXQgaXQgY2FuIGNyYXNoIHRoZSBicm93c2VyOiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvaWVyYW5nZS9pc3N1ZXMvZGV0YWlsP2lkPTEyXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kYXJ5Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBib3VuZGFyeVBhcmVudC5pbnNlcnRCZWZvcmUod29ya2luZ05vZGUsIGJvdW5kYXJ5Tm9kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlQYXJlbnQuYXBwZW5kQ2hpbGQod29ya2luZ05vZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdvcmtpbmdSYW5nZS5tb3ZlVG9FbGVtZW50VGV4dCh3b3JraW5nTm9kZSk7XG4gICAgICAgICAgICAgICAgd29ya2luZ1JhbmdlLmNvbGxhcHNlKCFpc1N0YXJ0KTtcblxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwXG4gICAgICAgICAgICAgICAgYm91bmRhcnlQYXJlbnQucmVtb3ZlQ2hpbGQod29ya2luZ05vZGUpO1xuXG4gICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgd29ya2luZyByYW5nZSB0byB0aGUgdGV4dCBvZmZzZXQsIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJc0RhdGFOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtpbmdSYW5nZVtpc1N0YXJ0ID8gXCJtb3ZlU3RhcnRcIiA6IFwibW92ZUVuZFwiXShcImNoYXJhY3RlclwiLCBib3VuZGFyeU9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtpbmdSYW5nZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHdyYXBwZXIgYXJvdW5kIGEgVGV4dFJhbmdlLCBwcm92aWRpbmcgZnVsbCBET00gUmFuZ2UgZnVuY3Rpb25hbGl0eSB1c2luZyByYW5neSdzIERvbVJhbmdlIGFzIGFcbiAgICAgICAgICAgIC8vIHByb3RvdHlwZVxuXG4gICAgICAgICAgICBXcmFwcGVkVGV4dFJhbmdlID0gZnVuY3Rpb24odGV4dFJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0UmFuZ2UgPSB0ZXh0UmFuZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBXcmFwcGVkVGV4dFJhbmdlLnByb3RvdHlwZSA9IG5ldyBEb21SYW5nZShkb2N1bWVudCk7XG5cbiAgICAgICAgICAgIFdyYXBwZWRUZXh0UmFuZ2UucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQsIGVuZCwgc3RhcnRCb3VuZGFyeTtcblxuICAgICAgICAgICAgICAgIC8vIFRleHRSYW5nZSdzIHBhcmVudEVsZW1lbnQoKSBtZXRob2QgY2Fubm90IGJlIHRydXN0ZWQuIGdldFRleHRSYW5nZUNvbnRhaW5lckVsZW1lbnQoKSB3b3JrcyBhcm91bmQgdGhhdC5cbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VDb250YWluZXJFbGVtZW50ID0gZ2V0VGV4dFJhbmdlQ29udGFpbmVyRWxlbWVudCh0aGlzLnRleHRSYW5nZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dFJhbmdlSXNDb2xsYXBzZWQodGhpcy50ZXh0UmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IHN0YXJ0ID0gZ2V0VGV4dFJhbmdlQm91bmRhcnlQb3NpdGlvbih0aGlzLnRleHRSYW5nZSwgcmFuZ2VDb250YWluZXJFbGVtZW50LCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSkuYm91bmRhcnlQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGFydEJvdW5kYXJ5ID0gZ2V0VGV4dFJhbmdlQm91bmRhcnlQb3NpdGlvbih0aGlzLnRleHRSYW5nZSwgcmFuZ2VDb250YWluZXJFbGVtZW50LCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnRCb3VuZGFyeS5ib3VuZGFyeVBvc2l0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFuIG9wdGltaXphdGlvbiB1c2VkIGhlcmUgaXMgdGhhdCBpZiB0aGUgc3RhcnQgYW5kIGVuZCBib3VuZGFyaWVzIGhhdmUgdGhlIHNhbWUgcGFyZW50IGVsZW1lbnQsIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBzZWFyY2ggc2NvcGUgZm9yIHRoZSBlbmQgYm91bmRhcnkgY2FuIGJlIGxpbWl0ZWQgdG8gZXhjbHVkZSB0aGUgcG9ydGlvbiBvZiB0aGUgZWxlbWVudCB0aGF0IHByZWNlZGVzXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzdGFydCBib3VuZGFyeVxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBnZXRUZXh0UmFuZ2VCb3VuZGFyeVBvc2l0aW9uKHRoaXMudGV4dFJhbmdlLCByYW5nZUNvbnRhaW5lckVsZW1lbnQsIGZhbHNlLCBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Qm91bmRhcnkubm9kZUluZm8pLmJvdW5kYXJ5UG9zaXRpb247XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGFydChzdGFydC5ub2RlLCBzdGFydC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RW5kKGVuZC5ub2RlLCBlbmQub2Zmc2V0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFdyYXBwZWRUZXh0UmFuZ2UucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJXcmFwcGVkVGV4dFJhbmdlXCI7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBEb21SYW5nZS5jb3B5Q29tcGFyaXNvbkNvbnN0YW50cyhXcmFwcGVkVGV4dFJhbmdlKTtcblxuICAgICAgICAgICAgdmFyIHJhbmdlVG9UZXh0UmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUJvdW5kYXJ5VGV4dFJhbmdlKG5ldyBEb21Qb3NpdGlvbihyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRSYW5nZSA9IGNyZWF0ZUJvdW5kYXJ5VGV4dFJhbmdlKG5ldyBEb21Qb3NpdGlvbihyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFJhbmdlID0gY3JlYXRlQm91bmRhcnlUZXh0UmFuZ2UobmV3IERvbVBvc2l0aW9uKHJhbmdlLmVuZENvbnRhaW5lciwgcmFuZ2UuZW5kT2Zmc2V0KSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dFJhbmdlID0gZ2V0Qm9keSggRG9tUmFuZ2UuZ2V0UmFuZ2VEb2N1bWVudChyYW5nZSkgKS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFJhbmdlLnNldEVuZFBvaW50KFwiU3RhcnRUb1N0YXJ0XCIsIHN0YXJ0UmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0UmFuZ2Uuc2V0RW5kUG9pbnQoXCJFbmRUb0VuZFwiLCBlbmRSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0UmFuZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgV3JhcHBlZFRleHRSYW5nZS5yYW5nZVRvVGV4dFJhbmdlID0gcmFuZ2VUb1RleHRSYW5nZTtcblxuICAgICAgICAgICAgV3JhcHBlZFRleHRSYW5nZS5wcm90b3R5cGUudG9UZXh0UmFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2VUb1RleHRSYW5nZSh0aGlzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGFwaS5XcmFwcGVkVGV4dFJhbmdlID0gV3JhcHBlZFRleHRSYW5nZTtcblxuICAgICAgICAgICAgLy8gSUUgOSBhbmQgYWJvdmUgaGF2ZSBib3RoIGltcGxlbWVudGF0aW9ucyBhbmQgUmFuZ3kgbWFrZXMgYm90aCBhdmFpbGFibGUuIFRoZSBuZXh0IGZldyBsaW5lcyBzZXRzIHdoaWNoXG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbiB0byB1c2UgYnkgZGVmYXVsdC5cbiAgICAgICAgICAgIGlmICghYXBpLmZlYXR1cmVzLmltcGxlbWVudHNEb21SYW5nZSB8fCBhcGkuY29uZmlnLnByZWZlclRleHRSYW5nZSkge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBXcmFwcGVkVGV4dFJhbmdlIGFzIHRoZSBSYW5nZSBwcm9wZXJ0eSBvZiB0aGUgZ2xvYmFsIG9iamVjdCB0byBhbGxvdyBleHByZXNzaW9uIGxpa2UgUmFuZ2UuRU5EX1RPX0VORCB0byB3b3JrXG4gICAgICAgICAgICAgICAgdmFyIGdsb2JhbE9iaiA9IChmdW5jdGlvbihmKSB7IHJldHVybiBmKFwicmV0dXJuIHRoaXM7XCIpKCk7IH0pKEZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGdsb2JhbE9iai5SYW5nZSA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbE9iai5SYW5nZSA9IFdyYXBwZWRUZXh0UmFuZ2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXBpLmNyZWF0ZU5hdGl2ZVJhbmdlID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvYyA9IGdldENvbnRlbnREb2N1bWVudChkb2MsIG1vZHVsZSwgXCJjcmVhdGVOYXRpdmVSYW5nZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEJvZHkoZG9jKS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYXBpLldyYXBwZWRSYW5nZSA9IFdyYXBwZWRUZXh0UmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhcGkuY3JlYXRlUmFuZ2UgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgIGRvYyA9IGdldENvbnRlbnREb2N1bWVudChkb2MsIG1vZHVsZSwgXCJjcmVhdGVSYW5nZVwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYXBpLldyYXBwZWRSYW5nZShhcGkuY3JlYXRlTmF0aXZlUmFuZ2UoZG9jKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBpLmNyZWF0ZVJhbmd5UmFuZ2UgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgIGRvYyA9IGdldENvbnRlbnREb2N1bWVudChkb2MsIG1vZHVsZSwgXCJjcmVhdGVSYW5neVJhbmdlXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEb21SYW5nZShkb2MpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHV0aWwuY3JlYXRlQWxpYXNGb3JEZXByZWNhdGVkTWV0aG9kKGFwaSwgXCJjcmVhdGVJZnJhbWVSYW5nZVwiLCBcImNyZWF0ZVJhbmdlXCIpO1xuICAgICAgICB1dGlsLmNyZWF0ZUFsaWFzRm9yRGVwcmVjYXRlZE1ldGhvZChhcGksIFwiY3JlYXRlSWZyYW1lUmFuZ3lSYW5nZVwiLCBcImNyZWF0ZVJhbmd5UmFuZ2VcIik7XG5cbiAgICAgICAgYXBpLmFkZFNoaW1MaXN0ZW5lcihmdW5jdGlvbih3aW4pIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRvYy5jcmVhdGVSYW5nZSA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgZG9jLmNyZWF0ZVJhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGkuY3JlYXRlUmFuZ2UoZG9jKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9jID0gd2luID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfSk7XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbiAgICAvLyBUaGlzIG1vZHVsZSBjcmVhdGVzIGEgc2VsZWN0aW9uIG9iamVjdCB3cmFwcGVyIHRoYXQgY29uZm9ybXMgYXMgY2xvc2VseSBhcyBwb3NzaWJsZSB0byB0aGUgU2VsZWN0aW9uIHNwZWNpZmljYXRpb25cbiAgICAvLyBpbiB0aGUgSFRNTCBFZGl0aW5nIHNwZWMgKGh0dHA6Ly9kdmNzLnczLm9yZy9oZy9lZGl0aW5nL3Jhdy1maWxlL3RpcC9lZGl0aW5nLmh0bWwjc2VsZWN0aW9ucylcbiAgICBhcGkuY3JlYXRlQ29yZU1vZHVsZShcIldyYXBwZWRTZWxlY3Rpb25cIiwgW1wiRG9tUmFuZ2VcIiwgXCJXcmFwcGVkUmFuZ2VcIl0sIGZ1bmN0aW9uKGFwaSwgbW9kdWxlKSB7XG4gICAgICAgIGFwaS5jb25maWcuY2hlY2tTZWxlY3Rpb25SYW5nZXMgPSB0cnVlO1xuXG4gICAgICAgIHZhciBCT09MRUFOID0gXCJib29sZWFuXCI7XG4gICAgICAgIHZhciBOVU1CRVIgPSBcIm51bWJlclwiO1xuICAgICAgICB2YXIgZG9tID0gYXBpLmRvbTtcbiAgICAgICAgdmFyIHV0aWwgPSBhcGkudXRpbDtcbiAgICAgICAgdmFyIGlzSG9zdE1ldGhvZCA9IHV0aWwuaXNIb3N0TWV0aG9kO1xuICAgICAgICB2YXIgRG9tUmFuZ2UgPSBhcGkuRG9tUmFuZ2U7XG4gICAgICAgIHZhciBXcmFwcGVkUmFuZ2UgPSBhcGkuV3JhcHBlZFJhbmdlO1xuICAgICAgICB2YXIgRE9NRXhjZXB0aW9uID0gYXBpLkRPTUV4Y2VwdGlvbjtcbiAgICAgICAgdmFyIERvbVBvc2l0aW9uID0gZG9tLkRvbVBvc2l0aW9uO1xuICAgICAgICB2YXIgZ2V0TmF0aXZlU2VsZWN0aW9uO1xuICAgICAgICB2YXIgc2VsZWN0aW9uSXNDb2xsYXBzZWQ7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IGFwaS5mZWF0dXJlcztcbiAgICAgICAgdmFyIENPTlRST0wgPSBcIkNvbnRyb2xcIjtcbiAgICAgICAgdmFyIGdldERvY3VtZW50ID0gZG9tLmdldERvY3VtZW50O1xuICAgICAgICB2YXIgZ2V0Qm9keSA9IGRvbS5nZXRCb2R5O1xuICAgICAgICB2YXIgcmFuZ2VzRXF1YWwgPSBEb21SYW5nZS5yYW5nZXNFcXVhbDtcblxuXG4gICAgICAgIC8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gc3VwcG9ydCBkaXJlY3Rpb24gcGFyYW1ldGVycyBpbiB0aGUgQVBJIHRoYXQgbWF5IGJlIGEgc3RyaW5nIChcImJhY2t3YXJkXCIsIFwiYmFja3dhcmRzXCIsXG4gICAgICAgIC8vIFwiZm9yd2FyZFwiIG9yIFwiZm9yd2FyZHNcIikgb3IgYSBCb29sZWFuICh0cnVlIGZvciBiYWNrd2FyZHMpLlxuICAgICAgICBmdW5jdGlvbiBpc0RpcmVjdGlvbkJhY2t3YXJkKGRpcikge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgZGlyID09IFwic3RyaW5nXCIpID8gL15iYWNrd2FyZChzKT8kL2kudGVzdChkaXIpIDogISFkaXI7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRXaW5kb3cod2luLCBtZXRob2ROYW1lKSB7XG4gICAgICAgICAgICBpZiAoIXdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvbS5pc1dpbmRvdyh3aW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luIGluc3RhbmNlb2YgV3JhcHBlZFNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW4ud2luO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9jID0gZG9tLmdldENvbnRlbnREb2N1bWVudCh3aW4sIG1vZHVsZSwgbWV0aG9kTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbS5nZXRXaW5kb3coZG9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFdpblNlbGVjdGlvbih3aW5QYXJhbSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFdpbmRvdyh3aW5QYXJhbSwgXCJnZXRXaW5TZWxlY3Rpb25cIikuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXREb2NTZWxlY3Rpb24od2luUGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRXaW5kb3cod2luUGFyYW0sIFwiZ2V0RG9jU2VsZWN0aW9uXCIpLmRvY3VtZW50LnNlbGVjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHdpblNlbGVjdGlvbklzQmFja3dhcmQoc2VsKSB7XG4gICAgICAgICAgICB2YXIgYmFja3dhcmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZWwuYW5jaG9yTm9kZSkge1xuICAgICAgICAgICAgICAgIGJhY2t3YXJkID0gKGRvbS5jb21wYXJlUG9pbnRzKHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0LCBzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQpID09IDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJhY2t3YXJkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGVzdCBmb3IgdGhlIFJhbmdlL1RleHRSYW5nZSBhbmQgU2VsZWN0aW9uIGZlYXR1cmVzIHJlcXVpcmVkXG4gICAgICAgIC8vIFRlc3QgZm9yIGFiaWxpdHkgdG8gcmV0cmlldmUgc2VsZWN0aW9uXG4gICAgICAgIHZhciBpbXBsZW1lbnRzV2luR2V0U2VsZWN0aW9uID0gaXNIb3N0TWV0aG9kKHdpbmRvdywgXCJnZXRTZWxlY3Rpb25cIiksXG4gICAgICAgICAgICBpbXBsZW1lbnRzRG9jU2VsZWN0aW9uID0gdXRpbC5pc0hvc3RPYmplY3QoZG9jdW1lbnQsIFwic2VsZWN0aW9uXCIpO1xuXG4gICAgICAgIGZlYXR1cmVzLmltcGxlbWVudHNXaW5HZXRTZWxlY3Rpb24gPSBpbXBsZW1lbnRzV2luR2V0U2VsZWN0aW9uO1xuICAgICAgICBmZWF0dXJlcy5pbXBsZW1lbnRzRG9jU2VsZWN0aW9uID0gaW1wbGVtZW50c0RvY1NlbGVjdGlvbjtcblxuICAgICAgICB2YXIgdXNlRG9jdW1lbnRTZWxlY3Rpb24gPSBpbXBsZW1lbnRzRG9jU2VsZWN0aW9uICYmICghaW1wbGVtZW50c1dpbkdldFNlbGVjdGlvbiB8fCBhcGkuY29uZmlnLnByZWZlclRleHRSYW5nZSk7XG5cbiAgICAgICAgaWYgKHVzZURvY3VtZW50U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBnZXROYXRpdmVTZWxlY3Rpb24gPSBnZXREb2NTZWxlY3Rpb247XG4gICAgICAgICAgICBhcGkuaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uKHdpblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvYyA9IGdldFdpbmRvdyh3aW5QYXJhbSwgXCJpc1NlbGVjdGlvblZhbGlkXCIpLmRvY3VtZW50LCBuYXRpdmVTZWwgPSBkb2Muc2VsZWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgc2VsZWN0aW9uIFRleHRSYW5nZSBpcyBhY3R1YWxseSBjb250YWluZWQgd2l0aGluIHRoZSBjb3JyZWN0IGRvY3VtZW50XG4gICAgICAgICAgICAgICAgcmV0dXJuIChuYXRpdmVTZWwudHlwZSAhPSBcIk5vbmVcIiB8fCBnZXREb2N1bWVudChuYXRpdmVTZWwuY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpID09IGRvYyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGltcGxlbWVudHNXaW5HZXRTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGdldE5hdGl2ZVNlbGVjdGlvbiA9IGdldFdpblNlbGVjdGlvbjtcbiAgICAgICAgICAgIGFwaS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kdWxlLmZhaWwoXCJOZWl0aGVyIGRvY3VtZW50LnNlbGVjdGlvbiBvciB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkgZGV0ZWN0ZWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgYXBpLmdldE5hdGl2ZVNlbGVjdGlvbiA9IGdldE5hdGl2ZVNlbGVjdGlvbjtcblxuICAgICAgICB2YXIgdGVzdFNlbGVjdGlvbiA9IGdldE5hdGl2ZVNlbGVjdGlvbigpO1xuXG4gICAgICAgIC8vIEluIEZpcmVmb3gsIHRoZSBzZWxlY3Rpb24gaXMgbnVsbCBpbiBhbiBpZnJhbWUgd2l0aCBkaXNwbGF5OiBub25lLiBTZWUgaXNzdWUgIzEzOC5cbiAgICAgICAgaWYgKCF0ZXN0U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBtb2R1bGUuZmFpbChcIk5hdGl2ZSBzZWxlY3Rpb24gd2FzIG51bGwgKHBvc3NpYmx5IGlzc3VlIDEzOD8pXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRlc3RSYW5nZSA9IGFwaS5jcmVhdGVOYXRpdmVSYW5nZShkb2N1bWVudCk7XG4gICAgICAgIHZhciBib2R5ID0gZ2V0Qm9keShkb2N1bWVudCk7XG5cbiAgICAgICAgLy8gT2J0YWluaW5nIGEgcmFuZ2UgZnJvbSBhIHNlbGVjdGlvblxuICAgICAgICB2YXIgc2VsZWN0aW9uSGFzQW5jaG9yQW5kRm9jdXMgPSB1dGlsLmFyZUhvc3RQcm9wZXJ0aWVzKHRlc3RTZWxlY3Rpb24sXG4gICAgICAgICAgICBbXCJhbmNob3JOb2RlXCIsIFwiZm9jdXNOb2RlXCIsIFwiYW5jaG9yT2Zmc2V0XCIsIFwiZm9jdXNPZmZzZXRcIl0pO1xuXG4gICAgICAgIGZlYXR1cmVzLnNlbGVjdGlvbkhhc0FuY2hvckFuZEZvY3VzID0gc2VsZWN0aW9uSGFzQW5jaG9yQW5kRm9jdXM7XG5cbiAgICAgICAgLy8gVGVzdCBmb3IgZXhpc3RlbmNlIG9mIG5hdGl2ZSBzZWxlY3Rpb24gZXh0ZW5kKCkgbWV0aG9kXG4gICAgICAgIHZhciBzZWxlY3Rpb25IYXNFeHRlbmQgPSBpc0hvc3RNZXRob2QodGVzdFNlbGVjdGlvbiwgXCJleHRlbmRcIik7XG4gICAgICAgIGZlYXR1cmVzLnNlbGVjdGlvbkhhc0V4dGVuZCA9IHNlbGVjdGlvbkhhc0V4dGVuZDtcblxuICAgICAgICAvLyBUZXN0IGlmIHJhbmdlQ291bnQgZXhpc3RzXG4gICAgICAgIHZhciBzZWxlY3Rpb25IYXNSYW5nZUNvdW50ID0gKHR5cGVvZiB0ZXN0U2VsZWN0aW9uLnJhbmdlQ291bnQgPT0gTlVNQkVSKTtcbiAgICAgICAgZmVhdHVyZXMuc2VsZWN0aW9uSGFzUmFuZ2VDb3VudCA9IHNlbGVjdGlvbkhhc1JhbmdlQ291bnQ7XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvblN1cHBvcnRzTXVsdGlwbGVSYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbGxhcHNlZE5vbkVkaXRhYmxlU2VsZWN0aW9uc1N1cHBvcnRlZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIGFkZFJhbmdlQmFja3dhcmRUb05hdGl2ZSA9IHNlbGVjdGlvbkhhc0V4dGVuZCA/XG4gICAgICAgICAgICBmdW5jdGlvbihuYXRpdmVTZWxlY3Rpb24sIHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvYyA9IERvbVJhbmdlLmdldFJhbmdlRG9jdW1lbnQocmFuZ2UpO1xuICAgICAgICAgICAgICAgIHZhciBlbmRSYW5nZSA9IGFwaS5jcmVhdGVSYW5nZShkb2MpO1xuICAgICAgICAgICAgICAgIGVuZFJhbmdlLmNvbGxhcHNlVG9Qb2ludChyYW5nZS5lbmRDb250YWluZXIsIHJhbmdlLmVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgbmF0aXZlU2VsZWN0aW9uLmFkZFJhbmdlKGdldE5hdGl2ZVJhbmdlKGVuZFJhbmdlKSk7XG4gICAgICAgICAgICAgICAgbmF0aXZlU2VsZWN0aW9uLmV4dGVuZChyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgfSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHV0aWwuYXJlSG9zdE1ldGhvZHModGVzdFNlbGVjdGlvbiwgW1wiYWRkUmFuZ2VcIiwgXCJnZXRSYW5nZUF0XCIsIFwicmVtb3ZlQWxsUmFuZ2VzXCJdKSAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiB0ZXN0U2VsZWN0aW9uLnJhbmdlQ291bnQgPT0gTlVNQkVSICYmIGZlYXR1cmVzLmltcGxlbWVudHNEb21SYW5nZSkge1xuXG4gICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmlvdXNseSBhbiBpZnJhbWUgd2FzIHVzZWQgYnV0IHRoaXMgY2F1c2VkIHByb2JsZW1zIGluIHNvbWUgY2lyY3Vtc3RhbmNlcyBpbiBJRSwgc28gdGVzdHMgYXJlXG4gICAgICAgICAgICAgICAgLy8gcGVyZm9ybWVkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50J3Mgc2VsZWN0aW9uLiBTZWUgaXNzdWUgMTA5LlxuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSBhbHNvIHRoYXQgaWYgYSBzZWxlY3Rpb24gcHJldmlvdXNseSBleGlzdGVkLCBpdCBpcyB3aXBlZCBhbmQgbGF0ZXIgcmVzdG9yZWQgYnkgdGhlc2UgdGVzdHMuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyB3aWxsIHJlc3VsdCBpbiB0aGUgc2VsZWN0aW9uIGRpcmVjdGlvbiBiZWdpbiByZXZlcnNlZCBpZiB0aGUgb3JpZ2luYWwgc2VsZWN0aW9uIHdhcyBiYWNrd2FyZHMgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIGJhY2t3YXJkcyBzZWxlY3Rpb25zIChJbnRlcm5ldCBFeHBsb3JlciwgSSdtIGxvb2tpbmcgYXQgeW91KS5cbiAgICAgICAgICAgICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChzZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFNlbGVjdGlvblJhbmdlQ291bnQgPSBzZWwucmFuZ2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkhhc011bHRpcGxlUmFuZ2VzID0gKG9yaWdpbmFsU2VsZWN0aW9uUmFuZ2VDb3VudCA+IDEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxTZWxlY3Rpb25SYW5nZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsU2VsZWN0aW9uQmFja3dhcmQgPSB3aW5TZWxlY3Rpb25Jc0JhY2t3YXJkKHNlbCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JpZ2luYWxTZWxlY3Rpb25SYW5nZUNvdW50OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU2VsZWN0aW9uUmFuZ2VzW2ldID0gc2VsLmdldFJhbmdlQXQoaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgc29tZSB0ZXN0IGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0RWwgPSBkb20uY3JlYXRlVGVzdEVsZW1lbnQoZG9jdW1lbnQsIFwiXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHROb2RlID0gdGVzdEVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlxcdTAwYTBcXHUwMGEwXFx1MDBhMFwiKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRlc3Qgd2hldGhlciB0aGUgbmF0aXZlIHNlbGVjdGlvbiB3aWxsIGFsbG93IGEgY29sbGFwc2VkIHNlbGVjdGlvbiB3aXRoaW4gYSBub24tZWRpdGFibGUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB2YXIgcjEgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHIxLnNldFN0YXJ0KHRleHROb2RlLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcjEuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHIxKTtcbiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VkTm9uRWRpdGFibGVTZWxlY3Rpb25zU3VwcG9ydGVkID0gKHNlbC5yYW5nZUNvdW50ID09IDEpO1xuICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGVzdCB3aGV0aGVyIHRoZSBuYXRpdmUgc2VsZWN0aW9uIGlzIGNhcGFibGUgb2Ygc3VwcG9ydGluZyBtdWx0aXBsZSByYW5nZXMuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0aW9uSGFzTXVsdGlwbGVSYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvaW5nIHRoZSBvcmlnaW5hbCBmZWF0dXJlIHRlc3QgaGVyZSBpbiBDaHJvbWUgMzYgKGFuZCBwcmVzdW1hYmx5IGxhdGVyIHZlcnNpb25zKSBwcmludHMgYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZSBlcnJvciBvZiBcIkRpc2NvbnRpZ3VvdXMgc2VsZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQuXCIgdGhhdCBjYW5ub3QgYmUgc3VwcHJlc3NlZC4gVGhlcmUnc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZyB3ZSBjYW4gZG8gYWJvdXQgdGhpcyB3aGlsZSByZXRhaW5pbmcgdGhlIGZlYXR1cmUgdGVzdCBzbyB3ZSBoYXZlIHRvIHJlc29ydCB0byBhIGJyb3dzZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNuaWZmLiBJJ20gbm90IGhhcHB5IGFib3V0IGl0LiBTZWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zOTk3OTFcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaHJvbWVNYXRjaCA9IHdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKC4qPykgLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hyb21lTWF0Y2ggJiYgcGFyc2VJbnQoY2hyb21lTWF0Y2hbMV0pID49IDM2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uU3VwcG9ydHNNdWx0aXBsZVJhbmdlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcjIgPSByMS5jbG9uZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcjEuc2V0U3RhcnQodGV4dE5vZGUsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIyLnNldEVuZCh0ZXh0Tm9kZSwgMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcjIuc2V0U3RhcnQodGV4dE5vZGUsIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHIyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25TdXBwb3J0c011bHRpcGxlUmFuZ2VzID0gKHNlbC5yYW5nZUNvdW50ID09IDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXBcbiAgICAgICAgICAgICAgICAgICAgZG9tLnJlbW92ZU5vZGUodGVzdEVsKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcmlnaW5hbFNlbGVjdGlvblJhbmdlQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCAmJiBvcmlnaW5hbFNlbGVjdGlvbkJhY2t3YXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZFJhbmdlQmFja3dhcmRUb05hdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRSYW5nZUJhY2t3YXJkVG9OYXRpdmUoc2VsLCBvcmlnaW5hbFNlbGVjdGlvblJhbmdlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLndhcm4oXCJSYW5neSBpbml0aWFsaXphdGlvbjogb3JpZ2luYWwgc2VsZWN0aW9uIHdhcyBiYWNrd2FyZHMgYnV0IHNlbGVjdGlvbiBoYXMgYmVlbiByZXN0b3JlZCBmb3J3YXJkcyBiZWNhdXNlIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgU2VsZWN0aW9uLmV4dGVuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKG9yaWdpbmFsU2VsZWN0aW9uUmFuZ2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShvcmlnaW5hbFNlbGVjdGlvblJhbmdlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZmVhdHVyZXMuc2VsZWN0aW9uU3VwcG9ydHNNdWx0aXBsZVJhbmdlcyA9IHNlbGVjdGlvblN1cHBvcnRzTXVsdGlwbGVSYW5nZXM7XG4gICAgICAgIGZlYXR1cmVzLmNvbGxhcHNlZE5vbkVkaXRhYmxlU2VsZWN0aW9uc1N1cHBvcnRlZCA9IGNvbGxhcHNlZE5vbkVkaXRhYmxlU2VsZWN0aW9uc1N1cHBvcnRlZDtcblxuICAgICAgICAvLyBDb250cm9sUmFuZ2VzXG4gICAgICAgIHZhciBpbXBsZW1lbnRzQ29udHJvbFJhbmdlID0gZmFsc2UsIHRlc3RDb250cm9sUmFuZ2U7XG5cbiAgICAgICAgaWYgKGJvZHkgJiYgaXNIb3N0TWV0aG9kKGJvZHksIFwiY3JlYXRlQ29udHJvbFJhbmdlXCIpKSB7XG4gICAgICAgICAgICB0ZXN0Q29udHJvbFJhbmdlID0gYm9keS5jcmVhdGVDb250cm9sUmFuZ2UoKTtcbiAgICAgICAgICAgIGlmICh1dGlsLmFyZUhvc3RQcm9wZXJ0aWVzKHRlc3RDb250cm9sUmFuZ2UsIFtcIml0ZW1cIiwgXCJhZGRcIl0pKSB7XG4gICAgICAgICAgICAgICAgaW1wbGVtZW50c0NvbnRyb2xSYW5nZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmVhdHVyZXMuaW1wbGVtZW50c0NvbnRyb2xSYW5nZSA9IGltcGxlbWVudHNDb250cm9sUmFuZ2U7XG5cbiAgICAgICAgLy8gU2VsZWN0aW9uIGNvbGxhcHNlZG5lc3NcbiAgICAgICAgaWYgKHNlbGVjdGlvbkhhc0FuY2hvckFuZEZvY3VzKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25Jc0NvbGxhcHNlZCA9IGZ1bmN0aW9uKHNlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWwuYW5jaG9yTm9kZSA9PT0gc2VsLmZvY3VzTm9kZSAmJiBzZWwuYW5jaG9yT2Zmc2V0ID09PSBzZWwuZm9jdXNPZmZzZXQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0aW9uSXNDb2xsYXBzZWQgPSBmdW5jdGlvbihzZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsLnJhbmdlQ291bnQgPyBzZWwuZ2V0UmFuZ2VBdChzZWwucmFuZ2VDb3VudCAtIDEpLmNvbGxhcHNlZCA6IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUFuY2hvckFuZEZvY3VzRnJvbVJhbmdlKHNlbCwgcmFuZ2UsIGJhY2t3YXJkKSB7XG4gICAgICAgICAgICB2YXIgYW5jaG9yUHJlZml4ID0gYmFja3dhcmQgPyBcImVuZFwiIDogXCJzdGFydFwiLCBmb2N1c1ByZWZpeCA9IGJhY2t3YXJkID8gXCJzdGFydFwiIDogXCJlbmRcIjtcbiAgICAgICAgICAgIHNlbC5hbmNob3JOb2RlID0gcmFuZ2VbYW5jaG9yUHJlZml4ICsgXCJDb250YWluZXJcIl07XG4gICAgICAgICAgICBzZWwuYW5jaG9yT2Zmc2V0ID0gcmFuZ2VbYW5jaG9yUHJlZml4ICsgXCJPZmZzZXRcIl07XG4gICAgICAgICAgICBzZWwuZm9jdXNOb2RlID0gcmFuZ2VbZm9jdXNQcmVmaXggKyBcIkNvbnRhaW5lclwiXTtcbiAgICAgICAgICAgIHNlbC5mb2N1c09mZnNldCA9IHJhbmdlW2ZvY3VzUHJlZml4ICsgXCJPZmZzZXRcIl07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVBbmNob3JBbmRGb2N1c0Zyb21OYXRpdmVTZWxlY3Rpb24oc2VsKSB7XG4gICAgICAgICAgICB2YXIgbmF0aXZlU2VsID0gc2VsLm5hdGl2ZVNlbGVjdGlvbjtcbiAgICAgICAgICAgIHNlbC5hbmNob3JOb2RlID0gbmF0aXZlU2VsLmFuY2hvck5vZGU7XG4gICAgICAgICAgICBzZWwuYW5jaG9yT2Zmc2V0ID0gbmF0aXZlU2VsLmFuY2hvck9mZnNldDtcbiAgICAgICAgICAgIHNlbC5mb2N1c05vZGUgPSBuYXRpdmVTZWwuZm9jdXNOb2RlO1xuICAgICAgICAgICAgc2VsLmZvY3VzT2Zmc2V0ID0gbmF0aXZlU2VsLmZvY3VzT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRW1wdHlTZWxlY3Rpb24oc2VsKSB7XG4gICAgICAgICAgICBzZWwuYW5jaG9yTm9kZSA9IHNlbC5mb2N1c05vZGUgPSBudWxsO1xuICAgICAgICAgICAgc2VsLmFuY2hvck9mZnNldCA9IHNlbC5mb2N1c09mZnNldCA9IDA7XG4gICAgICAgICAgICBzZWwucmFuZ2VDb3VudCA9IDA7XG4gICAgICAgICAgICBzZWwuaXNDb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsLl9yYW5nZXMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE5hdGl2ZVJhbmdlKHJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgbmF0aXZlUmFuZ2U7XG4gICAgICAgICAgICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBEb21SYW5nZSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVJhbmdlID0gYXBpLmNyZWF0ZU5hdGl2ZVJhbmdlKHJhbmdlLmdldERvY3VtZW50KCkpO1xuICAgICAgICAgICAgICAgIG5hdGl2ZVJhbmdlLnNldEVuZChyYW5nZS5lbmRDb250YWluZXIsIHJhbmdlLmVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgbmF0aXZlUmFuZ2Uuc2V0U3RhcnQocmFuZ2Uuc3RhcnRDb250YWluZXIsIHJhbmdlLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UgaW5zdGFuY2VvZiBXcmFwcGVkUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVSYW5nZSA9IHJhbmdlLm5hdGl2ZVJhbmdlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmZWF0dXJlcy5pbXBsZW1lbnRzRG9tUmFuZ2UgJiYgKHJhbmdlIGluc3RhbmNlb2YgZG9tLmdldFdpbmRvdyhyYW5nZS5zdGFydENvbnRhaW5lcikuUmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlUmFuZ2UgPSByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVSYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJhbmdlQ29udGFpbnNTaW5nbGVFbGVtZW50KHJhbmdlTm9kZXMpIHtcbiAgICAgICAgICAgIGlmICghcmFuZ2VOb2Rlcy5sZW5ndGggfHwgcmFuZ2VOb2Rlc1swXS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IHJhbmdlTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRvbS5pc0FuY2VzdG9yT2YocmFuZ2VOb2Rlc1swXSwgcmFuZ2VOb2Rlc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U2luZ2xlRWxlbWVudEZyb21SYW5nZShyYW5nZSkge1xuICAgICAgICAgICAgdmFyIG5vZGVzID0gcmFuZ2UuZ2V0Tm9kZXMoKTtcbiAgICAgICAgICAgIGlmICghcmFuZ2VDb250YWluc1NpbmdsZUVsZW1lbnQobm9kZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbW9kdWxlLmNyZWF0ZUVycm9yKFwiZ2V0U2luZ2xlRWxlbWVudEZyb21SYW5nZTogcmFuZ2UgXCIgKyByYW5nZS5pbnNwZWN0KCkgKyBcIiBkaWQgbm90IGNvbnNpc3Qgb2YgYSBzaW5nbGUgZWxlbWVudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2Rlc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbXBsZSwgcXVpY2sgdGVzdCB3aGljaCBvbmx5IG5lZWRzIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gYSBUZXh0UmFuZ2UgYW5kIGEgQ29udHJvbFJhbmdlXG4gICAgICAgIGZ1bmN0aW9uIGlzVGV4dFJhbmdlKHJhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm4gISFyYW5nZSAmJiB0eXBlb2YgcmFuZ2UudGV4dCAhPSBcInVuZGVmaW5lZFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRnJvbVRleHRSYW5nZShzZWwsIHJhbmdlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBSYW5nZSBmcm9tIHRoZSBzZWxlY3RlZCBUZXh0UmFuZ2VcbiAgICAgICAgICAgIHZhciB3cmFwcGVkUmFuZ2UgPSBuZXcgV3JhcHBlZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIHNlbC5fcmFuZ2VzID0gW3dyYXBwZWRSYW5nZV07XG5cbiAgICAgICAgICAgIHVwZGF0ZUFuY2hvckFuZEZvY3VzRnJvbVJhbmdlKHNlbCwgd3JhcHBlZFJhbmdlLCBmYWxzZSk7XG4gICAgICAgICAgICBzZWwucmFuZ2VDb3VudCA9IDE7XG4gICAgICAgICAgICBzZWwuaXNDb2xsYXBzZWQgPSB3cmFwcGVkUmFuZ2UuY29sbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ29udHJvbFNlbGVjdGlvbihzZWwpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgd3JhcHBlZCBzZWxlY3Rpb24gYmFzZWQgb24gd2hhdCdzIG5vdyBpbiB0aGUgbmF0aXZlIHNlbGVjdGlvblxuICAgICAgICAgICAgc2VsLl9yYW5nZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGlmIChzZWwuZG9jU2VsZWN0aW9uLnR5cGUgPT0gXCJOb25lXCIpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVFbXB0eVNlbGVjdGlvbihzZWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udHJvbFJhbmdlID0gc2VsLmRvY1NlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgIGlmIChpc1RleHRSYW5nZShjb250cm9sUmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FzZSAod2hlcmUgdGhlIHNlbGVjdGlvbiB0eXBlIGlzIFwiQ29udHJvbFwiIGFuZCBjYWxsaW5nIGNyZWF0ZVJhbmdlKCkgb24gdGhlIHNlbGVjdGlvbiByZXR1cm5zXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgVGV4dFJhbmdlKSBjYW4gaGFwcGVuIGluIElFIDkuIEl0IGhhcHBlbnMsIGZvciBleGFtcGxlLCB3aGVuIGFsbCBlbGVtZW50cyBpbiB0aGUgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udHJvbFJhbmdlIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIENvbnRyb2xSYW5nZSBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnJvbVRleHRSYW5nZShzZWwsIGNvbnRyb2xSYW5nZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsLnJhbmdlQ291bnQgPSBjb250cm9sUmFuZ2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UsIGRvYyA9IGdldERvY3VtZW50KGNvbnRyb2xSYW5nZS5pdGVtKDApKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWwucmFuZ2VDb3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IGFwaS5jcmVhdGVSYW5nZShkb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShjb250cm9sUmFuZ2UuaXRlbShpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWwuX3Jhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWwuaXNDb2xsYXBzZWQgPSBzZWwucmFuZ2VDb3VudCA9PSAxICYmIHNlbC5fcmFuZ2VzWzBdLmNvbGxhcHNlZDtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQW5jaG9yQW5kRm9jdXNGcm9tUmFuZ2Uoc2VsLCBzZWwuX3Jhbmdlc1tzZWwucmFuZ2VDb3VudCAtIDFdLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkUmFuZ2VUb0NvbnRyb2xTZWxlY3Rpb24oc2VsLCByYW5nZSkge1xuICAgICAgICAgICAgdmFyIGNvbnRyb2xSYW5nZSA9IHNlbC5kb2NTZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciByYW5nZUVsZW1lbnQgPSBnZXRTaW5nbGVFbGVtZW50RnJvbVJhbmdlKHJhbmdlKTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IENvbnRyb2xSYW5nZSBjb250YWluaW5nIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNlbGVjdGVkIENvbnRyb2xSYW5nZSBwbHVzIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAvLyBjb250YWluZWQgYnkgdGhlIHN1cHBsaWVkIHJhbmdlXG4gICAgICAgICAgICB2YXIgZG9jID0gZ2V0RG9jdW1lbnQoY29udHJvbFJhbmdlLml0ZW0oMCkpO1xuICAgICAgICAgICAgdmFyIG5ld0NvbnRyb2xSYW5nZSA9IGdldEJvZHkoZG9jKS5jcmVhdGVDb250cm9sUmFuZ2UoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjb250cm9sUmFuZ2UubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBuZXdDb250cm9sUmFuZ2UuYWRkKGNvbnRyb2xSYW5nZS5pdGVtKGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbmV3Q29udHJvbFJhbmdlLmFkZChyYW5nZUVsZW1lbnQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtb2R1bGUuY3JlYXRlRXJyb3IoXCJhZGRSYW5nZSgpOiBFbGVtZW50IHdpdGhpbiB0aGUgc3BlY2lmaWVkIFJhbmdlIGNvdWxkIG5vdCBiZSBhZGRlZCB0byBjb250cm9sIHNlbGVjdGlvbiAoZG9lcyBpdCBoYXZlIGxheW91dD8pXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3Q29udHJvbFJhbmdlLnNlbGVjdCgpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHdyYXBwZWQgc2VsZWN0aW9uIGJhc2VkIG9uIHdoYXQncyBub3cgaW4gdGhlIG5hdGl2ZSBzZWxlY3Rpb25cbiAgICAgICAgICAgIHVwZGF0ZUNvbnRyb2xTZWxlY3Rpb24oc2VsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnZXRTZWxlY3Rpb25SYW5nZUF0O1xuXG4gICAgICAgIGlmIChpc0hvc3RNZXRob2QodGVzdFNlbGVjdGlvbiwgXCJnZXRSYW5nZUF0XCIpKSB7XG4gICAgICAgICAgICAvLyB0cnkvY2F0Y2ggaXMgcHJlc2VudCBiZWNhdXNlIGdldFJhbmdlQXQoKSBtdXN0IGhhdmUgdGhyb3duIGFuIGVycm9yIGluIHNvbWUgYnJvd3NlciBhbmQgc29tZSBzaXR1YXRpb24uXG4gICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCBJIGRpZG4ndCB3cml0ZSBhIGNvbW1lbnQgYWJvdXQgdGhlIHNwZWNpZmljcyBhbmQgYW0gbm93IHNjYXJlZCB0byB0YWtlIGl0IG91dC4gTGV0IHRoYXQgYmUgYVxuICAgICAgICAgICAgLy8gbGVzc29uIHRvIHVzIGFsbCwgZXNwZWNpYWxseSBtZS5cbiAgICAgICAgICAgIGdldFNlbGVjdGlvblJhbmdlQXQgPSBmdW5jdGlvbihzZWwsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbC5nZXRSYW5nZUF0KGluZGV4KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbkhhc0FuY2hvckFuZEZvY3VzKSB7XG4gICAgICAgICAgICBnZXRTZWxlY3Rpb25SYW5nZUF0ID0gZnVuY3Rpb24oc2VsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvYyA9IGdldERvY3VtZW50KHNlbC5hbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBhcGkuY3JlYXRlUmFuZ2UoZG9jKTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEFuZEVuZChzZWwuYW5jaG9yTm9kZSwgc2VsLmFuY2hvck9mZnNldCwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcblxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVuIHRoZSBzZWxlY3Rpb24gd2FzIHNlbGVjdGVkIGJhY2t3YXJkcyAoZnJvbSB0aGUgZW5kIHRvIHRoZSBzdGFydCBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBkb2N1bWVudClcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29sbGFwc2VkICE9PSB0aGlzLmlzQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QW5kRW5kKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBXcmFwcGVkU2VsZWN0aW9uKHNlbGVjdGlvbiwgZG9jU2VsZWN0aW9uLCB3aW4pIHtcbiAgICAgICAgICAgIHRoaXMubmF0aXZlU2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5kb2NTZWxlY3Rpb24gPSBkb2NTZWxlY3Rpb247XG4gICAgICAgICAgICB0aGlzLl9yYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMud2luID0gd2luO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICBXcmFwcGVkU2VsZWN0aW9uLnByb3RvdHlwZSA9IGFwaS5zZWxlY3Rpb25Qcm90b3R5cGU7XG5cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlUHJvcGVydGllcyhzZWwpIHtcbiAgICAgICAgICAgIHNlbC53aW4gPSBzZWwuYW5jaG9yTm9kZSA9IHNlbC5mb2N1c05vZGUgPSBzZWwuX3JhbmdlcyA9IG51bGw7XG4gICAgICAgICAgICBzZWwucmFuZ2VDb3VudCA9IHNlbC5hbmNob3JPZmZzZXQgPSBzZWwuZm9jdXNPZmZzZXQgPSAwO1xuICAgICAgICAgICAgc2VsLmRldGFjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYWNoZWRSYW5neVNlbGVjdGlvbnMgPSBbXTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RPbkNhY2hlZFNlbGVjdGlvbih3aW4sIGFjdGlvbikge1xuICAgICAgICAgICAgdmFyIGkgPSBjYWNoZWRSYW5neVNlbGVjdGlvbnMubGVuZ3RoLCBjYWNoZWQsIHNlbDtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBjYWNoZWQgPSBjYWNoZWRSYW5neVNlbGVjdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgc2VsID0gY2FjaGVkLnNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09IFwiZGVsZXRlQWxsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlUHJvcGVydGllcyhzZWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FjaGVkLndpbiA9PSB3aW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSBcImRlbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWRSYW5neVNlbGVjdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSBcImRlbGV0ZUFsbFwiKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVkUmFuZ3lTZWxlY3Rpb25zLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnZXRTZWxlY3Rpb24gPSBmdW5jdGlvbih3aW4pIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYSBSYW5neSBTZWxlY3Rpb24gb2JqZWN0XG4gICAgICAgICAgICBpZiAod2luICYmIHdpbiBpbnN0YW5jZW9mIFdyYXBwZWRTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB3aW4ucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdpbiA9IGdldFdpbmRvdyh3aW4sIFwiZ2V0TmF0aXZlU2VsZWN0aW9uXCIpO1xuXG4gICAgICAgICAgICB2YXIgc2VsID0gYWN0T25DYWNoZWRTZWxlY3Rpb24od2luKTtcbiAgICAgICAgICAgIHZhciBuYXRpdmVTZWwgPSBnZXROYXRpdmVTZWxlY3Rpb24od2luKSwgZG9jU2VsID0gaW1wbGVtZW50c0RvY1NlbGVjdGlvbiA/IGdldERvY1NlbGVjdGlvbih3aW4pIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChzZWwpIHtcbiAgICAgICAgICAgICAgICBzZWwubmF0aXZlU2VsZWN0aW9uID0gbmF0aXZlU2VsO1xuICAgICAgICAgICAgICAgIHNlbC5kb2NTZWxlY3Rpb24gPSBkb2NTZWw7XG4gICAgICAgICAgICAgICAgc2VsLnJlZnJlc2goKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsID0gbmV3IFdyYXBwZWRTZWxlY3Rpb24obmF0aXZlU2VsLCBkb2NTZWwsIHdpbik7XG4gICAgICAgICAgICAgICAgY2FjaGVkUmFuZ3lTZWxlY3Rpb25zLnB1c2goIHsgd2luOiB3aW4sIHNlbGVjdGlvbjogc2VsIH0gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWw7XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBpLmdldFNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbjtcblxuICAgICAgICB1dGlsLmNyZWF0ZUFsaWFzRm9yRGVwcmVjYXRlZE1ldGhvZChhcGksIFwiZ2V0SWZyYW1lU2VsZWN0aW9uXCIsIFwiZ2V0U2VsZWN0aW9uXCIpO1xuXG4gICAgICAgIHZhciBzZWxQcm90byA9IFdyYXBwZWRTZWxlY3Rpb24ucHJvdG90eXBlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xTZWxlY3Rpb24oc2VsLCByYW5nZXMpIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBzZWxlY3Rpb24gYmVjb21lcyBvZiB0eXBlIFwiQ29udHJvbFwiXG4gICAgICAgICAgICB2YXIgZG9jID0gZ2V0RG9jdW1lbnQocmFuZ2VzWzBdLnN0YXJ0Q29udGFpbmVyKTtcbiAgICAgICAgICAgIHZhciBjb250cm9sUmFuZ2UgPSBnZXRCb2R5KGRvYykuY3JlYXRlQ29udHJvbFJhbmdlKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgZWwsIGxlbiA9IHJhbmdlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgIGVsID0gZ2V0U2luZ2xlRWxlbWVudEZyb21SYW5nZShyYW5nZXNbaV0pO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xSYW5nZS5hZGQoZWwpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG1vZHVsZS5jcmVhdGVFcnJvcihcInNldFJhbmdlcygpOiBFbGVtZW50IHdpdGhpbiBvbmUgb2YgdGhlIHNwZWNpZmllZCBSYW5nZXMgY291bGQgbm90IGJlIGFkZGVkIHRvIGNvbnRyb2wgc2VsZWN0aW9uIChkb2VzIGl0IGhhdmUgbGF5b3V0PylcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udHJvbFJhbmdlLnNlbGVjdCgpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHdyYXBwZWQgc2VsZWN0aW9uIGJhc2VkIG9uIHdoYXQncyBub3cgaW4gdGhlIG5hdGl2ZSBzZWxlY3Rpb25cbiAgICAgICAgICAgIHVwZGF0ZUNvbnRyb2xTZWxlY3Rpb24oc2VsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbGVjdGluZyBhIHJhbmdlXG4gICAgICAgIGlmICghdXNlRG9jdW1lbnRTZWxlY3Rpb24gJiYgc2VsZWN0aW9uSGFzQW5jaG9yQW5kRm9jdXMgJiYgdXRpbC5hcmVIb3N0TWV0aG9kcyh0ZXN0U2VsZWN0aW9uLCBbXCJyZW1vdmVBbGxSYW5nZXNcIiwgXCJhZGRSYW5nZVwiXSkpIHtcbiAgICAgICAgICAgIHNlbFByb3RvLnJlbW92ZUFsbFJhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlU2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUVtcHR5U2VsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGFkZFJhbmdlQmFja3dhcmQgPSBmdW5jdGlvbihzZWwsIHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgYWRkUmFuZ2VCYWNrd2FyZFRvTmF0aXZlKHNlbC5uYXRpdmVTZWxlY3Rpb24sIHJhbmdlKTtcbiAgICAgICAgICAgICAgICBzZWwucmVmcmVzaCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbkhhc1JhbmdlQ291bnQpIHtcbiAgICAgICAgICAgICAgICBzZWxQcm90by5hZGRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltcGxlbWVudHNDb250cm9sUmFuZ2UgJiYgaW1wbGVtZW50c0RvY1NlbGVjdGlvbiAmJiB0aGlzLmRvY1NlbGVjdGlvbi50eXBlID09IENPTlRST0wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFJhbmdlVG9Db250cm9sU2VsZWN0aW9uKHRoaXMsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RpcmVjdGlvbkJhY2t3YXJkKGRpcmVjdGlvbikgJiYgc2VsZWN0aW9uSGFzRXh0ZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmFuZ2VCYWNrd2FyZCh0aGlzLCByYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1JhbmdlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvblN1cHBvcnRzTXVsdGlwbGVSYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNSYW5nZUNvdW50ID0gdGhpcy5yYW5nZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUmFuZ2VDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsb25lIHRoZSBuYXRpdmUgcmFuZ2Ugc28gdGhhdCBjaGFuZ2luZyB0aGUgc2VsZWN0ZWQgcmFuZ2UgZG9lcyBub3QgYWZmZWN0IHRoZSBzZWxlY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBjb250cmFyeSB0byB0aGUgc3BlYyBidXQgaXMgdGhlIG9ubHkgd2F5IHRvIGFjaGlldmUgY29uc2lzdGVuY3kgYmV0d2VlbiBicm93c2Vycy4gU2VlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNzdWUgODAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb25lZE5hdGl2ZVJhbmdlID0gZ2V0TmF0aXZlUmFuZ2UocmFuZ2UpLmNsb25lUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZVNlbGVjdGlvbi5hZGRSYW5nZShjbG9uZWROYXRpdmVSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIGFkZGluZyB0aGUgcmFuZ2Ugd2FzIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmdlQ291bnQgPSB0aGlzLm5hdGl2ZVNlbGVjdGlvbi5yYW5nZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VDb3VudCA9PSBwcmV2aW91c1JhbmdlQ291bnQgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSByYW5nZSB3YXMgYWRkZWQgc3VjY2Vzc2Z1bGx5XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgcmFuZ2UgdGhhdCB3ZSBhZGRlZCB0byB0aGUgc2VsZWN0aW9uIGlzIHJlZmxlY3RlZCBpbiB0aGUgbGFzdCByYW5nZSBleHRyYWN0ZWQgZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcGkuY29uZmlnLmNoZWNrU2VsZWN0aW9uUmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmF0aXZlUmFuZ2UgPSBnZXRTZWxlY3Rpb25SYW5nZUF0KHRoaXMubmF0aXZlU2VsZWN0aW9uLCB0aGlzLnJhbmdlQ291bnQgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYXRpdmVSYW5nZSAmJiAhcmFuZ2VzRXF1YWwobmF0aXZlUmFuZ2UsIHJhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhcHBlbnMgaW4gV2ViS2l0IHdpdGgsIGZvciBleGFtcGxlLCBhIHNlbGVjdGlvbiBwbGFjZWQgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBuZXcgV3JhcHBlZFJhbmdlKG5hdGl2ZVJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZXNbdGhpcy5yYW5nZUNvdW50IC0gMV0gPSByYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQW5jaG9yQW5kRm9jdXNGcm9tUmFuZ2UodGhpcywgcmFuZ2UsIHNlbGVjdGlvbklzQmFja3dhcmQodGhpcy5uYXRpdmVTZWxlY3Rpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NvbGxhcHNlZCA9IHNlbGVjdGlvbklzQ29sbGFwc2VkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSByYW5nZSB3YXMgbm90IGFkZGVkIHN1Y2Nlc3NmdWxseS4gVGhlIHNpbXBsZXN0IHRoaW5nIGlzIHRvIHJlZnJlc2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsUHJvdG8uYWRkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSwgZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RpcmVjdGlvbkJhY2t3YXJkKGRpcmVjdGlvbikgJiYgc2VsZWN0aW9uSGFzRXh0ZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRSYW5nZUJhY2t3YXJkKHRoaXMsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlU2VsZWN0aW9uLmFkZFJhbmdlKGdldE5hdGl2ZVJhbmdlKHJhbmdlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbFByb3RvLnNldFJhbmdlcyA9IGZ1bmN0aW9uKHJhbmdlcykge1xuICAgICAgICAgICAgICAgIGlmIChpbXBsZW1lbnRzQ29udHJvbFJhbmdlICYmIGltcGxlbWVudHNEb2NTZWxlY3Rpb24gJiYgcmFuZ2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ29udHJvbFNlbGVjdGlvbih0aGlzLCByYW5nZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUmFuZ2UocmFuZ2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoaXNIb3N0TWV0aG9kKHRlc3RTZWxlY3Rpb24sIFwiZW1wdHlcIikgJiYgaXNIb3N0TWV0aG9kKHRlc3RSYW5nZSwgXCJzZWxlY3RcIikgJiZcbiAgICAgICAgICAgICAgICAgICBpbXBsZW1lbnRzQ29udHJvbFJhbmdlICYmIHVzZURvY3VtZW50U2VsZWN0aW9uKSB7XG5cbiAgICAgICAgICAgIHNlbFByb3RvLnJlbW92ZUFsbFJhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIEFkZGVkIHRyeS9jYXRjaCBhcyBmaXggZm9yIGlzc3VlICMyMVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jU2VsZWN0aW9uLmVtcHR5KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGVtcHR5KCkgbm90IHdvcmtpbmcgKGlzc3VlICMyNClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9jU2VsZWN0aW9uLnR5cGUgIT0gXCJOb25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdvcmsgYXJvdW5kIGZhaWx1cmUgdG8gZW1wdHkgYSBjb250cm9sIHNlbGVjdGlvbiBieSBpbnN0ZWFkIHNlbGVjdGluZyBhIFRleHRSYW5nZSBhbmQgdGhlblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGluZyBlbXB0eSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IGdldERvY3VtZW50KHRoaXMuYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZG9jU2VsZWN0aW9uLnR5cGUgPT0gQ09OVFJPTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sUmFuZ2UgPSB0aGlzLmRvY1NlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sUmFuZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IGdldERvY3VtZW50KCBjb250cm9sUmFuZ2UuaXRlbSgwKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dFJhbmdlID0gZ2V0Qm9keShkb2MpLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRSYW5nZS5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY1NlbGVjdGlvbi5lbXB0eSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaChleCkge31cbiAgICAgICAgICAgICAgICB1cGRhdGVFbXB0eVNlbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbFByb3RvLmFkZFJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kb2NTZWxlY3Rpb24udHlwZSA9PSBDT05UUk9MKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJhbmdlVG9Db250cm9sU2VsZWN0aW9uKHRoaXMsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcGkuV3JhcHBlZFRleHRSYW5nZS5yYW5nZVRvVGV4dFJhbmdlKHJhbmdlKS5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmFuZ2VzWzBdID0gcmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VDb3VudCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDb2xsYXBzZWQgPSB0aGlzLl9yYW5nZXNbMF0uY29sbGFwc2VkO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVBbmNob3JBbmRGb2N1c0Zyb21SYW5nZSh0aGlzLCByYW5nZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbFByb3RvLnNldFJhbmdlcyA9IGZ1bmN0aW9uKHJhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlQ291bnQgPSByYW5nZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZUNvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDb250cm9sU2VsZWN0aW9uKHRoaXMsIHJhbmdlcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5nZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUmFuZ2UocmFuZ2VzWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kdWxlLmZhaWwoXCJObyBtZWFucyBvZiBzZWxlY3RpbmcgYSBSYW5nZSBvciBUZXh0UmFuZ2Ugd2FzIGZvdW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsUHJvdG8uZ2V0UmFuZ2VBdCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJJTkRFWF9TSVpFX0VSUlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIHJhbmdlIHRvIHByZXNlcnZlIHNlbGVjdGlvbi1yYW5nZSBpbmRlcGVuZGVuY2UuIFNlZSBpc3N1ZSA4MC5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmFuZ2VzW2luZGV4XS5jbG9uZVJhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlZnJlc2hTZWxlY3Rpb247XG5cbiAgICAgICAgaWYgKHVzZURvY3VtZW50U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICByZWZyZXNoU2VsZWN0aW9uID0gZnVuY3Rpb24oc2VsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlO1xuICAgICAgICAgICAgICAgIGlmIChhcGkuaXNTZWxlY3Rpb25WYWxpZChzZWwud2luKSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHNlbC5kb2NTZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IGdldEJvZHkoc2VsLndpbi5kb2N1bWVudCkuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzZWwuZG9jU2VsZWN0aW9uLnR5cGUgPT0gQ09OVFJPTCkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb250cm9sU2VsZWN0aW9uKHNlbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1RleHRSYW5nZShyYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRnJvbVRleHRSYW5nZShzZWwsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVFbXB0eVNlbGVjdGlvbihzZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoaXNIb3N0TWV0aG9kKHRlc3RTZWxlY3Rpb24sIFwiZ2V0UmFuZ2VBdFwiKSAmJiB0eXBlb2YgdGVzdFNlbGVjdGlvbi5yYW5nZUNvdW50ID09IE5VTUJFUikge1xuICAgICAgICAgICAgcmVmcmVzaFNlbGVjdGlvbiA9IGZ1bmN0aW9uKHNlbCkge1xuICAgICAgICAgICAgICAgIGlmIChpbXBsZW1lbnRzQ29udHJvbFJhbmdlICYmIGltcGxlbWVudHNEb2NTZWxlY3Rpb24gJiYgc2VsLmRvY1NlbGVjdGlvbi50eXBlID09IENPTlRST0wpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29udHJvbFNlbGVjdGlvbihzZWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5fcmFuZ2VzLmxlbmd0aCA9IHNlbC5yYW5nZUNvdW50ID0gc2VsLm5hdGl2ZVNlbGVjdGlvbi5yYW5nZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsLnJhbmdlQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWwucmFuZ2VDb3VudDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsLl9yYW5nZXNbaV0gPSBuZXcgYXBpLldyYXBwZWRSYW5nZShzZWwubmF0aXZlU2VsZWN0aW9uLmdldFJhbmdlQXQoaSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQW5jaG9yQW5kRm9jdXNGcm9tUmFuZ2Uoc2VsLCBzZWwuX3Jhbmdlc1tzZWwucmFuZ2VDb3VudCAtIDFdLCBzZWxlY3Rpb25Jc0JhY2t3YXJkKHNlbC5uYXRpdmVTZWxlY3Rpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5pc0NvbGxhcHNlZCA9IHNlbGVjdGlvbklzQ29sbGFwc2VkKHNlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVFbXB0eVNlbGVjdGlvbihzZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb25IYXNBbmNob3JBbmRGb2N1cyAmJiB0eXBlb2YgdGVzdFNlbGVjdGlvbi5pc0NvbGxhcHNlZCA9PSBCT09MRUFOICYmIHR5cGVvZiB0ZXN0UmFuZ2UuY29sbGFwc2VkID09IEJPT0xFQU4gJiYgZmVhdHVyZXMuaW1wbGVtZW50c0RvbVJhbmdlKSB7XG4gICAgICAgICAgICByZWZyZXNoU2VsZWN0aW9uID0gZnVuY3Rpb24oc2VsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlLCBuYXRpdmVTZWwgPSBzZWwubmF0aXZlU2VsZWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVTZWwuYW5jaG9yTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IGdldFNlbGVjdGlvblJhbmdlQXQobmF0aXZlU2VsLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsLl9yYW5nZXMgPSBbcmFuZ2VdO1xuICAgICAgICAgICAgICAgICAgICBzZWwucmFuZ2VDb3VudCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUFuY2hvckFuZEZvY3VzRnJvbU5hdGl2ZVNlbGVjdGlvbihzZWwpO1xuICAgICAgICAgICAgICAgICAgICBzZWwuaXNDb2xsYXBzZWQgPSBzZWxlY3Rpb25Jc0NvbGxhcHNlZChzZWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUVtcHR5U2VsZWN0aW9uKHNlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZHVsZS5mYWlsKFwiTm8gbWVhbnMgb2Ygb2J0YWluaW5nIGEgUmFuZ2Ugb3IgVGV4dFJhbmdlIGZyb20gdGhlIHVzZXIncyBzZWxlY3Rpb24gd2FzIGZvdW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsUHJvdG8ucmVmcmVzaCA9IGZ1bmN0aW9uKGNoZWNrRm9yQ2hhbmdlcykge1xuICAgICAgICAgICAgdmFyIG9sZFJhbmdlcyA9IGNoZWNrRm9yQ2hhbmdlcyA/IHRoaXMuX3Jhbmdlcy5zbGljZSgwKSA6IG51bGw7XG4gICAgICAgICAgICB2YXIgb2xkQW5jaG9yTm9kZSA9IHRoaXMuYW5jaG9yTm9kZSwgb2xkQW5jaG9yT2Zmc2V0ID0gdGhpcy5hbmNob3JPZmZzZXQ7XG5cbiAgICAgICAgICAgIHJlZnJlc2hTZWxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICBpZiAoY2hlY2tGb3JDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIHJhbmdlIGNvdW50IGZpcnN0XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBvbGRSYW5nZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChpICE9IHRoaXMuX3Jhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm93IGNoZWNrIHRoZSBkaXJlY3Rpb24uIENoZWNraW5nIHRoZSBhbmNob3IgcG9zaXRpb24gaXMgdGhlIHNhbWUgaXMgZW5vdWdoIHNpbmNlIHdlJ3JlIGNoZWNraW5nIGFsbCB0aGVcbiAgICAgICAgICAgICAgICAvLyByYW5nZXMgYWZ0ZXIgdGhpc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvck5vZGUgIT0gb2xkQW5jaG9yTm9kZSB8fCB0aGlzLmFuY2hvck9mZnNldCAhPSBvbGRBbmNob3JPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRmluYWxseSwgY29tcGFyZSBlYWNoIHJhbmdlIGluIHR1cm5cbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmFuZ2VzRXF1YWwob2xkUmFuZ2VzW2ldLCB0aGlzLl9yYW5nZXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUmVtb3ZhbCBvZiBhIHNpbmdsZSByYW5nZVxuICAgICAgICB2YXIgcmVtb3ZlUmFuZ2VNYW51YWxseSA9IGZ1bmN0aW9uKHNlbCwgcmFuZ2UpIHtcbiAgICAgICAgICAgIHZhciByYW5nZXMgPSBzZWwuZ2V0QWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmFuZ2VzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyYW5nZXNFcXVhbChyYW5nZSwgcmFuZ2VzW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2VzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNlbC5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRW1wdHlTZWxlY3Rpb24oc2VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaW1wbGVtZW50c0NvbnRyb2xSYW5nZSAmJiBpbXBsZW1lbnRzRG9jU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBzZWxQcm90by5yZW1vdmVSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9jU2VsZWN0aW9uLnR5cGUgPT0gQ09OVFJPTCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbFJhbmdlID0gdGhpcy5kb2NTZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlRWxlbWVudCA9IGdldFNpbmdsZUVsZW1lbnRGcm9tUmFuZ2UocmFuZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBDb250cm9sUmFuZ2UgY29udGFpbmluZyBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBzZWxlY3RlZCBDb250cm9sUmFuZ2UgbWludXMgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgY29udGFpbmVkIGJ5IHRoZSBzdXBwbGllZCByYW5nZVxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9jID0gZ2V0RG9jdW1lbnQoY29udHJvbFJhbmdlLml0ZW0oMCkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Q29udHJvbFJhbmdlID0gZ2V0Qm9keShkb2MpLmNyZWF0ZUNvbnRyb2xSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWwsIHJlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvbnRyb2xSYW5nZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSBjb250cm9sUmFuZ2UuaXRlbShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCAhPT0gcmFuZ2VFbGVtZW50IHx8IHJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250cm9sUmFuZ2UuYWRkKGNvbnRyb2xSYW5nZS5pdGVtKGkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3Q29udHJvbFJhbmdlLnNlbGVjdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgd3JhcHBlZCBzZWxlY3Rpb24gYmFzZWQgb24gd2hhdCdzIG5vdyBpbiB0aGUgbmF0aXZlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb250cm9sU2VsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVJhbmdlTWFudWFsbHkodGhpcywgcmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxQcm90by5yZW1vdmVSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlUmFuZ2VNYW51YWxseSh0aGlzLCByYW5nZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZWN0aW5nIGlmIGEgc2VsZWN0aW9uIGlzIGJhY2t3YXJkXG4gICAgICAgIHZhciBzZWxlY3Rpb25Jc0JhY2t3YXJkO1xuICAgICAgICBpZiAoIXVzZURvY3VtZW50U2VsZWN0aW9uICYmIHNlbGVjdGlvbkhhc0FuY2hvckFuZEZvY3VzICYmIGZlYXR1cmVzLmltcGxlbWVudHNEb21SYW5nZSkge1xuICAgICAgICAgICAgc2VsZWN0aW9uSXNCYWNrd2FyZCA9IHdpblNlbGVjdGlvbklzQmFja3dhcmQ7XG5cbiAgICAgICAgICAgIHNlbFByb3RvLmlzQmFja3dhcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9uSXNCYWNrd2FyZCh0aGlzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25Jc0JhY2t3YXJkID0gc2VsUHJvdG8uaXNCYWNrd2FyZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYW4gYWxpYXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiBGcm9tIDEuMywgZXZlcnl0aGluZyBpcyBcImJhY2t3YXJkXCIgcmF0aGVyIHRoYW4gXCJiYWNrd2FyZHNcIlxuICAgICAgICBzZWxQcm90by5pc0JhY2t3YXJkcyA9IHNlbFByb3RvLmlzQmFja3dhcmQ7XG5cbiAgICAgICAgLy8gU2VsZWN0aW9uIHN0cmluZ2lmaWVyXG4gICAgICAgIC8vIFRoaXMgaXMgY29uZm9ybWFudCB0byB0aGUgb2xkIEhUTUw1IHNlbGVjdGlvbnMgZHJhZnQgc3BlYyBidXQgZGlmZmVycyBmcm9tIFdlYktpdCBhbmQgTW96aWxsYSdzIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAvLyBUaGUgY3VycmVudCBzcGVjIGRvZXMgbm90IHlldCBkZWZpbmUgdGhpcyBtZXRob2QuXG4gICAgICAgIHNlbFByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2VUZXh0cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMucmFuZ2VDb3VudDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VUZXh0c1tpXSA9IFwiXCIgKyB0aGlzLl9yYW5nZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VUZXh0cy5qb2luKFwiXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGFzc2VydE5vZGVJblNhbWVEb2N1bWVudChzZWwsIG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWwud2luLmRvY3VtZW50ICE9IGdldERvY3VtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIldST05HX0RPQ1VNRU5UX0VSUlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vIGN1cnJlbnQgYnJvd3NlciBjb25mb3JtcyBmdWxseSB0byB0aGUgc3BlYyBmb3IgdGhpcyBtZXRob2QsIHNvIFJhbmd5J3Mgb3duIG1ldGhvZCBpcyBhbHdheXMgdXNlZFxuICAgICAgICBzZWxQcm90by5jb2xsYXBzZSA9IGZ1bmN0aW9uKG5vZGUsIG9mZnNldCkge1xuICAgICAgICAgICAgYXNzZXJ0Tm9kZUluU2FtZURvY3VtZW50KHRoaXMsIG5vZGUpO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gYXBpLmNyZWF0ZVJhbmdlKG5vZGUpO1xuICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2VUb1BvaW50KG5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLnNldFNpbmdsZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuaXNDb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbFByb3RvLmNvbGxhcHNlVG9TdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuX3Jhbmdlc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNlKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCByYW5nZS5zdGFydE9mZnNldCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJJTlZBTElEX1NUQVRFX0VSUlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxQcm90by5jb2xsYXBzZVRvRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5fcmFuZ2VzW3RoaXMucmFuZ2VDb3VudCAtIDFdO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2UocmFuZ2UuZW5kQ29udGFpbmVyLCByYW5nZS5lbmRPZmZzZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiSU5WQUxJRF9TVEFURV9FUlJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVGhlIHNwZWMgaXMgdmVyeSBzcGVjaWZpYyBvbiBob3cgc2VsZWN0QWxsQ2hpbGRyZW4gc2hvdWxkIGJlIGltcGxlbWVudGVkIGFuZCBub3QgYWxsIGJyb3dzZXJzIGltcGxlbWVudCBpdCBhc1xuICAgICAgICAvLyBzcGVjaWZpZWQgc28gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyBuZXZlciB1c2VkIGJ5IFJhbmd5LlxuICAgICAgICBzZWxQcm90by5zZWxlY3RBbGxDaGlsZHJlbiA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgIGFzc2VydE5vZGVJblNhbWVEb2N1bWVudCh0aGlzLCBub2RlKTtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGFwaS5jcmVhdGVSYW5nZShub2RlKTtcbiAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhub2RlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2luZ2xlUmFuZ2UocmFuZ2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbFByb3RvLmRlbGV0ZUZyb21Eb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gU2VwY2lhbCBiZWhhdmlvdXIgcmVxdWlyZWQgZm9yIElFJ3MgY29udHJvbCBzZWxlY3Rpb25zXG4gICAgICAgICAgICBpZiAoaW1wbGVtZW50c0NvbnRyb2xSYW5nZSAmJiBpbXBsZW1lbnRzRG9jU2VsZWN0aW9uICYmIHRoaXMuZG9jU2VsZWN0aW9uLnR5cGUgPT0gQ09OVFJPTCkge1xuICAgICAgICAgICAgICAgIHZhciBjb250cm9sUmFuZ2UgPSB0aGlzLmRvY1NlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50O1xuICAgICAgICAgICAgICAgIHdoaWxlIChjb250cm9sUmFuZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBjb250cm9sUmFuZ2UuaXRlbSgwKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFJhbmdlLnJlbW92ZShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZG9tLnJlbW92ZU5vZGUoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJhbmdlQ291bnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5nZXRBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmFuZ2VzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXNbaV0uZGVsZXRlQ29udGVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgc3BlYyBzYXlzIG5vdGhpbmcgYWJvdXQgd2hhdCB0aGUgc2VsZWN0aW9uIHNob3VsZCBjb250YWluIGFmdGVyIGNhbGxpbmcgZGVsZXRlQ29udGVudHMgb24gZWFjaFxuICAgICAgICAgICAgICAgICAgICAvLyByYW5nZS4gRmlyZWZveCBtb3ZlcyB0aGUgc2VsZWN0aW9uIHRvIHdoZXJlIHRoZSBmaW5hbCBzZWxlY3RlZCByYW5nZSB3YXMsIHNvIHdlIGVtdWxhdGUgdGhhdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFJhbmdlKHJhbmdlc1tsZW4gLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlIG5vbi1zdGFuZGFyZCBleHRlbnNpb25zXG4gICAgICAgIHNlbFByb3RvLmVhY2hSYW5nZSA9IGZ1bmN0aW9uKGZ1bmMsIHJldHVyblZhbHVlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fcmFuZ2VzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCBmdW5jKCB0aGlzLmdldFJhbmdlQXQoaSkgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxQcm90by5nZXRBbGxSYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciByYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZWFjaFJhbmdlKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbFByb3RvLnNldFNpbmdsZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UsIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkUmFuZ2UocmFuZ2UsIGRpcmVjdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsUHJvdG8uY2FsbE1ldGhvZE9uRWFjaFJhbmdlID0gZnVuY3Rpb24obWV0aG9kTmFtZSwgcGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5lYWNoUmFuZ2UoIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKCByYW5nZVttZXRob2ROYW1lXS5hcHBseShyYW5nZSwgcGFyYW1zIHx8IFtdKSApO1xuICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU3RhcnRPckVuZFNldHRlcihpc1N0YXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24obm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmdldFJhbmdlQXQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlW1wic2V0XCIgKyAoaXNTdGFydCA/IFwiU3RhcnRcIiA6IFwiRW5kXCIpXShub2RlLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gYXBpLmNyZWF0ZVJhbmdlKHRoaXMud2luLmRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRBbmRFbmQobm9kZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTaW5nbGVSYW5nZShyYW5nZSwgdGhpcy5pc0JhY2t3YXJkKCkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbFByb3RvLnNldFN0YXJ0ID0gY3JlYXRlU3RhcnRPckVuZFNldHRlcih0cnVlKTtcbiAgICAgICAgc2VsUHJvdG8uc2V0RW5kID0gY3JlYXRlU3RhcnRPckVuZFNldHRlcihmYWxzZSk7XG5cbiAgICAgICAgLy8gQWRkIHNlbGVjdCgpIG1ldGhvZCB0byBSYW5nZSBwcm90b3R5cGUuIEFueSBleGlzdGluZyBzZWxlY3Rpb24gd2lsbCBiZSByZW1vdmVkLlxuICAgICAgICBhcGkucmFuZ2VQcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBnZXRTZWxlY3Rpb24oIHRoaXMuZ2V0RG9jdW1lbnQoKSApLnNldFNpbmdsZVJhbmdlKHRoaXMsIGRpcmVjdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsUHJvdG8uY2hhbmdlRWFjaFJhbmdlID0gZnVuY3Rpb24oZnVuYykge1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIGJhY2t3YXJkID0gdGhpcy5pc0JhY2t3YXJkKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZWFjaFJhbmdlKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZnVuYyhyYW5nZSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICBpZiAoYmFja3dhcmQgJiYgcmFuZ2VzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSYW5nZShyYW5nZXNbMF0sIFwiYmFja3dhcmRcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2VzKHJhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsUHJvdG8uY29udGFpbnNOb2RlID0gZnVuY3Rpb24obm9kZSwgYWxsb3dQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoUmFuZ2UoIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmNvbnRhaW5zTm9kZShub2RlLCBhbGxvd1BhcnRpYWwpO1xuICAgICAgICAgICAgfSwgdHJ1ZSApIHx8IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbFByb3RvLmdldEJvb2ttYXJrID0gZnVuY3Rpb24oY29udGFpbmVyTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBiYWNrd2FyZDogdGhpcy5pc0JhY2t3YXJkKCksXG4gICAgICAgICAgICAgICAgcmFuZ2VCb29rbWFya3M6IHRoaXMuY2FsbE1ldGhvZE9uRWFjaFJhbmdlKFwiZ2V0Qm9va21hcmtcIiwgW2NvbnRhaW5lck5vZGVdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxQcm90by5tb3ZlVG9Cb29rbWFyayA9IGZ1bmN0aW9uKGJvb2ttYXJrKSB7XG4gICAgICAgICAgICB2YXIgc2VsUmFuZ2VzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgcmFuZ2VCb29rbWFyaywgcmFuZ2U7IHJhbmdlQm9va21hcmsgPSBib29rbWFyay5yYW5nZUJvb2ttYXJrc1tpKytdOyApIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IGFwaS5jcmVhdGVSYW5nZSh0aGlzLndpbik7XG4gICAgICAgICAgICAgICAgcmFuZ2UubW92ZVRvQm9va21hcmsocmFuZ2VCb29rbWFyayk7XG4gICAgICAgICAgICAgICAgc2VsUmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvb2ttYXJrLmJhY2t3YXJkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTaW5nbGVSYW5nZShzZWxSYW5nZXNbMF0sIFwiYmFja3dhcmRcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2VzKHNlbFJhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsUHJvdG8uc2F2ZVJhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBiYWNrd2FyZDogdGhpcy5pc0JhY2t3YXJkKCksXG4gICAgICAgICAgICAgICAgcmFuZ2VzOiB0aGlzLmNhbGxNZXRob2RPbkVhY2hSYW5nZShcImNsb25lUmFuZ2VcIilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsUHJvdG8ucmVzdG9yZVJhbmdlcyA9IGZ1bmN0aW9uKHNlbFJhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCByYW5nZTsgcmFuZ2UgPSBzZWxSYW5nZXMucmFuZ2VzW2ldOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJhbmdlKHJhbmdlLCAoc2VsUmFuZ2VzLmJhY2t3YXJkICYmIGkgPT0gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbFByb3RvLnRvSHRtbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHJhbmdlSHRtbHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZWFjaFJhbmdlKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VIdG1scy5wdXNoKCBEb21SYW5nZS50b0h0bWwocmFuZ2UpICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByYW5nZUh0bWxzLmpvaW4oXCJcIik7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGZlYXR1cmVzLmltcGxlbWVudHNUZXh0UmFuZ2UpIHtcbiAgICAgICAgICAgIHNlbFByb3RvLmdldE5hdGl2ZVRleHRSYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWwsIHRleHRSYW5nZTtcbiAgICAgICAgICAgICAgICBpZiAoIChzZWwgPSB0aGlzLmRvY1NlbGVjdGlvbikgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHNlbC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUZXh0UmFuZ2UocmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBtb2R1bGUuY3JlYXRlRXJyb3IoXCJnZXROYXRpdmVUZXh0UmFuZ2U6IHNlbGVjdGlvbiBpcyBhIGNvbnRyb2wgc2VsZWN0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJhbmdlQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcGkuV3JhcHBlZFRleHRSYW5nZS5yYW5nZVRvVGV4dFJhbmdlKCB0aGlzLmdldFJhbmdlQXQoMCkgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBtb2R1bGUuY3JlYXRlRXJyb3IoXCJnZXROYXRpdmVUZXh0UmFuZ2U6IHNlbGVjdGlvbiBjb250YWlucyBubyByYW5nZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5zcGVjdChzZWwpIHtcbiAgICAgICAgICAgIHZhciByYW5nZUluc3BlY3RzID0gW107XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gbmV3IERvbVBvc2l0aW9uKHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KTtcbiAgICAgICAgICAgIHZhciBmb2N1cyA9IG5ldyBEb21Qb3NpdGlvbihzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSAodHlwZW9mIHNlbC5nZXROYW1lID09IFwiZnVuY3Rpb25cIikgPyBzZWwuZ2V0TmFtZSgpIDogXCJTZWxlY3Rpb25cIjtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWwucmFuZ2VDb3VudCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNlbC5yYW5nZUNvdW50OyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VJbnNwZWN0c1tpXSA9IERvbVJhbmdlLmluc3BlY3Qoc2VsLmdldFJhbmdlQXQoaSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIltcIiArIG5hbWUgKyBcIihSYW5nZXM6IFwiICsgcmFuZ2VJbnNwZWN0cy5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIikoYW5jaG9yOiBcIiArIGFuY2hvci5pbnNwZWN0KCkgKyBcIiwgZm9jdXM6IFwiICsgZm9jdXMuaW5zcGVjdCgpICsgXCJdXCI7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxQcm90by5nZXROYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJXcmFwcGVkU2VsZWN0aW9uXCI7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsUHJvdG8uaW5zcGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGluc3BlY3QodGhpcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsUHJvdG8uZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhY3RPbkNhY2hlZFNlbGVjdGlvbih0aGlzLndpbiwgXCJkZWxldGVcIik7XG4gICAgICAgICAgICBkZWxldGVQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIFdyYXBwZWRTZWxlY3Rpb24uZGV0YWNoQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhY3RPbkNhY2hlZFNlbGVjdGlvbihudWxsLCBcImRlbGV0ZUFsbFwiKTtcbiAgICAgICAgfTtcblxuICAgICAgICBXcmFwcGVkU2VsZWN0aW9uLmluc3BlY3QgPSBpbnNwZWN0O1xuICAgICAgICBXcmFwcGVkU2VsZWN0aW9uLmlzRGlyZWN0aW9uQmFja3dhcmQgPSBpc0RpcmVjdGlvbkJhY2t3YXJkO1xuXG4gICAgICAgIGFwaS5TZWxlY3Rpb24gPSBXcmFwcGVkU2VsZWN0aW9uO1xuXG4gICAgICAgIGFwaS5zZWxlY3Rpb25Qcm90b3R5cGUgPSBzZWxQcm90bztcblxuICAgICAgICBhcGkuYWRkU2hpbUxpc3RlbmVyKGZ1bmN0aW9uKHdpbikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW4uZ2V0U2VsZWN0aW9uID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICB3aW4uZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRTZWxlY3Rpb24od2luKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgXHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbiAgICAvLyBXYWl0IGZvciBkb2N1bWVudCB0byBsb2FkIGJlZm9yZSBpbml0aWFsaXppbmdcclxuICAgIHZhciBkb2NSZWFkeSA9IGZhbHNlO1xyXG5cclxuICAgIHZhciBsb2FkSGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoIWRvY1JlYWR5KSB7XHJcbiAgICAgICAgICAgIGRvY1JlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKCFhcGkuaW5pdGlhbGl6ZWQgJiYgYXBpLmNvbmZpZy5hdXRvSW5pdGlhbGl6ZSkge1xyXG4gICAgICAgICAgICAgICAgaW5pdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoaXNCcm93c2VyKSB7XHJcbiAgICAgICAgLy8gVGVzdCB3aGV0aGVyIHRoZSBkb2N1bWVudCBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZCBhbmQgaW5pdGlhbGl6ZSBpbW1lZGlhdGVseSBpZiBzb1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09IFwiY29tcGxldGVcIikge1xyXG4gICAgICAgICAgICBsb2FkSGFuZGxlcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpc0hvc3RNZXRob2QoZG9jdW1lbnQsIFwiYWRkRXZlbnRMaXN0ZW5lclwiKSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbG9hZEhhbmRsZXIsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGEgZmFsbGJhY2sgaW4gY2FzZSB0aGUgRE9NQ29udGVudExvYWRlZCBldmVudCBpc24ndCBzdXBwb3J0ZWRcclxuICAgICAgICAgICAgYWRkTGlzdGVuZXIod2luZG93LCBcImxvYWRcIiwgbG9hZEhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXBpO1xyXG59LCB0aGlzKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmFuZ3kvbGliL3Jhbmd5LWNvcmUuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 1 */
/***/ function(module, exports) {

"use strict";
eval("/*!\n * angular-slick-carousel\n * DevMark <hc.devmark@gmail.com>\n * https://github.com/devmark/angular-slick-carousel\n * Version: 3.1.7 - 2016-08-04T06:43:29.508Z\n * License: MIT\n */\n\"use strict\";angular.module(\"slickCarousel\",[]).constant(\"slickCarouselConfig\",{method:{},event:{}}).directive(\"slick\",[\"$timeout\",\"slickCarouselConfig\",function(e,n){var i,t;return i=[\"slickGoTo\",\"slickNext\",\"slickPrev\",\"slickPause\",\"slickPlay\",\"slickAdd\",\"slickRemove\",\"slickFilter\",\"slickUnfilter\",\"unslick\"],t=[\"afterChange\",\"beforeChange\",\"breakpoint\",\"destroy\",\"edge\",\"init\",\"reInit\",\"setPosition\",\"swipe\",\"lazyLoaded\",\"lazyLoadError\"],{scope:{settings:\"=\",enabled:\"@\",accessibility:\"@\",adaptiveHeight:\"@\",autoplay:\"@\",autoplaySpeed:\"@\",arrows:\"@\",asNavFor:\"@\",appendArrows:\"@\",prevArrow:\"@\",nextArrow:\"@\",centerMode:\"@\",centerPadding:\"@\",cssEase:\"@\",customPaging:\"&\",dots:\"@\",draggable:\"@\",fade:\"@\",focusOnSelect:\"@\",easing:\"@\",edgeFriction:\"@\",infinite:\"@\",initialSlide:\"@\",lazyLoad:\"@\",mobileFirst:\"@\",pauseOnHover:\"@\",pauseOnDotsHover:\"@\",respondTo:\"@\",responsive:\"=?\",rows:\"@\",slide:\"@\",slidesPerRow:\"@\",slidesToShow:\"@\",slidesToScroll:\"@\",speed:\"@\",swipe:\"@\",swipeToSlide:\"@\",touchMove:\"@\",touchThreshold:\"@\",useCSS:\"@\",variableWidth:\"@\",vertical:\"@\",verticalSwiping:\"@\",rtl:\"@\"},restrict:\"AE\",link:function(t,o,a){angular.element(o).css(\"display\",\"none\");var r,s,l,d,u,c;return s=function(){r=angular.extend(angular.copy(n),{enabled:\"false\"!==t.enabled,accessibility:\"false\"!==t.accessibility,adaptiveHeight:\"true\"===t.adaptiveHeight,autoplay:\"true\"===t.autoplay,autoplaySpeed:null!=t.autoplaySpeed?parseInt(t.autoplaySpeed,10):3e3,arrows:\"false\"!==t.arrows,asNavFor:t.asNavFor?t.asNavFor:void 0,appendArrows:angular.element(t.appendArrows?t.appendArrows:o),prevArrow:t.prevArrow?angular.element(t.prevArrow):void 0,nextArrow:t.nextArrow?angular.element(t.nextArrow):void 0,centerMode:\"true\"===t.centerMode,centerPadding:t.centerPadding||\"50px\",cssEase:t.cssEase||\"ease\",customPaging:a.customPaging?function(e,n){return t.customPaging({slick:e,index:n})}:void 0,dots:\"true\"===t.dots,draggable:\"false\"!==t.draggable,fade:\"true\"===t.fade,focusOnSelect:\"true\"===t.focusOnSelect,easing:t.easing||\"linear\",edgeFriction:t.edgeFriction||.15,infinite:\"false\"!==t.infinite,initialSlide:parseInt(t.initialSlide)||0,lazyLoad:t.lazyLoad||\"ondemand\",mobileFirst:\"true\"===t.mobileFirst,pauseOnHover:\"false\"!==t.pauseOnHover,pauseOnDotsHover:\"true\"===t.pauseOnDotsHover,respondTo:null!=t.respondTo?t.respondTo:\"window\",responsive:t.responsive||void 0,rows:null!=t.rows?parseInt(t.rows,10):1,slide:t.slide||\"\",slidesPerRow:null!=t.slidesPerRow?parseInt(t.slidesPerRow,10):1,slidesToShow:null!=t.slidesToShow?parseInt(t.slidesToShow,10):1,slidesToScroll:null!=t.slidesToScroll?parseInt(t.slidesToScroll,10):1,speed:null!=t.speed?parseInt(t.speed,10):300,swipe:\"false\"!==t.swipe,swipeToSlide:\"true\"===t.swipeToSlide,touchMove:\"false\"!==t.touchMove,touchThreshold:t.touchThreshold?parseInt(t.touchThreshold,10):5,useCSS:\"false\"!==t.useCSS,variableWidth:\"true\"===t.variableWidth,vertical:\"true\"===t.vertical,verticalSwiping:\"true\"===t.verticalSwiping,rtl:\"true\"===t.rtl},t.settings)},l=function(){var e=angular.element(o);return e.hasClass(\"slick-initialized\")&&(e.remove(\"slick-list\"),e.slick(\"unslick\")),e},d=function(){s();var n=angular.element(o);if(angular.element(o).hasClass(\"slick-initialized\")){if(r.enabled)return n.slick(\"getSlick\");l()}else{if(!r.enabled)return;n.on(\"init\",function(e,n){return\"undefined\"!=typeof r.event.init&&r.event.init(e,n),\"undefined\"!=typeof c?n.slideHandler(c):void 0}),e(function(){angular.element(o).css(\"display\",\"block\"),n.not(\".slick-initialized\").slick(r)})}t.internalControl=r.method||{},i.forEach(function(e){t.internalControl[e]=function(){var i;i=Array.prototype.slice.call(arguments),i.unshift(e),n.slick.apply(o,i)}}),n.on(\"afterChange\",function(n,i,o){c=o,\"undefined\"!=typeof r.event.afterChange&&e(function(){t.$apply(function(){r.event.afterChange(n,i,o)})})}),n.on(\"beforeChange\",function(n,i,o,a){\"undefined\"!=typeof r.event.beforeChange&&e(function(){e(function(){t.$apply(function(){r.event.beforeChange(n,i,o,a)})})})}),n.on(\"reInit\",function(n,i){\"undefined\"!=typeof r.event.reInit&&e(function(){t.$apply(function(){r.event.reInit(n,i)})})}),\"undefined\"!=typeof r.event.breakpoint&&n.on(\"breakpoint\",function(n,i,o){e(function(){t.$apply(function(){r.event.breakpoint(n,i,o)})})}),\"undefined\"!=typeof r.event.destroy&&n.on(\"destroy\",function(n,i){e(function(){t.$apply(function(){r.event.destroy(n,i)})})}),\"undefined\"!=typeof r.event.edge&&n.on(\"edge\",function(n,i,o){e(function(){t.$apply(function(){r.event.edge(n,i,o)})})}),\"undefined\"!=typeof r.event.setPosition&&n.on(\"setPosition\",function(n,i){e(function(){t.$apply(function(){r.event.setPosition(n,i)})})}),\"undefined\"!=typeof r.event.swipe&&n.on(\"swipe\",function(n,i,o){e(function(){t.$apply(function(){r.event.swipe(n,i,o)})})}),\"undefined\"!=typeof r.event.lazyLoaded&&n.on(\"lazyLoaded\",function(n,i,o,a){e(function(){t.$apply(function(){r.event.lazyLoaded(n,i,o,a)})})}),\"undefined\"!=typeof r.event.lazyLoadError&&n.on(\"lazyLoadError\",function(n,i,o,a){e(function(){t.$apply(function(){r.event.lazyLoadError(n,i,o,a)})})})},u=function(){l(),d()},o.one(\"$destroy\",function(){l()}),t.$watch(\"settings\",function(e,n){return null!==e?u():void 0},!0)}}}]);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYW5ndWxhci1zbGljay1jYXJvdXNlbC9kaXN0L2FuZ3VsYXItc2xpY2subWluLmpzPzY5NGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBhbmd1bGFyLXNsaWNrLWNhcm91c2VsXG4gKiBEZXZNYXJrIDxoYy5kZXZtYXJrQGdtYWlsLmNvbT5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZtYXJrL2FuZ3VsYXItc2xpY2stY2Fyb3VzZWxcbiAqIFZlcnNpb246IDMuMS43IC0gMjAxNi0wOC0wNFQwNjo0MzoyOS41MDhaXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJzbGlja0Nhcm91c2VsXCIsW10pLmNvbnN0YW50KFwic2xpY2tDYXJvdXNlbENvbmZpZ1wiLHttZXRob2Q6e30sZXZlbnQ6e319KS5kaXJlY3RpdmUoXCJzbGlja1wiLFtcIiR0aW1lb3V0XCIsXCJzbGlja0Nhcm91c2VsQ29uZmlnXCIsZnVuY3Rpb24oZSxuKXt2YXIgaSx0O3JldHVybiBpPVtcInNsaWNrR29Ub1wiLFwic2xpY2tOZXh0XCIsXCJzbGlja1ByZXZcIixcInNsaWNrUGF1c2VcIixcInNsaWNrUGxheVwiLFwic2xpY2tBZGRcIixcInNsaWNrUmVtb3ZlXCIsXCJzbGlja0ZpbHRlclwiLFwic2xpY2tVbmZpbHRlclwiLFwidW5zbGlja1wiXSx0PVtcImFmdGVyQ2hhbmdlXCIsXCJiZWZvcmVDaGFuZ2VcIixcImJyZWFrcG9pbnRcIixcImRlc3Ryb3lcIixcImVkZ2VcIixcImluaXRcIixcInJlSW5pdFwiLFwic2V0UG9zaXRpb25cIixcInN3aXBlXCIsXCJsYXp5TG9hZGVkXCIsXCJsYXp5TG9hZEVycm9yXCJdLHtzY29wZTp7c2V0dGluZ3M6XCI9XCIsZW5hYmxlZDpcIkBcIixhY2Nlc3NpYmlsaXR5OlwiQFwiLGFkYXB0aXZlSGVpZ2h0OlwiQFwiLGF1dG9wbGF5OlwiQFwiLGF1dG9wbGF5U3BlZWQ6XCJAXCIsYXJyb3dzOlwiQFwiLGFzTmF2Rm9yOlwiQFwiLGFwcGVuZEFycm93czpcIkBcIixwcmV2QXJyb3c6XCJAXCIsbmV4dEFycm93OlwiQFwiLGNlbnRlck1vZGU6XCJAXCIsY2VudGVyUGFkZGluZzpcIkBcIixjc3NFYXNlOlwiQFwiLGN1c3RvbVBhZ2luZzpcIiZcIixkb3RzOlwiQFwiLGRyYWdnYWJsZTpcIkBcIixmYWRlOlwiQFwiLGZvY3VzT25TZWxlY3Q6XCJAXCIsZWFzaW5nOlwiQFwiLGVkZ2VGcmljdGlvbjpcIkBcIixpbmZpbml0ZTpcIkBcIixpbml0aWFsU2xpZGU6XCJAXCIsbGF6eUxvYWQ6XCJAXCIsbW9iaWxlRmlyc3Q6XCJAXCIscGF1c2VPbkhvdmVyOlwiQFwiLHBhdXNlT25Eb3RzSG92ZXI6XCJAXCIscmVzcG9uZFRvOlwiQFwiLHJlc3BvbnNpdmU6XCI9P1wiLHJvd3M6XCJAXCIsc2xpZGU6XCJAXCIsc2xpZGVzUGVyUm93OlwiQFwiLHNsaWRlc1RvU2hvdzpcIkBcIixzbGlkZXNUb1Njcm9sbDpcIkBcIixzcGVlZDpcIkBcIixzd2lwZTpcIkBcIixzd2lwZVRvU2xpZGU6XCJAXCIsdG91Y2hNb3ZlOlwiQFwiLHRvdWNoVGhyZXNob2xkOlwiQFwiLHVzZUNTUzpcIkBcIix2YXJpYWJsZVdpZHRoOlwiQFwiLHZlcnRpY2FsOlwiQFwiLHZlcnRpY2FsU3dpcGluZzpcIkBcIixydGw6XCJAXCJ9LHJlc3RyaWN0OlwiQUVcIixsaW5rOmZ1bmN0aW9uKHQsbyxhKXthbmd1bGFyLmVsZW1lbnQobykuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTt2YXIgcixzLGwsZCx1LGM7cmV0dXJuIHM9ZnVuY3Rpb24oKXtyPWFuZ3VsYXIuZXh0ZW5kKGFuZ3VsYXIuY29weShuKSx7ZW5hYmxlZDpcImZhbHNlXCIhPT10LmVuYWJsZWQsYWNjZXNzaWJpbGl0eTpcImZhbHNlXCIhPT10LmFjY2Vzc2liaWxpdHksYWRhcHRpdmVIZWlnaHQ6XCJ0cnVlXCI9PT10LmFkYXB0aXZlSGVpZ2h0LGF1dG9wbGF5OlwidHJ1ZVwiPT09dC5hdXRvcGxheSxhdXRvcGxheVNwZWVkOm51bGwhPXQuYXV0b3BsYXlTcGVlZD9wYXJzZUludCh0LmF1dG9wbGF5U3BlZWQsMTApOjNlMyxhcnJvd3M6XCJmYWxzZVwiIT09dC5hcnJvd3MsYXNOYXZGb3I6dC5hc05hdkZvcj90LmFzTmF2Rm9yOnZvaWQgMCxhcHBlbmRBcnJvd3M6YW5ndWxhci5lbGVtZW50KHQuYXBwZW5kQXJyb3dzP3QuYXBwZW5kQXJyb3dzOm8pLHByZXZBcnJvdzp0LnByZXZBcnJvdz9hbmd1bGFyLmVsZW1lbnQodC5wcmV2QXJyb3cpOnZvaWQgMCxuZXh0QXJyb3c6dC5uZXh0QXJyb3c/YW5ndWxhci5lbGVtZW50KHQubmV4dEFycm93KTp2b2lkIDAsY2VudGVyTW9kZTpcInRydWVcIj09PXQuY2VudGVyTW9kZSxjZW50ZXJQYWRkaW5nOnQuY2VudGVyUGFkZGluZ3x8XCI1MHB4XCIsY3NzRWFzZTp0LmNzc0Vhc2V8fFwiZWFzZVwiLGN1c3RvbVBhZ2luZzphLmN1c3RvbVBhZ2luZz9mdW5jdGlvbihlLG4pe3JldHVybiB0LmN1c3RvbVBhZ2luZyh7c2xpY2s6ZSxpbmRleDpufSl9OnZvaWQgMCxkb3RzOlwidHJ1ZVwiPT09dC5kb3RzLGRyYWdnYWJsZTpcImZhbHNlXCIhPT10LmRyYWdnYWJsZSxmYWRlOlwidHJ1ZVwiPT09dC5mYWRlLGZvY3VzT25TZWxlY3Q6XCJ0cnVlXCI9PT10LmZvY3VzT25TZWxlY3QsZWFzaW5nOnQuZWFzaW5nfHxcImxpbmVhclwiLGVkZ2VGcmljdGlvbjp0LmVkZ2VGcmljdGlvbnx8LjE1LGluZmluaXRlOlwiZmFsc2VcIiE9PXQuaW5maW5pdGUsaW5pdGlhbFNsaWRlOnBhcnNlSW50KHQuaW5pdGlhbFNsaWRlKXx8MCxsYXp5TG9hZDp0LmxhenlMb2FkfHxcIm9uZGVtYW5kXCIsbW9iaWxlRmlyc3Q6XCJ0cnVlXCI9PT10Lm1vYmlsZUZpcnN0LHBhdXNlT25Ib3ZlcjpcImZhbHNlXCIhPT10LnBhdXNlT25Ib3ZlcixwYXVzZU9uRG90c0hvdmVyOlwidHJ1ZVwiPT09dC5wYXVzZU9uRG90c0hvdmVyLHJlc3BvbmRUbzpudWxsIT10LnJlc3BvbmRUbz90LnJlc3BvbmRUbzpcIndpbmRvd1wiLHJlc3BvbnNpdmU6dC5yZXNwb25zaXZlfHx2b2lkIDAscm93czpudWxsIT10LnJvd3M/cGFyc2VJbnQodC5yb3dzLDEwKToxLHNsaWRlOnQuc2xpZGV8fFwiXCIsc2xpZGVzUGVyUm93Om51bGwhPXQuc2xpZGVzUGVyUm93P3BhcnNlSW50KHQuc2xpZGVzUGVyUm93LDEwKToxLHNsaWRlc1RvU2hvdzpudWxsIT10LnNsaWRlc1RvU2hvdz9wYXJzZUludCh0LnNsaWRlc1RvU2hvdywxMCk6MSxzbGlkZXNUb1Njcm9sbDpudWxsIT10LnNsaWRlc1RvU2Nyb2xsP3BhcnNlSW50KHQuc2xpZGVzVG9TY3JvbGwsMTApOjEsc3BlZWQ6bnVsbCE9dC5zcGVlZD9wYXJzZUludCh0LnNwZWVkLDEwKTozMDAsc3dpcGU6XCJmYWxzZVwiIT09dC5zd2lwZSxzd2lwZVRvU2xpZGU6XCJ0cnVlXCI9PT10LnN3aXBlVG9TbGlkZSx0b3VjaE1vdmU6XCJmYWxzZVwiIT09dC50b3VjaE1vdmUsdG91Y2hUaHJlc2hvbGQ6dC50b3VjaFRocmVzaG9sZD9wYXJzZUludCh0LnRvdWNoVGhyZXNob2xkLDEwKTo1LHVzZUNTUzpcImZhbHNlXCIhPT10LnVzZUNTUyx2YXJpYWJsZVdpZHRoOlwidHJ1ZVwiPT09dC52YXJpYWJsZVdpZHRoLHZlcnRpY2FsOlwidHJ1ZVwiPT09dC52ZXJ0aWNhbCx2ZXJ0aWNhbFN3aXBpbmc6XCJ0cnVlXCI9PT10LnZlcnRpY2FsU3dpcGluZyxydGw6XCJ0cnVlXCI9PT10LnJ0bH0sdC5zZXR0aW5ncyl9LGw9ZnVuY3Rpb24oKXt2YXIgZT1hbmd1bGFyLmVsZW1lbnQobyk7cmV0dXJuIGUuaGFzQ2xhc3MoXCJzbGljay1pbml0aWFsaXplZFwiKSYmKGUucmVtb3ZlKFwic2xpY2stbGlzdFwiKSxlLnNsaWNrKFwidW5zbGlja1wiKSksZX0sZD1mdW5jdGlvbigpe3MoKTt2YXIgbj1hbmd1bGFyLmVsZW1lbnQobyk7aWYoYW5ndWxhci5lbGVtZW50KG8pLmhhc0NsYXNzKFwic2xpY2staW5pdGlhbGl6ZWRcIikpe2lmKHIuZW5hYmxlZClyZXR1cm4gbi5zbGljayhcImdldFNsaWNrXCIpO2woKX1lbHNle2lmKCFyLmVuYWJsZWQpcmV0dXJuO24ub24oXCJpbml0XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5pbml0JiZyLmV2ZW50LmluaXQoZSxuKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgYz9uLnNsaWRlSGFuZGxlcihjKTp2b2lkIDB9KSxlKGZ1bmN0aW9uKCl7YW5ndWxhci5lbGVtZW50KG8pLmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpLG4ubm90KFwiLnNsaWNrLWluaXRpYWxpemVkXCIpLnNsaWNrKHIpfSl9dC5pbnRlcm5hbENvbnRyb2w9ci5tZXRob2R8fHt9LGkuZm9yRWFjaChmdW5jdGlvbihlKXt0LmludGVybmFsQ29udHJvbFtlXT1mdW5jdGlvbigpe3ZhciBpO2k9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxpLnVuc2hpZnQoZSksbi5zbGljay5hcHBseShvLGkpfX0pLG4ub24oXCJhZnRlckNoYW5nZVwiLGZ1bmN0aW9uKG4saSxvKXtjPW8sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHIuZXZlbnQuYWZ0ZXJDaGFuZ2UmJmUoZnVuY3Rpb24oKXt0LiRhcHBseShmdW5jdGlvbigpe3IuZXZlbnQuYWZ0ZXJDaGFuZ2UobixpLG8pfSl9KX0pLG4ub24oXCJiZWZvcmVDaGFuZ2VcIixmdW5jdGlvbihuLGksbyxhKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5iZWZvcmVDaGFuZ2UmJmUoZnVuY3Rpb24oKXtlKGZ1bmN0aW9uKCl7dC4kYXBwbHkoZnVuY3Rpb24oKXtyLmV2ZW50LmJlZm9yZUNoYW5nZShuLGksbyxhKX0pfSl9KX0pLG4ub24oXCJyZUluaXRcIixmdW5jdGlvbihuLGkpe1widW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LnJlSW5pdCYmZShmdW5jdGlvbigpe3QuJGFwcGx5KGZ1bmN0aW9uKCl7ci5ldmVudC5yZUluaXQobixpKX0pfSl9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5icmVha3BvaW50JiZuLm9uKFwiYnJlYWtwb2ludFwiLGZ1bmN0aW9uKG4saSxvKXtlKGZ1bmN0aW9uKCl7dC4kYXBwbHkoZnVuY3Rpb24oKXtyLmV2ZW50LmJyZWFrcG9pbnQobixpLG8pfSl9KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LmRlc3Ryb3kmJm4ub24oXCJkZXN0cm95XCIsZnVuY3Rpb24obixpKXtlKGZ1bmN0aW9uKCl7dC4kYXBwbHkoZnVuY3Rpb24oKXtyLmV2ZW50LmRlc3Ryb3kobixpKX0pfSl9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5lZGdlJiZuLm9uKFwiZWRnZVwiLGZ1bmN0aW9uKG4saSxvKXtlKGZ1bmN0aW9uKCl7dC4kYXBwbHkoZnVuY3Rpb24oKXtyLmV2ZW50LmVkZ2UobixpLG8pfSl9KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LnNldFBvc2l0aW9uJiZuLm9uKFwic2V0UG9zaXRpb25cIixmdW5jdGlvbihuLGkpe2UoZnVuY3Rpb24oKXt0LiRhcHBseShmdW5jdGlvbigpe3IuZXZlbnQuc2V0UG9zaXRpb24obixpKX0pfSl9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5zd2lwZSYmbi5vbihcInN3aXBlXCIsZnVuY3Rpb24obixpLG8pe2UoZnVuY3Rpb24oKXt0LiRhcHBseShmdW5jdGlvbigpe3IuZXZlbnQuc3dpcGUobixpLG8pfSl9KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LmxhenlMb2FkZWQmJm4ub24oXCJsYXp5TG9hZGVkXCIsZnVuY3Rpb24obixpLG8sYSl7ZShmdW5jdGlvbigpe3QuJGFwcGx5KGZ1bmN0aW9uKCl7ci5ldmVudC5sYXp5TG9hZGVkKG4saSxvLGEpfSl9KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LmxhenlMb2FkRXJyb3ImJm4ub24oXCJsYXp5TG9hZEVycm9yXCIsZnVuY3Rpb24obixpLG8sYSl7ZShmdW5jdGlvbigpe3QuJGFwcGx5KGZ1bmN0aW9uKCl7ci5ldmVudC5sYXp5TG9hZEVycm9yKG4saSxvLGEpfSl9KX0pfSx1PWZ1bmN0aW9uKCl7bCgpLGQoKX0sby5vbmUoXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7bCgpfSksdC4kd2F0Y2goXCJzZXR0aW5nc1wiLGZ1bmN0aW9uKGUsbil7cmV0dXJuIG51bGwhPT1lP3UoKTp2b2lkIDB9LCEwKX19fV0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9hbmd1bGFyLXNsaWNrLWNhcm91c2VsL2Rpc3QvYW5ndWxhci1zbGljay5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 2 */
/***/ function(module, exports) {

eval("/**\n * State-based routing for AngularJS\n * @version v0.3.2\n * @link http://angular-ui.github.com/\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n\"undefined\"!=typeof module&&\"undefined\"!=typeof exports&&module.exports===exports&&(module.exports=\"ui.router\"),function(a,b,c){\"use strict\";function d(a,b){return S(new(S(function(){},{prototype:a})),b)}function e(a){return R(arguments,function(b){b!==a&&R(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return R(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=d<0?Math.ceil(d):Math.floor(d),d<0&&(d+=c);d<c;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return S({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return R(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return R(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)h(c,d)==-1&&(b[d]=a[d]);return b}function n(a,b){var c=Q(a),d=c?[]:{};return R(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=Q(a)?[]:{};return R(a,function(a,d){c[d]=b(a,d)}),c}function p(a){return a.then(c,function(){})&&a}function q(a,b){var d=1,f=2,i={},j=[],k=i,l=S(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error(\"Cyclic dependency: \"+r.join(\" -> \"));if(s[c]=d,O(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);R(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return P(a)&&a.then&&a.$$promises}if(!P(i))throw new Error(\"'invocables' must be an object\");var p=g(i||{}),q=[],r=[],s={};return R(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!M(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;R(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!P(d))throw new Error(\"'locals' must be an object\")}else d=k;if(f){if(!o(f))throw new Error(\"'parent' must be a promise returned by $resolve.resolve()\")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=S({},d),u=1+q.length/3,v=!1;if(M(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),S(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;w<x;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function r(a,b,c){this.fromConfig=function(a,b,c){return M(a.template)?this.fromString(a.template,b):M(a.templateUrl)?this.fromUrl(a.templateUrl,b):M(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return N(a)?a(b):a},this.fromUrl=function(c,d){return N(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:\"text/html\"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function s(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\\w+([-.]+\\w+)*(?:\\[\\])?$/.test(b))throw new Error(\"Invalid parameter name '\"+b+\"' in pattern '\"+a+\"'\");if(p[b])throw new Error(\"Duplicate parameter name '\"+b+\"' in pattern '\"+a+\"'\");return p[b]=new V.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=[\"\",\"\"],f=a.replace(/[\\\\\\[\\]\\^$*+?.()|{}]/g,\"\\\\$&\");if(!b)return f;switch(c){case!1:e=[\"(\",\")\"+(d?\"?\":\"\")];break;case!0:f=f.replace(/\\/$/,\"\"),e=[\"(?:/(\",\")|/)?\"];break;default:e=[\"(\"+c+\"|\",\")?\"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||(\"*\"==e[1]?\".*\":null),h&&(j=V.type(h)||d(V.type(\"string\"),{pattern:new RegExp(h,b.caseInsensitive?\"i\":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=S({params:{}},P(b)?b:{});var i,j=/([:*])([\\w\\[\\]]+)|\\{([\\w\\[\\]]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g,k=/([:]?)([\\w\\[\\].-]+)|\\{([\\w\\[\\].-]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g,l=\"^\",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new V.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf(\"?\")>=0));)s=f(r.id,r.type,r.cfg,\"path\"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf(\"?\");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,\"search\"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch=\"\";l+=g(t)+(b.strict===!1?\"/?\":\"\")+\"$\",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?\"i\":c),this.prefix=n[0],this.$$paramNames=q}function t(a){S(this,a)}function u(){function a(a){return null!=a?a.toString().replace(/(~|\\/)/g,function(a){return{\"~\":\"~~\",\"/\":\"~2F\"}[a]}):a}function e(a){return null!=a?a.toString().replace(/(~~|~2F)/g,function(a){return{\"~~\":\"~\",\"~2F\":\"/\"}[a]}):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return N(a)||Q(a)&&N(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error(\"You cannot override a type's .pattern at runtime.\");b.extend(r[a.name],l.invoke(a.def))}}function k(a){S(this,a||{})}V=this;var l,m=!1,p=!0,q=!1,r={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!M(a)||\"string\"==typeof a},pattern:/[^\\/]*/},int:{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return M(a)&&this.decode(a.toString())===a},pattern:/\\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),(\"0\"+(a.getMonth()+1)).slice(-2),(\"0\"+a.getDate()).slice(-2)].join(\"-\"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};u.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error(\"Injectable functions cannot be called at configuration time\");return l.invoke(a.value)},this.caseInsensitive=function(a){return M(a)&&(m=a),m},this.strictMode=function(a){return M(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!M(a))return q;if(a!==!0&&a!==!1&&!O(a))throw new Error(\"Invalid squash policy: \"+a+\". Valid policies: false, true, arbitrary-string\");return q=a,a},this.compile=function(a,b){return new s(a,S(f(),b))},this.isMatcher=function(a){if(!P(a))return!1;var b=!0;return R(s.prototype,function(c,d){N(c)&&(b=b&&M(a[d])&&N(a[d]))}),b},this.type=function(a,b,c){if(!M(b))return r[a];if(r.hasOwnProperty(a))throw new Error(\"A type named '\"+a+\"' has already been defined.\");return r[a]=new t(S({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},R(x,function(a,b){r[b]=new t(S({name:b},a))}),r=d(r,{}),this.$get=[\"$injector\",function(a){return l=a,v=!1,j(),R(x,function(a,b){r[b]||(r[b]=new t(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=P(a)?g(a):[],c=h(b,\"value\")===-1&&h(b,\"type\")===-1&&h(b,\"squash\")===-1&&h(b,\"array\")===-1;return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error(\"Param '\"+a+\"' has two type configurations.\");return d?d:c.type?b.isString(c.type)?r[c.type]:c.type instanceof t?c.type:new t(c.type):\"config\"===e?r.any:r.string}function m(){var b={array:\"search\"===f&&\"auto\"},c=a.match(/\\[\\]$/)?{array:!0}:{};return S(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!M(c)||null==c)return q;if(c===!0||O(c))return c;throw new Error(\"Invalid squash policy: '\"+c+\"'. Valid policies: false, true, or arbitrary string\")}function s(a,b,d,e){var f,g,i=[{from:\"\",to:d||b?c:\"\"},{from:null,to:d||b?c:\"\"}];return f=Q(a.replace)?a.replace:[],O(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return h(g,a.from)===-1}).concat(f)}function u(){if(!l)throw new Error(\"Injectable functions cannot be called at configuration time\");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error(\"Default value (\"+a+\") for parameter '\"+x.id+\"' is not an instance of Type (\"+x.type.name+\")\");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),M(a)?x.type.$normalize(a):u()}function w(){return\"{Param:\"+a+\" \"+d+\" squash: '\"+A+\"' optional: \"+z+\"}\"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,\"search\"===f):d,\"string\"!==d.name||y||\"path\"!==f||e.value!==c||(e.value=\"\");var z=e.value!==c,A=p(e,z),B=s(e,y,z,A);S(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,S(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),R(b,function(b){R(g(b),function(b){h(a,b)===-1&&h(d,b)===-1&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return R(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return R(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function v(a,d){function e(a){var b=/^\\^((?:\\\\[^a-zA-Z0-9]|[^\\\\\\[\\]\\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\\\(.)/g,\"$1\"):\"\"}function f(a,b){return a.replace(/\\$(\\$|\\d{1,2})/,function(a,c){return b[\"$\"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return!M(d)||d}function h(d,e,f,g,h){function m(a,b,c){return\"/\"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return!!b&&(O(b)&&d.replace().url(b),!0)}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;e<g;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on(\"$locationChangeSuccess\",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b[\"#\"]&&(f+=\"#\"+b[\"#\"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i=\"#\"+a.hashPrefix()+i),null!==i&&e&&e[\"#\"]&&(i+=\"#\"+e[\"#\"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?\"/\":\"\",k=d.port();return k=80===k||443===k?\"\":\":\"+k,[d.protocol(),\"://\",d.host(),k,j,i].join(\"\")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!N(a))throw new Error(\"'rule' must be a function\");return j.push(a),this},this.otherwise=function(a){if(O(a)){var b=a;a=function(){return b}}else if(!N(a))throw new Error(\"'rule' must be a function\");return k=a,this},this.when=function(a,b){var c,h=O(b);if(O(a)&&(a=d.compile(a)),!h&&!N(b)&&!Q(b))throw new Error(\"invalid 'handler' in when()\");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=[\"$match\",function(a){return c.format(a)}]),S(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:O(a.prefix)?a.prefix:\"\"})},regex:function(a,b){if(a.global||a.sticky)throw new Error(\"when() RegExp must not be global or sticky\");return h&&(c=b,b=[\"$match\",function(a){return f(c,a)}]),S(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error(\"invalid 'what' in when()\")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=[\"$location\",\"$rootScope\",\"$injector\",\"$browser\",\"$sniffer\"]}function w(a,e){function f(a){return 0===a.indexOf(\".\")||0===a.indexOf(\"^\")}function m(a,b){if(!a)return c;var d=O(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error(\"No reference point given for path '\"+e+\"'\");b=m(b);for(var h=e.split(\".\"),i=0,j=h.length,k=b;i<j;i++)if(\"\"!==h[i]||0!==i){if(\"^\"!==h[i])break;if(!k.parent)throw new Error(\"Path '\"+e+\"' not valid for state '\"+b.name+\"'\");k=k.parent}else k=b;h=h.slice(i).join(\".\"),e=k.name+(k.name&&h?\".\":\"\")+h}var l=A[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){B[a]||(B[a]=[]),B[a].push(b)}function q(a){for(var b=B[a]||[];b.length;)r(b.shift())}function r(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!O(c)||c.indexOf(\"@\")>=0)throw new Error(\"State must have a valid name\");if(A.hasOwnProperty(c))throw new Error(\"State '\"+c+\"' is already defined\");var e=c.indexOf(\".\")!==-1?c.substring(0,c.lastIndexOf(\".\")):O(b.parent)?b.parent:P(b.parent)&&O(b.parent.name)?b.parent.name:\"\";if(e&&!A[e])return n(e,b.self);for(var f in D)N(D[f])&&(b[f]=D[f](b,D.$delegates[f]));return A[c]=b,!b[C]&&b.url&&a.when(b.url,[\"$match\",\"$stateParams\",function(a,c){z.$current.navigable==b&&j(a,c)||z.transitionTo(b,a,{inherit:!0,location:!1})}]),q(c),b}function s(a){return a.indexOf(\"*\")>-1}function t(a){for(var b=a.split(\".\"),c=z.$current.name.split(\".\"),d=0,e=b.length;d<e;d++)\"*\"===b[d]&&(c[d]=\"*\");return\"**\"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift(\"**\")),\"**\"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push(\"**\")),b.length==c.length&&c.join(\"\")===b.join(\"\")}function u(a,b){return O(a)&&!M(b)?D[a]:N(b)&&O(a)?(D[a]&&!D.$delegates[a]&&(D.$delegates[a]=D[a]),D[a]=b,this):this}function v(a,b){return P(a)?b=a:b.name=a,r(b),this}function w(a,e,f,h,l,n,q,r,u){function v(b,c,d,f){var g=a.$broadcast(\"$stateNotFound\",b,c,d);if(g.defaultPrevented)return q.update(),F;if(!g.retry)return null;if(f.$retry)return q.update(),G;var h=z.transition=e.when(g.retry);return h.then(function(){return h!==z.transition?(a.$broadcast(\"$stateChangeCancel\",b.to,b.toParams,c,d),D):(b.options.$retry=!0,z.transitionTo(b.to,b.toParams,b.options))},function(){return F}),q.update(),h}function w(a,c,d,g,i,j){function m(){var c=[];return R(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||\"\"}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(N(d.controllerProvider)||Q(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,c.$$resolveAs=d.resolveAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var B=new Error(\"transition superseded\"),D=p(e.reject(B)),E=p(e.reject(new Error(\"transition prevented\"))),F=p(e.reject(new Error(\"transition aborted\"))),G=p(e.reject(new Error(\"transition failed\")));return y.locals={resolve:null,globals:{$stateParams:{}}},z={params:{},current:y.self,$current:y,transition:null},z.reload=function(a){return z.transitionTo(z.current,n,{reload:a||!0,inherit:!1,notify:!0})},z.go=function(a,b,c){return z.transitionTo(a,b,S({inherit:!0,relative:z.$current},c))},z.transitionTo=function(b,c,f){c=c||{},f=S({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=z.$current,l=z.params,o=j.path,p=m(b,f.relative),r=c[\"#\"];if(!M(p)){var s={to:b,toParams:c,options:f},t=v(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,p=m(b,f.relative),!M(p)){if(!f.relative)throw new Error(\"No such state '\"+b+\"'\");throw new Error(\"Could not resolve '\"+b+\"' from state '\"+f.relative+\"'\")}}if(p[C])throw new Error(\"Cannot transition to abstract state '\"+b+\"'\");if(f.inherit&&(c=i(n,c||{},z.$current,p)),!p.params.$$validates(c))return G;c=p.params.$$values(c),b=p;var u=b.path,A=0,F=u[A],H=y.locals,I=[];if(f.reload){if(O(f.reload)||P(f.reload)){if(P(f.reload)&&!f.reload.name)throw new Error(\"Invalid reload state object\");var J=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!J)throw new Error(\"No such reload state '\"+(O(f.reload)?f.reload:f.reload.name)+\"'\");for(;F&&F===o[A]&&F!==J;)H=I[A]=F.locals,A++,F=u[A]}}else for(;F&&F===o[A]&&F.ownParams.$$equals(c,l);)H=I[A]=F.locals,A++,F=u[A];if(x(b,c,j,l,H,f))return r&&(c[\"#\"]=r),z.params=c,T(z.params,n),T(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(q.push(b.navigable.url,c,{$$avoidResync:!0,replace:\"replace\"===f.location}),q.update(!0)),z.transition=null,e.when(z.current);if(c=k(b.params.$$keys(),c||{}),r&&(c[\"#\"]=r),f.notify&&a.$broadcast(\"$stateChangeStart\",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast(\"$stateChangeCancel\",b.self,c,j.self,l),null==z.transition&&q.update(),E;for(var K=e.when(H),L=A;L<u.length;L++,F=u[L])H=I[L]=d(H),K=w(F,c,F===b,K,H,f);var N=z.transition=K.then(function(){var d,e,g;if(z.transition!==N)return a.$broadcast(\"$stateChangeCancel\",b.self,c,j.self,l),D;for(d=o.length-1;d>=A;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=A;d<u.length;d++)e=u[d],e.locals=I[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return z.transition!==N?(a.$broadcast(\"$stateChangeCancel\",b.self,c,j.self,l),D):(z.$current=b,z.current=b.self,z.params=c,T(z.params,n),z.transition=null,f.location&&b.navigable&&q.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:\"replace\"===f.location}),f.notify&&a.$broadcast(\"$stateChangeSuccess\",b.self,c,j.self,l),q.update(!0),z.current)}).then(null,function(d){return d===B?D:z.transition!==N?(a.$broadcast(\"$stateChangeCancel\",b.self,c,j.self,l),D):(z.transition=null,g=a.$broadcast(\"$stateChangeError\",b.self,c,j.self,l,d),g.defaultPrevented||q.update(),e.reject(d))});return N},z.is=function(a,b,d){d=S({relative:z.$current},d||{});var e=m(a,d.relative);return M(e)?z.$current===e&&(!b||j(e.params.$$values(b),n)):c},z.includes=function(a,b,d){if(d=S({relative:z.$current},d||{}),O(a)&&s(a)){if(!t(a))return!1;a=z.$current.name}var e=m(a,d.relative);if(!M(e))return c;if(!M(z.$current.includes[e.name]))return!1;if(!b)return!0;for(var f=g(b),h=0;h<f.length;h++){var i=f[h],j=e.params[i];if(j&&!j.type.equals(n[i],b[i]))return!1}return!0},z.href=function(a,b,d){d=S({lossy:!0,inherit:!0,absolute:!1,relative:z.$current},d||{});var e=m(a,d.relative);if(!M(e))return null;d.inherit&&(b=i(n,b||{},z.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?q.href(f.url,k(e.params.$$keys().concat(\"#\"),b||{}),{absolute:d.absolute}):null},z.get=function(a,b){if(0===arguments.length)return o(g(A),function(a){return A[a].self});var c=m(a,b||z.$current);return c&&c.self?c.self:null},z}function x(a,b,c,d,e,f){function g(a,b,c){function d(b){return\"search\"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new V.ParamSet(f);return g.$$equals(b,c)}if(!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b)))return!0}var y,z,A={},B={},C=\"abstract\",D={parent:function(a){if(M(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\\.[^.]+$/.exec(a.name);return b?m(b[1]):y},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(O(b))return\"^\"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||y).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error(\"Invalid url '\"+b+\"' in state '\"+a+\"'\")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new V.ParamSet;return R(a.params||{},function(a,c){b[c]||(b[c]=new V.Param(c,null,a,\"config\"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?S(a.parent.params.$$new(),b):new V.ParamSet},views:function(a){var b={};return R(M(a.views)?a.views:{\"\":a},function(c,d){d.indexOf(\"@\")<0&&(d+=\"@\"+a.parent.name),c.resolveAs=c.resolveAs||a.resolveAs||\"$resolve\",b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?S({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};y=r({name:\"\",url:\"^\",views:null,abstract:!0}),y.navigable=null,this.decorator=u,this.state=v,this.$get=w,w.$inject=[\"$rootScope\",\"$q\",\"$view\",\"$injector\",\"$resolve\",\"$stateParams\",\"$urlRouter\",\"$location\",\"$urlMatcherFactory\"]}function x(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=S(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=[\"$rootScope\",\"$templateFactory\"]}function y(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=[\"$anchorScroll\",\"$timeout\",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function z(a,c,d,e,f){function g(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(a){return null}}}function h(a,c){var d=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(k)return{enter:function(a,c,d){b.version.minor>2?k.enter(a,null,c).then(d):k.enter(a,null,c,d)},leave:function(a,c){b.version.minor>2?k.leave(a).then(c):k.leave(a,c)}};if(j){var e=j&&j(c,a);return{enter:function(a,b,c){e.enter(a,null,b),c()},leave:function(a,b){e.leave(a),b()}}}return d()}var i=g(),j=i(\"$animator\"),k=i(\"$animate\"),l={restrict:\"ECA\",terminal:!0,priority:400,transclude:\"element\",compile:function(c,g,i){return function(c,g,j){function k(){if(m&&(m.remove(),m=null),o&&(o.$destroy(),o=null),n){var a=n.data(\"$uiViewAnim\");s.leave(n,function(){a.$$animLeave.resolve(),m=null}),m=n,n=null}}function l(h){var l,m=B(c,j,g,e),t=m&&a.$current&&a.$current.locals[m];if(h||t!==p){l=c.$new(),p=a.$current.locals[m],l.$emit(\"$viewContentLoading\",m);var u=i(l,function(a){var e=f.defer(),h=f.defer(),i={$animEnter:e.promise,$animLeave:h.promise,$$animLeave:h};a.data(\"$uiViewAnim\",i),s.enter(a,g,function(){e.resolve(),o&&o.$emit(\"$viewContentAnimationEnded\"),(b.isDefined(r)&&!r||c.$eval(r))&&d(a)}),k()});n=u,o=l,o.$emit(\"$viewContentLoaded\",m),o.$eval(q)}}var m,n,o,p,q=j.onload||\"\",r=j.autoscroll,s=h(j,c);g.inheritedData(\"$uiView\");c.$on(\"$stateChangeSuccess\",function(){l(!1)}),l(!0)}}};return l}function A(a,c,d,e){return{restrict:\"ECA\",priority:-400,compile:function(f){var g=f.html();return function(f,h,i){var j=d.$current,k=B(f,i,h,e),l=j&&j.locals[k];if(l){h.data(\"$uiView\",{name:k,state:l.$$state}),h.html(l.$template?l.$template:g);var m=b.extend({},l);f[l.$$resolveAs]=m;var n=a(h.contents());if(l.$$controller){l.$scope=f,l.$element=h;var o=c(l.$$controller,l);l.$$controllerAs&&(f[l.$$controllerAs]=o,f[l.$$controllerAs][l.$$resolveAs]=m),N(o.$onInit)&&o.$onInit(),h.data(\"$ngControllerController\",o),h.children().data(\"$ngControllerController\",o)}n(f)}}}}}function B(a,b,c,d){var e=d(b.uiView||b.name||\"\")(a),f=c.inheritedData(\"$uiView\");return e.indexOf(\"@\")>=0?e:e+\"@\"+(f?f.state.name:\"\")}function C(a,b){var c,d=a.match(/^\\s*({[^}]*})\\s*$/);if(d&&(a=b+\"(\"+d[1]+\")\"),c=a.replace(/\\n/g,\" \").match(/^([^(]+?)\\s*(\\((.*)\\))?$/),!c||4!==c.length)throw new Error(\"Invalid state ref '\"+a+\"'\");return{state:c[1],paramExpr:c[3]||null}}function D(a){var b=a.parent().inheritedData(\"$uiView\");if(b&&b.state&&b.state.name)return b.state}function E(a){var b=\"[object SVGAnimatedString]\"===Object.prototype.toString.call(a.prop(\"href\")),c=\"FORM\"===a[0].nodeName;return{attr:c?\"action\":b?\"xlink:href\":\"href\",isAnchor:\"A\"===a.prop(\"tagName\").toUpperCase(),clickable:!c}}function F(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr(\"target\"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function G(a,b){return{relative:D(a)||b.$current,inherit:!0}}function H(a,c){return{restrict:\"A\",require:[\"?^uiSrefActive\",\"?^uiSrefActiveEq\"],link:function(d,e,f,g){var h,i=C(f.uiSref,a.current.name),j={state:i.state,href:null,params:null},k=E(e),l=g[1]||g[0],m=null;j.options=S(G(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var n=function(c){c&&(j.params=b.copy(c)),j.href=a.href(i.state,j.params,j.options),m&&m(),l&&(m=l.$$addStateInfo(i.state,j.params)),null!==j.href&&f.$set(k.attr,j.href)};i.paramExpr&&(d.$watch(i.paramExpr,function(a){a!==j.params&&n(a)},!0),j.params=b.copy(d.$eval(i.paramExpr))),n(),k.clickable&&(h=F(e,a,c,k,function(){return j}),e[e.on?\"on\":\"bind\"](\"click\",h),d.$on(\"$destroy\",function(){e[e.off?\"off\":\"unbind\"](\"click\",h)}))}}}function I(a,b){return{restrict:\"A\",require:[\"?^uiSrefActive\",\"?^uiSrefActiveEq\"],link:function(c,d,e,f){function g(b){m.state=b[0],m.params=b[1],m.options=b[2],m.href=a.href(m.state,m.params,m.options),n&&n(),j&&(n=j.$$addStateInfo(m.state,m.params)),m.href&&e.$set(i.attr,m.href)}var h,i=E(d),j=f[1]||f[0],k=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],l=\"[\"+k.map(function(a){return a||\"null\"}).join(\", \")+\"]\",m={state:null,params:null,options:null,href:null},n=null;c.$watch(l,g,!0),g(c.$eval(l)),i.clickable&&(h=F(d,a,b,i,function(){return m}),d[d.on?\"on\":\"bind\"](\"click\",h),c.$on(\"$destroy\",function(){d[d.off?\"off\":\"unbind\"](\"click\",h)}))}}}function J(a,b,c){return{restrict:\"A\",controller:[\"$scope\",\"$element\",\"$attrs\",\"$timeout\",function(b,d,e,f){function g(b,c,e){var f=a.get(b,D(d)),g=h(b,c),i={state:f||{name:b},params:c,hash:g};return p.push(i),q[g]=e,function(){var a=p.indexOf(i);a!==-1&&p.splice(a,1)}}function h(a,c){if(!O(a))throw new Error(\"state should be a string\");return P(c)?a+U(c):(c=b.$eval(c),P(c)?a+U(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||\"\",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(a){}o=o||c(e.uiSrefActive||\"\",!1)(b),P(o)&&R(o,function(c,d){if(O(c)){var e=C(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){if(!(P(o)&&p.length>0)){var c=g(a,b,o);return i(),c}},b.$on(\"$stateChangeSuccess\",i),i()}]}}function K(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function L(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var M=b.isDefined,N=b.isFunction,O=b.isString,P=b.isObject,Q=b.isArray,R=b.forEach,S=b.extend,T=b.copy,U=b.toJson;b.module(\"ui.router.util\",[\"ng\"]),b.module(\"ui.router.router\",[\"ui.router.util\"]),b.module(\"ui.router.state\",[\"ui.router.router\",\"ui.router.util\"]),b.module(\"ui.router\",[\"ui.router.state\"]),b.module(\"ui.router.compat\",[\"ui.router\"]),q.$inject=[\"$q\",\"$injector\"],b.module(\"ui.router.util\").service(\"$resolve\",q),r.$inject=[\"$http\",\"$templateCache\",\"$injector\"],b.module(\"ui.router.util\").service(\"$templateFactory\",r);var V;s.prototype.concat=function(a,b){var c={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new s(this.sourcePath+a+this.sourceSearch,S(c,b),this)},s.prototype.toString=function(){return this.source},s.prototype.exec=function(a,b){function c(a){function b(a){return a.split(\"\").reverse().join(\"\")}function c(a){return a.replace(/\\\\-/g,\"-\")}var d=b(a).split(/-(?!\\\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error(\"Unbalanced capture group in route '\"+this.source+\"'\");var l,m;for(e=0;e<j;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),M(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;e<i;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);M(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},s.prototype.parameters=function(a){return M(a)?this.params[a]||null:this.$$paramNames},s.prototype.validates=function(a){return this.params.$$validates(a)},s.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return\"%5C%\"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;f<i;f++){var k=f<h,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=!!p&&m.squash,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=Q(r)?o(r,b).join(\"-\"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\\/$/)?/\\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else O(q)&&(j+=q+s);t&&m.squash===!0&&\"/\"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(Q(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join(\"&\"+l+\"=\"),j+=(g?\"&\":\"?\")+(l+\"=\"+r),g=!0}}return j},t.prototype.is=function(a,b){return!0},t.prototype.encode=function(a,b){return a},t.prototype.decode=function(a,b){return a},t.prototype.equals=function(a,b){return a==b},t.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},t.prototype.pattern=/.*/,t.prototype.toString=function(){return\"{Type:\"+this.name+\"}\"},t.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},t.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return Q(a)?a:M(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return\"auto\"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(Q(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,\"encode\")),this.decode=h(d(a,\"decode\")),this.is=h(d(a,\"is\"),!0),this.equals=i(d(a,\"equals\")),this.pattern=a.pattern,this.$normalize=h(d(a,\"$normalize\")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if(\"auto\"===a&&!b)throw new Error(\"'auto' array mode is for query parameters only\");return new d(this,a);\n},b.module(\"ui.router.util\").provider(\"$urlMatcherFactory\",u),b.module(\"ui.router.util\").run([\"$urlMatcherFactory\",function(a){}]),v.$inject=[\"$locationProvider\",\"$urlMatcherFactoryProvider\"],b.module(\"ui.router.router\").provider(\"$urlRouter\",v),w.$inject=[\"$urlRouterProvider\",\"$urlMatcherFactoryProvider\"],b.module(\"ui.router.state\").factory(\"$stateParams\",function(){return{}}).constant(\"$state.runtime\",{autoinject:!0}).provider(\"$state\",w).run([\"$injector\",function(a){a.get(\"$state.runtime\").autoinject&&a.get(\"$state\")}]),x.$inject=[],b.module(\"ui.router.state\").provider(\"$view\",x),b.module(\"ui.router.state\").provider(\"$uiViewScroll\",y),z.$inject=[\"$state\",\"$injector\",\"$uiViewScroll\",\"$interpolate\",\"$q\"],A.$inject=[\"$compile\",\"$controller\",\"$state\",\"$interpolate\"],b.module(\"ui.router.state\").directive(\"uiView\",z),b.module(\"ui.router.state\").directive(\"uiView\",A),H.$inject=[\"$state\",\"$timeout\"],I.$inject=[\"$state\",\"$timeout\"],J.$inject=[\"$state\",\"$stateParams\",\"$interpolate\"],b.module(\"ui.router.state\").directive(\"uiSref\",H).directive(\"uiSrefActive\",J).directive(\"uiSrefActiveEq\",J).directive(\"uiState\",I),K.$inject=[\"$state\"],L.$inject=[\"$state\"],b.module(\"ui.router.state\").filter(\"isState\",K).filter(\"includedByState\",L)}(window,window.angular);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYW5ndWxhci11aS1yb3V0ZXIvcmVsZWFzZS9hbmd1bGFyLXVpLXJvdXRlci5taW4uanM/MGI3MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN0YXRlLWJhc2VkIHJvdXRpbmcgZm9yIEFuZ3VsYXJKU1xuICogQHZlcnNpb24gdjAuMy4yXG4gKiBAbGluayBodHRwOi8vYW5ndWxhci11aS5naXRodWIuY29tL1xuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UsIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cblwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiZtb2R1bGUuZXhwb3J0cz09PWV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1cInVpLnJvdXRlclwiKSxmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBTKG5ldyhTKGZ1bmN0aW9uKCl7fSx7cHJvdG90eXBlOmF9KSksYil9ZnVuY3Rpb24gZShhKXtyZXR1cm4gUihhcmd1bWVudHMsZnVuY3Rpb24oYil7YiE9PWEmJlIoYixmdW5jdGlvbihiLGMpe2EuaGFzT3duUHJvcGVydHkoYyl8fChhW2NdPWIpfSl9KSxhfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1bXTtmb3IodmFyIGQgaW4gYS5wYXRoKXtpZihhLnBhdGhbZF0hPT1iLnBhdGhbZF0pYnJlYWs7Yy5wdXNoKGEucGF0aFtkXSl9cmV0dXJuIGN9ZnVuY3Rpb24gZyhhKXtpZihPYmplY3Qua2V5cylyZXR1cm4gT2JqZWN0LmtleXMoYSk7dmFyIGI9W107cmV0dXJuIFIoYSxmdW5jdGlvbihhLGMpe2IucHVzaChjKX0pLGJ9ZnVuY3Rpb24gaChhLGIpe2lmKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKXJldHVybiBhLmluZGV4T2YoYixOdW1iZXIoYXJndW1lbnRzWzJdKXx8MCk7dmFyIGM9YS5sZW5ndGg+Pj4wLGQ9TnVtYmVyKGFyZ3VtZW50c1syXSl8fDA7Zm9yKGQ9ZDwwP01hdGguY2VpbChkKTpNYXRoLmZsb29yKGQpLGQ8MCYmKGQrPWMpO2Q8YztkKyspaWYoZCBpbiBhJiZhW2RdPT09YilyZXR1cm4gZDtyZXR1cm4tMX1mdW5jdGlvbiBpKGEsYixjLGQpe3ZhciBlLGk9ZihjLGQpLGo9e30saz1bXTtmb3IodmFyIGwgaW4gaSlpZihpW2xdJiZpW2xdLnBhcmFtcyYmKGU9ZyhpW2xdLnBhcmFtcyksZS5sZW5ndGgpKWZvcih2YXIgbSBpbiBlKWgoayxlW21dKT49MHx8KGsucHVzaChlW21dKSxqW2VbbV1dPWFbZVttXV0pO3JldHVybiBTKHt9LGosYil9ZnVuY3Rpb24gaihhLGIsYyl7aWYoIWMpe2M9W107Zm9yKHZhciBkIGluIGEpYy5wdXNoKGQpfWZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZj1jW2VdO2lmKGFbZl0hPWJbZl0pcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gayhhLGIpe3ZhciBjPXt9O3JldHVybiBSKGEsZnVuY3Rpb24oYSl7Y1thXT1iW2FdfSksY31mdW5jdGlvbiBsKGEpe3ZhciBiPXt9LGM9QXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShBcnJheS5wcm90b3R5cGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtyZXR1cm4gUihjLGZ1bmN0aW9uKGMpe2MgaW4gYSYmKGJbY109YVtjXSl9KSxifWZ1bmN0aW9uIG0oYSl7dmFyIGI9e30sYz1BcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KEFycmF5LnByb3RvdHlwZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO2Zvcih2YXIgZCBpbiBhKWgoYyxkKT09LTEmJihiW2RdPWFbZF0pO3JldHVybiBifWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1RKGEpLGQ9Yz9bXTp7fTtyZXR1cm4gUihhLGZ1bmN0aW9uKGEsZSl7YihhLGUpJiYoZFtjP2QubGVuZ3RoOmVdPWEpfSksZH1mdW5jdGlvbiBvKGEsYil7dmFyIGM9UShhKT9bXTp7fTtyZXR1cm4gUihhLGZ1bmN0aW9uKGEsZCl7Y1tkXT1iKGEsZCl9KSxjfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGEudGhlbihjLGZ1bmN0aW9uKCl7fSkmJmF9ZnVuY3Rpb24gcShhLGIpe3ZhciBkPTEsZj0yLGk9e30saj1bXSxrPWksbD1TKGEud2hlbihpKSx7JCRwcm9taXNlczppLCQkdmFsdWVzOml9KTt0aGlzLnN0dWR5PWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIG4oYSxjKXtpZihzW2NdIT09Zil7aWYoci5wdXNoKGMpLHNbY109PT1kKXRocm93IHIuc3BsaWNlKDAsaChyLGMpKSxuZXcgRXJyb3IoXCJDeWNsaWMgZGVwZW5kZW5jeTogXCIrci5qb2luKFwiIC0+IFwiKSk7aWYoc1tjXT1kLE8oYSkpcS5wdXNoKGMsW2Z1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0KGEpfV0saik7ZWxzZXt2YXIgZT1iLmFubm90YXRlKGEpO1IoZSxmdW5jdGlvbihhKXthIT09YyYmaS5oYXNPd25Qcm9wZXJ0eShhKSYmbihpW2FdLGEpfSkscS5wdXNoKGMsYSxlKX1yLnBvcCgpLHNbY109Zn19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gUChhKSYmYS50aGVuJiZhLiQkcHJvbWlzZXN9aWYoIVAoaSkpdGhyb3cgbmV3IEVycm9yKFwiJ2ludm9jYWJsZXMnIG11c3QgYmUgYW4gb2JqZWN0XCIpO3ZhciBwPWcoaXx8e30pLHE9W10scj1bXSxzPXt9O3JldHVybiBSKGksbiksaT1yPXM9bnVsbCxmdW5jdGlvbihkLGYsZyl7ZnVuY3Rpb24gaCgpey0tdXx8KHZ8fGUodCxmLiQkdmFsdWVzKSxyLiQkdmFsdWVzPXQsci4kJHByb21pc2VzPXIuJCRwcm9taXNlc3x8ITAsZGVsZXRlIHIuJCRpbmhlcml0ZWRWYWx1ZXMsbi5yZXNvbHZlKHQpKX1mdW5jdGlvbiBpKGEpe3IuJCRmYWlsdXJlPWEsbi5yZWplY3QoYSl9ZnVuY3Rpb24gaihjLGUsZil7ZnVuY3Rpb24gaihhKXtsLnJlamVjdChhKSxpKGEpfWZ1bmN0aW9uIGsoKXtpZighTShyLiQkZmFpbHVyZSkpdHJ5e2wucmVzb2x2ZShiLmludm9rZShlLGcsdCkpLGwucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGEpe3RbY109YSxoKCl9LGopfWNhdGNoKGEpe2ooYSl9fXZhciBsPWEuZGVmZXIoKSxtPTA7UihmLGZ1bmN0aW9uKGEpe3MuaGFzT3duUHJvcGVydHkoYSkmJiFkLmhhc093blByb3BlcnR5KGEpJiYobSsrLHNbYV0udGhlbihmdW5jdGlvbihiKXt0W2FdPWIsLS1tfHxrKCl9LGopKX0pLG18fGsoKSxzW2NdPWwucHJvbWlzZX1pZihvKGQpJiZnPT09YyYmKGc9ZixmPWQsZD1udWxsKSxkKXtpZighUChkKSl0aHJvdyBuZXcgRXJyb3IoXCInbG9jYWxzJyBtdXN0IGJlIGFuIG9iamVjdFwiKX1lbHNlIGQ9aztpZihmKXtpZighbyhmKSl0aHJvdyBuZXcgRXJyb3IoXCIncGFyZW50JyBtdXN0IGJlIGEgcHJvbWlzZSByZXR1cm5lZCBieSAkcmVzb2x2ZS5yZXNvbHZlKClcIil9ZWxzZSBmPWw7dmFyIG49YS5kZWZlcigpLHI9bi5wcm9taXNlLHM9ci4kJHByb21pc2VzPXt9LHQ9Uyh7fSxkKSx1PTErcS5sZW5ndGgvMyx2PSExO2lmKE0oZi4kJGZhaWx1cmUpKXJldHVybiBpKGYuJCRmYWlsdXJlKSxyO2YuJCRpbmhlcml0ZWRWYWx1ZXMmJmUodCxtKGYuJCRpbmhlcml0ZWRWYWx1ZXMscCkpLFMocyxmLiQkcHJvbWlzZXMpLGYuJCR2YWx1ZXM/KHY9ZSh0LG0oZi4kJHZhbHVlcyxwKSksci4kJGluaGVyaXRlZFZhbHVlcz1tKGYuJCR2YWx1ZXMscCksaCgpKTooZi4kJGluaGVyaXRlZFZhbHVlcyYmKHIuJCRpbmhlcml0ZWRWYWx1ZXM9bShmLiQkaW5oZXJpdGVkVmFsdWVzLHApKSxmLnRoZW4oaCxpKSk7Zm9yKHZhciB3PTAseD1xLmxlbmd0aDt3PHg7dys9MylkLmhhc093blByb3BlcnR5KHFbd10pP2goKTpqKHFbd10scVt3KzFdLHFbdysyXSk7cmV0dXJuIHJ9fSx0aGlzLnJlc29sdmU9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuc3R1ZHkoYSkoYixjLGQpfX1mdW5jdGlvbiByKGEsYixjKXt0aGlzLmZyb21Db25maWc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBNKGEudGVtcGxhdGUpP3RoaXMuZnJvbVN0cmluZyhhLnRlbXBsYXRlLGIpOk0oYS50ZW1wbGF0ZVVybCk/dGhpcy5mcm9tVXJsKGEudGVtcGxhdGVVcmwsYik6TShhLnRlbXBsYXRlUHJvdmlkZXIpP3RoaXMuZnJvbVByb3ZpZGVyKGEudGVtcGxhdGVQcm92aWRlcixiLGMpOm51bGx9LHRoaXMuZnJvbVN0cmluZz1mdW5jdGlvbihhLGIpe3JldHVybiBOKGEpP2EoYik6YX0sdGhpcy5mcm9tVXJsPWZ1bmN0aW9uKGMsZCl7cmV0dXJuIE4oYykmJihjPWMoZCkpLG51bGw9PWM/bnVsbDphLmdldChjLHtjYWNoZTpiLGhlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwifX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YX0pfSx0aGlzLmZyb21Qcm92aWRlcj1mdW5jdGlvbihhLGIsZCl7cmV0dXJuIGMuaW52b2tlKGEsbnVsbCxkfHx7cGFyYW1zOmJ9KX19ZnVuY3Rpb24gcyhhLGIsZSl7ZnVuY3Rpb24gZihiLGMsZCxlKXtpZihxLnB1c2goYiksb1tiXSlyZXR1cm4gb1tiXTtpZighL15cXHcrKFstLl0rXFx3KykqKD86XFxbXFxdKT8kLy50ZXN0KGIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVyIG5hbWUgJ1wiK2IrXCInIGluIHBhdHRlcm4gJ1wiK2ErXCInXCIpO2lmKHBbYl0pdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIHBhcmFtZXRlciBuYW1lICdcIitiK1wiJyBpbiBwYXR0ZXJuICdcIithK1wiJ1wiKTtyZXR1cm4gcFtiXT1uZXcgVi5QYXJhbShiLGMsZCxlKSxwW2JdfWZ1bmN0aW9uIGcoYSxiLGMsZCl7dmFyIGU9W1wiXCIsXCJcIl0sZj1hLnJlcGxhY2UoL1tcXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0vZyxcIlxcXFwkJlwiKTtpZighYilyZXR1cm4gZjtzd2l0Y2goYyl7Y2FzZSExOmU9W1wiKFwiLFwiKVwiKyhkP1wiP1wiOlwiXCIpXTticmVhaztjYXNlITA6Zj1mLnJlcGxhY2UoL1xcLyQvLFwiXCIpLGU9W1wiKD86LyhcIixcIil8Lyk/XCJdO2JyZWFrO2RlZmF1bHQ6ZT1bXCIoXCIrYytcInxcIixcIik/XCJdfXJldHVybiBmK2VbMF0rYitlWzFdfWZ1bmN0aW9uIGgoZSxmKXt2YXIgZyxoLGksaixrO3JldHVybiBnPWVbMl18fGVbM10saz1iLnBhcmFtc1tnXSxpPWEuc3Vic3RyaW5nKG0sZS5pbmRleCksaD1mP2VbNF06ZVs0XXx8KFwiKlwiPT1lWzFdP1wiLipcIjpudWxsKSxoJiYoaj1WLnR5cGUoaCl8fGQoVi50eXBlKFwic3RyaW5nXCIpLHtwYXR0ZXJuOm5ldyBSZWdFeHAoaCxiLmNhc2VJbnNlbnNpdGl2ZT9cImlcIjpjKX0pKSx7aWQ6ZyxyZWdleHA6aCxzZWdtZW50OmksdHlwZTpqLGNmZzprfX1iPVMoe3BhcmFtczp7fX0sUChiKT9iOnt9KTt2YXIgaSxqPS8oWzoqXSkoW1xcd1xcW1xcXV0rKXxcXHsoW1xcd1xcW1xcXV0rKSg/OlxcOlxccyooKD86W157fVxcXFxdK3xcXFxcLnxcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0pKykpP1xcfS9nLGs9LyhbOl0/KShbXFx3XFxbXFxdLi1dKyl8XFx7KFtcXHdcXFtcXF0uLV0rKSg/OlxcOlxccyooKD86W157fVxcXFxdK3xcXFxcLnxcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0pKykpP1xcfS9nLGw9XCJeXCIsbT0wLG49dGhpcy5zZWdtZW50cz1bXSxvPWU/ZS5wYXJhbXM6e30scD10aGlzLnBhcmFtcz1lP2UucGFyYW1zLiQkbmV3KCk6bmV3IFYuUGFyYW1TZXQscT1bXTt0aGlzLnNvdXJjZT1hO2Zvcih2YXIgcixzLHQ7KGk9ai5leGVjKGEpKSYmKHI9aChpLCExKSwhKHIuc2VnbWVudC5pbmRleE9mKFwiP1wiKT49MCkpOylzPWYoci5pZCxyLnR5cGUsci5jZmcsXCJwYXRoXCIpLGwrPWcoci5zZWdtZW50LHMudHlwZS5wYXR0ZXJuLnNvdXJjZSxzLnNxdWFzaCxzLmlzT3B0aW9uYWwpLG4ucHVzaChyLnNlZ21lbnQpLG09ai5sYXN0SW5kZXg7dD1hLnN1YnN0cmluZyhtKTt2YXIgdT10LmluZGV4T2YoXCI/XCIpO2lmKHU+PTApe3ZhciB2PXRoaXMuc291cmNlU2VhcmNoPXQuc3Vic3RyaW5nKHUpO2lmKHQ9dC5zdWJzdHJpbmcoMCx1KSx0aGlzLnNvdXJjZVBhdGg9YS5zdWJzdHJpbmcoMCxtK3UpLHYubGVuZ3RoPjApZm9yKG09MDtpPWsuZXhlYyh2KTspcj1oKGksITApLHM9ZihyLmlkLHIudHlwZSxyLmNmZyxcInNlYXJjaFwiKSxtPWoubGFzdEluZGV4fWVsc2UgdGhpcy5zb3VyY2VQYXRoPWEsdGhpcy5zb3VyY2VTZWFyY2g9XCJcIjtsKz1nKHQpKyhiLnN0cmljdD09PSExP1wiLz9cIjpcIlwiKStcIiRcIixuLnB1c2godCksdGhpcy5yZWdleHA9bmV3IFJlZ0V4cChsLGIuY2FzZUluc2Vuc2l0aXZlP1wiaVwiOmMpLHRoaXMucHJlZml4PW5bMF0sdGhpcy4kJHBhcmFtTmFtZXM9cX1mdW5jdGlvbiB0KGEpe1ModGhpcyxhKX1mdW5jdGlvbiB1KCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gbnVsbCE9YT9hLnRvU3RyaW5nKCkucmVwbGFjZSgvKH58XFwvKS9nLGZ1bmN0aW9uKGEpe3JldHVybntcIn5cIjpcIn5+XCIsXCIvXCI6XCJ+MkZcIn1bYV19KTphfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIG51bGwhPWE/YS50b1N0cmluZygpLnJlcGxhY2UoLyh+fnx+MkYpL2csZnVuY3Rpb24oYSl7cmV0dXJue1wifn5cIjpcIn5cIixcIn4yRlwiOlwiL1wifVthXX0pOmF9ZnVuY3Rpb24gZigpe3JldHVybntzdHJpY3Q6cCxjYXNlSW5zZW5zaXRpdmU6bX19ZnVuY3Rpb24gaShhKXtyZXR1cm4gTihhKXx8UShhKSYmTihhW2EubGVuZ3RoLTFdKX1mdW5jdGlvbiBqKCl7Zm9yKDt3Lmxlbmd0aDspe3ZhciBhPXcuc2hpZnQoKTtpZihhLnBhdHRlcm4pdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCBvdmVycmlkZSBhIHR5cGUncyAucGF0dGVybiBhdCBydW50aW1lLlwiKTtiLmV4dGVuZChyW2EubmFtZV0sbC5pbnZva2UoYS5kZWYpKX19ZnVuY3Rpb24gayhhKXtTKHRoaXMsYXx8e30pfVY9dGhpczt2YXIgbCxtPSExLHA9ITAscT0hMSxyPXt9LHY9ITAsdz1bXSx4PXtzdHJpbmc6e2VuY29kZTphLGRlY29kZTplLGlzOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hfHwhTShhKXx8XCJzdHJpbmdcIj09dHlwZW9mIGF9LHBhdHRlcm46L1teXFwvXSovfSxpbnQ6e2VuY29kZTphLGRlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gcGFyc2VJbnQoYSwxMCl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiBNKGEpJiZ0aGlzLmRlY29kZShhLnRvU3RyaW5nKCkpPT09YX0scGF0dGVybjovXFxkKy99LGJvb2w6e2VuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gYT8xOjB9LGRlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gMCE9PXBhcnNlSW50KGEsMTApfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gYT09PSEwfHxhPT09ITF9LHBhdHRlcm46LzB8MS99LGRhdGU6e2VuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pcyhhKT9bYS5nZXRGdWxsWWVhcigpLChcIjBcIisoYS5nZXRNb250aCgpKzEpKS5zbGljZSgtMiksKFwiMFwiK2EuZ2V0RGF0ZSgpKS5zbGljZSgtMildLmpvaW4oXCItXCIpOmN9LGRlY29kZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzKGEpKXJldHVybiBhO3ZhciBiPXRoaXMuY2FwdHVyZS5leGVjKGEpO3JldHVybiBiP25ldyBEYXRlKGJbMV0sYlsyXS0xLGJbM10pOmN9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKGEudmFsdWVPZigpKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXMoYSkmJnRoaXMuaXMoYikmJmEudG9JU09TdHJpbmcoKT09PWIudG9JU09TdHJpbmcoKX0scGF0dGVybjovWzAtOV17NH0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS8sY2FwdHVyZTovKFswLTldezR9KS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvfSxqc29uOntlbmNvZGU6Yi50b0pzb24sZGVjb2RlOmIuZnJvbUpzb24saXM6Yi5pc09iamVjdCxlcXVhbHM6Yi5lcXVhbHMscGF0dGVybjovW15cXC9dKi99LGFueTp7ZW5jb2RlOmIuaWRlbnRpdHksZGVjb2RlOmIuaWRlbnRpdHksZXF1YWxzOmIuZXF1YWxzLHBhdHRlcm46Ly4qL319O3UuJCRnZXREZWZhdWx0VmFsdWU9ZnVuY3Rpb24oYSl7aWYoIWkoYS52YWx1ZSkpcmV0dXJuIGEudmFsdWU7aWYoIWwpdGhyb3cgbmV3IEVycm9yKFwiSW5qZWN0YWJsZSBmdW5jdGlvbnMgY2Fubm90IGJlIGNhbGxlZCBhdCBjb25maWd1cmF0aW9uIHRpbWVcIik7cmV0dXJuIGwuaW52b2tlKGEudmFsdWUpfSx0aGlzLmNhc2VJbnNlbnNpdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gTShhKSYmKG09YSksbX0sdGhpcy5zdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBNKGEpJiYocD1hKSxwfSx0aGlzLmRlZmF1bHRTcXVhc2hQb2xpY3k9ZnVuY3Rpb24oYSl7aWYoIU0oYSkpcmV0dXJuIHE7aWYoYSE9PSEwJiZhIT09ITEmJiFPKGEpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3F1YXNoIHBvbGljeTogXCIrYStcIi4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBhcmJpdHJhcnktc3RyaW5nXCIpO3JldHVybiBxPWEsYX0sdGhpcy5jb21waWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBzKGEsUyhmKCksYikpfSx0aGlzLmlzTWF0Y2hlcj1mdW5jdGlvbihhKXtpZighUChhKSlyZXR1cm4hMTt2YXIgYj0hMDtyZXR1cm4gUihzLnByb3RvdHlwZSxmdW5jdGlvbihjLGQpe04oYykmJihiPWImJk0oYVtkXSkmJk4oYVtkXSkpfSksYn0sdGhpcy50eXBlPWZ1bmN0aW9uKGEsYixjKXtpZighTShiKSlyZXR1cm4gclthXTtpZihyLmhhc093blByb3BlcnR5KGEpKXRocm93IG5ldyBFcnJvcihcIkEgdHlwZSBuYW1lZCAnXCIrYStcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtyZXR1cm4gclthXT1uZXcgdChTKHtuYW1lOmF9LGIpKSxjJiYody5wdXNoKHtuYW1lOmEsZGVmOmN9KSx2fHxqKCkpLHRoaXN9LFIoeCxmdW5jdGlvbihhLGIpe3JbYl09bmV3IHQoUyh7bmFtZTpifSxhKSl9KSxyPWQocix7fSksdGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEpe3JldHVybiBsPWEsdj0hMSxqKCksUih4LGZ1bmN0aW9uKGEsYil7cltiXXx8KHJbYl09bmV3IHQoYSkpfSksdGhpc31dLHRoaXMuUGFyYW09ZnVuY3Rpb24oYSxkLGUsZil7ZnVuY3Rpb24gaihhKXt2YXIgYj1QKGEpP2coYSk6W10sYz1oKGIsXCJ2YWx1ZVwiKT09PS0xJiZoKGIsXCJ0eXBlXCIpPT09LTEmJmgoYixcInNxdWFzaFwiKT09PS0xJiZoKGIsXCJhcnJheVwiKT09PS0xO3JldHVybiBjJiYoYT17dmFsdWU6YX0pLGEuJCRmbj1pKGEudmFsdWUpP2EudmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS52YWx1ZX0sYX1mdW5jdGlvbiBrKGMsZCxlKXtpZihjLnR5cGUmJmQpdGhyb3cgbmV3IEVycm9yKFwiUGFyYW0gJ1wiK2ErXCInIGhhcyB0d28gdHlwZSBjb25maWd1cmF0aW9ucy5cIik7cmV0dXJuIGQ/ZDpjLnR5cGU/Yi5pc1N0cmluZyhjLnR5cGUpP3JbYy50eXBlXTpjLnR5cGUgaW5zdGFuY2VvZiB0P2MudHlwZTpuZXcgdChjLnR5cGUpOlwiY29uZmlnXCI9PT1lP3IuYW55OnIuc3RyaW5nfWZ1bmN0aW9uIG0oKXt2YXIgYj17YXJyYXk6XCJzZWFyY2hcIj09PWYmJlwiYXV0b1wifSxjPWEubWF0Y2goL1xcW1xcXSQvKT97YXJyYXk6ITB9Ont9O3JldHVybiBTKGIsYyxlKS5hcnJheX1mdW5jdGlvbiBwKGEsYil7dmFyIGM9YS5zcXVhc2g7aWYoIWJ8fGM9PT0hMSlyZXR1cm4hMTtpZighTShjKXx8bnVsbD09YylyZXR1cm4gcTtpZihjPT09ITB8fE8oYykpcmV0dXJuIGM7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiAnXCIrYytcIicuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgb3IgYXJiaXRyYXJ5IHN0cmluZ1wiKX1mdW5jdGlvbiBzKGEsYixkLGUpe3ZhciBmLGcsaT1be2Zyb206XCJcIix0bzpkfHxiP2M6XCJcIn0se2Zyb206bnVsbCx0bzpkfHxiP2M6XCJcIn1dO3JldHVybiBmPVEoYS5yZXBsYWNlKT9hLnJlcGxhY2U6W10sTyhlKSYmZi5wdXNoKHtmcm9tOmUsdG86Y30pLGc9byhmLGZ1bmN0aW9uKGEpe3JldHVybiBhLmZyb219KSxuKGksZnVuY3Rpb24oYSl7cmV0dXJuIGgoZyxhLmZyb20pPT09LTF9KS5jb25jYXQoZil9ZnVuY3Rpb24gdSgpe2lmKCFsKXRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO3ZhciBhPWwuaW52b2tlKGUuJCRmbik7aWYobnVsbCE9PWEmJmEhPT1jJiYheC50eXBlLmlzKGEpKXRocm93IG5ldyBFcnJvcihcIkRlZmF1bHQgdmFsdWUgKFwiK2ErXCIpIGZvciBwYXJhbWV0ZXIgJ1wiK3guaWQrXCInIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBUeXBlIChcIit4LnR5cGUubmFtZStcIilcIik7cmV0dXJuIGF9ZnVuY3Rpb24gdihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5mcm9tPT09YX19ZnVuY3Rpb24gYyhhKXt2YXIgYz1vKG4oeC5yZXBsYWNlLGIoYSkpLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvfSk7cmV0dXJuIGMubGVuZ3RoP2NbMF06YX1yZXR1cm4gYT1jKGEpLE0oYSk/eC50eXBlLiRub3JtYWxpemUoYSk6dSgpfWZ1bmN0aW9uIHcoKXtyZXR1cm5cIntQYXJhbTpcIithK1wiIFwiK2QrXCIgc3F1YXNoOiAnXCIrQStcIicgb3B0aW9uYWw6IFwiK3orXCJ9XCJ9dmFyIHg9dGhpcztlPWooZSksZD1rKGUsZCxmKTt2YXIgeT1tKCk7ZD15P2QuJGFzQXJyYXkoeSxcInNlYXJjaFwiPT09Zik6ZCxcInN0cmluZ1wiIT09ZC5uYW1lfHx5fHxcInBhdGhcIiE9PWZ8fGUudmFsdWUhPT1jfHwoZS52YWx1ZT1cIlwiKTt2YXIgej1lLnZhbHVlIT09YyxBPXAoZSx6KSxCPXMoZSx5LHosQSk7Uyh0aGlzLHtpZDphLHR5cGU6ZCxsb2NhdGlvbjpmLGFycmF5Onksc3F1YXNoOkEscmVwbGFjZTpCLGlzT3B0aW9uYWw6eix2YWx1ZTp2LGR5bmFtaWM6Yyxjb25maWc6ZSx0b1N0cmluZzp3fSl9LGsucHJvdG90eXBlPXskJG5ldzpmdW5jdGlvbigpe3JldHVybiBkKHRoaXMsUyhuZXcgayx7JCRwYXJlbnQ6dGhpc30pKX0sJCRrZXlzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9W10sYz10aGlzLGQ9ZyhrLnByb3RvdHlwZSk7YzspYi5wdXNoKGMpLGM9Yy4kJHBhcmVudDtyZXR1cm4gYi5yZXZlcnNlKCksUihiLGZ1bmN0aW9uKGIpe1IoZyhiKSxmdW5jdGlvbihiKXtoKGEsYik9PT0tMSYmaChkLGIpPT09LTEmJmEucHVzaChiKX0pfSksYX0sJCR2YWx1ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz10aGlzO3JldHVybiBSKGMuJCRrZXlzKCksZnVuY3Rpb24oZCl7YltkXT1jW2RdLnZhbHVlKGEmJmFbZF0pfSksYn0sJCRlcXVhbHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMCxkPXRoaXM7cmV0dXJuIFIoZC4kJGtleXMoKSxmdW5jdGlvbihlKXt2YXIgZj1hJiZhW2VdLGc9YiYmYltlXTtkW2VdLnR5cGUuZXF1YWxzKGYsZyl8fChjPSExKX0pLGN9LCQkdmFsaWRhdGVzOmZ1bmN0aW9uKGEpe3ZhciBkLGUsZixnLGgsaT10aGlzLiQka2V5cygpO2ZvcihkPTA7ZDxpLmxlbmd0aCYmKGU9dGhpc1tpW2RdXSxmPWFbaVtkXV0sZiE9PWMmJm51bGwhPT1mfHwhZS5pc09wdGlvbmFsKTtkKyspe2lmKGc9ZS50eXBlLiRub3JtYWxpemUoZiksIWUudHlwZS5pcyhnKSlyZXR1cm4hMTtpZihoPWUudHlwZS5lbmNvZGUoZyksYi5pc1N0cmluZyhoKSYmIWUudHlwZS5wYXR0ZXJuLmV4ZWMoaCkpcmV0dXJuITF9cmV0dXJuITB9LCQkcGFyZW50OmN9LHRoaXMuUGFyYW1TZXQ9a31mdW5jdGlvbiB2KGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj0vXlxcXigoPzpcXFxcW15hLXpBLVowLTldfFteXFxcXFxcW1xcXVxcXiQqKz8uKCl8e31dKykqKS8uZXhlYyhhLnNvdXJjZSk7cmV0dXJuIG51bGwhPWI/YlsxXS5yZXBsYWNlKC9cXFxcKC4pL2csXCIkMVwiKTpcIlwifWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYS5yZXBsYWNlKC9cXCQoXFwkfFxcZHsxLDJ9KS8sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYltcIiRcIj09PWM/MDpOdW1iZXIoYyldfSl9ZnVuY3Rpb24gZyhhLGIsYyl7aWYoIWMpcmV0dXJuITE7dmFyIGQ9YS5pbnZva2UoYixiLHskbWF0Y2g6Y30pO3JldHVybiFNKGQpfHxkfWZ1bmN0aW9uIGgoZCxlLGYsZyxoKXtmdW5jdGlvbiBtKGEsYixjKXtyZXR1cm5cIi9cIj09PXE/YTpiP3Euc2xpY2UoMCwtMSkrYTpjP3Euc2xpY2UoMSkrYTphfWZ1bmN0aW9uIG4oYSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hKGYsZCk7cmV0dXJuISFiJiYoTyhiKSYmZC5yZXBsYWNlKCkudXJsKGIpLCEwKX1pZighYXx8IWEuZGVmYXVsdFByZXZlbnRlZCl7cCYmZC51cmwoKT09PXA7cD1jO3ZhciBlLGc9ai5sZW5ndGg7Zm9yKGU9MDtlPGc7ZSsrKWlmKGIoaltlXSkpcmV0dXJuO2smJmIoayl9fWZ1bmN0aW9uIG8oKXtyZXR1cm4gaT1pfHxlLiRvbihcIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NcIixuKX12YXIgcCxxPWcuYmFzZUhyZWYoKSxyPWQudXJsKCk7cmV0dXJuIGx8fG8oKSx7c3luYzpmdW5jdGlvbigpe24oKX0sbGlzdGVuOmZ1bmN0aW9uKCl7cmV0dXJuIG8oKX0sdXBkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhP3ZvaWQocj1kLnVybCgpKTp2b2lkKGQudXJsKCkhPT1yJiYoZC51cmwociksZC5yZXBsYWNlKCkpKX0scHVzaDpmdW5jdGlvbihhLGIsZSl7dmFyIGY9YS5mb3JtYXQoYnx8e30pO251bGwhPT1mJiZiJiZiW1wiI1wiXSYmKGYrPVwiI1wiK2JbXCIjXCJdKSxkLnVybChmKSxwPWUmJmUuJCRhdm9pZFJlc3luYz9kLnVybCgpOmMsZSYmZS5yZXBsYWNlJiZkLnJlcGxhY2UoKX0saHJlZjpmdW5jdGlvbihjLGUsZil7aWYoIWMudmFsaWRhdGVzKGUpKXJldHVybiBudWxsO3ZhciBnPWEuaHRtbDVNb2RlKCk7Yi5pc09iamVjdChnKSYmKGc9Zy5lbmFibGVkKSxnPWcmJmguaGlzdG9yeTt2YXIgaT1jLmZvcm1hdChlKTtpZihmPWZ8fHt9LGd8fG51bGw9PT1pfHwoaT1cIiNcIithLmhhc2hQcmVmaXgoKStpKSxudWxsIT09aSYmZSYmZVtcIiNcIl0mJihpKz1cIiNcIitlW1wiI1wiXSksaT1tKGksZyxmLmFic29sdXRlKSwhZi5hYnNvbHV0ZXx8IWkpcmV0dXJuIGk7dmFyIGo9IWcmJmk/XCIvXCI6XCJcIixrPWQucG9ydCgpO3JldHVybiBrPTgwPT09a3x8NDQzPT09az9cIlwiOlwiOlwiK2ssW2QucHJvdG9jb2woKSxcIjovL1wiLGQuaG9zdCgpLGssaixpXS5qb2luKFwiXCIpfX19dmFyIGksaj1bXSxrPW51bGwsbD0hMTt0aGlzLnJ1bGU9ZnVuY3Rpb24oYSl7aWYoIU4oYSkpdGhyb3cgbmV3IEVycm9yKFwiJ3J1bGUnIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4gai5wdXNoKGEpLHRoaXN9LHRoaXMub3RoZXJ3aXNlPWZ1bmN0aW9uKGEpe2lmKE8oYSkpe3ZhciBiPWE7YT1mdW5jdGlvbigpe3JldHVybiBifX1lbHNlIGlmKCFOKGEpKXRocm93IG5ldyBFcnJvcihcIidydWxlJyBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIGs9YSx0aGlzfSx0aGlzLndoZW49ZnVuY3Rpb24oYSxiKXt2YXIgYyxoPU8oYik7aWYoTyhhKSYmKGE9ZC5jb21waWxlKGEpKSwhaCYmIU4oYikmJiFRKGIpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ2hhbmRsZXInIGluIHdoZW4oKVwiKTt2YXIgaT17bWF0Y2hlcjpmdW5jdGlvbihhLGIpe3JldHVybiBoJiYoYz1kLmNvbXBpbGUoYiksYj1bXCIkbWF0Y2hcIixmdW5jdGlvbihhKXtyZXR1cm4gYy5mb3JtYXQoYSl9XSksUyhmdW5jdGlvbihjLGQpe3JldHVybiBnKGMsYixhLmV4ZWMoZC5wYXRoKCksZC5zZWFyY2goKSkpfSx7cHJlZml4Ok8oYS5wcmVmaXgpP2EucHJlZml4OlwiXCJ9KX0scmVnZXg6ZnVuY3Rpb24oYSxiKXtpZihhLmdsb2JhbHx8YS5zdGlja3kpdGhyb3cgbmV3IEVycm9yKFwid2hlbigpIFJlZ0V4cCBtdXN0IG5vdCBiZSBnbG9iYWwgb3Igc3RpY2t5XCIpO3JldHVybiBoJiYoYz1iLGI9W1wiJG1hdGNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGYoYyxhKX1dKSxTKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGcoYyxiLGEuZXhlYyhkLnBhdGgoKSkpfSx7cHJlZml4OmUoYSl9KX19LGo9e21hdGNoZXI6ZC5pc01hdGNoZXIoYSkscmVnZXg6YSBpbnN0YW5jZW9mIFJlZ0V4cH07Zm9yKHZhciBrIGluIGopaWYoaltrXSlyZXR1cm4gdGhpcy5ydWxlKGlba10oYSxiKSk7dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCAnd2hhdCcgaW4gd2hlbigpXCIpfSx0aGlzLmRlZmVySW50ZXJjZXB0PWZ1bmN0aW9uKGEpe2E9PT1jJiYoYT0hMCksbD1hfSx0aGlzLiRnZXQ9aCxoLiRpbmplY3Q9W1wiJGxvY2F0aW9uXCIsXCIkcm9vdFNjb3BlXCIsXCIkaW5qZWN0b3JcIixcIiRicm93c2VyXCIsXCIkc25pZmZlclwiXX1mdW5jdGlvbiB3KGEsZSl7ZnVuY3Rpb24gZihhKXtyZXR1cm4gMD09PWEuaW5kZXhPZihcIi5cIil8fDA9PT1hLmluZGV4T2YoXCJeXCIpfWZ1bmN0aW9uIG0oYSxiKXtpZighYSlyZXR1cm4gYzt2YXIgZD1PKGEpLGU9ZD9hOmEubmFtZSxnPWYoZSk7aWYoZyl7aWYoIWIpdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVmZXJlbmNlIHBvaW50IGdpdmVuIGZvciBwYXRoICdcIitlK1wiJ1wiKTtiPW0oYik7Zm9yKHZhciBoPWUuc3BsaXQoXCIuXCIpLGk9MCxqPWgubGVuZ3RoLGs9YjtpPGo7aSsrKWlmKFwiXCIhPT1oW2ldfHwwIT09aSl7aWYoXCJeXCIhPT1oW2ldKWJyZWFrO2lmKCFrLnBhcmVudCl0aHJvdyBuZXcgRXJyb3IoXCJQYXRoICdcIitlK1wiJyBub3QgdmFsaWQgZm9yIHN0YXRlICdcIitiLm5hbWUrXCInXCIpO2s9ay5wYXJlbnR9ZWxzZSBrPWI7aD1oLnNsaWNlKGkpLmpvaW4oXCIuXCIpLGU9ay5uYW1lKyhrLm5hbWUmJmg/XCIuXCI6XCJcIikraH12YXIgbD1BW2VdO3JldHVybiFsfHwhZCYmKGR8fGwhPT1hJiZsLnNlbGYhPT1hKT9jOmx9ZnVuY3Rpb24gbihhLGIpe0JbYV18fChCW2FdPVtdKSxCW2FdLnB1c2goYil9ZnVuY3Rpb24gcShhKXtmb3IodmFyIGI9QlthXXx8W107Yi5sZW5ndGg7KXIoYi5zaGlmdCgpKX1mdW5jdGlvbiByKGIpe2I9ZChiLHtzZWxmOmIscmVzb2x2ZTpiLnJlc29sdmV8fHt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX19KTt2YXIgYz1iLm5hbWU7aWYoIU8oYyl8fGMuaW5kZXhPZihcIkBcIik+PTApdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgbXVzdCBoYXZlIGEgdmFsaWQgbmFtZVwiKTtpZihBLmhhc093blByb3BlcnR5KGMpKXRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIitjK1wiJyBpcyBhbHJlYWR5IGRlZmluZWRcIik7dmFyIGU9Yy5pbmRleE9mKFwiLlwiKSE9PS0xP2Muc3Vic3RyaW5nKDAsYy5sYXN0SW5kZXhPZihcIi5cIikpOk8oYi5wYXJlbnQpP2IucGFyZW50OlAoYi5wYXJlbnQpJiZPKGIucGFyZW50Lm5hbWUpP2IucGFyZW50Lm5hbWU6XCJcIjtpZihlJiYhQVtlXSlyZXR1cm4gbihlLGIuc2VsZik7Zm9yKHZhciBmIGluIEQpTihEW2ZdKSYmKGJbZl09RFtmXShiLEQuJGRlbGVnYXRlc1tmXSkpO3JldHVybiBBW2NdPWIsIWJbQ10mJmIudXJsJiZhLndoZW4oYi51cmwsW1wiJG1hdGNoXCIsXCIkc3RhdGVQYXJhbXNcIixmdW5jdGlvbihhLGMpe3ouJGN1cnJlbnQubmF2aWdhYmxlPT1iJiZqKGEsYyl8fHoudHJhbnNpdGlvblRvKGIsYSx7aW5oZXJpdDohMCxsb2NhdGlvbjohMX0pfV0pLHEoYyksYn1mdW5jdGlvbiBzKGEpe3JldHVybiBhLmluZGV4T2YoXCIqXCIpPi0xfWZ1bmN0aW9uIHQoYSl7Zm9yKHZhciBiPWEuc3BsaXQoXCIuXCIpLGM9ei4kY3VycmVudC5uYW1lLnNwbGl0KFwiLlwiKSxkPTAsZT1iLmxlbmd0aDtkPGU7ZCsrKVwiKlwiPT09YltkXSYmKGNbZF09XCIqXCIpO3JldHVyblwiKipcIj09PWJbMF0mJihjPWMuc2xpY2UoaChjLGJbMV0pKSxjLnVuc2hpZnQoXCIqKlwiKSksXCIqKlwiPT09YltiLmxlbmd0aC0xXSYmKGMuc3BsaWNlKGgoYyxiW2IubGVuZ3RoLTJdKSsxLE51bWJlci5NQVhfVkFMVUUpLGMucHVzaChcIioqXCIpKSxiLmxlbmd0aD09Yy5sZW5ndGgmJmMuam9pbihcIlwiKT09PWIuam9pbihcIlwiKX1mdW5jdGlvbiB1KGEsYil7cmV0dXJuIE8oYSkmJiFNKGIpP0RbYV06TihiKSYmTyhhKT8oRFthXSYmIUQuJGRlbGVnYXRlc1thXSYmKEQuJGRlbGVnYXRlc1thXT1EW2FdKSxEW2FdPWIsdGhpcyk6dGhpc31mdW5jdGlvbiB2KGEsYil7cmV0dXJuIFAoYSk/Yj1hOmIubmFtZT1hLHIoYiksdGhpc31mdW5jdGlvbiB3KGEsZSxmLGgsbCxuLHEscix1KXtmdW5jdGlvbiB2KGIsYyxkLGYpe3ZhciBnPWEuJGJyb2FkY2FzdChcIiRzdGF0ZU5vdEZvdW5kXCIsYixjLGQpO2lmKGcuZGVmYXVsdFByZXZlbnRlZClyZXR1cm4gcS51cGRhdGUoKSxGO2lmKCFnLnJldHJ5KXJldHVybiBudWxsO2lmKGYuJHJldHJ5KXJldHVybiBxLnVwZGF0ZSgpLEc7dmFyIGg9ei50cmFuc2l0aW9uPWUud2hlbihnLnJldHJ5KTtyZXR1cm4gaC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGghPT16LnRyYW5zaXRpb24/KGEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZUNhbmNlbFwiLGIudG8sYi50b1BhcmFtcyxjLGQpLEQpOihiLm9wdGlvbnMuJHJldHJ5PSEwLHoudHJhbnNpdGlvblRvKGIudG8sYi50b1BhcmFtcyxiLm9wdGlvbnMpKX0sZnVuY3Rpb24oKXtyZXR1cm4gRn0pLHEudXBkYXRlKCksaH1mdW5jdGlvbiB3KGEsYyxkLGcsaSxqKXtmdW5jdGlvbiBtKCl7dmFyIGM9W107cmV0dXJuIFIoYS52aWV3cyxmdW5jdGlvbihkLGUpe3ZhciBnPWQucmVzb2x2ZSYmZC5yZXNvbHZlIT09YS5yZXNvbHZlP2QucmVzb2x2ZTp7fTtnLiR0ZW1wbGF0ZT1bZnVuY3Rpb24oKXtyZXR1cm4gZi5sb2FkKGUse3ZpZXc6ZCxsb2NhbHM6aS5nbG9iYWxzLHBhcmFtczpuLG5vdGlmeTpqLm5vdGlmeX0pfHxcIlwifV0sYy5wdXNoKGwucmVzb2x2ZShnLGkuZ2xvYmFscyxpLnJlc29sdmUsYSkudGhlbihmdW5jdGlvbihjKXtpZihOKGQuY29udHJvbGxlclByb3ZpZGVyKXx8UShkLmNvbnRyb2xsZXJQcm92aWRlcikpe3ZhciBmPWIuZXh0ZW5kKHt9LGcsaS5nbG9iYWxzKTtjLiQkY29udHJvbGxlcj1oLmludm9rZShkLmNvbnRyb2xsZXJQcm92aWRlcixudWxsLGYpfWVsc2UgYy4kJGNvbnRyb2xsZXI9ZC5jb250cm9sbGVyO2MuJCRzdGF0ZT1hLGMuJCRjb250cm9sbGVyQXM9ZC5jb250cm9sbGVyQXMsYy4kJHJlc29sdmVBcz1kLnJlc29sdmVBcyxpW2VdPWN9KSl9KSxlLmFsbChjKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGkuZ2xvYmFsc30pfXZhciBuPWQ/YzprKGEucGFyYW1zLiQka2V5cygpLGMpLG89eyRzdGF0ZVBhcmFtczpufTtpLnJlc29sdmU9bC5yZXNvbHZlKGEucmVzb2x2ZSxvLGkucmVzb2x2ZSxhKTt2YXIgcD1baS5yZXNvbHZlLnRoZW4oZnVuY3Rpb24oYSl7aS5nbG9iYWxzPWF9KV07cmV0dXJuIGcmJnAucHVzaChnKSxlLmFsbChwKS50aGVuKG0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGl9KX12YXIgQj1uZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIHN1cGVyc2VkZWRcIiksRD1wKGUucmVqZWN0KEIpKSxFPXAoZS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBwcmV2ZW50ZWRcIikpKSxGPXAoZS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBhYm9ydGVkXCIpKSksRz1wKGUucmVqZWN0KG5ldyBFcnJvcihcInRyYW5zaXRpb24gZmFpbGVkXCIpKSk7cmV0dXJuIHkubG9jYWxzPXtyZXNvbHZlOm51bGwsZ2xvYmFsczp7JHN0YXRlUGFyYW1zOnt9fX0sej17cGFyYW1zOnt9LGN1cnJlbnQ6eS5zZWxmLCRjdXJyZW50OnksdHJhbnNpdGlvbjpudWxsfSx6LnJlbG9hZD1mdW5jdGlvbihhKXtyZXR1cm4gei50cmFuc2l0aW9uVG8oei5jdXJyZW50LG4se3JlbG9hZDphfHwhMCxpbmhlcml0OiExLG5vdGlmeTohMH0pfSx6LmdvPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gei50cmFuc2l0aW9uVG8oYSxiLFMoe2luaGVyaXQ6ITAscmVsYXRpdmU6ei4kY3VycmVudH0sYykpfSx6LnRyYW5zaXRpb25Ubz1mdW5jdGlvbihiLGMsZil7Yz1jfHx7fSxmPVMoe2xvY2F0aW9uOiEwLGluaGVyaXQ6ITEscmVsYXRpdmU6bnVsbCxub3RpZnk6ITAscmVsb2FkOiExLCRyZXRyeTohMX0sZnx8e30pO3ZhciBnLGo9ei4kY3VycmVudCxsPXoucGFyYW1zLG89ai5wYXRoLHA9bShiLGYucmVsYXRpdmUpLHI9Y1tcIiNcIl07aWYoIU0ocCkpe3ZhciBzPXt0bzpiLHRvUGFyYW1zOmMsb3B0aW9uczpmfSx0PXYocyxqLnNlbGYsbCxmKTtpZih0KXJldHVybiB0O2lmKGI9cy50byxjPXMudG9QYXJhbXMsZj1zLm9wdGlvbnMscD1tKGIsZi5yZWxhdGl2ZSksIU0ocCkpe2lmKCFmLnJlbGF0aXZlKXRocm93IG5ldyBFcnJvcihcIk5vIHN1Y2ggc3RhdGUgJ1wiK2IrXCInXCIpO3Rocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCByZXNvbHZlICdcIitiK1wiJyBmcm9tIHN0YXRlICdcIitmLnJlbGF0aXZlK1wiJ1wiKX19aWYocFtDXSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdHJhbnNpdGlvbiB0byBhYnN0cmFjdCBzdGF0ZSAnXCIrYitcIidcIik7aWYoZi5pbmhlcml0JiYoYz1pKG4sY3x8e30sei4kY3VycmVudCxwKSksIXAucGFyYW1zLiQkdmFsaWRhdGVzKGMpKXJldHVybiBHO2M9cC5wYXJhbXMuJCR2YWx1ZXMoYyksYj1wO3ZhciB1PWIucGF0aCxBPTAsRj11W0FdLEg9eS5sb2NhbHMsST1bXTtpZihmLnJlbG9hZCl7aWYoTyhmLnJlbG9hZCl8fFAoZi5yZWxvYWQpKXtpZihQKGYucmVsb2FkKSYmIWYucmVsb2FkLm5hbWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZWxvYWQgc3RhdGUgb2JqZWN0XCIpO3ZhciBKPWYucmVsb2FkPT09ITA/b1swXTptKGYucmVsb2FkKTtpZihmLnJlbG9hZCYmIUopdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCByZWxvYWQgc3RhdGUgJ1wiKyhPKGYucmVsb2FkKT9mLnJlbG9hZDpmLnJlbG9hZC5uYW1lKStcIidcIik7Zm9yKDtGJiZGPT09b1tBXSYmRiE9PUo7KUg9SVtBXT1GLmxvY2FscyxBKyssRj11W0FdfX1lbHNlIGZvcig7RiYmRj09PW9bQV0mJkYub3duUGFyYW1zLiQkZXF1YWxzKGMsbCk7KUg9SVtBXT1GLmxvY2FscyxBKyssRj11W0FdO2lmKHgoYixjLGosbCxILGYpKXJldHVybiByJiYoY1tcIiNcIl09ciksei5wYXJhbXM9YyxUKHoucGFyYW1zLG4pLFQoayhiLnBhcmFtcy4kJGtleXMoKSxuKSxiLmxvY2Fscy5nbG9iYWxzLiRzdGF0ZVBhcmFtcyksZi5sb2NhdGlvbiYmYi5uYXZpZ2FibGUmJmIubmF2aWdhYmxlLnVybCYmKHEucHVzaChiLm5hdmlnYWJsZS51cmwsYyx7JCRhdm9pZFJlc3luYzohMCxyZXBsYWNlOlwicmVwbGFjZVwiPT09Zi5sb2NhdGlvbn0pLHEudXBkYXRlKCEwKSksei50cmFuc2l0aW9uPW51bGwsZS53aGVuKHouY3VycmVudCk7aWYoYz1rKGIucGFyYW1zLiQka2V5cygpLGN8fHt9KSxyJiYoY1tcIiNcIl09ciksZi5ub3RpZnkmJmEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZVN0YXJ0XCIsYi5zZWxmLGMsai5zZWxmLGwsZikuZGVmYXVsdFByZXZlbnRlZClyZXR1cm4gYS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlQ2FuY2VsXCIsYi5zZWxmLGMsai5zZWxmLGwpLG51bGw9PXoudHJhbnNpdGlvbiYmcS51cGRhdGUoKSxFO2Zvcih2YXIgSz1lLndoZW4oSCksTD1BO0w8dS5sZW5ndGg7TCsrLEY9dVtMXSlIPUlbTF09ZChIKSxLPXcoRixjLEY9PT1iLEssSCxmKTt2YXIgTj16LnRyYW5zaXRpb249Sy50aGVuKGZ1bmN0aW9uKCl7dmFyIGQsZSxnO2lmKHoudHJhbnNpdGlvbiE9PU4pcmV0dXJuIGEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZUNhbmNlbFwiLGIuc2VsZixjLGouc2VsZixsKSxEO2ZvcihkPW8ubGVuZ3RoLTE7ZD49QTtkLS0pZz1vW2RdLGcuc2VsZi5vbkV4aXQmJmguaW52b2tlKGcuc2VsZi5vbkV4aXQsZy5zZWxmLGcubG9jYWxzLmdsb2JhbHMpLGcubG9jYWxzPW51bGw7Zm9yKGQ9QTtkPHUubGVuZ3RoO2QrKyllPXVbZF0sZS5sb2NhbHM9SVtkXSxlLnNlbGYub25FbnRlciYmaC5pbnZva2UoZS5zZWxmLm9uRW50ZXIsZS5zZWxmLGUubG9jYWxzLmdsb2JhbHMpO3JldHVybiB6LnRyYW5zaXRpb24hPT1OPyhhLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VDYW5jZWxcIixiLnNlbGYsYyxqLnNlbGYsbCksRCk6KHouJGN1cnJlbnQ9Yix6LmN1cnJlbnQ9Yi5zZWxmLHoucGFyYW1zPWMsVCh6LnBhcmFtcyxuKSx6LnRyYW5zaXRpb249bnVsbCxmLmxvY2F0aW9uJiZiLm5hdmlnYWJsZSYmcS5wdXNoKGIubmF2aWdhYmxlLnVybCxiLm5hdmlnYWJsZS5sb2NhbHMuZ2xvYmFscy4kc3RhdGVQYXJhbXMseyQkYXZvaWRSZXN5bmM6ITAscmVwbGFjZTpcInJlcGxhY2VcIj09PWYubG9jYXRpb259KSxmLm5vdGlmeSYmYS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLGIuc2VsZixjLGouc2VsZixsKSxxLnVwZGF0ZSghMCksei5jdXJyZW50KX0pLnRoZW4obnVsbCxmdW5jdGlvbihkKXtyZXR1cm4gZD09PUI/RDp6LnRyYW5zaXRpb24hPT1OPyhhLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VDYW5jZWxcIixiLnNlbGYsYyxqLnNlbGYsbCksRCk6KHoudHJhbnNpdGlvbj1udWxsLGc9YS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlRXJyb3JcIixiLnNlbGYsYyxqLnNlbGYsbCxkKSxnLmRlZmF1bHRQcmV2ZW50ZWR8fHEudXBkYXRlKCksZS5yZWplY3QoZCkpfSk7cmV0dXJuIE59LHouaXM9ZnVuY3Rpb24oYSxiLGQpe2Q9Uyh7cmVsYXRpdmU6ei4kY3VycmVudH0sZHx8e30pO3ZhciBlPW0oYSxkLnJlbGF0aXZlKTtyZXR1cm4gTShlKT96LiRjdXJyZW50PT09ZSYmKCFifHxqKGUucGFyYW1zLiQkdmFsdWVzKGIpLG4pKTpjfSx6LmluY2x1ZGVzPWZ1bmN0aW9uKGEsYixkKXtpZihkPVMoe3JlbGF0aXZlOnouJGN1cnJlbnR9LGR8fHt9KSxPKGEpJiZzKGEpKXtpZighdChhKSlyZXR1cm4hMTthPXouJGN1cnJlbnQubmFtZX12YXIgZT1tKGEsZC5yZWxhdGl2ZSk7aWYoIU0oZSkpcmV0dXJuIGM7aWYoIU0oei4kY3VycmVudC5pbmNsdWRlc1tlLm5hbWVdKSlyZXR1cm4hMTtpZighYilyZXR1cm4hMDtmb3IodmFyIGY9ZyhiKSxoPTA7aDxmLmxlbmd0aDtoKyspe3ZhciBpPWZbaF0saj1lLnBhcmFtc1tpXTtpZihqJiYhai50eXBlLmVxdWFscyhuW2ldLGJbaV0pKXJldHVybiExfXJldHVybiEwfSx6LmhyZWY9ZnVuY3Rpb24oYSxiLGQpe2Q9Uyh7bG9zc3k6ITAsaW5oZXJpdDohMCxhYnNvbHV0ZTohMSxyZWxhdGl2ZTp6LiRjdXJyZW50fSxkfHx7fSk7dmFyIGU9bShhLGQucmVsYXRpdmUpO2lmKCFNKGUpKXJldHVybiBudWxsO2QuaW5oZXJpdCYmKGI9aShuLGJ8fHt9LHouJGN1cnJlbnQsZSkpO3ZhciBmPWUmJmQubG9zc3k/ZS5uYXZpZ2FibGU6ZTtyZXR1cm4gZiYmZi51cmwhPT1jJiZudWxsIT09Zi51cmw/cS5ocmVmKGYudXJsLGsoZS5wYXJhbXMuJCRrZXlzKCkuY29uY2F0KFwiI1wiKSxifHx7fSkse2Fic29sdXRlOmQuYWJzb2x1dGV9KTpudWxsfSx6LmdldD1mdW5jdGlvbihhLGIpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBvKGcoQSksZnVuY3Rpb24oYSl7cmV0dXJuIEFbYV0uc2VsZn0pO3ZhciBjPW0oYSxifHx6LiRjdXJyZW50KTtyZXR1cm4gYyYmYy5zZWxmP2Muc2VsZjpudWxsfSx6fWZ1bmN0aW9uIHgoYSxiLGMsZCxlLGYpe2Z1bmN0aW9uIGcoYSxiLGMpe2Z1bmN0aW9uIGQoYil7cmV0dXJuXCJzZWFyY2hcIiE9YS5wYXJhbXNbYl0ubG9jYXRpb259dmFyIGU9YS5wYXJhbXMuJCRrZXlzKCkuZmlsdGVyKGQpLGY9bC5hcHBseSh7fSxbYS5wYXJhbXNdLmNvbmNhdChlKSksZz1uZXcgVi5QYXJhbVNldChmKTtyZXR1cm4gZy4kJGVxdWFscyhiLGMpfWlmKCFmLnJlbG9hZCYmYT09PWMmJihlPT09Yy5sb2NhbHN8fGEuc2VsZi5yZWxvYWRPblNlYXJjaD09PSExJiZnKGMsZCxiKSkpcmV0dXJuITB9dmFyIHkseixBPXt9LEI9e30sQz1cImFic3RyYWN0XCIsRD17cGFyZW50OmZ1bmN0aW9uKGEpe2lmKE0oYS5wYXJlbnQpJiZhLnBhcmVudClyZXR1cm4gbShhLnBhcmVudCk7dmFyIGI9L14oLispXFwuW14uXSskLy5leGVjKGEubmFtZSk7cmV0dXJuIGI/bShiWzFdKTp5fSxkYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudCYmYS5wYXJlbnQuZGF0YSYmKGEuZGF0YT1hLnNlbGYuZGF0YT1kKGEucGFyZW50LmRhdGEsYS5kYXRhKSksYS5kYXRhfSx1cmw6ZnVuY3Rpb24oYSl7dmFyIGI9YS51cmwsYz17cGFyYW1zOmEucGFyYW1zfHx7fX07aWYoTyhiKSlyZXR1cm5cIl5cIj09Yi5jaGFyQXQoMCk/ZS5jb21waWxlKGIuc3Vic3RyaW5nKDEpLGMpOihhLnBhcmVudC5uYXZpZ2FibGV8fHkpLnVybC5jb25jYXQoYixjKTtpZighYnx8ZS5pc01hdGNoZXIoYikpcmV0dXJuIGI7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1cmwgJ1wiK2IrXCInIGluIHN0YXRlICdcIithK1wiJ1wiKX0sbmF2aWdhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnVybD9hOmEucGFyZW50P2EucGFyZW50Lm5hdmlnYWJsZTpudWxsfSxvd25QYXJhbXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS51cmwmJmEudXJsLnBhcmFtc3x8bmV3IFYuUGFyYW1TZXQ7cmV0dXJuIFIoYS5wYXJhbXN8fHt9LGZ1bmN0aW9uKGEsYyl7YltjXXx8KGJbY109bmV3IFYuUGFyYW0oYyxudWxsLGEsXCJjb25maWdcIikpfSksYn0scGFyYW1zOmZ1bmN0aW9uKGEpe3ZhciBiPWwoYS5vd25QYXJhbXMsYS5vd25QYXJhbXMuJCRrZXlzKCkpO3JldHVybiBhLnBhcmVudCYmYS5wYXJlbnQucGFyYW1zP1MoYS5wYXJlbnQucGFyYW1zLiQkbmV3KCksYik6bmV3IFYuUGFyYW1TZXR9LHZpZXdzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBSKE0oYS52aWV3cyk/YS52aWV3czp7XCJcIjphfSxmdW5jdGlvbihjLGQpe2QuaW5kZXhPZihcIkBcIik8MCYmKGQrPVwiQFwiK2EucGFyZW50Lm5hbWUpLGMucmVzb2x2ZUFzPWMucmVzb2x2ZUFzfHxhLnJlc29sdmVBc3x8XCIkcmVzb2x2ZVwiLGJbZF09Y30pLGJ9LHBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50P2EucGFyZW50LnBhdGguY29uY2F0KGEpOltdfSxpbmNsdWRlczpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudD9TKHt9LGEucGFyZW50LmluY2x1ZGVzKTp7fTtyZXR1cm4gYlthLm5hbWVdPSEwLGJ9LCRkZWxlZ2F0ZXM6e319O3k9cih7bmFtZTpcIlwiLHVybDpcIl5cIix2aWV3czpudWxsLGFic3RyYWN0OiEwfSkseS5uYXZpZ2FibGU9bnVsbCx0aGlzLmRlY29yYXRvcj11LHRoaXMuc3RhdGU9dix0aGlzLiRnZXQ9dyx3LiRpbmplY3Q9W1wiJHJvb3RTY29wZVwiLFwiJHFcIixcIiR2aWV3XCIsXCIkaW5qZWN0b3JcIixcIiRyZXNvbHZlXCIsXCIkc3RhdGVQYXJhbXNcIixcIiR1cmxSb3V0ZXJcIixcIiRsb2NhdGlvblwiLFwiJHVybE1hdGNoZXJGYWN0b3J5XCJdfWZ1bmN0aW9uIHgoKXtmdW5jdGlvbiBhKGEsYil7cmV0dXJue2xvYWQ6ZnVuY3Rpb24oYSxjKXt2YXIgZCxlPXt0ZW1wbGF0ZTpudWxsLGNvbnRyb2xsZXI6bnVsbCx2aWV3Om51bGwsbG9jYWxzOm51bGwsbm90aWZ5OiEwLGFzeW5jOiEwLHBhcmFtczp7fX07cmV0dXJuIGM9UyhlLGMpLGMudmlldyYmKGQ9Yi5mcm9tQ29uZmlnKGMudmlldyxjLnBhcmFtcyxjLmxvY2FscykpLGR9fX10aGlzLiRnZXQ9YSxhLiRpbmplY3Q9W1wiJHJvb3RTY29wZVwiLFwiJHRlbXBsYXRlRmFjdG9yeVwiXX1mdW5jdGlvbiB5KCl7dmFyIGE9ITE7dGhpcy51c2VBbmNob3JTY3JvbGw9ZnVuY3Rpb24oKXthPSEwfSx0aGlzLiRnZXQ9W1wiJGFuY2hvclNjcm9sbFwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihiLGMpe3JldHVybiBhP2I6ZnVuY3Rpb24oYSl7cmV0dXJuIGMoZnVuY3Rpb24oKXthWzBdLnNjcm9sbEludG9WaWV3KCl9LDAsITEpfX1dfWZ1bmN0aW9uIHooYSxjLGQsZSxmKXtmdW5jdGlvbiBnKCl7cmV0dXJuIGMuaGFzP2Z1bmN0aW9uKGEpe3JldHVybiBjLmhhcyhhKT9jLmdldChhKTpudWxsfTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGMuZ2V0KGEpfWNhdGNoKGEpe3JldHVybiBudWxsfX19ZnVuY3Rpb24gaChhLGMpe3ZhciBkPWZ1bmN0aW9uKCl7cmV0dXJue2VudGVyOmZ1bmN0aW9uKGEsYixjKXtiLmFmdGVyKGEpLGMoKX0sbGVhdmU6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZSgpLGIoKX19fTtpZihrKXJldHVybntlbnRlcjpmdW5jdGlvbihhLGMsZCl7Yi52ZXJzaW9uLm1pbm9yPjI/ay5lbnRlcihhLG51bGwsYykudGhlbihkKTprLmVudGVyKGEsbnVsbCxjLGQpfSxsZWF2ZTpmdW5jdGlvbihhLGMpe2IudmVyc2lvbi5taW5vcj4yP2subGVhdmUoYSkudGhlbihjKTprLmxlYXZlKGEsYyl9fTtpZihqKXt2YXIgZT1qJiZqKGMsYSk7cmV0dXJue2VudGVyOmZ1bmN0aW9uKGEsYixjKXtlLmVudGVyKGEsbnVsbCxiKSxjKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7ZS5sZWF2ZShhKSxiKCl9fX1yZXR1cm4gZCgpfXZhciBpPWcoKSxqPWkoXCIkYW5pbWF0b3JcIiksaz1pKFwiJGFuaW1hdGVcIiksbD17cmVzdHJpY3Q6XCJFQ0FcIix0ZXJtaW5hbDohMCxwcmlvcml0eTo0MDAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixjb21waWxlOmZ1bmN0aW9uKGMsZyxpKXtyZXR1cm4gZnVuY3Rpb24oYyxnLGope2Z1bmN0aW9uIGsoKXtpZihtJiYobS5yZW1vdmUoKSxtPW51bGwpLG8mJihvLiRkZXN0cm95KCksbz1udWxsKSxuKXt2YXIgYT1uLmRhdGEoXCIkdWlWaWV3QW5pbVwiKTtzLmxlYXZlKG4sZnVuY3Rpb24oKXthLiQkYW5pbUxlYXZlLnJlc29sdmUoKSxtPW51bGx9KSxtPW4sbj1udWxsfX1mdW5jdGlvbiBsKGgpe3ZhciBsLG09QihjLGosZyxlKSx0PW0mJmEuJGN1cnJlbnQmJmEuJGN1cnJlbnQubG9jYWxzW21dO2lmKGh8fHQhPT1wKXtsPWMuJG5ldygpLHA9YS4kY3VycmVudC5sb2NhbHNbbV0sbC4kZW1pdChcIiR2aWV3Q29udGVudExvYWRpbmdcIixtKTt2YXIgdT1pKGwsZnVuY3Rpb24oYSl7dmFyIGU9Zi5kZWZlcigpLGg9Zi5kZWZlcigpLGk9eyRhbmltRW50ZXI6ZS5wcm9taXNlLCRhbmltTGVhdmU6aC5wcm9taXNlLCQkYW5pbUxlYXZlOmh9O2EuZGF0YShcIiR1aVZpZXdBbmltXCIsaSkscy5lbnRlcihhLGcsZnVuY3Rpb24oKXtlLnJlc29sdmUoKSxvJiZvLiRlbWl0KFwiJHZpZXdDb250ZW50QW5pbWF0aW9uRW5kZWRcIiksKGIuaXNEZWZpbmVkKHIpJiYhcnx8Yy4kZXZhbChyKSkmJmQoYSl9KSxrKCl9KTtuPXUsbz1sLG8uJGVtaXQoXCIkdmlld0NvbnRlbnRMb2FkZWRcIixtKSxvLiRldmFsKHEpfX12YXIgbSxuLG8scCxxPWoub25sb2FkfHxcIlwiLHI9ai5hdXRvc2Nyb2xsLHM9aChqLGMpO2cuaW5oZXJpdGVkRGF0YShcIiR1aVZpZXdcIik7Yy4kb24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNzXCIsZnVuY3Rpb24oKXtsKCExKX0pLGwoITApfX19O3JldHVybiBsfWZ1bmN0aW9uIEEoYSxjLGQsZSl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6LTQwMCxjb21waWxlOmZ1bmN0aW9uKGYpe3ZhciBnPWYuaHRtbCgpO3JldHVybiBmdW5jdGlvbihmLGgsaSl7dmFyIGo9ZC4kY3VycmVudCxrPUIoZixpLGgsZSksbD1qJiZqLmxvY2Fsc1trXTtpZihsKXtoLmRhdGEoXCIkdWlWaWV3XCIse25hbWU6ayxzdGF0ZTpsLiQkc3RhdGV9KSxoLmh0bWwobC4kdGVtcGxhdGU/bC4kdGVtcGxhdGU6Zyk7dmFyIG09Yi5leHRlbmQoe30sbCk7ZltsLiQkcmVzb2x2ZUFzXT1tO3ZhciBuPWEoaC5jb250ZW50cygpKTtpZihsLiQkY29udHJvbGxlcil7bC4kc2NvcGU9ZixsLiRlbGVtZW50PWg7dmFyIG89YyhsLiQkY29udHJvbGxlcixsKTtsLiQkY29udHJvbGxlckFzJiYoZltsLiQkY29udHJvbGxlckFzXT1vLGZbbC4kJGNvbnRyb2xsZXJBc11bbC4kJHJlc29sdmVBc109bSksTihvLiRvbkluaXQpJiZvLiRvbkluaXQoKSxoLmRhdGEoXCIkbmdDb250cm9sbGVyQ29udHJvbGxlclwiLG8pLGguY2hpbGRyZW4oKS5kYXRhKFwiJG5nQ29udHJvbGxlckNvbnRyb2xsZXJcIixvKX1uKGYpfX19fX1mdW5jdGlvbiBCKGEsYixjLGQpe3ZhciBlPWQoYi51aVZpZXd8fGIubmFtZXx8XCJcIikoYSksZj1jLmluaGVyaXRlZERhdGEoXCIkdWlWaWV3XCIpO3JldHVybiBlLmluZGV4T2YoXCJAXCIpPj0wP2U6ZStcIkBcIisoZj9mLnN0YXRlLm5hbWU6XCJcIil9ZnVuY3Rpb24gQyhhLGIpe3ZhciBjLGQ9YS5tYXRjaCgvXlxccyooe1tefV0qfSlcXHMqJC8pO2lmKGQmJihhPWIrXCIoXCIrZFsxXStcIilcIiksYz1hLnJlcGxhY2UoL1xcbi9nLFwiIFwiKS5tYXRjaCgvXihbXihdKz8pXFxzKihcXCgoLiopXFwpKT8kLyksIWN8fDQhPT1jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHJlZiAnXCIrYStcIidcIik7cmV0dXJue3N0YXRlOmNbMV0scGFyYW1FeHByOmNbM118fG51bGx9fWZ1bmN0aW9uIEQoYSl7dmFyIGI9YS5wYXJlbnQoKS5pbmhlcml0ZWREYXRhKFwiJHVpVmlld1wiKTtpZihiJiZiLnN0YXRlJiZiLnN0YXRlLm5hbWUpcmV0dXJuIGIuc3RhdGV9ZnVuY3Rpb24gRShhKXt2YXIgYj1cIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYS5wcm9wKFwiaHJlZlwiKSksYz1cIkZPUk1cIj09PWFbMF0ubm9kZU5hbWU7cmV0dXJue2F0dHI6Yz9cImFjdGlvblwiOmI/XCJ4bGluazpocmVmXCI6XCJocmVmXCIsaXNBbmNob3I6XCJBXCI9PT1hLnByb3AoXCJ0YWdOYW1lXCIpLnRvVXBwZXJDYXNlKCksY2xpY2thYmxlOiFjfX1mdW5jdGlvbiBGKGEsYixjLGQsZSl7cmV0dXJuIGZ1bmN0aW9uKGYpe3ZhciBnPWYud2hpY2h8fGYuYnV0dG9uLGg9ZSgpO2lmKCEoZz4xfHxmLmN0cmxLZXl8fGYubWV0YUtleXx8Zi5zaGlmdEtleXx8YS5hdHRyKFwidGFyZ2V0XCIpKSl7dmFyIGk9YyhmdW5jdGlvbigpe2IuZ28oaC5zdGF0ZSxoLnBhcmFtcyxoLm9wdGlvbnMpfSk7Zi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBqPWQuaXNBbmNob3ImJiFoLmhyZWY/MTowO2YucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtqLS08PTAmJmMuY2FuY2VsKGkpfX19fWZ1bmN0aW9uIEcoYSxiKXtyZXR1cm57cmVsYXRpdmU6RChhKXx8Yi4kY3VycmVudCxpbmhlcml0OiEwfX1mdW5jdGlvbiBIKGEsYyl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6W1wiP151aVNyZWZBY3RpdmVcIixcIj9edWlTcmVmQWN0aXZlRXFcIl0sbGluazpmdW5jdGlvbihkLGUsZixnKXt2YXIgaCxpPUMoZi51aVNyZWYsYS5jdXJyZW50Lm5hbWUpLGo9e3N0YXRlOmkuc3RhdGUsaHJlZjpudWxsLHBhcmFtczpudWxsfSxrPUUoZSksbD1nWzFdfHxnWzBdLG09bnVsbDtqLm9wdGlvbnM9UyhHKGUsYSksZi51aVNyZWZPcHRzP2QuJGV2YWwoZi51aVNyZWZPcHRzKTp7fSk7dmFyIG49ZnVuY3Rpb24oYyl7YyYmKGoucGFyYW1zPWIuY29weShjKSksai5ocmVmPWEuaHJlZihpLnN0YXRlLGoucGFyYW1zLGoub3B0aW9ucyksbSYmbSgpLGwmJihtPWwuJCRhZGRTdGF0ZUluZm8oaS5zdGF0ZSxqLnBhcmFtcykpLG51bGwhPT1qLmhyZWYmJmYuJHNldChrLmF0dHIsai5ocmVmKX07aS5wYXJhbUV4cHImJihkLiR3YXRjaChpLnBhcmFtRXhwcixmdW5jdGlvbihhKXthIT09ai5wYXJhbXMmJm4oYSl9LCEwKSxqLnBhcmFtcz1iLmNvcHkoZC4kZXZhbChpLnBhcmFtRXhwcikpKSxuKCksay5jbGlja2FibGUmJihoPUYoZSxhLGMsayxmdW5jdGlvbigpe3JldHVybiBqfSksZVtlLm9uP1wib25cIjpcImJpbmRcIl0oXCJjbGlja1wiLGgpLGQuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2VbZS5vZmY/XCJvZmZcIjpcInVuYmluZFwiXShcImNsaWNrXCIsaCl9KSl9fX1mdW5jdGlvbiBJKGEsYil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6W1wiP151aVNyZWZBY3RpdmVcIixcIj9edWlTcmVmQWN0aXZlRXFcIl0sbGluazpmdW5jdGlvbihjLGQsZSxmKXtmdW5jdGlvbiBnKGIpe20uc3RhdGU9YlswXSxtLnBhcmFtcz1iWzFdLG0ub3B0aW9ucz1iWzJdLG0uaHJlZj1hLmhyZWYobS5zdGF0ZSxtLnBhcmFtcyxtLm9wdGlvbnMpLG4mJm4oKSxqJiYobj1qLiQkYWRkU3RhdGVJbmZvKG0uc3RhdGUsbS5wYXJhbXMpKSxtLmhyZWYmJmUuJHNldChpLmF0dHIsbS5ocmVmKX12YXIgaCxpPUUoZCksaj1mWzFdfHxmWzBdLGs9W2UudWlTdGF0ZSxlLnVpU3RhdGVQYXJhbXN8fG51bGwsZS51aVN0YXRlT3B0c3x8bnVsbF0sbD1cIltcIitrLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYXx8XCJudWxsXCJ9KS5qb2luKFwiLCBcIikrXCJdXCIsbT17c3RhdGU6bnVsbCxwYXJhbXM6bnVsbCxvcHRpb25zOm51bGwsaHJlZjpudWxsfSxuPW51bGw7Yy4kd2F0Y2gobCxnLCEwKSxnKGMuJGV2YWwobCkpLGkuY2xpY2thYmxlJiYoaD1GKGQsYSxiLGksZnVuY3Rpb24oKXtyZXR1cm4gbX0pLGRbZC5vbj9cIm9uXCI6XCJiaW5kXCJdKFwiY2xpY2tcIixoKSxjLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtkW2Qub2ZmP1wib2ZmXCI6XCJ1bmJpbmRcIl0oXCJjbGlja1wiLGgpfSkpfX19ZnVuY3Rpb24gSihhLGIsYyl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbnRyb2xsZXI6W1wiJHNjb3BlXCIsXCIkZWxlbWVudFwiLFwiJGF0dHJzXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGIsZCxlLGYpe2Z1bmN0aW9uIGcoYixjLGUpe3ZhciBmPWEuZ2V0KGIsRChkKSksZz1oKGIsYyksaT17c3RhdGU6Znx8e25hbWU6Yn0scGFyYW1zOmMsaGFzaDpnfTtyZXR1cm4gcC5wdXNoKGkpLHFbZ109ZSxmdW5jdGlvbigpe3ZhciBhPXAuaW5kZXhPZihpKTthIT09LTEmJnAuc3BsaWNlKGEsMSl9fWZ1bmN0aW9uIGgoYSxjKXtpZighTyhhKSl0aHJvdyBuZXcgRXJyb3IoXCJzdGF0ZSBzaG91bGQgYmUgYSBzdHJpbmdcIik7cmV0dXJuIFAoYyk/YStVKGMpOihjPWIuJGV2YWwoYyksUChjKT9hK1UoYyk6YSl9ZnVuY3Rpb24gaSgpe2Zvcih2YXIgYT0wO2E8cC5sZW5ndGg7YSsrKWwocFthXS5zdGF0ZSxwW2FdLnBhcmFtcyk/aihkLHFbcFthXS5oYXNoXSk6ayhkLHFbcFthXS5oYXNoXSksbShwW2FdLnN0YXRlLHBbYV0ucGFyYW1zKT9qKGQsbik6ayhkLG4pfWZ1bmN0aW9uIGooYSxiKXtmKGZ1bmN0aW9uKCl7YS5hZGRDbGFzcyhiKX0pfWZ1bmN0aW9uIGsoYSxiKXthLnJlbW92ZUNsYXNzKGIpfWZ1bmN0aW9uIGwoYixjKXtyZXR1cm4gYS5pbmNsdWRlcyhiLm5hbWUsYyl9ZnVuY3Rpb24gbShiLGMpe3JldHVybiBhLmlzKGIubmFtZSxjKX12YXIgbixvLHA9W10scT17fTtuPWMoZS51aVNyZWZBY3RpdmVFcXx8XCJcIiwhMSkoYik7dHJ5e289Yi4kZXZhbChlLnVpU3JlZkFjdGl2ZSl9Y2F0Y2goYSl7fW89b3x8YyhlLnVpU3JlZkFjdGl2ZXx8XCJcIiwhMSkoYiksUChvKSYmUihvLGZ1bmN0aW9uKGMsZCl7aWYoTyhjKSl7dmFyIGU9QyhjLGEuY3VycmVudC5uYW1lKTtnKGUuc3RhdGUsYi4kZXZhbChlLnBhcmFtRXhwciksZCl9fSksdGhpcy4kJGFkZFN0YXRlSW5mbz1mdW5jdGlvbihhLGIpe2lmKCEoUChvKSYmcC5sZW5ndGg+MCkpe3ZhciBjPWcoYSxiLG8pO3JldHVybiBpKCksY319LGIuJG9uKFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLGkpLGkoKX1dfX1mdW5jdGlvbiBLKGEpe3ZhciBiPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuaXMoYixjKX07cmV0dXJuIGIuJHN0YXRlZnVsPSEwLGJ9ZnVuY3Rpb24gTChhKXt2YXIgYj1mdW5jdGlvbihiLGMsZCl7cmV0dXJuIGEuaW5jbHVkZXMoYixjLGQpfTtyZXR1cm4gYi4kc3RhdGVmdWw9ITAsYn12YXIgTT1iLmlzRGVmaW5lZCxOPWIuaXNGdW5jdGlvbixPPWIuaXNTdHJpbmcsUD1iLmlzT2JqZWN0LFE9Yi5pc0FycmF5LFI9Yi5mb3JFYWNoLFM9Yi5leHRlbmQsVD1iLmNvcHksVT1iLnRvSnNvbjtiLm1vZHVsZShcInVpLnJvdXRlci51dGlsXCIsW1wibmdcIl0pLGIubW9kdWxlKFwidWkucm91dGVyLnJvdXRlclwiLFtcInVpLnJvdXRlci51dGlsXCJdKSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiLFtcInVpLnJvdXRlci5yb3V0ZXJcIixcInVpLnJvdXRlci51dGlsXCJdKSxiLm1vZHVsZShcInVpLnJvdXRlclwiLFtcInVpLnJvdXRlci5zdGF0ZVwiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuY29tcGF0XCIsW1widWkucm91dGVyXCJdKSxxLiRpbmplY3Q9W1wiJHFcIixcIiRpbmplY3RvclwiXSxiLm1vZHVsZShcInVpLnJvdXRlci51dGlsXCIpLnNlcnZpY2UoXCIkcmVzb2x2ZVwiLHEpLHIuJGluamVjdD1bXCIkaHR0cFwiLFwiJHRlbXBsYXRlQ2FjaGVcIixcIiRpbmplY3RvclwiXSxiLm1vZHVsZShcInVpLnJvdXRlci51dGlsXCIpLnNlcnZpY2UoXCIkdGVtcGxhdGVGYWN0b3J5XCIscik7dmFyIFY7cy5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKGEsYil7dmFyIGM9e2Nhc2VJbnNlbnNpdGl2ZTpWLmNhc2VJbnNlbnNpdGl2ZSgpLHN0cmljdDpWLnN0cmljdE1vZGUoKSxzcXVhc2g6Vi5kZWZhdWx0U3F1YXNoUG9saWN5KCl9O3JldHVybiBuZXcgcyh0aGlzLnNvdXJjZVBhdGgrYSt0aGlzLnNvdXJjZVNlYXJjaCxTKGMsYiksdGhpcyl9LHMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlfSxzLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBhLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxcXC0vZyxcIi1cIil9dmFyIGQ9YihhKS5zcGxpdCgvLSg/IVxcXFwpLyksZT1vKGQsYik7cmV0dXJuIG8oZSxjKS5yZXZlcnNlKCl9dmFyIGQ9dGhpcy5yZWdleHAuZXhlYyhhKTtpZighZClyZXR1cm4gbnVsbDtiPWJ8fHt9O3ZhciBlLGYsZyxoPXRoaXMucGFyYW1ldGVycygpLGk9aC5sZW5ndGgsaj10aGlzLnNlZ21lbnRzLmxlbmd0aC0xLGs9e307aWYoaiE9PWQubGVuZ3RoLTEpdGhyb3cgbmV3IEVycm9yKFwiVW5iYWxhbmNlZCBjYXB0dXJlIGdyb3VwIGluIHJvdXRlICdcIit0aGlzLnNvdXJjZStcIidcIik7dmFyIGwsbTtmb3IoZT0wO2U8ajtlKyspe2ZvcihnPWhbZV0sbD10aGlzLnBhcmFtc1tnXSxtPWRbZSsxXSxmPTA7ZjxsLnJlcGxhY2UubGVuZ3RoO2YrKylsLnJlcGxhY2VbZl0uZnJvbT09PW0mJihtPWwucmVwbGFjZVtmXS50byk7bSYmbC5hcnJheT09PSEwJiYobT1jKG0pKSxNKG0pJiYobT1sLnR5cGUuZGVjb2RlKG0pKSxrW2ddPWwudmFsdWUobSl9Zm9yKDtlPGk7ZSsrKXtmb3IoZz1oW2VdLGtbZ109dGhpcy5wYXJhbXNbZ10udmFsdWUoYltnXSksbD10aGlzLnBhcmFtc1tnXSxtPWJbZ10sZj0wO2Y8bC5yZXBsYWNlLmxlbmd0aDtmKyspbC5yZXBsYWNlW2ZdLmZyb209PT1tJiYobT1sLnJlcGxhY2VbZl0udG8pO00obSkmJihtPWwudHlwZS5kZWNvZGUobSkpLGtbZ109bC52YWx1ZShtKX1yZXR1cm4ga30scy5wcm90b3R5cGUucGFyYW1ldGVycz1mdW5jdGlvbihhKXtyZXR1cm4gTShhKT90aGlzLnBhcmFtc1thXXx8bnVsbDp0aGlzLiQkcGFyYW1OYW1lc30scy5wcm90b3R5cGUudmFsaWRhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhcmFtcy4kJHZhbGlkYXRlcyhhKX0scy5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8tL2csZnVuY3Rpb24oYSl7cmV0dXJuXCIlNUMlXCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSl9YT1hfHx7fTt2YXIgYz10aGlzLnNlZ21lbnRzLGQ9dGhpcy5wYXJhbWV0ZXJzKCksZT10aGlzLnBhcmFtcztpZighdGhpcy52YWxpZGF0ZXMoYSkpcmV0dXJuIG51bGw7dmFyIGYsZz0hMSxoPWMubGVuZ3RoLTEsaT1kLmxlbmd0aCxqPWNbMF07Zm9yKGY9MDtmPGk7ZisrKXt2YXIgaz1mPGgsbD1kW2ZdLG09ZVtsXSxuPW0udmFsdWUoYVtsXSkscD1tLmlzT3B0aW9uYWwmJm0udHlwZS5lcXVhbHMobS52YWx1ZSgpLG4pLHE9ISFwJiZtLnNxdWFzaCxyPW0udHlwZS5lbmNvZGUobik7aWYoayl7dmFyIHM9Y1tmKzFdLHQ9ZisxPT09aDtpZihxPT09ITEpbnVsbCE9ciYmKGorPVEocik/byhyLGIpLmpvaW4oXCItXCIpOmVuY29kZVVSSUNvbXBvbmVudChyKSksais9cztlbHNlIGlmKHE9PT0hMCl7dmFyIHU9ai5tYXRjaCgvXFwvJC8pPy9cXC8/KC4qKS86LyguKikvO2orPXMubWF0Y2godSlbMV19ZWxzZSBPKHEpJiYoais9cStzKTt0JiZtLnNxdWFzaD09PSEwJiZcIi9cIj09PWouc2xpY2UoLTEpJiYoaj1qLnNsaWNlKDAsLTEpKX1lbHNle2lmKG51bGw9PXJ8fHAmJnEhPT0hMSljb250aW51ZTtpZihRKHIpfHwocj1bcl0pLDA9PT1yLmxlbmd0aCljb250aW51ZTtyPW8ocixlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oXCImXCIrbCtcIj1cIiksais9KGc/XCImXCI6XCI/XCIpKyhsK1wiPVwiK3IpLGc9ITB9fXJldHVybiBqfSx0LnByb3RvdHlwZS5pcz1mdW5jdGlvbihhLGIpe3JldHVybiEwfSx0LnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYX0sdC5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGF9LHQucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihhLGIpe3JldHVybiBhPT1ifSx0LnByb3RvdHlwZS4kc3ViUGF0dGVybj1mdW5jdGlvbigpe3ZhciBhPXRoaXMucGF0dGVybi50b1N0cmluZygpO3JldHVybiBhLnN1YnN0cigxLGEubGVuZ3RoLTIpfSx0LnByb3RvdHlwZS5wYXR0ZXJuPS8uKi8sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIntUeXBlOlwiK3RoaXMubmFtZStcIn1cIn0sdC5wcm90b3R5cGUuJG5vcm1hbGl6ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pcyhhKT9hOnRoaXMuZGVjb2RlKGEpfSx0LnByb3RvdHlwZS4kYXNBcnJheT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSxiKXtmdW5jdGlvbiBkKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX1mdW5jdGlvbiBlKGEpe3JldHVybiBRKGEpP2E6TShhKT9bYV06W119ZnVuY3Rpb24gZihhKXtzd2l0Y2goYS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gYztjYXNlIDE6cmV0dXJuXCJhdXRvXCI9PT1iP2FbMF06YTtkZWZhdWx0OnJldHVybiBhfX1mdW5jdGlvbiBnKGEpe3JldHVybiFhfWZ1bmN0aW9uIGgoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7aWYoUShjKSYmMD09PWMubGVuZ3RoKXJldHVybiBjO2M9ZShjKTt2YXIgZD1vKGMsYSk7cmV0dXJuIGI9PT0hMD8wPT09bihkLGcpLmxlbmd0aDpmKGQpfX1mdW5jdGlvbiBpKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkPWUoYiksZj1lKGMpO2lmKGQubGVuZ3RoIT09Zi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBnPTA7ZzxkLmxlbmd0aDtnKyspaWYoIWEoZFtnXSxmW2ddKSlyZXR1cm4hMTtyZXR1cm4hMH19dGhpcy5lbmNvZGU9aChkKGEsXCJlbmNvZGVcIikpLHRoaXMuZGVjb2RlPWgoZChhLFwiZGVjb2RlXCIpKSx0aGlzLmlzPWgoZChhLFwiaXNcIiksITApLHRoaXMuZXF1YWxzPWkoZChhLFwiZXF1YWxzXCIpKSx0aGlzLnBhdHRlcm49YS5wYXR0ZXJuLHRoaXMuJG5vcm1hbGl6ZT1oKGQoYSxcIiRub3JtYWxpemVcIikpLHRoaXMubmFtZT1hLm5hbWUsdGhpcy4kYXJyYXlNb2RlPWJ9aWYoIWEpcmV0dXJuIHRoaXM7aWYoXCJhdXRvXCI9PT1hJiYhYil0aHJvdyBuZXcgRXJyb3IoXCInYXV0bycgYXJyYXkgbW9kZSBpcyBmb3IgcXVlcnkgcGFyYW1ldGVycyBvbmx5XCIpO3JldHVybiBuZXcgZCh0aGlzLGEpO1xufSxiLm1vZHVsZShcInVpLnJvdXRlci51dGlsXCIpLnByb3ZpZGVyKFwiJHVybE1hdGNoZXJGYWN0b3J5XCIsdSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5ydW4oW1wiJHVybE1hdGNoZXJGYWN0b3J5XCIsZnVuY3Rpb24oYSl7fV0pLHYuJGluamVjdD1bXCIkbG9jYXRpb25Qcm92aWRlclwiLFwiJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIucm91dGVyXCIpLnByb3ZpZGVyKFwiJHVybFJvdXRlclwiLHYpLHcuJGluamVjdD1bXCIkdXJsUm91dGVyUHJvdmlkZXJcIixcIiR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmZhY3RvcnkoXCIkc3RhdGVQYXJhbXNcIixmdW5jdGlvbigpe3JldHVybnt9fSkuY29uc3RhbnQoXCIkc3RhdGUucnVudGltZVwiLHthdXRvaW5qZWN0OiEwfSkucHJvdmlkZXIoXCIkc3RhdGVcIix3KS5ydW4oW1wiJGluamVjdG9yXCIsZnVuY3Rpb24oYSl7YS5nZXQoXCIkc3RhdGUucnVudGltZVwiKS5hdXRvaW5qZWN0JiZhLmdldChcIiRzdGF0ZVwiKX1dKSx4LiRpbmplY3Q9W10sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikucHJvdmlkZXIoXCIkdmlld1wiLHgpLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLnByb3ZpZGVyKFwiJHVpVmlld1Njcm9sbFwiLHkpLHouJGluamVjdD1bXCIkc3RhdGVcIixcIiRpbmplY3RvclwiLFwiJHVpVmlld1Njcm9sbFwiLFwiJGludGVycG9sYXRlXCIsXCIkcVwiXSxBLiRpbmplY3Q9W1wiJGNvbXBpbGVcIixcIiRjb250cm9sbGVyXCIsXCIkc3RhdGVcIixcIiRpbnRlcnBvbGF0ZVwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVZpZXdcIix6KSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVZpZXdcIixBKSxILiRpbmplY3Q9W1wiJHN0YXRlXCIsXCIkdGltZW91dFwiXSxJLiRpbmplY3Q9W1wiJHN0YXRlXCIsXCIkdGltZW91dFwiXSxKLiRpbmplY3Q9W1wiJHN0YXRlXCIsXCIkc3RhdGVQYXJhbXNcIixcIiRpbnRlcnBvbGF0ZVwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVNyZWZcIixIKS5kaXJlY3RpdmUoXCJ1aVNyZWZBY3RpdmVcIixKKS5kaXJlY3RpdmUoXCJ1aVNyZWZBY3RpdmVFcVwiLEopLmRpcmVjdGl2ZShcInVpU3RhdGVcIixJKSxLLiRpbmplY3Q9W1wiJHN0YXRlXCJdLEwuJGluamVjdD1bXCIkc3RhdGVcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZmlsdGVyKFwiaXNTdGF0ZVwiLEspLmZpbHRlcihcImluY2x1ZGVkQnlTdGF0ZVwiLEwpfSh3aW5kb3csd2luZG93LmFuZ3VsYXIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9hbmd1bGFyLXVpLXJvdXRlci9yZWxlYXNlL2FuZ3VsYXItdWktcm91dGVyLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 3 */
/***/ function(module, exports) {

eval("angular.module(\"validation\",[\"validation.provider\",\"validation.directive\"]),angular.module(\"validation.provider\",[]),angular.module(\"validation.directive\",[\"validation.provider\"]),function(){function a(){var a,b,c,d,e,f=this,g=function(f){a=f,b=a.get(\"$rootScope\"),c=a.get(\"$http\"),d=a.get(\"$q\"),e=a.get(\"$timeout\")},h={},i=null,j={};this.setExpression=function(a){return angular.extend(h,a),f},this.getExpression=function(a){return h[a]},this.setDefaultMsg=function(a){return angular.extend(j,a),f},this.getDefaultMsg=function(a){return j[a]},this.setValidMethod=function(a){i=a},this.getValidMethod=function(){return i},this.setErrorHTML=function(a){if(a.constructor===Function)return f.getErrorHTML=a,f},this.getErrorHTML=function(a){return'<p class=\"validation-invalid\">'+a+\"</p>\"},this.setSuccessHTML=function(a){if(a.constructor===Function)return f.getSuccessHTML=a,f},this.getSuccessHTML=function(a){return'<p class=\"validation-valid\">'+a+\"</p>\"},this.showSuccessMessage=!0,this.showErrorMessage=!0,this.checkValid=function(a){return!(!a||!a.$valid)},this.validate=function(a){var c=d.defer(),g=0;if(void 0===a)return console.error(\"This is not a regular Form name scope\"),c.reject(\"This is not a regular Form name scope\"),c.promise;if(a.validationId)b.$broadcast(a.$name+\"submit-\"+a.validationId,g++);else if(a.constructor===Array)for(var h in a)b.$broadcast(a[h].$name+\"submit-\"+a[h].validationId,g++);else for(var i in a)\"$\"!==i[0]&&a[i].hasOwnProperty(\"$dirty\")&&b.$broadcast(i+\"submit-\"+a[i].validationId,g++);return c.promise.success=function(a){return c.promise.then(function(b){a(b)}),c.promise},c.promise.error=function(a){return c.promise.then(null,function(b){a(b)}),c.promise},e(function(){f.checkValid(a)?c.resolve(\"success\"):c.reject(\"error\")}),c.promise},this.validCallback=null,this.invalidCallback=null,this.resetCallback=null,this.reset=function(a){if(void 0===a)return void console.error(\"This is not a regular Form name scope\");if(a.validationId)b.$broadcast(a.$name+\"reset-\"+a.validationId);else if(a.constructor===Array)for(var c in a)b.$broadcast(a[c].$name+\"reset-\"+a[c].validationId);else for(var d in a)\"$\"!==d[0]&&a[d].hasOwnProperty(\"$dirty\")&&b.$broadcast(d+\"reset-\"+a[d].validationId)},this.addMsgElement=function(a){return a.after(\"<span></span>\")},this.getMsgElement=function(a){return a.next()},this.$get=[\"$injector\",function(a){return g(a),{setValidMethod:this.setValidMethod,getValidMethod:this.getValidMethod,setErrorHTML:this.setErrorHTML,getErrorHTML:this.getErrorHTML,setSuccessHTML:this.setSuccessHTML,getSuccessHTML:this.getSuccessHTML,setExpression:this.setExpression,getExpression:this.getExpression,setDefaultMsg:this.setDefaultMsg,getDefaultMsg:this.getDefaultMsg,showSuccessMessage:this.showSuccessMessage,showErrorMessage:this.showErrorMessage,checkValid:this.checkValid,validate:this.validate,validCallback:this.validCallback,invalidCallback:this.invalidCallback,resetCallback:this.resetCallback,reset:this.reset,addMsgElement:this.addMsgElement,getMsgElement:this.getMsgElement}}]}angular.module(\"validation.provider\").provider(\"$validation\",a)}.call(this),function(){function a(a){var b=a.get(\"$validation\"),c=a.get(\"$timeout\"),d=a.get(\"$parse\");return{link:function(a,e,f){var g=d(f.validationReset)(a);c(function(){e.on(\"click\",function(a){a.preventDefault(),b.reset(g)})})}}}angular.module(\"validation.directive\").directive(\"validationReset\",a),a.$inject=[\"$injector\"]}.call(this),function(){function a(a){var b=a.get(\"$validation\"),c=a.get(\"$timeout\"),d=a.get(\"$parse\");return{priority:1,require:\"?ngClick\",link:function(a,e,f){var g=d(f.validationSubmit)(a);c(function(){e.off(\"click\"),e.on(\"click\",function(c){c.preventDefault(),b.validate(g).success(function(){d(f.ngClick)(a)})})})}}}angular.module(\"validation.directive\").directive(\"validationSubmit\",a),a.$inject=[\"$injector\"]}.call(this),function(){function a(a){function b(a,b,c){for(var d=document.querySelectorAll(\"*[validation-group=\"+b+\"]\"),e=0,f=d.length;e<f;e++){var g=d[e],h=g.form.name,i=g.name;a[h][i].$setValidity(i,c)}}var c=a.get(\"$validation\"),d=a.get(\"$q\"),e=a.get(\"$timeout\"),f=a.get(\"$compile\"),g=a.get(\"$parse\"),h={},i=function(a,b,d,e,h,i){var j,k=b||c.getDefaultMsg(d).success,l=g(i.validCallback),m=i.messageId,n=i.validationGroup;return j=m||n?angular.element(document.querySelector(\"#\"+(m||n))):c.getMsgElement(a),a.attr(\"no-validation-message\")?j.css(\"display\",\"none\"):c.showSuccessMessage&&k?(j.html(\"\").append(f(c.getSuccessHTML(k,a,i))(e)),j.css(\"display\",\"\")):j.css(\"display\",\"none\"),h.$setValidity(h.$name,!0),l(e,{message:k}),c.validCallback&&c.validCallback(a),!0},j=function(a,b,d,e,h,i){var j,k=b||c.getDefaultMsg(d).error,l=g(i.invalidCallback),m=i.messageId,n=i.validationGroup;return j=m||n?angular.element(document.querySelector(\"#\"+(m||n))):c.getMsgElement(a),a.attr(\"no-validation-message\")?j.css(\"display\",\"none\"):c.showErrorMessage&&k?(j.html(\"\").append(f(c.getErrorHTML(k,a,i))(e)),j.css(\"display\",\"\")):j.css(\"display\",\"none\"),h.$setValidity(h.$name,!1),l(e,{message:k}),c.invalidCallback&&c.invalidCallback(a),!1},k=function(a){var b=h[a];return Object.keys(b).some(function(a){return b[a]})},l={},m=function(a,e,f,g,l,n){var o=l.slice(0),p=o[0].trim(),q=p.indexOf(\"=\"),r=q===-1?p:p.substr(0,q),s=q===-1?null:p.substr(q+1),t=o.slice(1),u=r+\"SuccessMessage\",v=r+\"ErrorMessage\",w=c.getExpression(r),x=f.validationGroup,y={success:function(){return i(e,f[u],r,a,g,f),!t.length||m(a,e,f,g,t,n)},error:function(){return j(e,f[v],r,a,g,f)}};if(void 0===w)return console.error('You are using undefined validator \"%s\"',r),t.length?m(a,e,f,g,t,n):void 0;if(w.constructor===Function)return d.all([c.getExpression(r)(n,a,e,f,s)]).then(function(c){return c&&c.length>0&&c[0]?(x&&(h[x][g.$name]=!0,b(a,x,!0)),y.success()):x?(h[x][g.$name]=!1,k(x)?void b(a,x,!0):(b(a,x,!1),y.error())):y.error()},function(){return y.error()});if(w.constructor!==RegExp)return y.error();if(void 0!==n&&null!==n){if(c.getExpression(r).test(n))return x&&(h[x][g.$name]=!0,b(a,x,!0)),y.success();if(!x)return y.error();if(h[x][g.$name]=!1,!k(x))return b(a,x,!1),y.error();b(a,x,!0)}},n=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},o=function(){return n()+n()+n()+n()};return{restrict:\"A\",require:\"ngModel\",link:function(a,b,d,f){var g,i=d.validator,j=d.messageId,k=d.validationGroup,n=d.validMethod,p=d.ngModel,q=function(){},r=i.split(\",\"),s=f.validationId=o(),t=null;return\"boolean\"==typeof a.initialValidity&&(g=a.initialValidity),k&&(h[k]||(h[k]={}),h[k][f.$name]=!1),j||k||c.addMsgElement(b),f.$setValidity(f.$name,g),a.$on(f.$name+\"reset-\"+s,function(){q(),e(function(){f.$setViewValue(t),f.$setPristine(),f.$setValidity(f.$name,void 0),f.$render(),j||k?angular.element(document.querySelector(\"#\"+(j||k))).html(\"\"):c.getMsgElement(b).html(\"\"),c.resetCallback&&c.resetCallback(b)})}),n=angular.isUndefined(n)?c.getValidMethod():n,a.$on(f.$name+\"submit-\"+s,function(c,g){var h=f.$viewValue,i=!1;i=m(a,b,d,f,r,h),\"submit\"===n&&(q(),q=a.$watch(function(){return a.$eval(p)},function(c,e){c!==e&&(void 0!==c&&null!==c||(c=\"\"),i=m(a,b,d,f,r,c))}));var j=function(a){a?delete l[g]:(l[g]=b[0],e(function(){l[Math.min.apply(null,Object.keys(l))].focus()},0))};i.constructor===Object?i.then(j):j(i)}),\"blur\"===n?void b.bind(\"blur\",function(){var c=a.$eval(p);a.$apply(function(){m(a,b,d,f,r,c)})}):void(\"submit\"!==n&&\"submit-only\"!==n&&(a.$watch(function(){return a.$eval(p)},function(e){if(f.$pristine&&f.$viewValue)t=f.$viewValue||\"\",f.$setViewValue(f.$viewValue);else if(f.$pristine)return void(j||k?angular.element(document.querySelector(\"#\"+(j||k))).html(\"\"):c.getMsgElement(b).html(\"\"));m(a,b,d,f,r,e)}),e(function(){d.$observe(\"noValidationMessage\",function(a){var d;d=j||k?angular.element(document.querySelector(\"#\"+(j||k))):c.getMsgElement(b),\"true\"===a||a===!0?d.css(\"display\",\"none\"):\"false\"!==a&&a!==!1||d.css(\"display\",\"block\")})})))}}}angular.module(\"validation.directive\").directive(\"validator\",a),a.$inject=[\"$injector\"]}.call(this);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYW5ndWxhci12YWxpZGF0aW9uL2Rpc3QvYW5ndWxhci12YWxpZGF0aW9uLm1pbi5qcz8zYmY1Il0sInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKFwidmFsaWRhdGlvblwiLFtcInZhbGlkYXRpb24ucHJvdmlkZXJcIixcInZhbGlkYXRpb24uZGlyZWN0aXZlXCJdKSxhbmd1bGFyLm1vZHVsZShcInZhbGlkYXRpb24ucHJvdmlkZXJcIixbXSksYW5ndWxhci5tb2R1bGUoXCJ2YWxpZGF0aW9uLmRpcmVjdGl2ZVwiLFtcInZhbGlkYXRpb24ucHJvdmlkZXJcIl0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBhLGIsYyxkLGUsZj10aGlzLGc9ZnVuY3Rpb24oZil7YT1mLGI9YS5nZXQoXCIkcm9vdFNjb3BlXCIpLGM9YS5nZXQoXCIkaHR0cFwiKSxkPWEuZ2V0KFwiJHFcIiksZT1hLmdldChcIiR0aW1lb3V0XCIpfSxoPXt9LGk9bnVsbCxqPXt9O3RoaXMuc2V0RXhwcmVzc2lvbj1mdW5jdGlvbihhKXtyZXR1cm4gYW5ndWxhci5leHRlbmQoaCxhKSxmfSx0aGlzLmdldEV4cHJlc3Npb249ZnVuY3Rpb24oYSl7cmV0dXJuIGhbYV19LHRoaXMuc2V0RGVmYXVsdE1zZz1mdW5jdGlvbihhKXtyZXR1cm4gYW5ndWxhci5leHRlbmQoaixhKSxmfSx0aGlzLmdldERlZmF1bHRNc2c9ZnVuY3Rpb24oYSl7cmV0dXJuIGpbYV19LHRoaXMuc2V0VmFsaWRNZXRob2Q9ZnVuY3Rpb24oYSl7aT1hfSx0aGlzLmdldFZhbGlkTWV0aG9kPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LHRoaXMuc2V0RXJyb3JIVE1MPWZ1bmN0aW9uKGEpe2lmKGEuY29uc3RydWN0b3I9PT1GdW5jdGlvbilyZXR1cm4gZi5nZXRFcnJvckhUTUw9YSxmfSx0aGlzLmdldEVycm9ySFRNTD1mdW5jdGlvbihhKXtyZXR1cm4nPHAgY2xhc3M9XCJ2YWxpZGF0aW9uLWludmFsaWRcIj4nK2ErXCI8L3A+XCJ9LHRoaXMuc2V0U3VjY2Vzc0hUTUw9ZnVuY3Rpb24oYSl7aWYoYS5jb25zdHJ1Y3Rvcj09PUZ1bmN0aW9uKXJldHVybiBmLmdldFN1Y2Nlc3NIVE1MPWEsZn0sdGhpcy5nZXRTdWNjZXNzSFRNTD1mdW5jdGlvbihhKXtyZXR1cm4nPHAgY2xhc3M9XCJ2YWxpZGF0aW9uLXZhbGlkXCI+JythK1wiPC9wPlwifSx0aGlzLnNob3dTdWNjZXNzTWVzc2FnZT0hMCx0aGlzLnNob3dFcnJvck1lc3NhZ2U9ITAsdGhpcy5jaGVja1ZhbGlkPWZ1bmN0aW9uKGEpe3JldHVybiEoIWF8fCFhLiR2YWxpZCl9LHRoaXMudmFsaWRhdGU9ZnVuY3Rpb24oYSl7dmFyIGM9ZC5kZWZlcigpLGc9MDtpZih2b2lkIDA9PT1hKXJldHVybiBjb25zb2xlLmVycm9yKFwiVGhpcyBpcyBub3QgYSByZWd1bGFyIEZvcm0gbmFtZSBzY29wZVwiKSxjLnJlamVjdChcIlRoaXMgaXMgbm90IGEgcmVndWxhciBGb3JtIG5hbWUgc2NvcGVcIiksYy5wcm9taXNlO2lmKGEudmFsaWRhdGlvbklkKWIuJGJyb2FkY2FzdChhLiRuYW1lK1wic3VibWl0LVwiK2EudmFsaWRhdGlvbklkLGcrKyk7ZWxzZSBpZihhLmNvbnN0cnVjdG9yPT09QXJyYXkpZm9yKHZhciBoIGluIGEpYi4kYnJvYWRjYXN0KGFbaF0uJG5hbWUrXCJzdWJtaXQtXCIrYVtoXS52YWxpZGF0aW9uSWQsZysrKTtlbHNlIGZvcih2YXIgaSBpbiBhKVwiJFwiIT09aVswXSYmYVtpXS5oYXNPd25Qcm9wZXJ0eShcIiRkaXJ0eVwiKSYmYi4kYnJvYWRjYXN0KGkrXCJzdWJtaXQtXCIrYVtpXS52YWxpZGF0aW9uSWQsZysrKTtyZXR1cm4gYy5wcm9taXNlLnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGIpe2EoYil9KSxjLnByb21pc2V9LGMucHJvbWlzZS5lcnJvcj1mdW5jdGlvbihhKXtyZXR1cm4gYy5wcm9taXNlLnRoZW4obnVsbCxmdW5jdGlvbihiKXthKGIpfSksYy5wcm9taXNlfSxlKGZ1bmN0aW9uKCl7Zi5jaGVja1ZhbGlkKGEpP2MucmVzb2x2ZShcInN1Y2Nlc3NcIik6Yy5yZWplY3QoXCJlcnJvclwiKX0pLGMucHJvbWlzZX0sdGhpcy52YWxpZENhbGxiYWNrPW51bGwsdGhpcy5pbnZhbGlkQ2FsbGJhY2s9bnVsbCx0aGlzLnJlc2V0Q2FsbGJhY2s9bnVsbCx0aGlzLnJlc2V0PWZ1bmN0aW9uKGEpe2lmKHZvaWQgMD09PWEpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRoaXMgaXMgbm90IGEgcmVndWxhciBGb3JtIG5hbWUgc2NvcGVcIik7aWYoYS52YWxpZGF0aW9uSWQpYi4kYnJvYWRjYXN0KGEuJG5hbWUrXCJyZXNldC1cIithLnZhbGlkYXRpb25JZCk7ZWxzZSBpZihhLmNvbnN0cnVjdG9yPT09QXJyYXkpZm9yKHZhciBjIGluIGEpYi4kYnJvYWRjYXN0KGFbY10uJG5hbWUrXCJyZXNldC1cIithW2NdLnZhbGlkYXRpb25JZCk7ZWxzZSBmb3IodmFyIGQgaW4gYSlcIiRcIiE9PWRbMF0mJmFbZF0uaGFzT3duUHJvcGVydHkoXCIkZGlydHlcIikmJmIuJGJyb2FkY2FzdChkK1wicmVzZXQtXCIrYVtkXS52YWxpZGF0aW9uSWQpfSx0aGlzLmFkZE1zZ0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWZ0ZXIoXCI8c3Bhbj48L3NwYW4+XCIpfSx0aGlzLmdldE1zZ0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEubmV4dCgpfSx0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGcoYSkse3NldFZhbGlkTWV0aG9kOnRoaXMuc2V0VmFsaWRNZXRob2QsZ2V0VmFsaWRNZXRob2Q6dGhpcy5nZXRWYWxpZE1ldGhvZCxzZXRFcnJvckhUTUw6dGhpcy5zZXRFcnJvckhUTUwsZ2V0RXJyb3JIVE1MOnRoaXMuZ2V0RXJyb3JIVE1MLHNldFN1Y2Nlc3NIVE1MOnRoaXMuc2V0U3VjY2Vzc0hUTUwsZ2V0U3VjY2Vzc0hUTUw6dGhpcy5nZXRTdWNjZXNzSFRNTCxzZXRFeHByZXNzaW9uOnRoaXMuc2V0RXhwcmVzc2lvbixnZXRFeHByZXNzaW9uOnRoaXMuZ2V0RXhwcmVzc2lvbixzZXREZWZhdWx0TXNnOnRoaXMuc2V0RGVmYXVsdE1zZyxnZXREZWZhdWx0TXNnOnRoaXMuZ2V0RGVmYXVsdE1zZyxzaG93U3VjY2Vzc01lc3NhZ2U6dGhpcy5zaG93U3VjY2Vzc01lc3NhZ2Usc2hvd0Vycm9yTWVzc2FnZTp0aGlzLnNob3dFcnJvck1lc3NhZ2UsY2hlY2tWYWxpZDp0aGlzLmNoZWNrVmFsaWQsdmFsaWRhdGU6dGhpcy52YWxpZGF0ZSx2YWxpZENhbGxiYWNrOnRoaXMudmFsaWRDYWxsYmFjayxpbnZhbGlkQ2FsbGJhY2s6dGhpcy5pbnZhbGlkQ2FsbGJhY2sscmVzZXRDYWxsYmFjazp0aGlzLnJlc2V0Q2FsbGJhY2sscmVzZXQ6dGhpcy5yZXNldCxhZGRNc2dFbGVtZW50OnRoaXMuYWRkTXNnRWxlbWVudCxnZXRNc2dFbGVtZW50OnRoaXMuZ2V0TXNnRWxlbWVudH19XX1hbmd1bGFyLm1vZHVsZShcInZhbGlkYXRpb24ucHJvdmlkZXJcIikucHJvdmlkZXIoXCIkdmFsaWRhdGlvblwiLGEpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgYj1hLmdldChcIiR2YWxpZGF0aW9uXCIpLGM9YS5nZXQoXCIkdGltZW91dFwiKSxkPWEuZ2V0KFwiJHBhcnNlXCIpO3JldHVybntsaW5rOmZ1bmN0aW9uKGEsZSxmKXt2YXIgZz1kKGYudmFsaWRhdGlvblJlc2V0KShhKTtjKGZ1bmN0aW9uKCl7ZS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGIucmVzZXQoZyl9KX0pfX19YW5ndWxhci5tb2R1bGUoXCJ2YWxpZGF0aW9uLmRpcmVjdGl2ZVwiKS5kaXJlY3RpdmUoXCJ2YWxpZGF0aW9uUmVzZXRcIixhKSxhLiRpbmplY3Q9W1wiJGluamVjdG9yXCJdfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgYj1hLmdldChcIiR2YWxpZGF0aW9uXCIpLGM9YS5nZXQoXCIkdGltZW91dFwiKSxkPWEuZ2V0KFwiJHBhcnNlXCIpO3JldHVybntwcmlvcml0eToxLHJlcXVpcmU6XCI/bmdDbGlja1wiLGxpbms6ZnVuY3Rpb24oYSxlLGYpe3ZhciBnPWQoZi52YWxpZGF0aW9uU3VibWl0KShhKTtjKGZ1bmN0aW9uKCl7ZS5vZmYoXCJjbGlja1wiKSxlLm9uKFwiY2xpY2tcIixmdW5jdGlvbihjKXtjLnByZXZlbnREZWZhdWx0KCksYi52YWxpZGF0ZShnKS5zdWNjZXNzKGZ1bmN0aW9uKCl7ZChmLm5nQ2xpY2spKGEpfSl9KX0pfX19YW5ndWxhci5tb2R1bGUoXCJ2YWxpZGF0aW9uLmRpcmVjdGl2ZVwiKS5kaXJlY3RpdmUoXCJ2YWxpZGF0aW9uU3VibWl0XCIsYSksYS4kaW5qZWN0PVtcIiRpbmplY3RvclwiXX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYihhLGIsYyl7Zm9yKHZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIqW3ZhbGlkYXRpb24tZ3JvdXA9XCIrYitcIl1cIiksZT0wLGY9ZC5sZW5ndGg7ZTxmO2UrKyl7dmFyIGc9ZFtlXSxoPWcuZm9ybS5uYW1lLGk9Zy5uYW1lO2FbaF1baV0uJHNldFZhbGlkaXR5KGksYyl9fXZhciBjPWEuZ2V0KFwiJHZhbGlkYXRpb25cIiksZD1hLmdldChcIiRxXCIpLGU9YS5nZXQoXCIkdGltZW91dFwiKSxmPWEuZ2V0KFwiJGNvbXBpbGVcIiksZz1hLmdldChcIiRwYXJzZVwiKSxoPXt9LGk9ZnVuY3Rpb24oYSxiLGQsZSxoLGkpe3ZhciBqLGs9Ynx8Yy5nZXREZWZhdWx0TXNnKGQpLnN1Y2Nlc3MsbD1nKGkudmFsaWRDYWxsYmFjayksbT1pLm1lc3NhZ2VJZCxuPWkudmFsaWRhdGlvbkdyb3VwO3JldHVybiBqPW18fG4/YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrKG18fG4pKSk6Yy5nZXRNc2dFbGVtZW50KGEpLGEuYXR0cihcIm5vLXZhbGlkYXRpb24tbWVzc2FnZVwiKT9qLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIik6Yy5zaG93U3VjY2Vzc01lc3NhZ2UmJms/KGouaHRtbChcIlwiKS5hcHBlbmQoZihjLmdldFN1Y2Nlc3NIVE1MKGssYSxpKSkoZSkpLGouY3NzKFwiZGlzcGxheVwiLFwiXCIpKTpqLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIiksaC4kc2V0VmFsaWRpdHkoaC4kbmFtZSwhMCksbChlLHttZXNzYWdlOmt9KSxjLnZhbGlkQ2FsbGJhY2smJmMudmFsaWRDYWxsYmFjayhhKSwhMH0saj1mdW5jdGlvbihhLGIsZCxlLGgsaSl7dmFyIGosaz1ifHxjLmdldERlZmF1bHRNc2coZCkuZXJyb3IsbD1nKGkuaW52YWxpZENhbGxiYWNrKSxtPWkubWVzc2FnZUlkLG49aS52YWxpZGF0aW9uR3JvdXA7cmV0dXJuIGo9bXx8bj9hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIisobXx8bikpKTpjLmdldE1zZ0VsZW1lbnQoYSksYS5hdHRyKFwibm8tdmFsaWRhdGlvbi1tZXNzYWdlXCIpP2ouY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTpjLnNob3dFcnJvck1lc3NhZ2UmJms/KGouaHRtbChcIlwiKS5hcHBlbmQoZihjLmdldEVycm9ySFRNTChrLGEsaSkpKGUpKSxqLmNzcyhcImRpc3BsYXlcIixcIlwiKSk6ai5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLGguJHNldFZhbGlkaXR5KGguJG5hbWUsITEpLGwoZSx7bWVzc2FnZTprfSksYy5pbnZhbGlkQ2FsbGJhY2smJmMuaW52YWxpZENhbGxiYWNrKGEpLCExfSxrPWZ1bmN0aW9uKGEpe3ZhciBiPWhbYV07cmV0dXJuIE9iamVjdC5rZXlzKGIpLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGJbYV19KX0sbD17fSxtPWZ1bmN0aW9uKGEsZSxmLGcsbCxuKXt2YXIgbz1sLnNsaWNlKDApLHA9b1swXS50cmltKCkscT1wLmluZGV4T2YoXCI9XCIpLHI9cT09PS0xP3A6cC5zdWJzdHIoMCxxKSxzPXE9PT0tMT9udWxsOnAuc3Vic3RyKHErMSksdD1vLnNsaWNlKDEpLHU9citcIlN1Y2Nlc3NNZXNzYWdlXCIsdj1yK1wiRXJyb3JNZXNzYWdlXCIsdz1jLmdldEV4cHJlc3Npb24ocikseD1mLnZhbGlkYXRpb25Hcm91cCx5PXtzdWNjZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIGkoZSxmW3VdLHIsYSxnLGYpLCF0Lmxlbmd0aHx8bShhLGUsZixnLHQsbil9LGVycm9yOmZ1bmN0aW9uKCl7cmV0dXJuIGooZSxmW3ZdLHIsYSxnLGYpfX07aWYodm9pZCAwPT09dylyZXR1cm4gY29uc29sZS5lcnJvcignWW91IGFyZSB1c2luZyB1bmRlZmluZWQgdmFsaWRhdG9yIFwiJXNcIicsciksdC5sZW5ndGg/bShhLGUsZixnLHQsbik6dm9pZCAwO2lmKHcuY29uc3RydWN0b3I9PT1GdW5jdGlvbilyZXR1cm4gZC5hbGwoW2MuZ2V0RXhwcmVzc2lvbihyKShuLGEsZSxmLHMpXSkudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYyYmYy5sZW5ndGg+MCYmY1swXT8oeCYmKGhbeF1bZy4kbmFtZV09ITAsYihhLHgsITApKSx5LnN1Y2Nlc3MoKSk6eD8oaFt4XVtnLiRuYW1lXT0hMSxrKHgpP3ZvaWQgYihhLHgsITApOihiKGEseCwhMSkseS5lcnJvcigpKSk6eS5lcnJvcigpfSxmdW5jdGlvbigpe3JldHVybiB5LmVycm9yKCl9KTtpZih3LmNvbnN0cnVjdG9yIT09UmVnRXhwKXJldHVybiB5LmVycm9yKCk7aWYodm9pZCAwIT09biYmbnVsbCE9PW4pe2lmKGMuZ2V0RXhwcmVzc2lvbihyKS50ZXN0KG4pKXJldHVybiB4JiYoaFt4XVtnLiRuYW1lXT0hMCxiKGEseCwhMCkpLHkuc3VjY2VzcygpO2lmKCF4KXJldHVybiB5LmVycm9yKCk7aWYoaFt4XVtnLiRuYW1lXT0hMSwhayh4KSlyZXR1cm4gYihhLHgsITEpLHkuZXJyb3IoKTtiKGEseCwhMCl9fSxuPWZ1bmN0aW9uKCl7cmV0dXJuKDY1NTM2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9LG89ZnVuY3Rpb24oKXtyZXR1cm4gbigpK24oKStuKCkrbigpfTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGYpe3ZhciBnLGk9ZC52YWxpZGF0b3Isaj1kLm1lc3NhZ2VJZCxrPWQudmFsaWRhdGlvbkdyb3VwLG49ZC52YWxpZE1ldGhvZCxwPWQubmdNb2RlbCxxPWZ1bmN0aW9uKCl7fSxyPWkuc3BsaXQoXCIsXCIpLHM9Zi52YWxpZGF0aW9uSWQ9bygpLHQ9bnVsbDtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGEuaW5pdGlhbFZhbGlkaXR5JiYoZz1hLmluaXRpYWxWYWxpZGl0eSksayYmKGhba118fChoW2tdPXt9KSxoW2tdW2YuJG5hbWVdPSExKSxqfHxrfHxjLmFkZE1zZ0VsZW1lbnQoYiksZi4kc2V0VmFsaWRpdHkoZi4kbmFtZSxnKSxhLiRvbihmLiRuYW1lK1wicmVzZXQtXCIrcyxmdW5jdGlvbigpe3EoKSxlKGZ1bmN0aW9uKCl7Zi4kc2V0Vmlld1ZhbHVlKHQpLGYuJHNldFByaXN0aW5lKCksZi4kc2V0VmFsaWRpdHkoZi4kbmFtZSx2b2lkIDApLGYuJHJlbmRlcigpLGp8fGs/YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrKGp8fGspKSkuaHRtbChcIlwiKTpjLmdldE1zZ0VsZW1lbnQoYikuaHRtbChcIlwiKSxjLnJlc2V0Q2FsbGJhY2smJmMucmVzZXRDYWxsYmFjayhiKX0pfSksbj1hbmd1bGFyLmlzVW5kZWZpbmVkKG4pP2MuZ2V0VmFsaWRNZXRob2QoKTpuLGEuJG9uKGYuJG5hbWUrXCJzdWJtaXQtXCIrcyxmdW5jdGlvbihjLGcpe3ZhciBoPWYuJHZpZXdWYWx1ZSxpPSExO2k9bShhLGIsZCxmLHIsaCksXCJzdWJtaXRcIj09PW4mJihxKCkscT1hLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBhLiRldmFsKHApfSxmdW5jdGlvbihjLGUpe2MhPT1lJiYodm9pZCAwIT09YyYmbnVsbCE9PWN8fChjPVwiXCIpLGk9bShhLGIsZCxmLHIsYykpfSkpO3ZhciBqPWZ1bmN0aW9uKGEpe2E/ZGVsZXRlIGxbZ106KGxbZ109YlswXSxlKGZ1bmN0aW9uKCl7bFtNYXRoLm1pbi5hcHBseShudWxsLE9iamVjdC5rZXlzKGwpKV0uZm9jdXMoKX0sMCkpfTtpLmNvbnN0cnVjdG9yPT09T2JqZWN0P2kudGhlbihqKTpqKGkpfSksXCJibHVyXCI9PT1uP3ZvaWQgYi5iaW5kKFwiYmx1clwiLGZ1bmN0aW9uKCl7dmFyIGM9YS4kZXZhbChwKTthLiRhcHBseShmdW5jdGlvbigpe20oYSxiLGQsZixyLGMpfSl9KTp2b2lkKFwic3VibWl0XCIhPT1uJiZcInN1Ym1pdC1vbmx5XCIhPT1uJiYoYS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gYS4kZXZhbChwKX0sZnVuY3Rpb24oZSl7aWYoZi4kcHJpc3RpbmUmJmYuJHZpZXdWYWx1ZSl0PWYuJHZpZXdWYWx1ZXx8XCJcIixmLiRzZXRWaWV3VmFsdWUoZi4kdmlld1ZhbHVlKTtlbHNlIGlmKGYuJHByaXN0aW5lKXJldHVybiB2b2lkKGp8fGs/YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrKGp8fGspKSkuaHRtbChcIlwiKTpjLmdldE1zZ0VsZW1lbnQoYikuaHRtbChcIlwiKSk7bShhLGIsZCxmLHIsZSl9KSxlKGZ1bmN0aW9uKCl7ZC4kb2JzZXJ2ZShcIm5vVmFsaWRhdGlvbk1lc3NhZ2VcIixmdW5jdGlvbihhKXt2YXIgZDtkPWp8fGs/YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrKGp8fGspKSk6Yy5nZXRNc2dFbGVtZW50KGIpLFwidHJ1ZVwiPT09YXx8YT09PSEwP2QuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTpcImZhbHNlXCIhPT1hJiZhIT09ITF8fGQuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIil9KX0pKSl9fX1hbmd1bGFyLm1vZHVsZShcInZhbGlkYXRpb24uZGlyZWN0aXZlXCIpLmRpcmVjdGl2ZShcInZhbGlkYXRvclwiLGEpLGEuJGluamVjdD1bXCIkaW5qZWN0b3JcIl19LmNhbGwodGhpcyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FuZ3VsYXItdmFsaWRhdGlvbi9kaXN0L2FuZ3VsYXItdmFsaWRhdGlvbi5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports) {

eval("/* angularjs Scroll Glue\n * version 2.1.0\n * https://github.com/Luegg/angularjs-scroll-glue\n * An AngularJs directive that automatically scrolls to the bottom of an element on changes in it's scope.\n*/\n\n// Allow module to be loaded via require when using common js. e.g. npm\nif(typeof module === \"object\" && module.exports){\n    module.exports = 'luegg.directives';\n}\n\n(function(angular, undefined){\n    'use strict';\n\n    function createActivationState($parse, attr, scope){\n        function unboundState(initValue){\n            var activated = initValue;\n            return {\n                getValue: function(){\n                    return activated;\n                },\n                setValue: function(value){\n                    activated = value;\n                }\n            };\n        }\n\n        function oneWayBindingState(getter, scope){\n            return {\n                getValue: function(){\n                    return getter(scope);\n                },\n                setValue: function(){}\n            };\n        }\n\n        function twoWayBindingState(getter, setter, scope){\n            return {\n                getValue: function(){\n                    return getter(scope);\n                },\n                setValue: function(value){\n                    if(value !== getter(scope)){\n                        scope.$apply(function(){\n                            setter(scope, value);\n                        });\n                    }\n                }\n            };\n        }\n\n        if(attr !== \"\"){\n            var getter = $parse(attr);\n            if(getter.assign !== undefined){\n                return twoWayBindingState(getter, getter.assign, scope);\n            } else {\n                return oneWayBindingState(getter, scope);\n            }\n        } else {\n            return unboundState(true);\n        }\n    }\n\n    function createDirective(module, attrName, direction){\n        module.directive(attrName, ['$parse', '$window', '$timeout', function($parse, $window, $timeout){\n            return {\n                priority: 1,\n                restrict: 'A',\n                link: function(scope, $el, attrs){\n                    var el = $el[0],\n                        activationState = createActivationState($parse, attrs[attrName], scope);\n\n                    function scrollIfGlued() {\n                        if(activationState.getValue() && !direction.isAttached(el)){\n                            direction.scroll(el);\n                        }\n                    }\n\n                    function onScroll() {\n                        activationState.setValue(direction.isAttached(el));\n                    }\n\n                    scope.$watch(scrollIfGlued);\n\n                    $timeout(scrollIfGlued, 0, false);\n\n                    $window.addEventListener('resize', scrollIfGlued, false);\n\n                    $el.on('scroll', onScroll);\n\n\n                    // Remove listeners on directive destroy\n                    $el.on('$destroy', function() {\n                        $el.unbind('scroll', onScroll);\n                    });\n\n                    scope.$on('$destroy', function() {\n                        $window.removeEventListener('resize', scrollIfGlued, false);\n                    });\n                }\n            };\n        }]);\n    }\n\n    var bottom = {\n        isAttached: function(el){\n            // + 1 catches off by one errors in chrome\n            return el.scrollTop + el.clientHeight + 1 >= el.scrollHeight;\n        },\n        scroll: function(el){\n            el.scrollTop = el.scrollHeight;\n        }\n    };\n\n    var top = {\n        isAttached: function(el){\n            return el.scrollTop <= 1;\n        },\n        scroll: function(el){\n            el.scrollTop = 0;\n        }\n    };\n\n    var right = {\n        isAttached: function(el){\n            return el.scrollLeft + el.clientWidth + 1 >= el.scrollWidth;\n        },\n        scroll: function(el){\n            el.scrollLeft = el.scrollWidth;\n        }\n    };\n\n    var left = {\n        isAttached: function(el){\n            return el.scrollLeft <= 1;\n        },\n        scroll: function(el){\n            el.scrollLeft = 0;\n        }\n    };\n\n    var module = angular.module('luegg.directives', []);\n\n    createDirective(module, 'scrollGlue', bottom);\n    createDirective(module, 'scrollGlueTop', top);\n    createDirective(module, 'scrollGlueBottom', bottom);\n    createDirective(module, 'scrollGlueLeft', left);\n    createDirective(module, 'scrollGlueRight', right);\n}(angular));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYW5ndWxhcmpzLXNjcm9sbC1nbHVlL3NyYy9zY3JvbGxnbHVlLmpzPzM1MzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyogYW5ndWxhcmpzIFNjcm9sbCBHbHVlXG4gKiB2ZXJzaW9uIDIuMS4wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTHVlZ2cvYW5ndWxhcmpzLXNjcm9sbC1nbHVlXG4gKiBBbiBBbmd1bGFySnMgZGlyZWN0aXZlIHRoYXQgYXV0b21hdGljYWxseSBzY3JvbGxzIHRvIHRoZSBib3R0b20gb2YgYW4gZWxlbWVudCBvbiBjaGFuZ2VzIGluIGl0J3Mgc2NvcGUuXG4qL1xuXG4vLyBBbGxvdyBtb2R1bGUgdG8gYmUgbG9hZGVkIHZpYSByZXF1aXJlIHdoZW4gdXNpbmcgY29tbW9uIGpzLiBlLmcuIG5wbVxuaWYodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiBtb2R1bGUuZXhwb3J0cyl7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSAnbHVlZ2cuZGlyZWN0aXZlcyc7XG59XG5cbihmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFjdGl2YXRpb25TdGF0ZSgkcGFyc2UsIGF0dHIsIHNjb3BlKXtcbiAgICAgICAgZnVuY3Rpb24gdW5ib3VuZFN0YXRlKGluaXRWYWx1ZSl7XG4gICAgICAgICAgICB2YXIgYWN0aXZhdGVkID0gaW5pdFZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2YXRlZDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldFZhbHVlOiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbmVXYXlCaW5kaW5nU3RhdGUoZ2V0dGVyLCBzY29wZSl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGdldFZhbHVlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyKHNjb3BlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldFZhbHVlOiBmdW5jdGlvbigpe31cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0d29XYXlCaW5kaW5nU3RhdGUoZ2V0dGVyLCBzZXR0ZXIsIHNjb3BlKXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXIoc2NvcGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUgIT09IGdldHRlcihzY29wZSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZihhdHRyICE9PSBcIlwiKXtcbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSAkcGFyc2UoYXR0cik7XG4gICAgICAgICAgICBpZihnZXR0ZXIuYXNzaWduICE9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0d29XYXlCaW5kaW5nU3RhdGUoZ2V0dGVyLCBnZXR0ZXIuYXNzaWduLCBzY29wZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbmVXYXlCaW5kaW5nU3RhdGUoZ2V0dGVyLCBzY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5ib3VuZFN0YXRlKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGlyZWN0aXZlKG1vZHVsZSwgYXR0ck5hbWUsIGRpcmVjdGlvbil7XG4gICAgICAgIG1vZHVsZS5kaXJlY3RpdmUoYXR0ck5hbWUsIFsnJHBhcnNlJywgJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkcGFyc2UsICR3aW5kb3csICR0aW1lb3V0KXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDEsXG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsLCBhdHRycyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbCA9ICRlbFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2YXRpb25TdGF0ZSA9IGNyZWF0ZUFjdGl2YXRpb25TdGF0ZSgkcGFyc2UsIGF0dHJzW2F0dHJOYW1lXSwgc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNjcm9sbElmR2x1ZWQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihhY3RpdmF0aW9uU3RhdGUuZ2V0VmFsdWUoKSAmJiAhZGlyZWN0aW9uLmlzQXR0YWNoZWQoZWwpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24uc2Nyb2xsKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGlvblN0YXRlLnNldFZhbHVlKGRpcmVjdGlvbi5pc0F0dGFjaGVkKGVsKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goc2Nyb2xsSWZHbHVlZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoc2Nyb2xsSWZHbHVlZCwgMCwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2Nyb2xsSWZHbHVlZCwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICRlbC5vbignc2Nyb2xsJywgb25TY3JvbGwpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxpc3RlbmVycyBvbiBkaXJlY3RpdmUgZGVzdHJveVxuICAgICAgICAgICAgICAgICAgICAkZWwub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZWwudW5iaW5kKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2Nyb2xsSWZHbHVlZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgfVxuXG4gICAgdmFyIGJvdHRvbSA9IHtcbiAgICAgICAgaXNBdHRhY2hlZDogZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgLy8gKyAxIGNhdGNoZXMgb2ZmIGJ5IG9uZSBlcnJvcnMgaW4gY2hyb21lXG4gICAgICAgICAgICByZXR1cm4gZWwuc2Nyb2xsVG9wICsgZWwuY2xpZW50SGVpZ2h0ICsgMSA+PSBlbC5zY3JvbGxIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNjcm9sbDogZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciB0b3AgPSB7XG4gICAgICAgIGlzQXR0YWNoZWQ6IGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgIHJldHVybiBlbC5zY3JvbGxUb3AgPD0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbihlbCl7XG4gICAgICAgICAgICBlbC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciByaWdodCA9IHtcbiAgICAgICAgaXNBdHRhY2hlZDogZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgcmV0dXJuIGVsLnNjcm9sbExlZnQgKyBlbC5jbGllbnRXaWR0aCArIDEgPj0gZWwuc2Nyb2xsV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNjcm9sbDogZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgZWwuc2Nyb2xsTGVmdCA9IGVsLnNjcm9sbFdpZHRoO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBsZWZ0ID0ge1xuICAgICAgICBpc0F0dGFjaGVkOiBmdW5jdGlvbihlbCl7XG4gICAgICAgICAgICByZXR1cm4gZWwuc2Nyb2xsTGVmdCA8PSAxO1xuICAgICAgICB9LFxuICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgIGVsLnNjcm9sbExlZnQgPSAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbHVlZ2cuZGlyZWN0aXZlcycsIFtdKTtcblxuICAgIGNyZWF0ZURpcmVjdGl2ZShtb2R1bGUsICdzY3JvbGxHbHVlJywgYm90dG9tKTtcbiAgICBjcmVhdGVEaXJlY3RpdmUobW9kdWxlLCAnc2Nyb2xsR2x1ZVRvcCcsIHRvcCk7XG4gICAgY3JlYXRlRGlyZWN0aXZlKG1vZHVsZSwgJ3Njcm9sbEdsdWVCb3R0b20nLCBib3R0b20pO1xuICAgIGNyZWF0ZURpcmVjdGl2ZShtb2R1bGUsICdzY3JvbGxHbHVlTGVmdCcsIGxlZnQpO1xuICAgIGNyZWF0ZURpcmVjdGl2ZShtb2R1bGUsICdzY3JvbGxHbHVlUmlnaHQnLCByaWdodCk7XG59KGFuZ3VsYXIpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9hbmd1bGFyanMtc2Nyb2xsLWdsdWUvc3JjL3Njcm9sbGdsdWUuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 5 */
/***/ function(module, exports) {

eval("(function() {\n  angular\n    .module('validation.rule', ['validation'])\n    .config(['$validationProvider', function($validationProvider) {\n      var expression = {\n        required: function(value) {\n          return !!value;\n        },\n        url: /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)/,\n        email: /^([\\w-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([\\w-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$/,\n        number: /^\\d+$/,\n        minlength: function(value, scope, element, attrs, param) {\n          return value.length >= param;\n        },\n        maxlength: function(value, scope, element, attrs, param) {\n          return value.length <= param;\n        },\n        date: /^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[1,3-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/\n      };\n\n      var defaultMsg = {\n        required: {\n          error: 'Este campo es requerido.',\n          success: ''\n        },\n        url: {\n          error: 'Este campo debe tener una direccion url correcta.',\n          success: ''\n        },\n        email: {\n          error: 'Este campo debe ser un correo electronico valido.',\n          success: ''\n        },\n        number: {\n          error: 'Este campo debe ser de tipo numerico.',\n          success: ''\n        },\n        minlength: {\n          error: 'Este campo require un mayor valor.',\n          success: ''\n        },\n        maxlength: {\n          error: 'Este campo require un menor valor.',\n          success: ''\n        },\n        date: {\n          error: 'Este campo debe tener una fecha valida.',\n          success: ''\n        }\n      };\n      $validationProvider.setExpression(expression).setDefaultMsg(defaultMsg);\n    }]);\n}).call(this);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvYW5ndWxhci12YWxpZGF0aW9uLXJ1bGUuanM/Y2UwMiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCd2YWxpZGF0aW9uLnJ1bGUnLCBbJ3ZhbGlkYXRpb24nXSlcbiAgICAuY29uZmlnKFsnJHZhbGlkYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uKCR2YWxpZGF0aW9uUHJvdmlkZXIpIHtcbiAgICAgIHZhciBleHByZXNzaW9uID0ge1xuICAgICAgICByZXF1aXJlZDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gISF2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiAvKCgoW0EtWmEtel17Myw5fTooPzpcXC9cXC8pPykoPzpbLTs6Jj1cXCtcXCQsXFx3XStAKT9bQS1aYS16MC05Li1dK3woPzp3d3cufFstOzomPVxcK1xcJCxcXHddK0ApW0EtWmEtejAtOS4tXSspKCg/OlxcL1tcXCt+JVxcLy5cXHctX10qKT9cXD8/KD86Wy1cXCs9JjslQC5cXHdfXSopIz8oPzpbXFx3XSopKT8pLyxcbiAgICAgICAgZW1haWw6IC9eKFtcXHctXFwuXSspQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuKXwoKFtcXHctXStcXC4pKykpKFthLXpBLVpdezIsNH18WzAtOV17MSwzfSkoXFxdPykkLyxcbiAgICAgICAgbnVtYmVyOiAvXlxcZCskLyxcbiAgICAgICAgbWlubGVuZ3RoOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPj0gcGFyYW07XG4gICAgICAgIH0sXG4gICAgICAgIG1heGxlbmd0aDogZnVuY3Rpb24odmFsdWUsIHNjb3BlLCBlbGVtZW50LCBhdHRycywgcGFyYW0pIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IHBhcmFtO1xuICAgICAgICB9LFxuICAgICAgICBkYXRlOiAvXig/Oig/OjMxKFxcL3wtfFxcLikoPzowP1sxMzU3OF18MVswMl0pKVxcMXwoPzooPzoyOXwzMCkoXFwvfC18XFwuKSg/OjA/WzEsMy05XXwxWzAtMl0pXFwyKSkoPzooPzoxWzYtOV18WzItOV1cXGQpP1xcZHsyfSkkfF4oPzoyOShcXC98LXxcXC4pMD8yXFwzKD86KD86KD86MVs2LTldfFsyLTldXFxkKT8oPzowWzQ4XXxbMjQ2OF1bMDQ4XXxbMTM1NzldWzI2XSl8KD86KD86MTZ8WzI0NjhdWzA0OF18WzM1NzldWzI2XSkwMCkpKSkkfF4oPzowP1sxLTldfDFcXGR8MlswLThdKShcXC98LXxcXC4pKD86KD86MD9bMS05XSl8KD86MVswLTJdKSlcXDQoPzooPzoxWzYtOV18WzItOV1cXGQpP1xcZHsyfSkkL1xuICAgICAgfTtcblxuICAgICAgdmFyIGRlZmF1bHRNc2cgPSB7XG4gICAgICAgIHJlcXVpcmVkOiB7XG4gICAgICAgICAgZXJyb3I6ICdFc3RlIGNhbXBvIGVzIHJlcXVlcmlkby4nLFxuICAgICAgICAgIHN1Y2Nlc3M6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIHVybDoge1xuICAgICAgICAgIGVycm9yOiAnRXN0ZSBjYW1wbyBkZWJlIHRlbmVyIHVuYSBkaXJlY2Npb24gdXJsIGNvcnJlY3RhLicsXG4gICAgICAgICAgc3VjY2VzczogJydcbiAgICAgICAgfSxcbiAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICBlcnJvcjogJ0VzdGUgY2FtcG8gZGViZSBzZXIgdW4gY29ycmVvIGVsZWN0cm9uaWNvIHZhbGlkby4nLFxuICAgICAgICAgIHN1Y2Nlc3M6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIG51bWJlcjoge1xuICAgICAgICAgIGVycm9yOiAnRXN0ZSBjYW1wbyBkZWJlIHNlciBkZSB0aXBvIG51bWVyaWNvLicsXG4gICAgICAgICAgc3VjY2VzczogJydcbiAgICAgICAgfSxcbiAgICAgICAgbWlubGVuZ3RoOiB7XG4gICAgICAgICAgZXJyb3I6ICdFc3RlIGNhbXBvIHJlcXVpcmUgdW4gbWF5b3IgdmFsb3IuJyxcbiAgICAgICAgICBzdWNjZXNzOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBtYXhsZW5ndGg6IHtcbiAgICAgICAgICBlcnJvcjogJ0VzdGUgY2FtcG8gcmVxdWlyZSB1biBtZW5vciB2YWxvci4nLFxuICAgICAgICAgIHN1Y2Nlc3M6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGU6IHtcbiAgICAgICAgICBlcnJvcjogJ0VzdGUgY2FtcG8gZGViZSB0ZW5lciB1bmEgZmVjaGEgdmFsaWRhLicsXG4gICAgICAgICAgc3VjY2VzczogJydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgICR2YWxpZGF0aW9uUHJvdmlkZXIuc2V0RXhwcmVzc2lvbihleHByZXNzaW9uKS5zZXREZWZhdWx0TXNnKGRlZmF1bHRNc2cpO1xuICAgIH1dKTtcbn0pLmNhbGwodGhpcyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2FuZ3VsYXItdmFsaWRhdGlvbi1ydWxlLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

eval("// Import all controllers\r\n\r\n// -> Authenticate\r\n__webpack_require__(32);\r\n__webpack_require__(36);\r\n\r\n// -> Navbar & sidebar\r\n__webpack_require__(29);\r\n__webpack_require__(28);\r\n\r\n// -> Chat\r\n__webpack_require__(25);\r\n__webpack_require__(26);\r\n\r\n// -> Google Maps\r\n__webpack_require__(30);\r\n\r\n// -> Solutions\r\n__webpack_require__(31);\r\n__webpack_require__(37);\r\n__webpack_require__(24);\r\n__webpack_require__(39);\r\n__webpack_require__(40);\r\n__webpack_require__(35);\r\n__webpack_require__(41);\r\n\r\n// -> Articles\r\n__webpack_require__(23);\r\n__webpack_require__(38);\r\n__webpack_require__(33);\r\n__webpack_require__(27);\r\n\r\n// -> User dashboard\r\n__webpack_require__(34);\r\n\r\n// -> Admin dashboard\r\n__webpack_require__(22);\r\n\r\n\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvY29udHJvbGxlcnMuanM/MDMwNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnQgYWxsIGNvbnRyb2xsZXJzXHJcblxyXG4vLyAtPiBBdXRoZW50aWNhdGVcclxucmVxdWlyZSgnLi9jb250cm9sbGVycy9sb2dpbkNvbnRyb2xsZXInKTtcclxucmVxdWlyZSgnLi9jb250cm9sbGVycy9yZWdpc3RlckNvbnRyb2xsZXInKTtcclxuXHJcbi8vIC0+IE5hdmJhciAmIHNpZGViYXJcclxucmVxdWlyZSgnLi9jb250cm9sbGVycy9nZW5lcmFsQ29udHJvbGxlcicpO1xyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2NvbnRhY3RDb250cm9sbGVyJyk7XHJcblxyXG4vLyAtPiBDaGF0XHJcbnJlcXVpcmUoJy4vY29udHJvbGxlcnMvY2hhdENvbnRyb2xsZXInKTtcclxucmVxdWlyZSgnLi9jb250cm9sbGVycy9jaGF0UmVxdWVzdENvbnRyb2xsZXInKTtcclxuXHJcbi8vIC0+IEdvb2dsZSBNYXBzXHJcbnJlcXVpcmUoJy4vY29udHJvbGxlcnMvZ29vZ2xlTWFwQ29udHJvbGxlcicpO1xyXG5cclxuLy8gLT4gU29sdXRpb25zXHJcbnJlcXVpcmUoJy4vY29udHJvbGxlcnMvaW52ZW50b3J5Q29udHJvbGxlcicpO1xyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL3NvbHV0aW9uQ29udHJvbGxlcicpO1xyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2NhdGVnb3J5Q29udHJvbGxlcicpO1xyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL3Rlc3RpbW9uaWFsQ29udHJvbGxlcicpO1xyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL3Rlc3RpbW9uaWFsUmVxdWVzdENvbnRyb2xsZXInKTtcclxucmVxdWlyZSgnLi9jb250cm9sbGVycy9wcm9qZWN0Q29udHJvbGxlcicpO1xyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL3Rvb2xDb250cm9sbGVyJyk7XHJcblxyXG4vLyAtPiBBcnRpY2xlc1xyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2Jsb2dDb250cm9sbGVyJyk7XHJcbnJlcXVpcmUoJy4vY29udHJvbGxlcnMvdGFnQ29udHJvbGxlcicpO1xyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL3Bvc3RDb250cm9sbGVyJyk7XHJcbnJlcXVpcmUoJy4vY29udHJvbGxlcnMvY29tbWVudENvbnRyb2xsZXInKTtcclxuXHJcbi8vIC0+IFVzZXIgZGFzaGJvYXJkXHJcbnJlcXVpcmUoJy4vY29udHJvbGxlcnMvcHJvZmlsZUNvbnRyb2xsZXInKTtcclxuXHJcbi8vIC0+IEFkbWluIGRhc2hib2FyZFxyXG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2Fubm91bmNlQ29udHJvbGxlcicpO1xyXG5cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvY29udHJvbGxlcnMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

eval("// Import all directives\r\n\r\n// -> General Modals\r\n__webpack_require__(63);\r\n__webpack_require__(60);\r\n__webpack_require__(46);\r\n\r\n// -> Chat\r\n__webpack_require__(42);\r\n__webpack_require__(43);\r\n\r\n// -> Plugins\r\n__webpack_require__(73);\r\n__webpack_require__(62);\r\n__webpack_require__(59);\r\n__webpack_require__(72);\r\n__webpack_require__(57);\r\n__webpack_require__(69);\r\n__webpack_require__(58);\r\n\r\n// -> Comments\r\n__webpack_require__(45);\r\n__webpack_require__(44);\r\n\r\n// -> Testimonials\r\n__webpack_require__(71);\r\n__webpack_require__(70);\r\n__webpack_require__(55);\r\n\r\n// -> Carousel\r\n__webpack_require__(65);\r\n__webpack_require__(67);\r\n__webpack_require__(64);\r\n__webpack_require__(68);\r\n__webpack_require__(66);\r\n__webpack_require__(61);\r\n\r\n// -> Datagrid\r\n__webpack_require__(56);\r\n__webpack_require__(52);\r\n__webpack_require__(49);\r\n__webpack_require__(47);\r\n__webpack_require__(48);\r\n__webpack_require__(51);\r\n__webpack_require__(53);\r\n__webpack_require__(50);\r\n__webpack_require__(54);\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy5qcz8xOTc0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCBhbGwgZGlyZWN0aXZlc1xyXG5cclxuLy8gLT4gR2VuZXJhbCBNb2RhbHNcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL3JlZ2lzdGVyTW9kYWwnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL2xvZ2luTW9kYWwnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL2NvbnRhY3RNb2RhbCcpO1xyXG5cclxuLy8gLT4gQ2hhdFxyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvY2hhdC9jaGF0Q29udGFpbmVyJyk7XHJcbnJlcXVpcmUoJy4vZGlyZWN0aXZlcy9jaGF0L2NoYXRSZXF1ZXN0c01vZGFsJyk7XHJcblxyXG4vLyAtPiBQbHVnaW5zXHJcbnJlcXVpcmUoJy4vZGlyZWN0aXZlcy90b29sdGlwJyk7XHJcbnJlcXVpcmUoJy4vZGlyZWN0aXZlcy9wb3BvdmVyJyk7XHJcbnJlcXVpcmUoJy4vZGlyZWN0aXZlcy9qc1NvY2lhbHMnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL3RleHRhcmVhQXV0b3NpemUnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL2RlYnVnJyk7XHJcbnJlcXVpcmUoJy4vZGlyZWN0aXZlcy9zbGlkZVRvZ2dsZScpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvZ29vZ2xlTWFwQ29udGFpbmVyJyk7XHJcblxyXG4vLyAtPiBDb21tZW50c1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvY29tbWVudEZvcm0nKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL2NvbW1lbnRDb250YWluZXInKTtcclxuXHJcbi8vIC0+IFRlc3RpbW9uaWFsc1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvdGVzdGltb25pYWxGb3JtJyk7XHJcbnJlcXVpcmUoJy4vZGlyZWN0aXZlcy90ZXN0aW1vbmlhbENvbnRhaW5lcicpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL3Nob3dUZXN0aW1vbmlhbCcpO1xyXG5cclxuLy8gLT4gQ2Fyb3VzZWxcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL3NsaWNrQ2Fyb3VzZWwvQ29udHJvbCcpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9Qcm9kdWN0cycpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9Bbm5vdW5jZXMnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL3NsaWNrQ2Fyb3VzZWwvU2VydmljZXMnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL3NsaWNrQ2Fyb3VzZWwvUG9zdHMnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL25nLXNsaWNrL3NvbHV0aW9ucycpO1xyXG5cclxuLy8gLT4gRGF0YWdyaWRcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL2RhdGFncmlkQ29udHJvbCcpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkVGFncycpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkUG9zdHMnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL2Rhc2hib2FyZC9kYXRhZ3JpZEFubm91bmNlcycpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkQ2F0ZWdvcmllcycpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkU29sdXRpb25zJyk7XHJcbnJlcXVpcmUoJy4vZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRUZXN0aW1vbmlhbHMnKTtcclxucmVxdWlyZSgnLi9kaXJlY3RpdmVzL2Rhc2hib2FyZC9kYXRhZ3JpZFByb2plY3RzJyk7XHJcbnJlcXVpcmUoJy4vZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRUb29scycpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 8 */
/***/ function(module, exports) {

eval("// Import all filters\r\n//require('./filters/toHtml');\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZmlsdGVycy5qcz8wOWNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCBhbGwgZmlsdGVyc1xyXG4vL3JlcXVpcmUoJy4vZmlsdGVycy90b0h0bWwnKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9maWx0ZXJzLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 9 */
/***/ function(module, exports) {

eval("/*\n * The MIT License (MIT)\n * \n * Copyright (c) 2016 Aditya Sharat\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n *\n * Use this directive to convert drop downs into chosen drop downs.\n * http://harvesthq.github.io/chosen/\n * http://adityasharat.github.io/angular-chosen/\n */\n!function(e){function o(e){var o,t,n,s;return o=[{onChange:\"change\"},{onReady:\"chosen:ready\"},{onMaxSelected:\"chosen:maxselected\"},{onShowDropdown:\"chosen:showing_dropdown\"},{onHideDropdown:\"chosen:hiding_dropdown\"},{onNoResult:\"chosen:no_results\"}],t={options:\"=\",ngModel:\"=\",ngDisabled:\"=\"},s=[],Object.keys(t).forEach(function(e){s.push(e)}),o.forEach(function(e){var o=Object.keys(e)[0];t[o]=\"=\"}),n=function(t,n,a){var i=parseInt(a.maxSelection,10),l=parseInt(a.searchThreshold,10);(isNaN(i)||i===1/0)&&(i=void 0),(isNaN(l)||l===1/0)&&(l=void 0);var d=void 0!==n.attr(\"allow-single-deselect\")?!0:!1,c=void 0!==n.attr(\"no-results-text\")?a.noResultsText:\"No results found.\",r=void 0!==n.attr(\"disable-search\")?JSON.parse(a.disableSearch):!1,p=void 0!==n.attr(\"placeholder-text-single\")?a.placeholderTextSingle:\"Select an Option\",h=void 0!==n.attr(\"placeholder-text-multiple\")?a.placeholderTextMultiple:\"Select Some Options\",u=void 0!==n.attr(\"display-disabled-options\")?JSON.parse(a.displayDisabledOptions):!0,_=void 0!==n.attr(\"display-selected-options\")?JSON.parse(a.displaySelectedOptions):!0;n.chosen({width:\"100%\",max_selected_options:i,disable_search_threshold:l,search_contains:!0,allow_single_deselect:d,no_results_text:c,disable_search:r,placeholder_text_single:p,placeholder_text_multiple:h,display_disabled_options:u,display_selected_options:_}),n.on(\"change\",function(){n.trigger(\"chosen:updated\")}),t.$watchGroup(s,function(){e(function(){n.trigger(\"chosen:updated\")},100)}),o.forEach(function(e){var o=Object.keys(e)[0];\"function\"==typeof t[o]&&n.on(e[o],function(e){t.$apply(function(){t[o](e)})})})},{name:\"chosen\",scope:t,restrict:\"A\",link:n}}var t=e.module(\"angular.chosen\",[]);t.directive(\"chosen\",[\"$timeout\",o])}(angular);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvcGx1Z2lucy9hbmd1bGFyLWNob3Nlbi5taW4uanM/YjU3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxNiBBZGl0eWEgU2hhcmF0XG4gKiBcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqIFxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICogXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqXG4gKlxuICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvIGNvbnZlcnQgZHJvcCBkb3ducyBpbnRvIGNob3NlbiBkcm9wIGRvd25zLlxuICogaHR0cDovL2hhcnZlc3RocS5naXRodWIuaW8vY2hvc2VuL1xuICogaHR0cDovL2FkaXR5YXNoYXJhdC5naXRodWIuaW8vYW5ndWxhci1jaG9zZW4vXG4gKi9cbiFmdW5jdGlvbihlKXtmdW5jdGlvbiBvKGUpe3ZhciBvLHQsbixzO3JldHVybiBvPVt7b25DaGFuZ2U6XCJjaGFuZ2VcIn0se29uUmVhZHk6XCJjaG9zZW46cmVhZHlcIn0se29uTWF4U2VsZWN0ZWQ6XCJjaG9zZW46bWF4c2VsZWN0ZWRcIn0se29uU2hvd0Ryb3Bkb3duOlwiY2hvc2VuOnNob3dpbmdfZHJvcGRvd25cIn0se29uSGlkZURyb3Bkb3duOlwiY2hvc2VuOmhpZGluZ19kcm9wZG93blwifSx7b25Ob1Jlc3VsdDpcImNob3Nlbjpub19yZXN1bHRzXCJ9XSx0PXtvcHRpb25zOlwiPVwiLG5nTW9kZWw6XCI9XCIsbmdEaXNhYmxlZDpcIj1cIn0scz1bXSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MucHVzaChlKX0pLG8uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbz1PYmplY3Qua2V5cyhlKVswXTt0W29dPVwiPVwifSksbj1mdW5jdGlvbih0LG4sYSl7dmFyIGk9cGFyc2VJbnQoYS5tYXhTZWxlY3Rpb24sMTApLGw9cGFyc2VJbnQoYS5zZWFyY2hUaHJlc2hvbGQsMTApOyhpc05hTihpKXx8aT09PTEvMCkmJihpPXZvaWQgMCksKGlzTmFOKGwpfHxsPT09MS8wKSYmKGw9dm9pZCAwKTt2YXIgZD12b2lkIDAhPT1uLmF0dHIoXCJhbGxvdy1zaW5nbGUtZGVzZWxlY3RcIik/ITA6ITEsYz12b2lkIDAhPT1uLmF0dHIoXCJuby1yZXN1bHRzLXRleHRcIik/YS5ub1Jlc3VsdHNUZXh0OlwiTm8gcmVzdWx0cyBmb3VuZC5cIixyPXZvaWQgMCE9PW4uYXR0cihcImRpc2FibGUtc2VhcmNoXCIpP0pTT04ucGFyc2UoYS5kaXNhYmxlU2VhcmNoKTohMSxwPXZvaWQgMCE9PW4uYXR0cihcInBsYWNlaG9sZGVyLXRleHQtc2luZ2xlXCIpP2EucGxhY2Vob2xkZXJUZXh0U2luZ2xlOlwiU2VsZWN0IGFuIE9wdGlvblwiLGg9dm9pZCAwIT09bi5hdHRyKFwicGxhY2Vob2xkZXItdGV4dC1tdWx0aXBsZVwiKT9hLnBsYWNlaG9sZGVyVGV4dE11bHRpcGxlOlwiU2VsZWN0IFNvbWUgT3B0aW9uc1wiLHU9dm9pZCAwIT09bi5hdHRyKFwiZGlzcGxheS1kaXNhYmxlZC1vcHRpb25zXCIpP0pTT04ucGFyc2UoYS5kaXNwbGF5RGlzYWJsZWRPcHRpb25zKTohMCxfPXZvaWQgMCE9PW4uYXR0cihcImRpc3BsYXktc2VsZWN0ZWQtb3B0aW9uc1wiKT9KU09OLnBhcnNlKGEuZGlzcGxheVNlbGVjdGVkT3B0aW9ucyk6ITA7bi5jaG9zZW4oe3dpZHRoOlwiMTAwJVwiLG1heF9zZWxlY3RlZF9vcHRpb25zOmksZGlzYWJsZV9zZWFyY2hfdGhyZXNob2xkOmwsc2VhcmNoX2NvbnRhaW5zOiEwLGFsbG93X3NpbmdsZV9kZXNlbGVjdDpkLG5vX3Jlc3VsdHNfdGV4dDpjLGRpc2FibGVfc2VhcmNoOnIscGxhY2Vob2xkZXJfdGV4dF9zaW5nbGU6cCxwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlOmgsZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zOnUsZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zOl99KSxuLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXtuLnRyaWdnZXIoXCJjaG9zZW46dXBkYXRlZFwiKX0pLHQuJHdhdGNoR3JvdXAocyxmdW5jdGlvbigpe2UoZnVuY3Rpb24oKXtuLnRyaWdnZXIoXCJjaG9zZW46dXBkYXRlZFwiKX0sMTAwKX0pLG8uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbz1PYmplY3Qua2V5cyhlKVswXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W29dJiZuLm9uKGVbb10sZnVuY3Rpb24oZSl7dC4kYXBwbHkoZnVuY3Rpb24oKXt0W29dKGUpfSl9KX0pfSx7bmFtZTpcImNob3NlblwiLHNjb3BlOnQscmVzdHJpY3Q6XCJBXCIsbGluazpufX12YXIgdD1lLm1vZHVsZShcImFuZ3VsYXIuY2hvc2VuXCIsW10pO3QuZGlyZWN0aXZlKFwiY2hvc2VuXCIsW1wiJHRpbWVvdXRcIixvXSl9KGFuZ3VsYXIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9wbHVnaW5zL2FuZ3VsYXItY2hvc2VuLm1pbi5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0QkE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 10 */
/***/ function(module, exports) {

"use strict";
eval("'use strict';\r\nangular.module(\"ngLocale\", [], [\"$provide\", function($provide) {\r\nvar PLURAL_CATEGORY = {ZERO: \"zero\", ONE: \"one\", TWO: \"two\", FEW: \"few\", MANY: \"many\", OTHER: \"other\"};\r\n$provide.value(\"$locale\", {\r\n  \"DATETIME_FORMATS\": {\r\n    \"AMPMS\": [\r\n      \"a. m.\",\r\n      \"p. m.\"\r\n    ],\r\n    \"DAY\": [\r\n      \"domingo\",\r\n      \"lunes\",\r\n      \"martes\",\r\n      \"mi\\u00e9rcoles\",\r\n      \"jueves\",\r\n      \"viernes\",\r\n      \"s\\u00e1bado\"\r\n    ],\r\n    \"ERANAMES\": [\r\n      \"antes de Cristo\",\r\n      \"despu\\u00e9s de Cristo\"\r\n    ],\r\n    \"ERAS\": [\r\n      \"a. C.\",\r\n      \"d. C.\"\r\n    ],\r\n    \"FIRSTDAYOFWEEK\": 0,\r\n    \"MONTH\": [\r\n      \"enero\",\r\n      \"febrero\",\r\n      \"marzo\",\r\n      \"abril\",\r\n      \"mayo\",\r\n      \"junio\",\r\n      \"julio\",\r\n      \"agosto\",\r\n      \"septiembre\",\r\n      \"octubre\",\r\n      \"noviembre\",\r\n      \"diciembre\"\r\n    ],\r\n    \"SHORTDAY\": [\r\n      \"dom.\",\r\n      \"lun.\",\r\n      \"mar.\",\r\n      \"mi\\u00e9.\",\r\n      \"jue.\",\r\n      \"vie.\",\r\n      \"s\\u00e1b.\"\r\n    ],\r\n    \"SHORTMONTH\": [\r\n      \"ene.\",\r\n      \"feb.\",\r\n      \"mar.\",\r\n      \"abr.\",\r\n      \"may.\",\r\n      \"jun.\",\r\n      \"jul.\",\r\n      \"ago.\",\r\n      \"sept.\",\r\n      \"oct.\",\r\n      \"nov.\",\r\n      \"dic.\"\r\n    ],\r\n    \"STANDALONEMONTH\": [\r\n      \"enero\",\r\n      \"febrero\",\r\n      \"marzo\",\r\n      \"abril\",\r\n      \"mayo\",\r\n      \"junio\",\r\n      \"julio\",\r\n      \"agosto\",\r\n      \"septiembre\",\r\n      \"octubre\",\r\n      \"noviembre\",\r\n      \"diciembre\"\r\n    ],\r\n    \"WEEKENDRANGE\": [\r\n      5,\r\n      6\r\n    ],\r\n    \"fullDate\": \"EEEE, d 'de' MMMM 'de' y\",\r\n    \"longDate\": \"d 'de' MMMM 'de' y\",\r\n    \"medium\": \"d MMM y H:mm:ss\",\r\n    \"mediumDate\": \"d MMM y\",\r\n    \"mediumTime\": \"H:mm:ss\",\r\n    \"short\": \"d/M/yy H:mm\",\r\n    \"shortDate\": \"d/M/yy\",\r\n    \"shortTime\": \"H:mm\"\r\n  },\r\n  \"NUMBER_FORMATS\": {\r\n    \"CURRENCY_SYM\": \"\\u20ac\",\r\n    \"DECIMAL_SEP\": \",\",\r\n    \"GROUP_SEP\": \".\",\r\n    \"PATTERNS\": [\r\n      {\r\n        \"gSize\": 3,\r\n        \"lgSize\": 3,\r\n        \"maxFrac\": 3,\r\n        \"minFrac\": 0,\r\n        \"minInt\": 1,\r\n        \"negPre\": \"-\",\r\n        \"negSuf\": \"\",\r\n        \"posPre\": \"\",\r\n        \"posSuf\": \"\"\r\n      },\r\n      {\r\n        \"gSize\": 3,\r\n        \"lgSize\": 3,\r\n        \"maxFrac\": 2,\r\n        \"minFrac\": 2,\r\n        \"minInt\": 1,\r\n        \"negPre\": \"-\",\r\n        \"negSuf\": \"\\u00a0\\u00a4\",\r\n        \"posPre\": \"\",\r\n        \"posSuf\": \"\\u00a0\\u00a4\"\r\n      }\r\n    ]\r\n  },\r\n  \"id\": \"es-es\",\r\n  \"localeID\": \"es_ES\",\r\n  \"pluralCat\": function(n, opt_precision) {  if (n == 1) {    return PLURAL_CATEGORY.ONE;  }  return PLURAL_CATEGORY.OTHER;}\r\n});\r\n}]);\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3BsdWdpbnMvYW5ndWxhci1sb2NhbGVfZXMtZXMuanM/MjQ0MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbmFuZ3VsYXIubW9kdWxlKFwibmdMb2NhbGVcIiwgW10sIFtcIiRwcm92aWRlXCIsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XHJcbnZhciBQTFVSQUxfQ0FURUdPUlkgPSB7WkVSTzogXCJ6ZXJvXCIsIE9ORTogXCJvbmVcIiwgVFdPOiBcInR3b1wiLCBGRVc6IFwiZmV3XCIsIE1BTlk6IFwibWFueVwiLCBPVEhFUjogXCJvdGhlclwifTtcclxuJHByb3ZpZGUudmFsdWUoXCIkbG9jYWxlXCIsIHtcclxuICBcIkRBVEVUSU1FX0ZPUk1BVFNcIjoge1xyXG4gICAgXCJBTVBNU1wiOiBbXHJcbiAgICAgIFwiYS4gbS5cIixcclxuICAgICAgXCJwLiBtLlwiXHJcbiAgICBdLFxyXG4gICAgXCJEQVlcIjogW1xyXG4gICAgICBcImRvbWluZ29cIixcclxuICAgICAgXCJsdW5lc1wiLFxyXG4gICAgICBcIm1hcnRlc1wiLFxyXG4gICAgICBcIm1pXFx1MDBlOXJjb2xlc1wiLFxyXG4gICAgICBcImp1ZXZlc1wiLFxyXG4gICAgICBcInZpZXJuZXNcIixcclxuICAgICAgXCJzXFx1MDBlMWJhZG9cIlxyXG4gICAgXSxcclxuICAgIFwiRVJBTkFNRVNcIjogW1xyXG4gICAgICBcImFudGVzIGRlIENyaXN0b1wiLFxyXG4gICAgICBcImRlc3B1XFx1MDBlOXMgZGUgQ3Jpc3RvXCJcclxuICAgIF0sXHJcbiAgICBcIkVSQVNcIjogW1xyXG4gICAgICBcImEuIEMuXCIsXHJcbiAgICAgIFwiZC4gQy5cIlxyXG4gICAgXSxcclxuICAgIFwiRklSU1REQVlPRldFRUtcIjogMCxcclxuICAgIFwiTU9OVEhcIjogW1xyXG4gICAgICBcImVuZXJvXCIsXHJcbiAgICAgIFwiZmVicmVyb1wiLFxyXG4gICAgICBcIm1hcnpvXCIsXHJcbiAgICAgIFwiYWJyaWxcIixcclxuICAgICAgXCJtYXlvXCIsXHJcbiAgICAgIFwianVuaW9cIixcclxuICAgICAgXCJqdWxpb1wiLFxyXG4gICAgICBcImFnb3N0b1wiLFxyXG4gICAgICBcInNlcHRpZW1icmVcIixcclxuICAgICAgXCJvY3R1YnJlXCIsXHJcbiAgICAgIFwibm92aWVtYnJlXCIsXHJcbiAgICAgIFwiZGljaWVtYnJlXCJcclxuICAgIF0sXHJcbiAgICBcIlNIT1JUREFZXCI6IFtcclxuICAgICAgXCJkb20uXCIsXHJcbiAgICAgIFwibHVuLlwiLFxyXG4gICAgICBcIm1hci5cIixcclxuICAgICAgXCJtaVxcdTAwZTkuXCIsXHJcbiAgICAgIFwianVlLlwiLFxyXG4gICAgICBcInZpZS5cIixcclxuICAgICAgXCJzXFx1MDBlMWIuXCJcclxuICAgIF0sXHJcbiAgICBcIlNIT1JUTU9OVEhcIjogW1xyXG4gICAgICBcImVuZS5cIixcclxuICAgICAgXCJmZWIuXCIsXHJcbiAgICAgIFwibWFyLlwiLFxyXG4gICAgICBcImFici5cIixcclxuICAgICAgXCJtYXkuXCIsXHJcbiAgICAgIFwianVuLlwiLFxyXG4gICAgICBcImp1bC5cIixcclxuICAgICAgXCJhZ28uXCIsXHJcbiAgICAgIFwic2VwdC5cIixcclxuICAgICAgXCJvY3QuXCIsXHJcbiAgICAgIFwibm92LlwiLFxyXG4gICAgICBcImRpYy5cIlxyXG4gICAgXSxcclxuICAgIFwiU1RBTkRBTE9ORU1PTlRIXCI6IFtcclxuICAgICAgXCJlbmVyb1wiLFxyXG4gICAgICBcImZlYnJlcm9cIixcclxuICAgICAgXCJtYXJ6b1wiLFxyXG4gICAgICBcImFicmlsXCIsXHJcbiAgICAgIFwibWF5b1wiLFxyXG4gICAgICBcImp1bmlvXCIsXHJcbiAgICAgIFwianVsaW9cIixcclxuICAgICAgXCJhZ29zdG9cIixcclxuICAgICAgXCJzZXB0aWVtYnJlXCIsXHJcbiAgICAgIFwib2N0dWJyZVwiLFxyXG4gICAgICBcIm5vdmllbWJyZVwiLFxyXG4gICAgICBcImRpY2llbWJyZVwiXHJcbiAgICBdLFxyXG4gICAgXCJXRUVLRU5EUkFOR0VcIjogW1xyXG4gICAgICA1LFxyXG4gICAgICA2XHJcbiAgICBdLFxyXG4gICAgXCJmdWxsRGF0ZVwiOiBcIkVFRUUsIGQgJ2RlJyBNTU1NICdkZScgeVwiLFxyXG4gICAgXCJsb25nRGF0ZVwiOiBcImQgJ2RlJyBNTU1NICdkZScgeVwiLFxyXG4gICAgXCJtZWRpdW1cIjogXCJkIE1NTSB5IEg6bW06c3NcIixcclxuICAgIFwibWVkaXVtRGF0ZVwiOiBcImQgTU1NIHlcIixcclxuICAgIFwibWVkaXVtVGltZVwiOiBcIkg6bW06c3NcIixcclxuICAgIFwic2hvcnRcIjogXCJkL00veXkgSDptbVwiLFxyXG4gICAgXCJzaG9ydERhdGVcIjogXCJkL00veXlcIixcclxuICAgIFwic2hvcnRUaW1lXCI6IFwiSDptbVwiXHJcbiAgfSxcclxuICBcIk5VTUJFUl9GT1JNQVRTXCI6IHtcclxuICAgIFwiQ1VSUkVOQ1lfU1lNXCI6IFwiXFx1MjBhY1wiLFxyXG4gICAgXCJERUNJTUFMX1NFUFwiOiBcIixcIixcclxuICAgIFwiR1JPVVBfU0VQXCI6IFwiLlwiLFxyXG4gICAgXCJQQVRURVJOU1wiOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBcImdTaXplXCI6IDMsXHJcbiAgICAgICAgXCJsZ1NpemVcIjogMyxcclxuICAgICAgICBcIm1heEZyYWNcIjogMyxcclxuICAgICAgICBcIm1pbkZyYWNcIjogMCxcclxuICAgICAgICBcIm1pbkludFwiOiAxLFxyXG4gICAgICAgIFwibmVnUHJlXCI6IFwiLVwiLFxyXG4gICAgICAgIFwibmVnU3VmXCI6IFwiXCIsXHJcbiAgICAgICAgXCJwb3NQcmVcIjogXCJcIixcclxuICAgICAgICBcInBvc1N1ZlwiOiBcIlwiXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBcImdTaXplXCI6IDMsXHJcbiAgICAgICAgXCJsZ1NpemVcIjogMyxcclxuICAgICAgICBcIm1heEZyYWNcIjogMixcclxuICAgICAgICBcIm1pbkZyYWNcIjogMixcclxuICAgICAgICBcIm1pbkludFwiOiAxLFxyXG4gICAgICAgIFwibmVnUHJlXCI6IFwiLVwiLFxyXG4gICAgICAgIFwibmVnU3VmXCI6IFwiXFx1MDBhMFxcdTAwYTRcIixcclxuICAgICAgICBcInBvc1ByZVwiOiBcIlwiLFxyXG4gICAgICAgIFwicG9zU3VmXCI6IFwiXFx1MDBhMFxcdTAwYTRcIlxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSxcclxuICBcImlkXCI6IFwiZXMtZXNcIixcclxuICBcImxvY2FsZUlEXCI6IFwiZXNfRVNcIixcclxuICBcInBsdXJhbENhdFwiOiBmdW5jdGlvbihuLCBvcHRfcHJlY2lzaW9uKSB7ICBpZiAobiA9PSAxKSB7ICAgIHJldHVybiBQTFVSQUxfQ0FURUdPUlkuT05FOyAgfSAgcmV0dXJuIFBMVVJBTF9DQVRFR09SWS5PVEhFUjt9XHJcbn0pO1xyXG59XSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvcGx1Z2lucy9hbmd1bGFyLWxvY2FsZV9lcy1lcy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 11 */
/***/ function(module, exports) {

eval("/*! 12.2.13 */\n!function(){function a(a,b){window.XMLHttpRequest.prototype[a]=b(window.XMLHttpRequest.prototype[a])}function b(a,b,c){try{Object.defineProperty(a,b,{get:c})}catch(d){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw\"AJAX is not supported. XMLHttpRequest is not defined.\";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var c=function(a){if(!a.__listeners){a.upload||(a.upload={}),a.__listeners=[];var b=a.upload.addEventListener;a.upload.addEventListener=function(c,d){a.__listeners[c]=d,b&&b.apply(this,arguments)}}};a(\"open\",function(a){return function(b,d,e){c(this),this.__url=d;try{a.apply(this,[b,d,e])}catch(f){f.message.indexOf(\"Access is denied\")>-1&&(this.__origError=f,a.apply(this,[b,\"_fix_for_ie_crossdomain__\",e]))}}}),a(\"getResponseHeader\",function(a){return function(b){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(b):null==a?null:a.apply(this,[b])}}),a(\"getAllResponseHeaders\",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==a?null:a.apply(this)}}),a(\"abort\",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==a?null:a.apply(this)}}),a(\"setRequestHeader\",function(a){return function(b,d){if(\"__setXHR_\"===b){c(this);var e=d(this);e instanceof Function&&e(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[b]=d,a.apply(this,arguments)}}),a(\"send\",function(a){return function(){var c=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var d=arguments[0],e={url:c.__url,jsonp:!1,cache:!0,complete:function(a,d){a&&angular.isString(a)&&-1!==a.indexOf(\"#2174\")&&(a=null),c.__completed=!0,!a&&c.__listeners.load&&c.__listeners.load({type:\"load\",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),!a&&c.__listeners.loadend&&c.__listeners.loadend({type:\"loadend\",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),\"abort\"===a&&c.__listeners.abort&&c.__listeners.abort({type:\"abort\",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),void 0!==d.status&&b(c,\"status\",function(){return 0===d.status&&a&&\"abort\"!==a?500:d.status}),void 0!==d.statusText&&b(c,\"statusText\",function(){return d.statusText}),b(c,\"readyState\",function(){return 4}),void 0!==d.response&&b(c,\"response\",function(){return d.response});var e=d.responseText||(a&&0===d.status&&\"abort\"!==a?a:void 0);b(c,\"responseText\",function(){return e}),b(c,\"response\",function(){return e}),a&&b(c,\"err\",function(){return a}),c.__fileApiXHR=d,c.onreadystatechange&&c.onreadystatechange(),c.onload&&c.onload()},progress:function(a){if(a.target=c,c.__listeners.progress&&c.__listeners.progress(a),c.__total=a.total,c.__loaded=a.loaded,a.total===a.loaded){var b=this;setTimeout(function(){c.__completed||(c.getAllResponseHeaders=function(){},b.complete(null,{status:204,statusText:\"No Content\"}))},FileAPI.noContentTimeout||1e4)}},headers:c.__requestHeaders};e.data={},e.files={};for(var f=0;f<d.data.length;f++){var g=d.data[f];null!=g.val&&null!=g.val.name&&null!=g.val.size&&null!=g.val.type?e.files[g.key]=g.val:e.data[g.key]=g.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use \"FileAPI.hasFlash\"';c.__fileApiXHR=FileAPI.upload(e)},1)}else{if(this.__origError)throw this.__origError;a.apply(c,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(a,b,c){b.__isFileAPIBlobShim&&(b=b.data[0]),this.data.push({key:a,val:b,name:c})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(a){return{data:a,__isFileAPIBlobShim:!0}}}}(),function(){function a(a){return\"input\"===a[0].tagName.toLowerCase()&&a.attr(\"type\")&&\"file\"===a.attr(\"type\").toLowerCase()}function b(){try{var a=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");if(a)return!0}catch(b){if(void 0!==navigator.mimeTypes[\"application/x-shockwave-flash\"])return!0}return!1}function c(a){var b=0,c=0;if(window.jQuery)return jQuery(a).offset();if(a.offsetParent)do b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;while(a);return{left:b,top:c}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=b(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var d,e,f,g,h,i=document.createElement(\"script\"),j=document.getElementsByTagName(\"script\");if(window.FileAPI.jsUrl)d=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)e=window.FileAPI.jsPath;else for(f=0;f<j.length;f++)if(h=j[f].src,g=h.search(/\\/ng\\-file\\-upload[\\-a-zA-z0-9\\.]*\\.js/),g>-1){e=h.substring(0,g+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=e),i.setAttribute(\"src\",d||e+\"FileAPI.min.js\"),document.getElementsByTagName(\"head\")[0].appendChild(i)}FileAPI.ngfFixIE=function(d,e,f){if(!b())throw'Adode Flash Player need to be installed. To check ahead use \"FileAPI.hasFlash\"';var g=function(){var b=e.parent();d.attr(\"disabled\")?b&&b.removeClass(\"js-fileapi-wrapper\"):(e.attr(\"__ngf_flash_\")||(e.unbind(\"change\"),e.unbind(\"click\"),e.bind(\"change\",function(a){h.apply(this,[a]),f.apply(this,[a])}),e.attr(\"__ngf_flash_\",\"true\")),b.addClass(\"js-fileapi-wrapper\"),a(d)||(b.css(\"position\",\"absolute\").css(\"top\",c(d[0]).top+\"px\").css(\"left\",c(d[0]).left+\"px\").css(\"width\",d[0].offsetWidth+\"px\").css(\"height\",d[0].offsetHeight+\"px\").css(\"filter\",\"alpha(opacity=0)\").css(\"display\",d.css(\"display\")).css(\"overflow\",\"hidden\").css(\"z-index\",\"900000\").css(\"visibility\",\"visible\"),e.css(\"width\",d[0].offsetWidth+\"px\").css(\"height\",d[0].offsetHeight+\"px\").css(\"position\",\"absolute\").css(\"top\",\"0px\").css(\"left\",\"0px\")))};d.bind(\"mouseenter\",g);var h=function(a){for(var b=FileAPI.getFiles(a),c=0;c<b.length;c++)void 0===b[c].size&&(b[c].size=0),void 0===b[c].name&&(b[c].name=\"file\"),void 0===b[c].type&&(b[c].type=\"undefined\");a.target||(a.target={}),a.target.files=b,a.target.files!==b&&(a.__files_=b),(a.__files_||a.target.files).item=function(b){return(a.__files_||a.target.files)[b]||null}}},FileAPI.disableFileInput=function(a,b){b?a.removeClass(\"js-fileapi-wrapper\"):a.addClass(\"js-fileapi-wrapper\")}}}(),window.FileReader||(window.FileReader=function(){var a=this,b=!1;this.listeners={},this.addEventListener=function(b,c){a.listeners[b]=a.listeners[b]||[],a.listeners[b].push(c)},this.removeEventListener=function(b,c){a.listeners[b]&&a.listeners[b].splice(a.listeners[b].indexOf(c),1)},this.dispatchEvent=function(b){var c=a.listeners[b.type];if(c)for(var d=0;d<c.length;d++)c[d].call(a,b)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var c=function(b,c){var d={type:b,target:a,loaded:c.loaded,total:c.total,error:c.error};return null!=c.result&&(d.target.result=c.result),d},d=function(d){b||(b=!0,a.onloadstart&&a.onloadstart(c(\"loadstart\",d)));var e;\"load\"===d.type?(a.onloadend&&a.onloadend(c(\"loadend\",d)),e=c(\"load\",d),a.onload&&a.onload(e),a.dispatchEvent(e)):\"progress\"===d.type?(e=c(\"progress\",d),a.onprogress&&a.onprogress(e),a.dispatchEvent(e)):(e=c(\"error\",d),a.onerror&&a.onerror(e),a.dispatchEvent(e))};this.readAsDataURL=function(a){FileAPI.readAsDataURL(a,d)},this.readAsText=function(a){FileAPI.readAsText(a,d)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(a){return function(b,c){if(\"__setXHR_\"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module(\"ngFileUpload\",[]);ngFileUpload.version=\"12.2.13\",ngFileUpload.service(\"UploadBase\",[\"$http\",\"$q\",\"$timeout\",function(a,b,c){function d(d){function e(a){j.notify&&j.notify(a),k.progressFunc&&c(function(){k.progressFunc(a)})}function h(a){return null!=d._start&&g?{loaded:a.loaded+d._start,total:d._file&&d._file.size||a.total,type:a.type,config:d,lengthComputable:!0,target:a.target}:a}function i(){a(d).then(function(a){if(g&&d._chunkSize&&!d._finished&&d._file){var b=d._file&&d._file.size||0;e({loaded:Math.min(d._end,b),total:b,config:d,type:\"progress\"}),f.upload(d,!0)}else d._finished&&delete d._finished,j.resolve(a)},function(a){j.reject(a)},function(a){j.notify(a)})}d.method=d.method||\"POST\",d.headers=d.headers||{};var j=d._deferred=d._deferred||b.defer(),k=j.promise;return d.disableProgress||(d.headers.__setXHR_=function(){return function(a){a&&a.upload&&a.upload.addEventListener&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener(\"progress\",function(a){a.config=d,e(h(a))},!1),a.upload.addEventListener(\"load\",function(a){a.lengthComputable&&(a.config=d,e(h(a)))},!1))}}),g?d._chunkSize&&d._end&&!d._finished?(d._start=d._end,d._end+=d._chunkSize,i()):d.resumeSizeUrl?a.get(d.resumeSizeUrl).then(function(a){d._start=d.resumeSizeResponseReader?d.resumeSizeResponseReader(a.data):parseInt((null==a.data.size?a.data:a.data.size).toString()),d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):d.resumeSize?d.resumeSize().then(function(a){d._start=a,d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):(d._chunkSize&&(d._start=0,d._end=d._start+d._chunkSize),i()):i(),k.success=function(a){return k.then(function(b){a(b.data,b.status,b.headers,d)}),k},k.error=function(a){return k.then(null,function(b){a(b.data,b.status,b.headers,d)}),k},k.progress=function(a){return k.progressFunc=a,k.then(null,null,function(b){a(b)}),k},k.abort=k.pause=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),k},k.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(k,arguments),a.apply(k,arguments)}}(d.xhrFn),k},f.promisesCount++,k[\"finally\"]&&k[\"finally\"]instanceof Function&&k[\"finally\"](function(){f.promisesCount--}),k}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=this;f.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var g=this.isResumeSupported();this.isUploadInProgress=function(){return f.promisesCount>0},this.rename=function(a,b){return a.ngfName=b,a},this.jsonBlob=function(a){null==a||angular.isString(a)||(a=JSON.stringify(a));var b=new window.Blob([a],{type:\"application/json\"});return b._ngfBlob=!0,b},this.json=function(a){return angular.toJson(a)},this.isFile=function(a){return null!=a&&(a instanceof window.Blob||a.flashId&&a.name&&a.size)},this.upload=function(a,b){function c(b,c){if(b._ngfBlob)return b;if(a._file=a._file||b,null!=a._start&&g){a._end&&a._end>=b.size&&(a._finished=!0,a._end=b.size);var d=b.slice(a._start,a._end||b.size);return d.name=b.name,d.ngfName=b.ngfName,a._chunkSize&&(c.append(\"_chunkSize\",a._chunkSize),c.append(\"_currentChunkSize\",a._end-a._start),c.append(\"_chunkNumber\",Math.floor(a._start/a._chunkSize)),c.append(\"_totalSize\",a._file.size)),d}return b}function h(b,d,e){if(void 0!==d)if(angular.isDate(d)&&(d=d.toISOString()),angular.isString(d))b.append(e,d);else if(f.isFile(d)){var g=c(d,b),i=e.split(\",\");i[1]&&(g.ngfName=i[1].replace(/^\\s+|\\s+$/g,\"\"),e=i[0]),a._fileKey=a._fileKey||e,b.append(e,g,g.ngfName||g.name)}else if(angular.isObject(d)){if(d.$$ngfCircularDetection)throw\"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: \"+e;d.$$ngfCircularDetection=!0;try{for(var j in d)if(d.hasOwnProperty(j)&&\"$$ngfCircularDetection\"!==j){var k=null==a.objectKey?\"[i]\":a.objectKey;d.length&&parseInt(j)>-1&&(k=null==a.arrayKey?k:a.arrayKey),h(b,d[j],e+k.replace(/[ik]/g,j))}}finally{delete d.$$ngfCircularDetection}}else b.append(e,d)}function i(){a._chunkSize=f.translateScalars(a.resumeChunkSize),a._chunkSize=a._chunkSize?parseInt(a._chunkSize.toString()):null,a.headers=a.headers||{},a.headers[\"Content-Type\"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(b){var c,d=new window.FormData;b=b||a.fields||{},a.file&&(b.file=a.file);for(c in b)if(b.hasOwnProperty(c)){var e=b[c];a.formDataAppender?a.formDataAppender(d,c,e):h(d,e,c)}return d})}return b||(a=e(a)),a._isDigested||(a._isDigested=!0,i()),d(a)},this.http=function(b){return b=e(b),b.transformRequest=b.transformRequest||function(b){return window.ArrayBuffer&&b instanceof window.ArrayBuffer||b instanceof window.Blob?b:a.defaults.transformRequest[0].apply(this,arguments)},b._chunkSize=f.translateScalars(b.resumeChunkSize),b._chunkSize=b._chunkSize?parseInt(b._chunkSize.toString()):null,d(b)},this.translateScalars=function(a){if(angular.isString(a)){if(a.search(/kb/i)===a.length-2)return parseFloat(1024*a.substring(0,a.length-2));if(a.search(/mb/i)===a.length-2)return parseFloat(1048576*a.substring(0,a.length-2));if(a.search(/gb/i)===a.length-2)return parseFloat(1073741824*a.substring(0,a.length-2));if(a.search(/b/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/s/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/m/i)===a.length-1)return parseFloat(60*a.substring(0,a.length-1));if(a.search(/h/i)===a.length-1)return parseFloat(3600*a.substring(0,a.length-1))}return a},this.urlToBlob=function(c){var d=b.defer();return a({url:c,method:\"get\",responseType:\"arraybuffer\"}).then(function(a){var b=new Uint8Array(a.data),e=a.headers(\"content-type\")||\"image/WebP\",f=new window.Blob([b],{type:e}),g=c.match(/.*\\/(.+?)(\\?.*)?$/);g.length>1&&(f.name=g[1]),d.resolve(f)},function(a){d.reject(a)}),d.promise},this.setDefaults=function(a){this.defaults=a||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service(\"Upload\",[\"$parse\",\"$timeout\",\"$compile\",\"$q\",\"UploadExif\",function(a,b,c,d,e){function f(a,b,c){var e=[i.emptyPromise()];return angular.forEach(a,function(d,f){0===d.type.indexOf(\"image/jpeg\")&&i.attrGetter(\"ngfFixOrientation\",b,c,{$file:d})&&e.push(i.happyPromise(i.applyExifRotation(d),d).then(function(b){a.splice(f,1,b)}))}),d.all(e)}function g(a,b,c,e){var f=i.attrGetter(\"ngfResize\",b,c);if(!f||!i.isResizeSupported()||!a.length)return i.emptyPromise();if(f instanceof Function){var g=d.defer();return f(a).then(function(d){h(d,a,b,c,e).then(function(a){g.resolve(a)},function(a){g.reject(a)})},function(a){g.reject(a)})}return h(f,a,b,c,e)}function h(a,b,c,e,f){function g(d,g){if(0===d.type.indexOf(\"image\")){if(a.pattern&&!i.validatePattern(d,a.pattern))return;a.resizeIf=function(a,b){return i.attrGetter(\"ngfResizeIf\",c,e,{$width:a,$height:b,$file:d})};var j=i.resize(d,a);h.push(j),j.then(function(a){b.splice(g,1,a)},function(a){d.$error=\"resize\",(d.$errorMessages=d.$errorMessages||{}).resize=!0,d.$errorParam=(a?(a.message?a.message:a)+\": \":\"\")+(d&&d.name),f.$ngfValidations.push({name:\"resize\",valid:!1}),i.applyModelValidation(f,b)})}}for(var h=[i.emptyPromise()],j=0;j<b.length;j++)g(b[j],j);return d.all(h)}var i=e;return i.getAttrWithDefaults=function(a,b){if(null!=a[b])return a[b];var c=i.defaults[b];return null==c?c:angular.isString(c)?c:JSON.stringify(c)},i.attrGetter=function(b,c,d,e){var f=this.getAttrWithDefaults(c,b);if(!d)return f;try{return e?a(f)(d,e):a(f)(d)}catch(g){if(b.search(/min|max|pattern/i))return f;throw g}},i.shouldUpdateOn=function(a,b,c){var d=i.attrGetter(\"ngfModelOptions\",b,c);return d&&d.updateOn?d.updateOn.split(\" \").indexOf(a)>-1:!0},i.emptyPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.resolve.apply(a,c)}),a.promise},i.rejectPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.reject.apply(a,c)}),a.promise},i.happyPromise=function(a,c){var e=d.defer();return a.then(function(a){e.resolve(a)},function(a){b(function(){throw a}),e.resolve(c)}),e.promise},i.updateModel=function(c,d,e,h,j,k,l){function m(f,g,j,l,m){d.$$ngfPrevValidFiles=f,d.$$ngfPrevInvalidFiles=g;var n=f&&f.length?f[0]:null,o=g&&g.length?g[0]:null;c&&(i.applyModelValidation(c,f),c.$setViewValue(m?n:f)),h&&a(h)(e,{$files:f,$file:n,$newFiles:j,$duplicateFiles:l,$invalidFiles:g,$invalidFile:o,$event:k});var p=i.attrGetter(\"ngfModelInvalid\",d);p&&b(function(){a(p).assign(e,m?o:g)}),b(function(){})}function n(){function a(a,b){return a.name===b.name&&(a.$ngfOrigSize||a.size)===(b.$ngfOrigSize||b.size)&&a.type===b.type}function b(b){var c;for(c=0;c<r.length;c++)if(a(b,r[c]))return!0;for(c=0;c<s.length;c++)if(a(b,s[c]))return!0;return!1}if(j){q=[],t=[];for(var c=0;c<j.length;c++)b(j[c])?t.push(j[c]):q.push(j[c])}}function o(a){return angular.isArray(a)?a:[a]}function p(){function a(){b(function(){m(w?r.concat(v):v,w?s.concat(u):u,j,t,x)},z&&z.debounce?z.debounce.change||z.debounce:0)}var f=y?q:v;g(f,d,e,c).then(function(){y?i.validate(q,w?r.length:0,c,d,e).then(function(b){v=b.validsFiles,u=b.invalidsFiles,a()}):a()},function(){for(var b=0;b<f.length;b++){var c=f[b];if(\"resize\"===c.$error){var d=v.indexOf(c);d>-1&&(v.splice(d,1),u.push(c)),a()}}})}var q,r,s,t=[],u=[],v=[];r=d.$$ngfPrevValidFiles||[],s=d.$$ngfPrevInvalidFiles||[],c&&c.$modelValue&&(r=o(c.$modelValue));var w=i.attrGetter(\"ngfKeep\",d,e);q=(j||[]).slice(0),(\"distinct\"===w||i.attrGetter(\"ngfKeepDistinct\",d,e)===!0)&&n(d,e);var x=!w&&!i.attrGetter(\"ngfMultiple\",d,e)&&!i.attrGetter(\"multiple\",d);if(!w||q.length){i.attrGetter(\"ngfBeforeModelChange\",d,e,{$files:j,$file:j&&j.length?j[0]:null,$newFiles:q,$duplicateFiles:t,$event:k});var y=i.attrGetter(\"ngfValidateAfterResize\",d,e),z=i.attrGetter(\"ngfModelOptions\",d,e);i.validate(q,w?r.length:0,c,d,e).then(function(a){l?m(q,[],j,t,x):(z&&z.allowInvalid||y?v=q:(v=a.validFiles,u=a.invalidFiles),i.attrGetter(\"ngfFixOrientation\",d,e)&&i.isExifSupported()?f(v,d,e).then(function(){p()}):p())})}},i}]),ngFileUpload.directive(\"ngfSelect\",[\"$parse\",\"$timeout\",\"$compile\",\"Upload\",function(a,b,c,d){function e(a){var b=a.match(/Android[^\\d]*(\\d+)\\.(\\d+)/);if(b&&b.length>2){var c=d.defaults.androidFixMinorVersion||4;return parseInt(b[1])<4||parseInt(b[1])===c&&parseInt(b[2])<c}return-1===a.indexOf(\"Chrome\")&&/.*Windows.*Safari.*/.test(a)}function f(a,b,c,d,f,h,i,j){function k(){return\"input\"===b[0].tagName.toLowerCase()&&c.type&&\"file\"===c.type.toLowerCase()}function l(){return t(\"ngfChange\")||t(\"ngfSelect\")}function m(b){if(j.shouldUpdateOn(\"change\",c,a)){var e=b.__files_||b.target&&b.target.files,f=[];if(!e)return;for(var g=0;g<e.length;g++)f.push(e[g]);j.updateModel(d,c,a,l(),f.length?f:null,b)}}function n(a,d){function e(b){a.attr(\"id\",\"ngf-\"+b),d.attr(\"id\",\"ngf-label-\"+b)}for(var f=0;f<b[0].attributes.length;f++){var g=b[0].attributes[f];\"type\"!==g.name&&\"class\"!==g.name&&\"style\"!==g.name&&(\"id\"===g.name?(e(g.value),u.push(c.$observe(\"id\",e))):a.attr(g.name,g.value||\"required\"!==g.name&&\"multiple\"!==g.name?g.value:g.name))}}function o(){if(k())return b;var a=angular.element('<input type=\"file\">'),c=angular.element(\"<label>upload</label>\");return c.css(\"visibility\",\"hidden\").css(\"position\",\"absolute\").css(\"overflow\",\"hidden\").css(\"width\",\"0px\").css(\"height\",\"0px\").css(\"border\",\"none\").css(\"margin\",\"0px\").css(\"padding\",\"0px\").attr(\"tabindex\",\"-1\"),n(a,c),g.push({el:b,ref:c}),document.body.appendChild(c.append(a)[0]),a}function p(c){if(b.attr(\"disabled\"))return!1;if(!t(\"ngfSelectDisabled\",a)){var d=q(c);if(null!=d)return d;r(c);try{k()||document.body.contains(x[0])||(g.push({el:b,ref:x.parent()}),document.body.appendChild(x.parent()[0]),x.bind(\"change\",m))}catch(f){}return e(navigator.userAgent)?setTimeout(function(){x[0].click()},0):x[0].click(),!1}}function q(a){var b=a.changedTouches||a.originalEvent&&a.originalEvent.changedTouches;if(b){if(\"touchstart\"===a.type)return w=b[0].clientX,v=b[0].clientY,!0;if(\"touchend\"===a.type){var c=b[0].clientX,d=b[0].clientY;if(Math.abs(c-w)>20||Math.abs(d-v)>20)return a.stopPropagation(),a.preventDefault(),!1}return!0}}function r(b){j.shouldUpdateOn(\"click\",c,a)&&x.val()&&(x.val(null),j.updateModel(d,c,a,l(),null,b,!0))}function s(a){if(x&&!x.attr(\"__ngf_ie10_Fix_\")){if(!x[0].parentNode)return void(x=null);a.preventDefault(),a.stopPropagation(),x.unbind(\"click\");var b=x.clone();return x.replaceWith(b),x=b,x.attr(\"__ngf_ie10_Fix_\",\"true\"),x.bind(\"change\",m),x.bind(\"click\",s),x[0].click(),!1}x.removeAttr(\"__ngf_ie10_Fix_\")}var t=function(a,b){return j.attrGetter(a,c,b)};j.registerModelChangeValidator(d,c,a);var u=[];t(\"ngfMultiple\")&&u.push(a.$watch(t(\"ngfMultiple\"),function(){x.attr(\"multiple\",t(\"ngfMultiple\",a))})),t(\"ngfCapture\")&&u.push(a.$watch(t(\"ngfCapture\"),function(){x.attr(\"capture\",t(\"ngfCapture\",a))})),t(\"ngfAccept\")&&u.push(a.$watch(t(\"ngfAccept\"),function(){x.attr(\"accept\",t(\"ngfAccept\",a))})),u.push(c.$observe(\"accept\",function(){x.attr(\"accept\",t(\"accept\"))}));var v=0,w=0,x=b;k()||(x=o()),x.bind(\"change\",m),k()?b.bind(\"click\",r):b.bind(\"click touchstart touchend\",p),-1!==navigator.appVersion.indexOf(\"MSIE 10\")&&x.bind(\"click\",s),d&&d.$formatters.push(function(a){return(null==a||0===a.length)&&x.val()&&x.val(null),a}),a.$on(\"$destroy\",function(){k()||x.parent().remove(),angular.forEach(u,function(a){a()})}),h(function(){for(var a=0;a<g.length;a++){var b=g[a];document.body.contains(b.el[0])||(g.splice(a,1),b.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(b,x,m)}var g=[];return{restrict:\"AEC\",require:\"?ngModel\",link:function(e,g,h,i){f(e,g,h,i,a,b,c,d)}}}]),function(){function a(a){return\"img\"===a.tagName.toLowerCase()?\"image\":\"audio\"===a.tagName.toLowerCase()?\"audio\":\"video\"===a.tagName.toLowerCase()?\"video\":/./}function b(b,c,d,e,f,g,h,i){function j(a){var g=b.attrGetter(\"ngfNoObjectUrl\",f,d);b.dataUrl(a,g)[\"finally\"](function(){c(function(){var b=(g?a.$ngfDataUrl:a.$ngfBlobUrl)||a.$ngfDataUrl;i?e.css(\"background-image\",\"url('\"+(b||\"\")+\"')\"):e.attr(\"src\",b),b?e.removeClass(\"ng-hide\"):e.addClass(\"ng-hide\")})})}c(function(){var c=d.$watch(f[g],function(c){var k=h;if(\"ngfThumbnail\"===g&&(k||(k={width:e[0].naturalWidth||e[0].clientWidth,height:e[0].naturalHeight||e[0].clientHeight}),0===k.width&&window.getComputedStyle)){var l=getComputedStyle(e[0]);l.width&&l.width.indexOf(\"px\")>-1&&l.height&&l.height.indexOf(\"px\")>-1&&(k={width:parseInt(l.width.slice(0,-2)),height:parseInt(l.height.slice(0,-2))})}return angular.isString(c)?(e.removeClass(\"ng-hide\"),i?e.css(\"background-image\",\"url('\"+c+\"')\"):e.attr(\"src\",c)):void(!c||!c.type||0!==c.type.search(a(e[0]))||i&&0!==c.type.indexOf(\"image\")?e.addClass(\"ng-hide\"):k&&b.isResizeSupported()?(k.resizeIf=function(a,e){return b.attrGetter(\"ngfResizeIf\",f,d,{$width:a,$height:e,$file:c})},b.resize(c,k).then(function(a){j(a)},function(a){throw a})):j(c))});d.$on(\"$destroy\",function(){c()})})}ngFileUpload.service(\"UploadDataUrl\",[\"UploadBase\",\"$timeout\",\"$q\",function(a,b,c){var d=a;return d.base64DataUrl=function(a){if(angular.isArray(a)){var b=c.defer(),e=0;return angular.forEach(a,function(c){d.dataUrl(c,!0)[\"finally\"](function(){if(e++,e===a.length){var c=[];angular.forEach(a,function(a){c.push(a.$ngfDataUrl)}),b.resolve(c,a)}})}),b.promise}return d.dataUrl(a,!0)},d.dataUrl=function(a,e){if(!a)return d.emptyPromise(a,a);if(e&&null!=a.$ngfDataUrl||!e&&null!=a.$ngfBlobUrl)return d.emptyPromise(e?a.$ngfDataUrl:a.$ngfBlobUrl,a);var f=e?a.$$ngfDataUrlPromise:a.$$ngfBlobUrlPromise;if(f)return f;var g=c.defer();return b(function(){if(window.FileReader&&a&&(!window.FileAPI||-1===navigator.userAgent.indexOf(\"MSIE 8\")||a.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf(\"MSIE 9\")||a.size<4e6)){var c=window.URL||window.webkitURL;if(c&&c.createObjectURL&&!e){var f;try{f=c.createObjectURL(a)}catch(h){return void b(function(){a.$ngfBlobUrl=\"\",g.reject()})}b(function(){if(a.$ngfBlobUrl=f,f){g.resolve(f,a),d.blobUrls=d.blobUrls||[],d.blobUrlsTotalSize=d.blobUrlsTotalSize||0,d.blobUrls.push({url:f,size:a.size}),d.blobUrlsTotalSize+=a.size||0;for(var b=d.defaults.blobUrlsMaxMemory||268435456,e=d.defaults.blobUrlsMaxQueueSize||200;(d.blobUrlsTotalSize>b||d.blobUrls.length>e)&&d.blobUrls.length>1;){var h=d.blobUrls.splice(0,1)[0];c.revokeObjectURL(h.url),d.blobUrlsTotalSize-=h.size}}})}else{var i=new FileReader;i.onload=function(c){b(function(){a.$ngfDataUrl=c.target.result,g.resolve(c.target.result,a),b(function(){delete a.$ngfDataUrl},1e3)})},i.onerror=function(){b(function(){a.$ngfDataUrl=\"\",g.reject()})},i.readAsDataURL(a)}}else b(function(){a[e?\"$ngfDataUrl\":\"$ngfBlobUrl\"]=\"\",g.reject()})}),f=e?a.$$ngfDataUrlPromise=g.promise:a.$$ngfBlobUrlPromise=g.promise,f[\"finally\"](function(){delete a[e?\"$$ngfDataUrlPromise\":\"$$ngfBlobUrlPromise\"]}),f},d}]),ngFileUpload.directive(\"ngfSrc\",[\"Upload\",\"$timeout\",function(a,c){return{restrict:\"AE\",link:function(d,e,f){b(a,c,d,e,f,\"ngfSrc\",a.attrGetter(\"ngfResize\",f,d),!1)}}}]),ngFileUpload.directive(\"ngfBackground\",[\"Upload\",\"$timeout\",function(a,c){return{restrict:\"AE\",link:function(d,e,f){b(a,c,d,e,f,\"ngfBackground\",a.attrGetter(\"ngfResize\",f,d),!0)}}}]),ngFileUpload.directive(\"ngfThumbnail\",[\"Upload\",\"$timeout\",function(a,c){return{restrict:\"AE\",link:function(d,e,f){var g=a.attrGetter(\"ngfSize\",f,d);b(a,c,d,e,f,\"ngfThumbnail\",g,a.attrGetter(\"ngfAsBackground\",f,d))}}}]),ngFileUpload.config([\"$compileProvider\",function(a){a.imgSrcSanitizationWhitelist&&a.imgSrcSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),a.aHrefSanitizationWhitelist&&a.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter(\"ngfDataUrl\",[\"UploadDataUrl\",\"$sce\",function(a,b){return function(c,d,e){if(angular.isString(c))return b.trustAsResourceUrl(c);var f=c&&((d?c.$ngfDataUrl:c.$ngfBlobUrl)||c.$ngfDataUrl);return c&&!f?(!c.$ngfDataUrlFilterInProgress&&angular.isObject(c)&&(c.$ngfDataUrlFilterInProgress=!0,a.dataUrl(c,d)),\"\"):(c&&delete c.$ngfDataUrlFilterInProgress,(c&&f?e?b.trustAsResourceUrl(f):f:c)||\"\")}}])}(),ngFileUpload.service(\"UploadValidate\",[\"UploadDataUrl\",\"$q\",\"$timeout\",function(a,b,c){function d(a){var b=\"\",c=[];if(a.length>2&&\"/\"===a[0]&&\"/\"===a[a.length-1])b=a.substring(1,a.length-1);else{var e=a.split(\",\");if(e.length>1)for(var f=0;f<e.length;f++){var g=d(e[f]);g.regexp?(b+=\"(\"+g.regexp+\")\",f<e.length-1&&(b+=\"|\")):c=c.concat(g.excludes)}else 0===a.indexOf(\"!\")?c.push(\"^((?!\"+d(a.substring(1)).regexp+\").)*$\"):(0===a.indexOf(\".\")&&(a=\"*\"+a),b=\"^\"+a.replace(new RegExp(\"[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\-]\",\"g\"),\"\\\\$&\")+\"$\",b=b.replace(/\\\\\\*/g,\".*\").replace(/\\\\\\?/g,\".\"))}return{regexp:b,excludes:c}}function e(a,b){null==b||a.$dirty||(a.$setDirty?a.$setDirty():a.$dirty=!0)}var f=a;return f.validatePattern=function(a,b){if(!b)return!0;var c=d(b),e=!0;if(c.regexp&&c.regexp.length){var f=new RegExp(c.regexp,\"i\");e=null!=a.type&&f.test(a.type)||null!=a.name&&f.test(a.name)}for(var g=c.excludes.length;g--;){var h=new RegExp(c.excludes[g],\"i\");e=e&&(null==a.type||h.test(a.type))&&(null==a.name||h.test(a.name))}return e},f.ratioToFloat=function(a){var b=a.toString(),c=b.search(/[x:]/i);return b=c>-1?parseFloat(b.substring(0,c))/parseFloat(b.substring(c+1)):parseFloat(b)},f.registerModelChangeValidator=function(a,b,c){a&&a.$formatters.push(function(d){if(a.$dirty){var e=d;d&&!angular.isArray(d)&&(e=[d]),f.validate(e,0,a,b,c).then(function(){f.applyModelValidation(a,e)})}return d})},f.applyModelValidation=function(a,b){e(a,b),angular.forEach(a.$ngfValidations,function(b){a.$setValidity(b.name,b.valid)})},f.getValidationAttr=function(a,b,c,d,e){var g=\"ngf\"+c[0].toUpperCase()+c.substr(1),h=f.attrGetter(g,a,b,{$file:e});if(null==h&&(h=f.attrGetter(\"ngfValidate\",a,b,{$file:e}))){var i=(d||c).split(\".\");h=h[i[0]],i.length>1&&(h=h&&h[i[1]])}return h},f.validate=function(a,c,d,e,g){function h(b,c,h){if(a){for(var i=a.length,j=null;i--;){var n=a[i];if(n){var o=f.getValidationAttr(e,g,b,c,n);null!=o&&(h(n,o,i)||(-1===k.indexOf(b)?(n.$error=b,(n.$errorMessages=n.$errorMessages||{})[b]=!0,n.$errorParam=o,-1===m.indexOf(n)&&m.push(n),l||a.splice(i,1),j=!1):a.splice(i,1)))}}null!==j&&d.$ngfValidations.push({name:b,valid:j})}}function i(c,h,i,n,o){function p(b,d,e){function f(f){if(f())if(-1===k.indexOf(c)){if(d.$error=c,(d.$errorMessages=d.$errorMessages||{})[c]=!0,d.$errorParam=e,-1===m.indexOf(d)&&m.push(d),!l){var g=a.indexOf(d);g>-1&&a.splice(g,1)}b.resolve(!1)}else{var h=a.indexOf(d);h>-1&&a.splice(h,1),b.resolve(!0)}else b.resolve(!0)}null!=e?n(d,e).then(function(a){f(function(){return!o(a,e)})},function(){f(function(){return j(\"ngfValidateForce\",{$file:d})})}):b.resolve(!0)}var q=[f.emptyPromise(!0)];a&&(a=void 0===a.length?[a]:a,angular.forEach(a,function(a){var d=b.defer();return q.push(d.promise),!i||null!=a.type&&0===a.type.search(i)?void(\"dimensions\"===c&&null!=f.attrGetter(\"ngfDimensions\",e)?f.imageDimensions(a).then(function(b){p(d,a,j(\"ngfDimensions\",{$file:a,$width:b.width,$height:b.height}))},function(){d.resolve(!1)}):\"duration\"===c&&null!=f.attrGetter(\"ngfDuration\",e)?f.mediaDuration(a).then(function(b){p(d,a,j(\"ngfDuration\",{$file:a,$duration:b}))},function(){d.resolve(!1)}):p(d,a,f.getValidationAttr(e,g,c,h,a))):void d.resolve(!0)}));var r=b.defer();return b.all(q).then(function(a){for(var b=!0,e=0;e<a.length;e++)if(!a[e]){b=!1;break}d.$ngfValidations.push({name:c,valid:b}),r.resolve(b)}),r.promise}d=d||{},d.$ngfValidations=d.$ngfValidations||[],angular.forEach(d.$ngfValidations,function(a){a.valid=!0});var j=function(a,b){return f.attrGetter(a,e,g,b)},k=(f.attrGetter(\"ngfIgnoreInvalid\",e,g)||\"\").split(\" \"),l=f.attrGetter(\"ngfRunAllValidations\",e,g);if(null==a||0===a.length)return f.emptyPromise({validFiles:a,invalidFiles:[]});a=void 0===a.length?[a]:a.slice(0);var m=[];h(\"pattern\",null,f.validatePattern),h(\"minSize\",\"size.min\",function(a,b){return a.size+.1>=f.translateScalars(b)}),h(\"maxSize\",\"size.max\",function(a,b){return a.size-.1<=f.translateScalars(b)});var n=0;if(h(\"maxTotalSize\",null,function(b,c){return n+=b.size,n>f.translateScalars(c)?(a.splice(0,a.length),!1):!0}),h(\"validateFn\",null,function(a,b){return b===!0||null===b||\"\"===b}),!a.length)return f.emptyPromise({validFiles:[],invalidFiles:m});var o=b.defer(),p=[];return p.push(i(\"maxHeight\",\"height.max\",/image/,this.imageDimensions,function(a,b){return a.height<=b})),p.push(i(\"minHeight\",\"height.min\",/image/,this.imageDimensions,function(a,b){return a.height>=b})),p.push(i(\"maxWidth\",\"width.max\",/image/,this.imageDimensions,function(a,b){return a.width<=b})),p.push(i(\"minWidth\",\"width.min\",/image/,this.imageDimensions,function(a,b){return a.width>=b})),p.push(i(\"dimensions\",null,/image/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i(\"ratio\",null,/image/,this.imageDimensions,function(a,b){for(var c=b.toString().split(\",\"),d=!1,e=0;e<c.length;e++)Math.abs(a.width/a.height-f.ratioToFloat(c[e]))<.01&&(d=!0);return d})),p.push(i(\"maxRatio\",\"ratio.max\",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)<1e-4})),p.push(i(\"minRatio\",\"ratio.min\",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)>-1e-4})),p.push(i(\"maxDuration\",\"duration.max\",/audio|video/,this.mediaDuration,function(a,b){return a<=f.translateScalars(b)})),p.push(i(\"minDuration\",\"duration.min\",/audio|video/,this.mediaDuration,function(a,b){return a>=f.translateScalars(b)})),p.push(i(\"duration\",null,/audio|video/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i(\"validateAsyncFn\",null,null,function(a,b){return b},function(a){return a===!0||null===a||\"\"===a})),b.all(p).then(function(){if(l)for(var b=0;b<a.length;b++){var d=a[b];d.$error&&a.splice(b--,1)}l=!1,h(\"maxFiles\",null,function(a,b,d){return b>c+d}),o.resolve({validFiles:a,invalidFiles:m})}),o.promise},f.imageDimensions=function(a){if(a.$ngfWidth&&a.$ngfHeight){var d=b.defer();return c(function(){d.resolve({width:a.$ngfWidth,height:a.$ngfHeight})}),d.promise}if(a.$ngfDimensionPromise)return a.$ngfDimensionPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf(\"image\")?void e.reject(\"not image\"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].naturalWidth||h[0].clientWidth,c=h[0].naturalHeight||h[0].clientHeight;h.remove(),a.$ngfWidth=b,a.$ngfHeight=c,e.resolve({width:b,height:c})}function f(){\nh.remove(),e.reject(\"load error\")}function g(){c(function(){h[0].parentNode&&(h[0].clientWidth?d():i++>10?f():g())},1e3)}var h=angular.element(\"<img>\").attr(\"src\",b).css(\"visibility\",\"hidden\").css(\"position\",\"fixed\").css(\"max-width\",\"none !important\").css(\"max-height\",\"none !important\");h.on(\"load\",d),h.on(\"error\",f);var i=0;g(),angular.element(document.getElementsByTagName(\"body\")[0]).append(h)},function(){e.reject(\"load error\")})}),a.$ngfDimensionPromise=e.promise,a.$ngfDimensionPromise[\"finally\"](function(){delete a.$ngfDimensionPromise}),a.$ngfDimensionPromise},f.mediaDuration=function(a){if(a.$ngfDuration){var d=b.defer();return c(function(){d.resolve(a.$ngfDuration)}),d.promise}if(a.$ngfDurationPromise)return a.$ngfDurationPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf(\"audio\")&&0!==a.type.indexOf(\"video\")?void e.reject(\"not media\"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].duration;a.$ngfDuration=b,h.remove(),e.resolve(b)}function f(){h.remove(),e.reject(\"load error\")}function g(){c(function(){h[0].parentNode&&(h[0].duration?d():i>10?f():g())},1e3)}var h=angular.element(0===a.type.indexOf(\"audio\")?\"<audio>\":\"<video>\").attr(\"src\",b).css(\"visibility\",\"none\").css(\"position\",\"fixed\");h.on(\"loadedmetadata\",d),h.on(\"error\",f);var i=0;g(),angular.element(document.body).append(h)},function(){e.reject(\"load error\")})}),a.$ngfDurationPromise=e.promise,a.$ngfDurationPromise[\"finally\"](function(){delete a.$ngfDurationPromise}),a.$ngfDurationPromise},f}]),ngFileUpload.service(\"UploadResize\",[\"UploadValidate\",\"$q\",function(a,b){var c=a,d=function(a,b,c,d,e){var f=e?Math.max(c/a,d/b):Math.min(c/a,d/b);return{width:a*f,height:b*f,marginX:a*f-c,marginY:b*f-d}},e=function(a,e,f,g,h,i,j,k){var l=b.defer(),m=document.createElement(\"canvas\"),n=document.createElement(\"img\");return n.setAttribute(\"style\",\"visibility:hidden;position:fixed;z-index:-100000\"),document.body.appendChild(n),n.onload=function(){var a=n.width,b=n.height;if(n.parentNode.removeChild(n),null!=k&&k(a,b)===!1)return void l.reject(\"resizeIf\");try{if(i){var o=c.ratioToFloat(i),p=a/b;o>p?(e=a,f=e/o):(f=b,e=f*o)}e||(e=a),f||(f=b);var q=d(a,b,e,f,j);m.width=Math.min(q.width,e),m.height=Math.min(q.height,f);var r=m.getContext(\"2d\");r.drawImage(n,Math.min(0,-q.marginX/2),Math.min(0,-q.marginY/2),q.width,q.height),l.resolve(m.toDataURL(h||\"image/WebP\",g||.934))}catch(s){l.reject(s)}},n.onerror=function(){n.parentNode.removeChild(n),l.reject()},n.src=a,l.promise};return c.dataUrltoBlob=function(a,b,c){for(var d=a.split(\",\"),e=d[0].match(/:(.*?);/)[1],f=atob(d[1]),g=f.length,h=new Uint8Array(g);g--;)h[g]=f.charCodeAt(g);var i=new window.Blob([h],{type:e});return i.name=b,i.$ngfOrigSize=c,i},c.isResizeSupported=function(){var a=document.createElement(\"canvas\");return window.atob&&a.getContext&&a.getContext(\"2d\")&&window.Blob},c.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,\"name\",{get:function(){return this.$ngfName},set:function(a){this.$ngfName=a},configurable:!0}),c.resize=function(a,d){if(0!==a.type.indexOf(\"image\"))return c.emptyPromise(a);var f=b.defer();return c.dataUrl(a,!0).then(function(b){e(b,d.width,d.height,d.quality,d.type||a.type,d.ratio,d.centerCrop,d.resizeIf).then(function(e){if(\"image/jpeg\"===a.type&&d.restoreExif!==!1)try{e=c.restoreExif(b,e)}catch(g){setTimeout(function(){throw g},1)}try{var h=c.dataUrltoBlob(e,a.name,a.size);f.resolve(h)}catch(g){f.reject(g)}},function(b){\"resizeIf\"===b&&f.resolve(a),f.reject(b)})},function(a){f.reject(a)}),f.promise},c}]),function(){function a(a,c,d,e,f,g,h,i,j,k){function l(){return c.attr(\"disabled\")||s(\"ngfDropDisabled\",a)}function m(b,c,d){if(b){var e;try{e=b&&b.getData&&b.getData(\"text/html\")}catch(f){}q(b.items,b.files,s(\"ngfAllowDir\",a)!==!1,s(\"multiple\")||s(\"ngfMultiple\",a)).then(function(a){a.length?n(a,c):o(d,e).then(function(a){n(a,c)})})}}function n(b,c){i.updateModel(e,d,a,s(\"ngfChange\")||s(\"ngfDrop\"),b,c)}function o(b,c){if(!i.shouldUpdateOn(b,d,a)||\"string\"!=typeof c)return i.rejectPromise([]);var e=[];c.replace(/<(img src|img [^>]* src) *=\\\"([^\\\"]*)\\\"/gi,function(a,b,c){e.push(c)});var f=[],g=[];if(e.length){angular.forEach(e,function(a){f.push(i.urlToBlob(a).then(function(a){g.push(a)}))});var h=k.defer();return k.all(f).then(function(){h.resolve(g)},function(a){h.reject(a)}),h.promise}return i.emptyPromise()}function p(a,b,c,d){var e=s(\"ngfDragOverClass\",a,{$event:c}),f=\"dragover\";if(angular.isString(e))f=e;else if(e&&(e.delay&&(w=e.delay),e.accept||e.reject)){var g=c.dataTransfer.items;if(null!=g&&g.length)for(var h=e.pattern||s(\"ngfPattern\",a,{$event:c}),j=g.length;j--;){if(!i.validatePattern(g[j],h)){f=e.reject;break}f=e.accept}else f=e.accept}d(f)}function q(b,c,e,f){function g(a,b){var c=k.defer();if(null!=a)if(a.isDirectory){var d=[i.emptyPromise()];if(m){var e={type:\"directory\"};e.name=e.path=(b||\"\")+a.name,n.push(e)}var f=a.createReader(),h=[],p=function(){f.readEntries(function(e){try{e.length?(h=h.concat(Array.prototype.slice.call(e||[],0)),p()):(angular.forEach(h.slice(0),function(c){n.length<=j&&l>=o&&d.push(g(c,(b?b:\"\")+a.name+\"/\"))}),k.all(d).then(function(){c.resolve()},function(a){c.reject(a)}))}catch(f){c.reject(f)}},function(a){c.reject(a)})};p()}else a.file(function(a){try{a.path=(b?b:\"\")+a.name,m&&(a=i.rename(a,a.path)),n.push(a),o+=a.size,c.resolve()}catch(d){c.reject(d)}},function(a){c.reject(a)});return c.promise}var j=i.getValidationAttr(d,a,\"maxFiles\");null==j&&(j=Number.MAX_VALUE);var l=i.getValidationAttr(d,a,\"maxTotalSize\");null==l&&(l=Number.MAX_VALUE);var m=s(\"ngfIncludeDir\",a),n=[],o=0,p=[i.emptyPromise()];if(b&&b.length>0&&\"file:\"!==h.location.protocol)for(var q=0;q<b.length;q++){if(b[q].webkitGetAsEntry&&b[q].webkitGetAsEntry()&&b[q].webkitGetAsEntry().isDirectory){var r=b[q].webkitGetAsEntry();if(r.isDirectory&&!e)continue;null!=r&&p.push(g(r))}else{var t=b[q].getAsFile();null!=t&&(n.push(t),o+=t.size)}if(n.length>j||o>l||!f&&n.length>0)break}else if(null!=c)for(var u=0;u<c.length;u++){var v=c.item(u);if((v.type||v.size>0)&&(n.push(v),o+=v.size),n.length>j||o>l||!f&&n.length>0)break}var w=k.defer();return k.all(p).then(function(){if(f||m||!n.length)w.resolve(n);else{for(var a=0;n[a]&&\"directory\"===n[a].type;)a++;w.resolve([n[a]])}},function(a){w.reject(a)}),w.promise}var r=b(),s=function(a,b,c){return i.attrGetter(a,d,b,c)};if(s(\"dropAvailable\")&&g(function(){a[s(\"dropAvailable\")]?a[s(\"dropAvailable\")].value=r:a[s(\"dropAvailable\")]=r}),!r)return void(s(\"ngfHideOnDropNotAvailable\",a)===!0&&c.css(\"display\",\"none\"));null==s(\"ngfSelect\")&&i.registerModelChangeValidator(e,d,a);var t,u=null,v=f(s(\"ngfStopPropagation\")),w=1;c[0].addEventListener(\"dragover\",function(b){if(!l()&&i.shouldUpdateOn(\"drop\",d,a)){if(b.preventDefault(),v(a)&&b.stopPropagation(),navigator.userAgent.indexOf(\"Chrome\")>-1){var e=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect=\"move\"===e||\"linkMove\"===e?\"move\":\"copy\"}g.cancel(u),t||(t=\"C\",p(a,d,b,function(d){t=d,c.addClass(t),s(\"ngfDrag\",a,{$isDragging:!0,$class:t,$event:b})}))}},!1),c[0].addEventListener(\"dragenter\",function(b){!l()&&i.shouldUpdateOn(\"drop\",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation())},!1),c[0].addEventListener(\"dragleave\",function(b){!l()&&i.shouldUpdateOn(\"drop\",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation(),u=g(function(){t&&c.removeClass(t),t=null,s(\"ngfDrag\",a,{$isDragging:!1,$event:b})},w||100))},!1),c[0].addEventListener(\"drop\",function(b){!l()&&i.shouldUpdateOn(\"drop\",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation(),t&&c.removeClass(t),t=null,m(b.dataTransfer,b,\"dropUrl\"))},!1),c[0].addEventListener(\"paste\",function(b){navigator.userAgent.toLowerCase().indexOf(\"firefox\")>-1&&s(\"ngfEnableFirefoxPaste\",a)&&b.preventDefault(),!l()&&i.shouldUpdateOn(\"paste\",d,a)&&m(b.clipboardData||b.originalEvent.clipboardData,b,\"pasteUrl\")},!1),navigator.userAgent.toLowerCase().indexOf(\"firefox\")>-1&&s(\"ngfEnableFirefoxPaste\",a)&&(c.attr(\"contenteditable\",!0),c.on(\"keypress\",function(a){a.metaKey||a.ctrlKey||a.preventDefault()}))}function b(){var a=document.createElement(\"div\");return\"draggable\"in a&&\"ondrop\"in a&&!/Edge\\/12./i.test(navigator.userAgent)}ngFileUpload.directive(\"ngfDrop\",[\"$parse\",\"$timeout\",\"$window\",\"Upload\",\"$http\",\"$q\",function(b,c,d,e,f,g){return{restrict:\"AEC\",require:\"?ngModel\",link:function(h,i,j,k){a(h,i,j,k,b,c,d,e,f,g)}}}]),ngFileUpload.directive(\"ngfNoFileDrop\",function(){return function(a,c){b()&&c.css(\"display\",\"none\")}}),ngFileUpload.directive(\"ngfDropAvailable\",[\"$parse\",\"$timeout\",\"Upload\",function(a,c,d){return function(e,f,g){if(b()){var h=a(d.attrGetter(\"ngfDropAvailable\",g));c(function(){h(e),h.assign&&h.assign(e,!0)})}}}])}(),ngFileUpload.service(\"UploadExif\",[\"UploadResize\",\"$q\",function(a,b){function c(a,b,c,d){switch(b){case 2:return a.transform(-1,0,0,1,c,0);case 3:return a.transform(-1,0,0,-1,c,d);case 4:return a.transform(1,0,0,-1,0,d);case 5:return a.transform(0,1,1,0,0,0);case 6:return a.transform(0,1,-1,0,d,0);case 7:return a.transform(0,-1,-1,0,d,c);case 8:return a.transform(0,-1,1,0,0,c)}}function d(a){for(var b=\"\",c=new Uint8Array(a),d=c.byteLength,e=0;d>e;e++)b+=String.fromCharCode(c[e]);return window.btoa(b)}var e=a;return e.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&e.isResizeSupported()},e.readOrientation=function(a){var c=b.defer(),d=new FileReader,e=a.slice?a.slice(0,65536):a;return d.readAsArrayBuffer(e),d.onerror=function(a){return c.reject(a)},d.onload=function(a){var b={orientation:1},d=new DataView(this.result);if(65496!==d.getUint16(0,!1))return c.resolve(b);for(var e=d.byteLength,f=2;e>f;){var g=d.getUint16(f,!1);if(f+=2,65505===g){if(1165519206!==d.getUint32(f+=2,!1))return c.resolve(b);var h=18761===d.getUint16(f+=6,!1);f+=d.getUint32(f+4,h);var i=d.getUint16(f,h);f+=2;for(var j=0;i>j;j++)if(274===d.getUint16(f+12*j,h)){var k=d.getUint16(f+12*j+8,h);return k>=2&&8>=k&&(d.setUint16(f+12*j+8,1,h),b.fixedArrayBuffer=a.target.result),b.orientation=k,c.resolve(b)}}else{if(65280!==(65280&g))break;f+=d.getUint16(f,!1)}}return c.resolve(b)},c.promise},e.applyExifRotation=function(a){if(0!==a.type.indexOf(\"image/jpeg\"))return e.emptyPromise(a);var f=b.defer();return e.readOrientation(a).then(function(b){return b.orientation<2||b.orientation>8?f.resolve(a):void e.dataUrl(a,!0).then(function(g){var h=document.createElement(\"canvas\"),i=document.createElement(\"img\");i.onload=function(){try{h.width=b.orientation>4?i.height:i.width,h.height=b.orientation>4?i.width:i.height;var g=h.getContext(\"2d\");c(g,b.orientation,i.width,i.height),g.drawImage(i,0,0);var j=h.toDataURL(a.type||\"image/WebP\",.934);j=e.restoreExif(d(b.fixedArrayBuffer),j);var k=e.dataUrltoBlob(j,a.name);f.resolve(k)}catch(l){return f.reject(l)}},i.onerror=function(){f.reject()},i.src=g},function(a){f.reject(a)})},function(a){f.reject(a)}),f.promise},e.restoreExif=function(a,b){var c={};return c.KEY_STR=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",c.encode64=function(a){\nvar this$1 = this;\nvar b,c,d,e,f,g=\"\",h=\"\",i=\"\",j=0;do b=a[j++],c=a[j++],h=a[j++],d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this$1.KEY_STR.charAt(d)+this$1.KEY_STR.charAt(e)+this$1.KEY_STR.charAt(f)+this$1.KEY_STR.charAt(i),b=c=h=\"\",d=e=f=i=\"\";while(j<a.length);return g},c.restore=function(a,b){a.match(\"data:image/jpeg;base64,\")&&(a=a.replace(\"data:image/jpeg;base64,\",\"\"));var c=this.decode64(a),d=this.slice2Segments(c),e=this.exifManipulation(b,d);return\"data:image/jpeg;base64,\"+this.encode64(e)},c.exifManipulation=function(a,b){var c=this.getExifArray(b),d=this.insertExif(a,c);return new Uint8Array(d)},c.getExifArray=function(a){for(var b,c=0;c<a.length;c++)if(b=a[c],255===b[0]&225===b[1])return b;return[]},c.insertExif=function(a,b){var c=a.replace(\"data:image/jpeg;base64,\",\"\"),d=this.decode64(c),e=d.indexOf(255,3),f=d.slice(0,e),g=d.slice(e),h=f;return h=h.concat(b),h=h.concat(g)},c.slice2Segments=function(a){for(var b=0,c=[];;){if(255===a[b]&218===a[b+1])break;if(255===a[b]&216===a[b+1])b+=2;else{var d=256*a[b+2]+a[b+3],e=b+d+2,f=a.slice(b,e);c.push(f),b=e}if(b>a.length)break}return c},c.decode64=function(a){\nvar this$1 = this;\nvar b,c,d,e,f,g=\"\",h=\"\",i=0,j=[],k=/[^A-Za-z0-9\\+\\/\\=]/g;k.exec(a)&&console.log(\"There were invalid base64 characters in the input text.\\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding.\"),a=a.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");do d=this$1.KEY_STR.indexOf(a.charAt(i++)),e=this$1.KEY_STR.indexOf(a.charAt(i++)),f=this$1.KEY_STR.indexOf(a.charAt(i++)),h=this$1.KEY_STR.indexOf(a.charAt(i++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,g=(3&f)<<6|h,j.push(b),64!==f&&j.push(c),64!==h&&j.push(g),b=c=g=\"\",d=e=f=h=\"\";while(i<a.length);return j},c.restore(a,b)},e}]);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3BsdWdpbnMvbmctZmlsZS11cGxvYWQtYWxsLm1pbi5qcz8zZTNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAxMi4yLjEzICovXG4hZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7d2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZVthXT1iKHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGVbYV0pfWZ1bmN0aW9uIGIoYSxiLGMpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6Y30pfWNhdGNoKGQpe319aWYod2luZG93LkZpbGVBUEl8fCh3aW5kb3cuRmlsZUFQST17fSksIXdpbmRvdy5YTUxIdHRwUmVxdWVzdCl0aHJvd1wiQUpBWCBpcyBub3Qgc3VwcG9ydGVkLiBYTUxIdHRwUmVxdWVzdCBpcyBub3QgZGVmaW5lZC5cIjtpZihGaWxlQVBJLnNob3VsZExvYWQ9IXdpbmRvdy5Gb3JtRGF0YXx8RmlsZUFQSS5mb3JjZUxvYWQsRmlsZUFQSS5zaG91bGRMb2FkKXt2YXIgYz1mdW5jdGlvbihhKXtpZighYS5fX2xpc3RlbmVycyl7YS51cGxvYWR8fChhLnVwbG9hZD17fSksYS5fX2xpc3RlbmVycz1bXTt2YXIgYj1hLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyO2EudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYyxkKXthLl9fbGlzdGVuZXJzW2NdPWQsYiYmYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX07YShcIm9wZW5cIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixkLGUpe2ModGhpcyksdGhpcy5fX3VybD1kO3RyeXthLmFwcGx5KHRoaXMsW2IsZCxlXSl9Y2F0Y2goZil7Zi5tZXNzYWdlLmluZGV4T2YoXCJBY2Nlc3MgaXMgZGVuaWVkXCIpPi0xJiYodGhpcy5fX29yaWdFcnJvcj1mLGEuYXBwbHkodGhpcyxbYixcIl9maXhfZm9yX2llX2Nyb3NzZG9tYWluX19cIixlXSkpfX19KSxhKFwiZ2V0UmVzcG9uc2VIZWFkZXJcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX19maWxlQXBpWEhSJiZ0aGlzLl9fZmlsZUFwaVhIUi5nZXRSZXNwb25zZUhlYWRlcj90aGlzLl9fZmlsZUFwaVhIUi5nZXRSZXNwb25zZUhlYWRlcihiKTpudWxsPT1hP251bGw6YS5hcHBseSh0aGlzLFtiXSl9fSksYShcImdldEFsbFJlc3BvbnNlSGVhZGVyc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZmlsZUFwaVhIUiYmdGhpcy5fX2ZpbGVBcGlYSFIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzP3RoaXMuX19maWxlQXBpWEhSLmdldEFsbFJlc3BvbnNlSGVhZGVycygpOm51bGw9PWE/bnVsbDphLmFwcGx5KHRoaXMpfX0pLGEoXCJhYm9ydFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZmlsZUFwaVhIUiYmdGhpcy5fX2ZpbGVBcGlYSFIuYWJvcnQ/dGhpcy5fX2ZpbGVBcGlYSFIuYWJvcnQoKTpudWxsPT1hP251bGw6YS5hcHBseSh0aGlzKX19KSxhKFwic2V0UmVxdWVzdEhlYWRlclwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2lmKFwiX19zZXRYSFJfXCI9PT1iKXtjKHRoaXMpO3ZhciBlPWQodGhpcyk7ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uJiZlKHRoaXMpfWVsc2UgdGhpcy5fX3JlcXVlc3RIZWFkZXJzPXRoaXMuX19yZXF1ZXN0SGVhZGVyc3x8e30sdGhpcy5fX3JlcXVlc3RIZWFkZXJzW2JdPWQsYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSksYShcInNlbmRcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz10aGlzO2lmKGFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLl9faXNGaWxlQVBJU2hpbSl7dmFyIGQ9YXJndW1lbnRzWzBdLGU9e3VybDpjLl9fdXJsLGpzb25wOiExLGNhY2hlOiEwLGNvbXBsZXRlOmZ1bmN0aW9uKGEsZCl7YSYmYW5ndWxhci5pc1N0cmluZyhhKSYmLTEhPT1hLmluZGV4T2YoXCIjMjE3NFwiKSYmKGE9bnVsbCksYy5fX2NvbXBsZXRlZD0hMCwhYSYmYy5fX2xpc3RlbmVycy5sb2FkJiZjLl9fbGlzdGVuZXJzLmxvYWQoe3R5cGU6XCJsb2FkXCIsbG9hZGVkOmMuX19sb2FkZWQsdG90YWw6Yy5fX3RvdGFsLHRhcmdldDpjLGxlbmd0aENvbXB1dGFibGU6ITB9KSwhYSYmYy5fX2xpc3RlbmVycy5sb2FkZW5kJiZjLl9fbGlzdGVuZXJzLmxvYWRlbmQoe3R5cGU6XCJsb2FkZW5kXCIsbG9hZGVkOmMuX19sb2FkZWQsdG90YWw6Yy5fX3RvdGFsLHRhcmdldDpjLGxlbmd0aENvbXB1dGFibGU6ITB9KSxcImFib3J0XCI9PT1hJiZjLl9fbGlzdGVuZXJzLmFib3J0JiZjLl9fbGlzdGVuZXJzLmFib3J0KHt0eXBlOlwiYWJvcnRcIixsb2FkZWQ6Yy5fX2xvYWRlZCx0b3RhbDpjLl9fdG90YWwsdGFyZ2V0OmMsbGVuZ3RoQ29tcHV0YWJsZTohMH0pLHZvaWQgMCE9PWQuc3RhdHVzJiZiKGMsXCJzdGF0dXNcIixmdW5jdGlvbigpe3JldHVybiAwPT09ZC5zdGF0dXMmJmEmJlwiYWJvcnRcIiE9PWE/NTAwOmQuc3RhdHVzfSksdm9pZCAwIT09ZC5zdGF0dXNUZXh0JiZiKGMsXCJzdGF0dXNUZXh0XCIsZnVuY3Rpb24oKXtyZXR1cm4gZC5zdGF0dXNUZXh0fSksYihjLFwicmVhZHlTdGF0ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIDR9KSx2b2lkIDAhPT1kLnJlc3BvbnNlJiZiKGMsXCJyZXNwb25zZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGQucmVzcG9uc2V9KTt2YXIgZT1kLnJlc3BvbnNlVGV4dHx8KGEmJjA9PT1kLnN0YXR1cyYmXCJhYm9ydFwiIT09YT9hOnZvaWQgMCk7YihjLFwicmVzcG9uc2VUZXh0XCIsZnVuY3Rpb24oKXtyZXR1cm4gZX0pLGIoYyxcInJlc3BvbnNlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZX0pLGEmJmIoYyxcImVyclwiLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSxjLl9fZmlsZUFwaVhIUj1kLGMub25yZWFkeXN0YXRlY2hhbmdlJiZjLm9ucmVhZHlzdGF0ZWNoYW5nZSgpLGMub25sb2FkJiZjLm9ubG9hZCgpfSxwcm9ncmVzczpmdW5jdGlvbihhKXtpZihhLnRhcmdldD1jLGMuX19saXN0ZW5lcnMucHJvZ3Jlc3MmJmMuX19saXN0ZW5lcnMucHJvZ3Jlc3MoYSksYy5fX3RvdGFsPWEudG90YWwsYy5fX2xvYWRlZD1hLmxvYWRlZCxhLnRvdGFsPT09YS5sb2FkZWQpe3ZhciBiPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2MuX19jb21wbGV0ZWR8fChjLmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe30sYi5jb21wbGV0ZShudWxsLHtzdGF0dXM6MjA0LHN0YXR1c1RleHQ6XCJObyBDb250ZW50XCJ9KSl9LEZpbGVBUEkubm9Db250ZW50VGltZW91dHx8MWU0KX19LGhlYWRlcnM6Yy5fX3JlcXVlc3RIZWFkZXJzfTtlLmRhdGE9e30sZS5maWxlcz17fTtmb3IodmFyIGY9MDtmPGQuZGF0YS5sZW5ndGg7ZisrKXt2YXIgZz1kLmRhdGFbZl07bnVsbCE9Zy52YWwmJm51bGwhPWcudmFsLm5hbWUmJm51bGwhPWcudmFsLnNpemUmJm51bGwhPWcudmFsLnR5cGU/ZS5maWxlc1tnLmtleV09Zy52YWw6ZS5kYXRhW2cua2V5XT1nLnZhbH1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoIUZpbGVBUEkuaGFzRmxhc2gpdGhyb3cnQWRvZGUgRmxhc2ggUGxheWVyIG5lZWQgdG8gYmUgaW5zdGFsbGVkLiBUbyBjaGVjayBhaGVhZCB1c2UgXCJGaWxlQVBJLmhhc0ZsYXNoXCInO2MuX19maWxlQXBpWEhSPUZpbGVBUEkudXBsb2FkKGUpfSwxKX1lbHNle2lmKHRoaXMuX19vcmlnRXJyb3IpdGhyb3cgdGhpcy5fX29yaWdFcnJvcjthLmFwcGx5KGMsYXJndW1lbnRzKX19fSksd2luZG93LlhNTEh0dHBSZXF1ZXN0Ll9faXNGaWxlQVBJU2hpbT0hMCx3aW5kb3cuRm9ybURhdGE9Rm9ybURhdGE9ZnVuY3Rpb24oKXtyZXR1cm57YXBwZW5kOmZ1bmN0aW9uKGEsYixjKXtiLl9faXNGaWxlQVBJQmxvYlNoaW0mJihiPWIuZGF0YVswXSksdGhpcy5kYXRhLnB1c2goe2tleTphLHZhbDpiLG5hbWU6Y30pfSxkYXRhOltdLF9faXNGaWxlQVBJU2hpbTohMH19LHdpbmRvdy5CbG9iPUJsb2I9ZnVuY3Rpb24oYSl7cmV0dXJue2RhdGE6YSxfX2lzRmlsZUFQSUJsb2JTaGltOiEwfX19fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm5cImlucHV0XCI9PT1hWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmYS5hdHRyKFwidHlwZVwiKSYmXCJmaWxlXCI9PT1hLmF0dHIoXCJ0eXBlXCIpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYigpe3RyeXt2YXIgYT1uZXcgQWN0aXZlWE9iamVjdChcIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoXCIpO2lmKGEpcmV0dXJuITB9Y2F0Y2goYil7aWYodm9pZCAwIT09bmF2aWdhdG9yLm1pbWVUeXBlc1tcImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCJdKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGMoYSl7dmFyIGI9MCxjPTA7aWYod2luZG93LmpRdWVyeSlyZXR1cm4galF1ZXJ5KGEpLm9mZnNldCgpO2lmKGEub2Zmc2V0UGFyZW50KWRvIGIrPWEub2Zmc2V0TGVmdC1hLnNjcm9sbExlZnQsYys9YS5vZmZzZXRUb3AtYS5zY3JvbGxUb3AsYT1hLm9mZnNldFBhcmVudDt3aGlsZShhKTtyZXR1cm57bGVmdDpiLHRvcDpjfX1pZihGaWxlQVBJLnNob3VsZExvYWQpe2lmKEZpbGVBUEkuaGFzRmxhc2g9YigpLEZpbGVBUEkuZm9yY2VMb2FkJiYoRmlsZUFQSS5odG1sNT0hMSksIUZpbGVBUEkudXBsb2FkKXt2YXIgZCxlLGYsZyxoLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxqPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO2lmKHdpbmRvdy5GaWxlQVBJLmpzVXJsKWQ9d2luZG93LkZpbGVBUEkuanNVcmw7ZWxzZSBpZih3aW5kb3cuRmlsZUFQSS5qc1BhdGgpZT13aW5kb3cuRmlsZUFQSS5qc1BhdGg7ZWxzZSBmb3IoZj0wO2Y8ai5sZW5ndGg7ZisrKWlmKGg9altmXS5zcmMsZz1oLnNlYXJjaCgvXFwvbmdcXC1maWxlXFwtdXBsb2FkW1xcLWEtekEtejAtOVxcLl0qXFwuanMvKSxnPi0xKXtlPWguc3Vic3RyaW5nKDAsZysxKTticmVha31udWxsPT1GaWxlQVBJLnN0YXRpY1BhdGgmJihGaWxlQVBJLnN0YXRpY1BhdGg9ZSksaS5zZXRBdHRyaWJ1dGUoXCJzcmNcIixkfHxlK1wiRmlsZUFQSS5taW4uanNcIiksZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGkpfUZpbGVBUEkubmdmRml4SUU9ZnVuY3Rpb24oZCxlLGYpe2lmKCFiKCkpdGhyb3cnQWRvZGUgRmxhc2ggUGxheWVyIG5lZWQgdG8gYmUgaW5zdGFsbGVkLiBUbyBjaGVjayBhaGVhZCB1c2UgXCJGaWxlQVBJLmhhc0ZsYXNoXCInO3ZhciBnPWZ1bmN0aW9uKCl7dmFyIGI9ZS5wYXJlbnQoKTtkLmF0dHIoXCJkaXNhYmxlZFwiKT9iJiZiLnJlbW92ZUNsYXNzKFwianMtZmlsZWFwaS13cmFwcGVyXCIpOihlLmF0dHIoXCJfX25nZl9mbGFzaF9cIil8fChlLnVuYmluZChcImNoYW5nZVwiKSxlLnVuYmluZChcImNsaWNrXCIpLGUuYmluZChcImNoYW5nZVwiLGZ1bmN0aW9uKGEpe2guYXBwbHkodGhpcyxbYV0pLGYuYXBwbHkodGhpcyxbYV0pfSksZS5hdHRyKFwiX19uZ2ZfZmxhc2hfXCIsXCJ0cnVlXCIpKSxiLmFkZENsYXNzKFwianMtZmlsZWFwaS13cmFwcGVyXCIpLGEoZCl8fChiLmNzcyhcInBvc2l0aW9uXCIsXCJhYnNvbHV0ZVwiKS5jc3MoXCJ0b3BcIixjKGRbMF0pLnRvcCtcInB4XCIpLmNzcyhcImxlZnRcIixjKGRbMF0pLmxlZnQrXCJweFwiKS5jc3MoXCJ3aWR0aFwiLGRbMF0ub2Zmc2V0V2lkdGgrXCJweFwiKS5jc3MoXCJoZWlnaHRcIixkWzBdLm9mZnNldEhlaWdodCtcInB4XCIpLmNzcyhcImZpbHRlclwiLFwiYWxwaGEob3BhY2l0eT0wKVwiKS5jc3MoXCJkaXNwbGF5XCIsZC5jc3MoXCJkaXNwbGF5XCIpKS5jc3MoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpLmNzcyhcInotaW5kZXhcIixcIjkwMDAwMFwiKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpLGUuY3NzKFwid2lkdGhcIixkWzBdLm9mZnNldFdpZHRoK1wicHhcIikuY3NzKFwiaGVpZ2h0XCIsZFswXS5vZmZzZXRIZWlnaHQrXCJweFwiKS5jc3MoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIikuY3NzKFwidG9wXCIsXCIwcHhcIikuY3NzKFwibGVmdFwiLFwiMHB4XCIpKSl9O2QuYmluZChcIm1vdXNlZW50ZXJcIixnKTt2YXIgaD1mdW5jdGlvbihhKXtmb3IodmFyIGI9RmlsZUFQSS5nZXRGaWxlcyhhKSxjPTA7YzxiLmxlbmd0aDtjKyspdm9pZCAwPT09YltjXS5zaXplJiYoYltjXS5zaXplPTApLHZvaWQgMD09PWJbY10ubmFtZSYmKGJbY10ubmFtZT1cImZpbGVcIiksdm9pZCAwPT09YltjXS50eXBlJiYoYltjXS50eXBlPVwidW5kZWZpbmVkXCIpO2EudGFyZ2V0fHwoYS50YXJnZXQ9e30pLGEudGFyZ2V0LmZpbGVzPWIsYS50YXJnZXQuZmlsZXMhPT1iJiYoYS5fX2ZpbGVzXz1iKSwoYS5fX2ZpbGVzX3x8YS50YXJnZXQuZmlsZXMpLml0ZW09ZnVuY3Rpb24oYil7cmV0dXJuKGEuX19maWxlc198fGEudGFyZ2V0LmZpbGVzKVtiXXx8bnVsbH19fSxGaWxlQVBJLmRpc2FibGVGaWxlSW5wdXQ9ZnVuY3Rpb24oYSxiKXtiP2EucmVtb3ZlQ2xhc3MoXCJqcy1maWxlYXBpLXdyYXBwZXJcIik6YS5hZGRDbGFzcyhcImpzLWZpbGVhcGktd3JhcHBlclwiKX19fSgpLHdpbmRvdy5GaWxlUmVhZGVyfHwod2luZG93LkZpbGVSZWFkZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9ITE7dGhpcy5saXN0ZW5lcnM9e30sdGhpcy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGIsYyl7YS5saXN0ZW5lcnNbYl09YS5saXN0ZW5lcnNbYl18fFtdLGEubGlzdGVuZXJzW2JdLnB1c2goYyl9LHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihiLGMpe2EubGlzdGVuZXJzW2JdJiZhLmxpc3RlbmVyc1tiXS5zcGxpY2UoYS5saXN0ZW5lcnNbYl0uaW5kZXhPZihjKSwxKX0sdGhpcy5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGIpe3ZhciBjPWEubGlzdGVuZXJzW2IudHlwZV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdLmNhbGwoYSxiKX0sdGhpcy5vbmFib3J0PXRoaXMub25lcnJvcj10aGlzLm9ubG9hZD10aGlzLm9ubG9hZHN0YXJ0PXRoaXMub25sb2FkZW5kPXRoaXMub25wcm9ncmVzcz1udWxsO3ZhciBjPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9e3R5cGU6Yix0YXJnZXQ6YSxsb2FkZWQ6Yy5sb2FkZWQsdG90YWw6Yy50b3RhbCxlcnJvcjpjLmVycm9yfTtyZXR1cm4gbnVsbCE9Yy5yZXN1bHQmJihkLnRhcmdldC5yZXN1bHQ9Yy5yZXN1bHQpLGR9LGQ9ZnVuY3Rpb24oZCl7Ynx8KGI9ITAsYS5vbmxvYWRzdGFydCYmYS5vbmxvYWRzdGFydChjKFwibG9hZHN0YXJ0XCIsZCkpKTt2YXIgZTtcImxvYWRcIj09PWQudHlwZT8oYS5vbmxvYWRlbmQmJmEub25sb2FkZW5kKGMoXCJsb2FkZW5kXCIsZCkpLGU9YyhcImxvYWRcIixkKSxhLm9ubG9hZCYmYS5vbmxvYWQoZSksYS5kaXNwYXRjaEV2ZW50KGUpKTpcInByb2dyZXNzXCI9PT1kLnR5cGU/KGU9YyhcInByb2dyZXNzXCIsZCksYS5vbnByb2dyZXNzJiZhLm9ucHJvZ3Jlc3MoZSksYS5kaXNwYXRjaEV2ZW50KGUpKTooZT1jKFwiZXJyb3JcIixkKSxhLm9uZXJyb3ImJmEub25lcnJvcihlKSxhLmRpc3BhdGNoRXZlbnQoZSkpfTt0aGlzLnJlYWRBc0RhdGFVUkw9ZnVuY3Rpb24oYSl7RmlsZUFQSS5yZWFkQXNEYXRhVVJMKGEsZCl9LHRoaXMucmVhZEFzVGV4dD1mdW5jdGlvbihhKXtGaWxlQVBJLnJlYWRBc1RleHQoYSxkKX19KSwhd2luZG93LlhNTEh0dHBSZXF1ZXN0fHx3aW5kb3cuRmlsZUFQSSYmRmlsZUFQSS5zaG91bGRMb2FkfHwod2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2lmKFwiX19zZXRYSFJfXCI9PT1iKXt2YXIgZD1jKHRoaXMpO2QgaW5zdGFuY2VvZiBGdW5jdGlvbiYmZCh0aGlzKX1lbHNlIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0od2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyKSk7dmFyIG5nRmlsZVVwbG9hZD1hbmd1bGFyLm1vZHVsZShcIm5nRmlsZVVwbG9hZFwiLFtdKTtuZ0ZpbGVVcGxvYWQudmVyc2lvbj1cIjEyLjIuMTNcIixuZ0ZpbGVVcGxvYWQuc2VydmljZShcIlVwbG9hZEJhc2VcIixbXCIkaHR0cFwiLFwiJHFcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoZCl7ZnVuY3Rpb24gZShhKXtqLm5vdGlmeSYmai5ub3RpZnkoYSksay5wcm9ncmVzc0Z1bmMmJmMoZnVuY3Rpb24oKXtrLnByb2dyZXNzRnVuYyhhKX0pfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIG51bGwhPWQuX3N0YXJ0JiZnP3tsb2FkZWQ6YS5sb2FkZWQrZC5fc3RhcnQsdG90YWw6ZC5fZmlsZSYmZC5fZmlsZS5zaXplfHxhLnRvdGFsLHR5cGU6YS50eXBlLGNvbmZpZzpkLGxlbmd0aENvbXB1dGFibGU6ITAsdGFyZ2V0OmEudGFyZ2V0fTphfWZ1bmN0aW9uIGkoKXthKGQpLnRoZW4oZnVuY3Rpb24oYSl7aWYoZyYmZC5fY2h1bmtTaXplJiYhZC5fZmluaXNoZWQmJmQuX2ZpbGUpe3ZhciBiPWQuX2ZpbGUmJmQuX2ZpbGUuc2l6ZXx8MDtlKHtsb2FkZWQ6TWF0aC5taW4oZC5fZW5kLGIpLHRvdGFsOmIsY29uZmlnOmQsdHlwZTpcInByb2dyZXNzXCJ9KSxmLnVwbG9hZChkLCEwKX1lbHNlIGQuX2ZpbmlzaGVkJiZkZWxldGUgZC5fZmluaXNoZWQsai5yZXNvbHZlKGEpfSxmdW5jdGlvbihhKXtqLnJlamVjdChhKX0sZnVuY3Rpb24oYSl7ai5ub3RpZnkoYSl9KX1kLm1ldGhvZD1kLm1ldGhvZHx8XCJQT1NUXCIsZC5oZWFkZXJzPWQuaGVhZGVyc3x8e307dmFyIGo9ZC5fZGVmZXJyZWQ9ZC5fZGVmZXJyZWR8fGIuZGVmZXIoKSxrPWoucHJvbWlzZTtyZXR1cm4gZC5kaXNhYmxlUHJvZ3Jlc3N8fChkLmhlYWRlcnMuX19zZXRYSFJfPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe2EmJmEudXBsb2FkJiZhLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyJiYoZC5fX1hIUj1hLGQueGhyRm4mJmQueGhyRm4oYSksYS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZnVuY3Rpb24oYSl7YS5jb25maWc9ZCxlKGgoYSkpfSwhMSksYS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbihhKXthLmxlbmd0aENvbXB1dGFibGUmJihhLmNvbmZpZz1kLGUoaChhKSkpfSwhMSkpfX0pLGc/ZC5fY2h1bmtTaXplJiZkLl9lbmQmJiFkLl9maW5pc2hlZD8oZC5fc3RhcnQ9ZC5fZW5kLGQuX2VuZCs9ZC5fY2h1bmtTaXplLGkoKSk6ZC5yZXN1bWVTaXplVXJsP2EuZ2V0KGQucmVzdW1lU2l6ZVVybCkudGhlbihmdW5jdGlvbihhKXtkLl9zdGFydD1kLnJlc3VtZVNpemVSZXNwb25zZVJlYWRlcj9kLnJlc3VtZVNpemVSZXNwb25zZVJlYWRlcihhLmRhdGEpOnBhcnNlSW50KChudWxsPT1hLmRhdGEuc2l6ZT9hLmRhdGE6YS5kYXRhLnNpemUpLnRvU3RyaW5nKCkpLGQuX2NodW5rU2l6ZSYmKGQuX2VuZD1kLl9zdGFydCtkLl9jaHVua1NpemUpLGkoKX0sZnVuY3Rpb24oYSl7dGhyb3cgYX0pOmQucmVzdW1lU2l6ZT9kLnJlc3VtZVNpemUoKS50aGVuKGZ1bmN0aW9uKGEpe2QuX3N0YXJ0PWEsZC5fY2h1bmtTaXplJiYoZC5fZW5kPWQuX3N0YXJ0K2QuX2NodW5rU2l6ZSksaSgpfSxmdW5jdGlvbihhKXt0aHJvdyBhfSk6KGQuX2NodW5rU2l6ZSYmKGQuX3N0YXJ0PTAsZC5fZW5kPWQuX3N0YXJ0K2QuX2NodW5rU2l6ZSksaSgpKTppKCksay5zdWNjZXNzPWZ1bmN0aW9uKGEpe3JldHVybiBrLnRoZW4oZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGQpfSksa30say5lcnJvcj1mdW5jdGlvbihhKXtyZXR1cm4gay50aGVuKG51bGwsZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGQpfSksa30say5wcm9ncmVzcz1mdW5jdGlvbihhKXtyZXR1cm4gay5wcm9ncmVzc0Z1bmM9YSxrLnRoZW4obnVsbCxudWxsLGZ1bmN0aW9uKGIpe2EoYil9KSxrfSxrLmFib3J0PWsucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gZC5fX1hIUiYmYyhmdW5jdGlvbigpe2QuX19YSFIuYWJvcnQoKX0pLGt9LGsueGhyPWZ1bmN0aW9uKGEpe3JldHVybiBkLnhockZuPWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe2ImJmIuYXBwbHkoayxhcmd1bWVudHMpLGEuYXBwbHkoayxhcmd1bWVudHMpfX0oZC54aHJGbiksa30sZi5wcm9taXNlc0NvdW50Kyssa1tcImZpbmFsbHlcIl0mJmtbXCJmaW5hbGx5XCJdaW5zdGFuY2VvZiBGdW5jdGlvbiYma1tcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtmLnByb21pc2VzQ291bnQtLX0pLGt9ZnVuY3Rpb24gZShhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoYltjXT1hW2NdKTtyZXR1cm4gYn12YXIgZj10aGlzO2YucHJvbWlzZXNDb3VudD0wLHRoaXMuaXNSZXN1bWVTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LkJsb2ImJndpbmRvdy5CbG9iLnByb3RvdHlwZS5zbGljZX07dmFyIGc9dGhpcy5pc1Jlc3VtZVN1cHBvcnRlZCgpO3RoaXMuaXNVcGxvYWRJblByb2dyZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGYucHJvbWlzZXNDb3VudD4wfSx0aGlzLnJlbmFtZT1mdW5jdGlvbihhLGIpe3JldHVybiBhLm5nZk5hbWU9YixhfSx0aGlzLmpzb25CbG9iPWZ1bmN0aW9uKGEpe251bGw9PWF8fGFuZ3VsYXIuaXNTdHJpbmcoYSl8fChhPUpTT04uc3RyaW5naWZ5KGEpKTt2YXIgYj1uZXcgd2luZG93LkJsb2IoW2FdLHt0eXBlOlwiYXBwbGljYXRpb24vanNvblwifSk7cmV0dXJuIGIuX25nZkJsb2I9ITAsYn0sdGhpcy5qc29uPWZ1bmN0aW9uKGEpe3JldHVybiBhbmd1bGFyLnRvSnNvbihhKX0sdGhpcy5pc0ZpbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJihhIGluc3RhbmNlb2Ygd2luZG93LkJsb2J8fGEuZmxhc2hJZCYmYS5uYW1lJiZhLnNpemUpfSx0aGlzLnVwbG9hZD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYixjKXtpZihiLl9uZ2ZCbG9iKXJldHVybiBiO2lmKGEuX2ZpbGU9YS5fZmlsZXx8YixudWxsIT1hLl9zdGFydCYmZyl7YS5fZW5kJiZhLl9lbmQ+PWIuc2l6ZSYmKGEuX2ZpbmlzaGVkPSEwLGEuX2VuZD1iLnNpemUpO3ZhciBkPWIuc2xpY2UoYS5fc3RhcnQsYS5fZW5kfHxiLnNpemUpO3JldHVybiBkLm5hbWU9Yi5uYW1lLGQubmdmTmFtZT1iLm5nZk5hbWUsYS5fY2h1bmtTaXplJiYoYy5hcHBlbmQoXCJfY2h1bmtTaXplXCIsYS5fY2h1bmtTaXplKSxjLmFwcGVuZChcIl9jdXJyZW50Q2h1bmtTaXplXCIsYS5fZW5kLWEuX3N0YXJ0KSxjLmFwcGVuZChcIl9jaHVua051bWJlclwiLE1hdGguZmxvb3IoYS5fc3RhcnQvYS5fY2h1bmtTaXplKSksYy5hcHBlbmQoXCJfdG90YWxTaXplXCIsYS5fZmlsZS5zaXplKSksZH1yZXR1cm4gYn1mdW5jdGlvbiBoKGIsZCxlKXtpZih2b2lkIDAhPT1kKWlmKGFuZ3VsYXIuaXNEYXRlKGQpJiYoZD1kLnRvSVNPU3RyaW5nKCkpLGFuZ3VsYXIuaXNTdHJpbmcoZCkpYi5hcHBlbmQoZSxkKTtlbHNlIGlmKGYuaXNGaWxlKGQpKXt2YXIgZz1jKGQsYiksaT1lLnNwbGl0KFwiLFwiKTtpWzFdJiYoZy5uZ2ZOYW1lPWlbMV0ucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKSxlPWlbMF0pLGEuX2ZpbGVLZXk9YS5fZmlsZUtleXx8ZSxiLmFwcGVuZChlLGcsZy5uZ2ZOYW1lfHxnLm5hbWUpfWVsc2UgaWYoYW5ndWxhci5pc09iamVjdChkKSl7aWYoZC4kJG5nZkNpcmN1bGFyRGV0ZWN0aW9uKXRocm93XCJuZ0ZpbGVVcGxvYWQ6IENpcmN1bGFyIHJlZmVyZW5jZSBpbiBjb25maWcuZGF0YS4gTWFrZSBzdXJlIHNwZWNpZmllZCBkYXRhIGZvciBVcGxvYWQudXBsb2FkKCkgaGFzIG5vIGNpcmN1bGFyIHJlZmVyZW5jZTogXCIrZTtkLiQkbmdmQ2lyY3VsYXJEZXRlY3Rpb249ITA7dHJ5e2Zvcih2YXIgaiBpbiBkKWlmKGQuaGFzT3duUHJvcGVydHkoaikmJlwiJCRuZ2ZDaXJjdWxhckRldGVjdGlvblwiIT09ail7dmFyIGs9bnVsbD09YS5vYmplY3RLZXk/XCJbaV1cIjphLm9iamVjdEtleTtkLmxlbmd0aCYmcGFyc2VJbnQoaik+LTEmJihrPW51bGw9PWEuYXJyYXlLZXk/azphLmFycmF5S2V5KSxoKGIsZFtqXSxlK2sucmVwbGFjZSgvW2lrXS9nLGopKX19ZmluYWxseXtkZWxldGUgZC4kJG5nZkNpcmN1bGFyRGV0ZWN0aW9ufX1lbHNlIGIuYXBwZW5kKGUsZCl9ZnVuY3Rpb24gaSgpe2EuX2NodW5rU2l6ZT1mLnRyYW5zbGF0ZVNjYWxhcnMoYS5yZXN1bWVDaHVua1NpemUpLGEuX2NodW5rU2l6ZT1hLl9jaHVua1NpemU/cGFyc2VJbnQoYS5fY2h1bmtTaXplLnRvU3RyaW5nKCkpOm51bGwsYS5oZWFkZXJzPWEuaGVhZGVyc3x8e30sYS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdPXZvaWQgMCxhLnRyYW5zZm9ybVJlcXVlc3Q9YS50cmFuc2Zvcm1SZXF1ZXN0P2FuZ3VsYXIuaXNBcnJheShhLnRyYW5zZm9ybVJlcXVlc3QpP2EudHJhbnNmb3JtUmVxdWVzdDpbYS50cmFuc2Zvcm1SZXF1ZXN0XTpbXSxhLnRyYW5zZm9ybVJlcXVlc3QucHVzaChmdW5jdGlvbihiKXt2YXIgYyxkPW5ldyB3aW5kb3cuRm9ybURhdGE7Yj1ifHxhLmZpZWxkc3x8e30sYS5maWxlJiYoYi5maWxlPWEuZmlsZSk7Zm9yKGMgaW4gYilpZihiLmhhc093blByb3BlcnR5KGMpKXt2YXIgZT1iW2NdO2EuZm9ybURhdGFBcHBlbmRlcj9hLmZvcm1EYXRhQXBwZW5kZXIoZCxjLGUpOmgoZCxlLGMpfXJldHVybiBkfSl9cmV0dXJuIGJ8fChhPWUoYSkpLGEuX2lzRGlnZXN0ZWR8fChhLl9pc0RpZ2VzdGVkPSEwLGkoKSksZChhKX0sdGhpcy5odHRwPWZ1bmN0aW9uKGIpe3JldHVybiBiPWUoYiksYi50cmFuc2Zvcm1SZXF1ZXN0PWIudHJhbnNmb3JtUmVxdWVzdHx8ZnVuY3Rpb24oYil7cmV0dXJuIHdpbmRvdy5BcnJheUJ1ZmZlciYmYiBpbnN0YW5jZW9mIHdpbmRvdy5BcnJheUJ1ZmZlcnx8YiBpbnN0YW5jZW9mIHdpbmRvdy5CbG9iP2I6YS5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0WzBdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYi5fY2h1bmtTaXplPWYudHJhbnNsYXRlU2NhbGFycyhiLnJlc3VtZUNodW5rU2l6ZSksYi5fY2h1bmtTaXplPWIuX2NodW5rU2l6ZT9wYXJzZUludChiLl9jaHVua1NpemUudG9TdHJpbmcoKSk6bnVsbCxkKGIpfSx0aGlzLnRyYW5zbGF0ZVNjYWxhcnM9ZnVuY3Rpb24oYSl7aWYoYW5ndWxhci5pc1N0cmluZyhhKSl7aWYoYS5zZWFyY2goL2tiL2kpPT09YS5sZW5ndGgtMilyZXR1cm4gcGFyc2VGbG9hdCgxMDI0KmEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtMikpO2lmKGEuc2VhcmNoKC9tYi9pKT09PWEubGVuZ3RoLTIpcmV0dXJuIHBhcnNlRmxvYXQoMTA0ODU3NiphLnN1YnN0cmluZygwLGEubGVuZ3RoLTIpKTtpZihhLnNlYXJjaCgvZ2IvaSk9PT1hLmxlbmd0aC0yKXJldHVybiBwYXJzZUZsb2F0KDEwNzM3NDE4MjQqYS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0yKSk7aWYoYS5zZWFyY2goL2IvaSk9PT1hLmxlbmd0aC0xKXJldHVybiBwYXJzZUZsb2F0KGEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtMSkpO2lmKGEuc2VhcmNoKC9zL2kpPT09YS5sZW5ndGgtMSlyZXR1cm4gcGFyc2VGbG9hdChhLnN1YnN0cmluZygwLGEubGVuZ3RoLTEpKTtpZihhLnNlYXJjaCgvbS9pKT09PWEubGVuZ3RoLTEpcmV0dXJuIHBhcnNlRmxvYXQoNjAqYS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0xKSk7aWYoYS5zZWFyY2goL2gvaSk9PT1hLmxlbmd0aC0xKXJldHVybiBwYXJzZUZsb2F0KDM2MDAqYS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0xKSl9cmV0dXJuIGF9LHRoaXMudXJsVG9CbG9iPWZ1bmN0aW9uKGMpe3ZhciBkPWIuZGVmZXIoKTtyZXR1cm4gYSh7dXJsOmMsbWV0aG9kOlwiZ2V0XCIscmVzcG9uc2VUeXBlOlwiYXJyYXlidWZmZXJcIn0pLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5kYXRhKSxlPWEuaGVhZGVycyhcImNvbnRlbnQtdHlwZVwiKXx8XCJpbWFnZS9XZWJQXCIsZj1uZXcgd2luZG93LkJsb2IoW2JdLHt0eXBlOmV9KSxnPWMubWF0Y2goLy4qXFwvKC4rPykoXFw/LiopPyQvKTtnLmxlbmd0aD4xJiYoZi5uYW1lPWdbMV0pLGQucmVzb2x2ZShmKX0sZnVuY3Rpb24oYSl7ZC5yZWplY3QoYSl9KSxkLnByb21pc2V9LHRoaXMuc2V0RGVmYXVsdHM9ZnVuY3Rpb24oYSl7dGhpcy5kZWZhdWx0cz1hfHx7fX0sdGhpcy5kZWZhdWx0cz17fSx0aGlzLnZlcnNpb249bmdGaWxlVXBsb2FkLnZlcnNpb259XSksbmdGaWxlVXBsb2FkLnNlcnZpY2UoXCJVcGxvYWRcIixbXCIkcGFyc2VcIixcIiR0aW1lb3V0XCIsXCIkY29tcGlsZVwiLFwiJHFcIixcIlVwbG9hZEV4aWZcIixmdW5jdGlvbihhLGIsYyxkLGUpe2Z1bmN0aW9uIGYoYSxiLGMpe3ZhciBlPVtpLmVtcHR5UHJvbWlzZSgpXTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24oZCxmKXswPT09ZC50eXBlLmluZGV4T2YoXCJpbWFnZS9qcGVnXCIpJiZpLmF0dHJHZXR0ZXIoXCJuZ2ZGaXhPcmllbnRhdGlvblwiLGIsYyx7JGZpbGU6ZH0pJiZlLnB1c2goaS5oYXBweVByb21pc2UoaS5hcHBseUV4aWZSb3RhdGlvbihkKSxkKS50aGVuKGZ1bmN0aW9uKGIpe2Euc3BsaWNlKGYsMSxiKX0pKX0pLGQuYWxsKGUpfWZ1bmN0aW9uIGcoYSxiLGMsZSl7dmFyIGY9aS5hdHRyR2V0dGVyKFwibmdmUmVzaXplXCIsYixjKTtpZighZnx8IWkuaXNSZXNpemVTdXBwb3J0ZWQoKXx8IWEubGVuZ3RoKXJldHVybiBpLmVtcHR5UHJvbWlzZSgpO2lmKGYgaW5zdGFuY2VvZiBGdW5jdGlvbil7dmFyIGc9ZC5kZWZlcigpO3JldHVybiBmKGEpLnRoZW4oZnVuY3Rpb24oZCl7aChkLGEsYixjLGUpLnRoZW4oZnVuY3Rpb24oYSl7Zy5yZXNvbHZlKGEpfSxmdW5jdGlvbihhKXtnLnJlamVjdChhKX0pfSxmdW5jdGlvbihhKXtnLnJlamVjdChhKX0pfXJldHVybiBoKGYsYSxiLGMsZSl9ZnVuY3Rpb24gaChhLGIsYyxlLGYpe2Z1bmN0aW9uIGcoZCxnKXtpZigwPT09ZC50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSl7aWYoYS5wYXR0ZXJuJiYhaS52YWxpZGF0ZVBhdHRlcm4oZCxhLnBhdHRlcm4pKXJldHVybjthLnJlc2l6ZUlmPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGkuYXR0ckdldHRlcihcIm5nZlJlc2l6ZUlmXCIsYyxlLHskd2lkdGg6YSwkaGVpZ2h0OmIsJGZpbGU6ZH0pfTt2YXIgaj1pLnJlc2l6ZShkLGEpO2gucHVzaChqKSxqLnRoZW4oZnVuY3Rpb24oYSl7Yi5zcGxpY2UoZywxLGEpfSxmdW5jdGlvbihhKXtkLiRlcnJvcj1cInJlc2l6ZVwiLChkLiRlcnJvck1lc3NhZ2VzPWQuJGVycm9yTWVzc2FnZXN8fHt9KS5yZXNpemU9ITAsZC4kZXJyb3JQYXJhbT0oYT8oYS5tZXNzYWdlP2EubWVzc2FnZTphKStcIjogXCI6XCJcIikrKGQmJmQubmFtZSksZi4kbmdmVmFsaWRhdGlvbnMucHVzaCh7bmFtZTpcInJlc2l6ZVwiLHZhbGlkOiExfSksaS5hcHBseU1vZGVsVmFsaWRhdGlvbihmLGIpfSl9fWZvcih2YXIgaD1baS5lbXB0eVByb21pc2UoKV0saj0wO2o8Yi5sZW5ndGg7aisrKWcoYltqXSxqKTtyZXR1cm4gZC5hbGwoaCl9dmFyIGk9ZTtyZXR1cm4gaS5nZXRBdHRyV2l0aERlZmF1bHRzPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YVtiXSlyZXR1cm4gYVtiXTt2YXIgYz1pLmRlZmF1bHRzW2JdO3JldHVybiBudWxsPT1jP2M6YW5ndWxhci5pc1N0cmluZyhjKT9jOkpTT04uc3RyaW5naWZ5KGMpfSxpLmF0dHJHZXR0ZXI9ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGY9dGhpcy5nZXRBdHRyV2l0aERlZmF1bHRzKGMsYik7aWYoIWQpcmV0dXJuIGY7dHJ5e3JldHVybiBlP2EoZikoZCxlKTphKGYpKGQpfWNhdGNoKGcpe2lmKGIuc2VhcmNoKC9taW58bWF4fHBhdHRlcm4vaSkpcmV0dXJuIGY7dGhyb3cgZ319LGkuc2hvdWxkVXBkYXRlT249ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWkuYXR0ckdldHRlcihcIm5nZk1vZGVsT3B0aW9uc1wiLGIsYyk7cmV0dXJuIGQmJmQudXBkYXRlT24/ZC51cGRhdGVPbi5zcGxpdChcIiBcIikuaW5kZXhPZihhKT4tMTohMH0saS5lbXB0eVByb21pc2U9ZnVuY3Rpb24oKXt2YXIgYT1kLmRlZmVyKCksYz1hcmd1bWVudHM7cmV0dXJuIGIoZnVuY3Rpb24oKXthLnJlc29sdmUuYXBwbHkoYSxjKX0pLGEucHJvbWlzZX0saS5yZWplY3RQcm9taXNlPWZ1bmN0aW9uKCl7dmFyIGE9ZC5kZWZlcigpLGM9YXJndW1lbnRzO3JldHVybiBiKGZ1bmN0aW9uKCl7YS5yZWplY3QuYXBwbHkoYSxjKX0pLGEucHJvbWlzZX0saS5oYXBweVByb21pc2U9ZnVuY3Rpb24oYSxjKXt2YXIgZT1kLmRlZmVyKCk7cmV0dXJuIGEudGhlbihmdW5jdGlvbihhKXtlLnJlc29sdmUoYSl9LGZ1bmN0aW9uKGEpe2IoZnVuY3Rpb24oKXt0aHJvdyBhfSksZS5yZXNvbHZlKGMpfSksZS5wcm9taXNlfSxpLnVwZGF0ZU1vZGVsPWZ1bmN0aW9uKGMsZCxlLGgsaixrLGwpe2Z1bmN0aW9uIG0oZixnLGosbCxtKXtkLiQkbmdmUHJldlZhbGlkRmlsZXM9ZixkLiQkbmdmUHJldkludmFsaWRGaWxlcz1nO3ZhciBuPWYmJmYubGVuZ3RoP2ZbMF06bnVsbCxvPWcmJmcubGVuZ3RoP2dbMF06bnVsbDtjJiYoaS5hcHBseU1vZGVsVmFsaWRhdGlvbihjLGYpLGMuJHNldFZpZXdWYWx1ZShtP246ZikpLGgmJmEoaCkoZSx7JGZpbGVzOmYsJGZpbGU6biwkbmV3RmlsZXM6aiwkZHVwbGljYXRlRmlsZXM6bCwkaW52YWxpZEZpbGVzOmcsJGludmFsaWRGaWxlOm8sJGV2ZW50Omt9KTt2YXIgcD1pLmF0dHJHZXR0ZXIoXCJuZ2ZNb2RlbEludmFsaWRcIixkKTtwJiZiKGZ1bmN0aW9uKCl7YShwKS5hc3NpZ24oZSxtP286Zyl9KSxiKGZ1bmN0aW9uKCl7fSl9ZnVuY3Rpb24gbigpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4gYS5uYW1lPT09Yi5uYW1lJiYoYS4kbmdmT3JpZ1NpemV8fGEuc2l6ZSk9PT0oYi4kbmdmT3JpZ1NpemV8fGIuc2l6ZSkmJmEudHlwZT09PWIudHlwZX1mdW5jdGlvbiBiKGIpe3ZhciBjO2ZvcihjPTA7YzxyLmxlbmd0aDtjKyspaWYoYShiLHJbY10pKXJldHVybiEwO2ZvcihjPTA7YzxzLmxlbmd0aDtjKyspaWYoYShiLHNbY10pKXJldHVybiEwO3JldHVybiExfWlmKGope3E9W10sdD1bXTtmb3IodmFyIGM9MDtjPGoubGVuZ3RoO2MrKyliKGpbY10pP3QucHVzaChqW2NdKTpxLnB1c2goaltjXSl9fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIGFuZ3VsYXIuaXNBcnJheShhKT9hOlthXX1mdW5jdGlvbiBwKCl7ZnVuY3Rpb24gYSgpe2IoZnVuY3Rpb24oKXttKHc/ci5jb25jYXQodik6dix3P3MuY29uY2F0KHUpOnUsaix0LHgpfSx6JiZ6LmRlYm91bmNlP3ouZGVib3VuY2UuY2hhbmdlfHx6LmRlYm91bmNlOjApfXZhciBmPXk/cTp2O2coZixkLGUsYykudGhlbihmdW5jdGlvbigpe3k/aS52YWxpZGF0ZShxLHc/ci5sZW5ndGg6MCxjLGQsZSkudGhlbihmdW5jdGlvbihiKXt2PWIudmFsaWRzRmlsZXMsdT1iLmludmFsaWRzRmlsZXMsYSgpfSk6YSgpfSxmdW5jdGlvbigpe2Zvcih2YXIgYj0wO2I8Zi5sZW5ndGg7YisrKXt2YXIgYz1mW2JdO2lmKFwicmVzaXplXCI9PT1jLiRlcnJvcil7dmFyIGQ9di5pbmRleE9mKGMpO2Q+LTEmJih2LnNwbGljZShkLDEpLHUucHVzaChjKSksYSgpfX19KX12YXIgcSxyLHMsdD1bXSx1PVtdLHY9W107cj1kLiQkbmdmUHJldlZhbGlkRmlsZXN8fFtdLHM9ZC4kJG5nZlByZXZJbnZhbGlkRmlsZXN8fFtdLGMmJmMuJG1vZGVsVmFsdWUmJihyPW8oYy4kbW9kZWxWYWx1ZSkpO3ZhciB3PWkuYXR0ckdldHRlcihcIm5nZktlZXBcIixkLGUpO3E9KGp8fFtdKS5zbGljZSgwKSwoXCJkaXN0aW5jdFwiPT09d3x8aS5hdHRyR2V0dGVyKFwibmdmS2VlcERpc3RpbmN0XCIsZCxlKT09PSEwKSYmbihkLGUpO3ZhciB4PSF3JiYhaS5hdHRyR2V0dGVyKFwibmdmTXVsdGlwbGVcIixkLGUpJiYhaS5hdHRyR2V0dGVyKFwibXVsdGlwbGVcIixkKTtpZighd3x8cS5sZW5ndGgpe2kuYXR0ckdldHRlcihcIm5nZkJlZm9yZU1vZGVsQ2hhbmdlXCIsZCxlLHskZmlsZXM6aiwkZmlsZTpqJiZqLmxlbmd0aD9qWzBdOm51bGwsJG5ld0ZpbGVzOnEsJGR1cGxpY2F0ZUZpbGVzOnQsJGV2ZW50Omt9KTt2YXIgeT1pLmF0dHJHZXR0ZXIoXCJuZ2ZWYWxpZGF0ZUFmdGVyUmVzaXplXCIsZCxlKSx6PWkuYXR0ckdldHRlcihcIm5nZk1vZGVsT3B0aW9uc1wiLGQsZSk7aS52YWxpZGF0ZShxLHc/ci5sZW5ndGg6MCxjLGQsZSkudGhlbihmdW5jdGlvbihhKXtsP20ocSxbXSxqLHQseCk6KHomJnouYWxsb3dJbnZhbGlkfHx5P3Y9cToodj1hLnZhbGlkRmlsZXMsdT1hLmludmFsaWRGaWxlcyksaS5hdHRyR2V0dGVyKFwibmdmRml4T3JpZW50YXRpb25cIixkLGUpJiZpLmlzRXhpZlN1cHBvcnRlZCgpP2YodixkLGUpLnRoZW4oZnVuY3Rpb24oKXtwKCl9KTpwKCkpfSl9fSxpfV0pLG5nRmlsZVVwbG9hZC5kaXJlY3RpdmUoXCJuZ2ZTZWxlY3RcIixbXCIkcGFyc2VcIixcIiR0aW1lb3V0XCIsXCIkY29tcGlsZVwiLFwiVXBsb2FkXCIsZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1hLm1hdGNoKC9BbmRyb2lkW15cXGRdKihcXGQrKVxcLihcXGQrKS8pO2lmKGImJmIubGVuZ3RoPjIpe3ZhciBjPWQuZGVmYXVsdHMuYW5kcm9pZEZpeE1pbm9yVmVyc2lvbnx8NDtyZXR1cm4gcGFyc2VJbnQoYlsxXSk8NHx8cGFyc2VJbnQoYlsxXSk9PT1jJiZwYXJzZUludChiWzJdKTxjfXJldHVybi0xPT09YS5pbmRleE9mKFwiQ2hyb21lXCIpJiYvLipXaW5kb3dzLipTYWZhcmkuKi8udGVzdChhKX1mdW5jdGlvbiBmKGEsYixjLGQsZixoLGksail7ZnVuY3Rpb24gaygpe3JldHVyblwiaW5wdXRcIj09PWJbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZjLnR5cGUmJlwiZmlsZVwiPT09Yy50eXBlLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gbCgpe3JldHVybiB0KFwibmdmQ2hhbmdlXCIpfHx0KFwibmdmU2VsZWN0XCIpfWZ1bmN0aW9uIG0oYil7aWYoai5zaG91bGRVcGRhdGVPbihcImNoYW5nZVwiLGMsYSkpe3ZhciBlPWIuX19maWxlc198fGIudGFyZ2V0JiZiLnRhcmdldC5maWxlcyxmPVtdO2lmKCFlKXJldHVybjtmb3IodmFyIGc9MDtnPGUubGVuZ3RoO2crKylmLnB1c2goZVtnXSk7ai51cGRhdGVNb2RlbChkLGMsYSxsKCksZi5sZW5ndGg/ZjpudWxsLGIpfX1mdW5jdGlvbiBuKGEsZCl7ZnVuY3Rpb24gZShiKXthLmF0dHIoXCJpZFwiLFwibmdmLVwiK2IpLGQuYXR0cihcImlkXCIsXCJuZ2YtbGFiZWwtXCIrYil9Zm9yKHZhciBmPTA7ZjxiWzBdLmF0dHJpYnV0ZXMubGVuZ3RoO2YrKyl7dmFyIGc9YlswXS5hdHRyaWJ1dGVzW2ZdO1widHlwZVwiIT09Zy5uYW1lJiZcImNsYXNzXCIhPT1nLm5hbWUmJlwic3R5bGVcIiE9PWcubmFtZSYmKFwiaWRcIj09PWcubmFtZT8oZShnLnZhbHVlKSx1LnB1c2goYy4kb2JzZXJ2ZShcImlkXCIsZSkpKTphLmF0dHIoZy5uYW1lLGcudmFsdWV8fFwicmVxdWlyZWRcIiE9PWcubmFtZSYmXCJtdWx0aXBsZVwiIT09Zy5uYW1lP2cudmFsdWU6Zy5uYW1lKSl9fWZ1bmN0aW9uIG8oKXtpZihrKCkpcmV0dXJuIGI7dmFyIGE9YW5ndWxhci5lbGVtZW50KCc8aW5wdXQgdHlwZT1cImZpbGVcIj4nKSxjPWFuZ3VsYXIuZWxlbWVudChcIjxsYWJlbD51cGxvYWQ8L2xhYmVsPlwiKTtyZXR1cm4gYy5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikuY3NzKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpLmNzcyhcIm92ZXJmbG93XCIsXCJoaWRkZW5cIikuY3NzKFwid2lkdGhcIixcIjBweFwiKS5jc3MoXCJoZWlnaHRcIixcIjBweFwiKS5jc3MoXCJib3JkZXJcIixcIm5vbmVcIikuY3NzKFwibWFyZ2luXCIsXCIwcHhcIikuY3NzKFwicGFkZGluZ1wiLFwiMHB4XCIpLmF0dHIoXCJ0YWJpbmRleFwiLFwiLTFcIiksbihhLGMpLGcucHVzaCh7ZWw6YixyZWY6Y30pLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYy5hcHBlbmQoYSlbMF0pLGF9ZnVuY3Rpb24gcChjKXtpZihiLmF0dHIoXCJkaXNhYmxlZFwiKSlyZXR1cm4hMTtpZighdChcIm5nZlNlbGVjdERpc2FibGVkXCIsYSkpe3ZhciBkPXEoYyk7aWYobnVsbCE9ZClyZXR1cm4gZDtyKGMpO3RyeXtrKCl8fGRvY3VtZW50LmJvZHkuY29udGFpbnMoeFswXSl8fChnLnB1c2goe2VsOmIscmVmOngucGFyZW50KCl9KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHgucGFyZW50KClbMF0pLHguYmluZChcImNoYW5nZVwiLG0pKX1jYXRjaChmKXt9cmV0dXJuIGUobmF2aWdhdG9yLnVzZXJBZ2VudCk/c2V0VGltZW91dChmdW5jdGlvbigpe3hbMF0uY2xpY2soKX0sMCk6eFswXS5jbGljaygpLCExfX1mdW5jdGlvbiBxKGEpe3ZhciBiPWEuY2hhbmdlZFRvdWNoZXN8fGEub3JpZ2luYWxFdmVudCYmYS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzO2lmKGIpe2lmKFwidG91Y2hzdGFydFwiPT09YS50eXBlKXJldHVybiB3PWJbMF0uY2xpZW50WCx2PWJbMF0uY2xpZW50WSwhMDtpZihcInRvdWNoZW5kXCI9PT1hLnR5cGUpe3ZhciBjPWJbMF0uY2xpZW50WCxkPWJbMF0uY2xpZW50WTtpZihNYXRoLmFicyhjLXcpPjIwfHxNYXRoLmFicyhkLXYpPjIwKXJldHVybiBhLnN0b3BQcm9wYWdhdGlvbigpLGEucHJldmVudERlZmF1bHQoKSwhMX1yZXR1cm4hMH19ZnVuY3Rpb24gcihiKXtqLnNob3VsZFVwZGF0ZU9uKFwiY2xpY2tcIixjLGEpJiZ4LnZhbCgpJiYoeC52YWwobnVsbCksai51cGRhdGVNb2RlbChkLGMsYSxsKCksbnVsbCxiLCEwKSl9ZnVuY3Rpb24gcyhhKXtpZih4JiYheC5hdHRyKFwiX19uZ2ZfaWUxMF9GaXhfXCIpKXtpZigheFswXS5wYXJlbnROb2RlKXJldHVybiB2b2lkKHg9bnVsbCk7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkseC51bmJpbmQoXCJjbGlja1wiKTt2YXIgYj14LmNsb25lKCk7cmV0dXJuIHgucmVwbGFjZVdpdGgoYikseD1iLHguYXR0cihcIl9fbmdmX2llMTBfRml4X1wiLFwidHJ1ZVwiKSx4LmJpbmQoXCJjaGFuZ2VcIixtKSx4LmJpbmQoXCJjbGlja1wiLHMpLHhbMF0uY2xpY2soKSwhMX14LnJlbW92ZUF0dHIoXCJfX25nZl9pZTEwX0ZpeF9cIil9dmFyIHQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gai5hdHRyR2V0dGVyKGEsYyxiKX07ai5yZWdpc3Rlck1vZGVsQ2hhbmdlVmFsaWRhdG9yKGQsYyxhKTt2YXIgdT1bXTt0KFwibmdmTXVsdGlwbGVcIikmJnUucHVzaChhLiR3YXRjaCh0KFwibmdmTXVsdGlwbGVcIiksZnVuY3Rpb24oKXt4LmF0dHIoXCJtdWx0aXBsZVwiLHQoXCJuZ2ZNdWx0aXBsZVwiLGEpKX0pKSx0KFwibmdmQ2FwdHVyZVwiKSYmdS5wdXNoKGEuJHdhdGNoKHQoXCJuZ2ZDYXB0dXJlXCIpLGZ1bmN0aW9uKCl7eC5hdHRyKFwiY2FwdHVyZVwiLHQoXCJuZ2ZDYXB0dXJlXCIsYSkpfSkpLHQoXCJuZ2ZBY2NlcHRcIikmJnUucHVzaChhLiR3YXRjaCh0KFwibmdmQWNjZXB0XCIpLGZ1bmN0aW9uKCl7eC5hdHRyKFwiYWNjZXB0XCIsdChcIm5nZkFjY2VwdFwiLGEpKX0pKSx1LnB1c2goYy4kb2JzZXJ2ZShcImFjY2VwdFwiLGZ1bmN0aW9uKCl7eC5hdHRyKFwiYWNjZXB0XCIsdChcImFjY2VwdFwiKSl9KSk7dmFyIHY9MCx3PTAseD1iO2soKXx8KHg9bygpKSx4LmJpbmQoXCJjaGFuZ2VcIixtKSxrKCk/Yi5iaW5kKFwiY2xpY2tcIixyKTpiLmJpbmQoXCJjbGljayB0b3VjaHN0YXJ0IHRvdWNoZW5kXCIscCksLTEhPT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNJRSAxMFwiKSYmeC5iaW5kKFwiY2xpY2tcIixzKSxkJiZkLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuKG51bGw9PWF8fDA9PT1hLmxlbmd0aCkmJngudmFsKCkmJngudmFsKG51bGwpLGF9KSxhLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtrKCl8fHgucGFyZW50KCkucmVtb3ZlKCksYW5ndWxhci5mb3JFYWNoKHUsZnVuY3Rpb24oYSl7YSgpfSl9KSxoKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxnLmxlbmd0aDthKyspe3ZhciBiPWdbYV07ZG9jdW1lbnQuYm9keS5jb250YWlucyhiLmVsWzBdKXx8KGcuc3BsaWNlKGEsMSksYi5yZWYucmVtb3ZlKCkpfX0pLHdpbmRvdy5GaWxlQVBJJiZ3aW5kb3cuRmlsZUFQSS5uZ2ZGaXhJRSYmd2luZG93LkZpbGVBUEkubmdmRml4SUUoYix4LG0pfXZhciBnPVtdO3JldHVybntyZXN0cmljdDpcIkFFQ1wiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oZSxnLGgsaSl7ZihlLGcsaCxpLGEsYixjLGQpfX19XSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVyblwiaW1nXCI9PT1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9cImltYWdlXCI6XCJhdWRpb1wiPT09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/XCJhdWRpb1wiOlwidmlkZW9cIj09PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpP1widmlkZW9cIjovLi99ZnVuY3Rpb24gYihiLGMsZCxlLGYsZyxoLGkpe2Z1bmN0aW9uIGooYSl7dmFyIGc9Yi5hdHRyR2V0dGVyKFwibmdmTm9PYmplY3RVcmxcIixmLGQpO2IuZGF0YVVybChhLGcpW1wiZmluYWxseVwiXShmdW5jdGlvbigpe2MoZnVuY3Rpb24oKXt2YXIgYj0oZz9hLiRuZ2ZEYXRhVXJsOmEuJG5nZkJsb2JVcmwpfHxhLiRuZ2ZEYXRhVXJsO2k/ZS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsXCJ1cmwoJ1wiKyhifHxcIlwiKStcIicpXCIpOmUuYXR0cihcInNyY1wiLGIpLGI/ZS5yZW1vdmVDbGFzcyhcIm5nLWhpZGVcIik6ZS5hZGRDbGFzcyhcIm5nLWhpZGVcIil9KX0pfWMoZnVuY3Rpb24oKXt2YXIgYz1kLiR3YXRjaChmW2ddLGZ1bmN0aW9uKGMpe3ZhciBrPWg7aWYoXCJuZ2ZUaHVtYm5haWxcIj09PWcmJihrfHwoaz17d2lkdGg6ZVswXS5uYXR1cmFsV2lkdGh8fGVbMF0uY2xpZW50V2lkdGgsaGVpZ2h0OmVbMF0ubmF0dXJhbEhlaWdodHx8ZVswXS5jbGllbnRIZWlnaHR9KSwwPT09ay53aWR0aCYmd2luZG93LmdldENvbXB1dGVkU3R5bGUpKXt2YXIgbD1nZXRDb21wdXRlZFN0eWxlKGVbMF0pO2wud2lkdGgmJmwud2lkdGguaW5kZXhPZihcInB4XCIpPi0xJiZsLmhlaWdodCYmbC5oZWlnaHQuaW5kZXhPZihcInB4XCIpPi0xJiYoaz17d2lkdGg6cGFyc2VJbnQobC53aWR0aC5zbGljZSgwLC0yKSksaGVpZ2h0OnBhcnNlSW50KGwuaGVpZ2h0LnNsaWNlKDAsLTIpKX0pfXJldHVybiBhbmd1bGFyLmlzU3RyaW5nKGMpPyhlLnJlbW92ZUNsYXNzKFwibmctaGlkZVwiKSxpP2UuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLFwidXJsKCdcIitjK1wiJylcIik6ZS5hdHRyKFwic3JjXCIsYykpOnZvaWQoIWN8fCFjLnR5cGV8fDAhPT1jLnR5cGUuc2VhcmNoKGEoZVswXSkpfHxpJiYwIT09Yy50eXBlLmluZGV4T2YoXCJpbWFnZVwiKT9lLmFkZENsYXNzKFwibmctaGlkZVwiKTprJiZiLmlzUmVzaXplU3VwcG9ydGVkKCk/KGsucmVzaXplSWY9ZnVuY3Rpb24oYSxlKXtyZXR1cm4gYi5hdHRyR2V0dGVyKFwibmdmUmVzaXplSWZcIixmLGQseyR3aWR0aDphLCRoZWlnaHQ6ZSwkZmlsZTpjfSl9LGIucmVzaXplKGMsaykudGhlbihmdW5jdGlvbihhKXtqKGEpfSxmdW5jdGlvbihhKXt0aHJvdyBhfSkpOmooYykpfSk7ZC4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7YygpfSl9KX1uZ0ZpbGVVcGxvYWQuc2VydmljZShcIlVwbG9hZERhdGFVcmxcIixbXCJVcGxvYWRCYXNlXCIsXCIkdGltZW91dFwiLFwiJHFcIixmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YTtyZXR1cm4gZC5iYXNlNjREYXRhVXJsPWZ1bmN0aW9uKGEpe2lmKGFuZ3VsYXIuaXNBcnJheShhKSl7dmFyIGI9Yy5kZWZlcigpLGU9MDtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24oYyl7ZC5kYXRhVXJsKGMsITApW1wiZmluYWxseVwiXShmdW5jdGlvbigpe2lmKGUrKyxlPT09YS5sZW5ndGgpe3ZhciBjPVtdO2FuZ3VsYXIuZm9yRWFjaChhLGZ1bmN0aW9uKGEpe2MucHVzaChhLiRuZ2ZEYXRhVXJsKX0pLGIucmVzb2x2ZShjLGEpfX0pfSksYi5wcm9taXNlfXJldHVybiBkLmRhdGFVcmwoYSwhMCl9LGQuZGF0YVVybD1mdW5jdGlvbihhLGUpe2lmKCFhKXJldHVybiBkLmVtcHR5UHJvbWlzZShhLGEpO2lmKGUmJm51bGwhPWEuJG5nZkRhdGFVcmx8fCFlJiZudWxsIT1hLiRuZ2ZCbG9iVXJsKXJldHVybiBkLmVtcHR5UHJvbWlzZShlP2EuJG5nZkRhdGFVcmw6YS4kbmdmQmxvYlVybCxhKTt2YXIgZj1lP2EuJCRuZ2ZEYXRhVXJsUHJvbWlzZTphLiQkbmdmQmxvYlVybFByb21pc2U7aWYoZilyZXR1cm4gZjt2YXIgZz1jLmRlZmVyKCk7cmV0dXJuIGIoZnVuY3Rpb24oKXtpZih3aW5kb3cuRmlsZVJlYWRlciYmYSYmKCF3aW5kb3cuRmlsZUFQSXx8LTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDhcIil8fGEuc2l6ZTwyZTQpJiYoIXdpbmRvdy5GaWxlQVBJfHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOVwiKXx8YS5zaXplPDRlNikpe3ZhciBjPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkw7aWYoYyYmYy5jcmVhdGVPYmplY3RVUkwmJiFlKXt2YXIgZjt0cnl7Zj1jLmNyZWF0ZU9iamVjdFVSTChhKX1jYXRjaChoKXtyZXR1cm4gdm9pZCBiKGZ1bmN0aW9uKCl7YS4kbmdmQmxvYlVybD1cIlwiLGcucmVqZWN0KCl9KX1iKGZ1bmN0aW9uKCl7aWYoYS4kbmdmQmxvYlVybD1mLGYpe2cucmVzb2x2ZShmLGEpLGQuYmxvYlVybHM9ZC5ibG9iVXJsc3x8W10sZC5ibG9iVXJsc1RvdGFsU2l6ZT1kLmJsb2JVcmxzVG90YWxTaXplfHwwLGQuYmxvYlVybHMucHVzaCh7dXJsOmYsc2l6ZTphLnNpemV9KSxkLmJsb2JVcmxzVG90YWxTaXplKz1hLnNpemV8fDA7Zm9yKHZhciBiPWQuZGVmYXVsdHMuYmxvYlVybHNNYXhNZW1vcnl8fDI2ODQzNTQ1NixlPWQuZGVmYXVsdHMuYmxvYlVybHNNYXhRdWV1ZVNpemV8fDIwMDsoZC5ibG9iVXJsc1RvdGFsU2l6ZT5ifHxkLmJsb2JVcmxzLmxlbmd0aD5lKSYmZC5ibG9iVXJscy5sZW5ndGg+MTspe3ZhciBoPWQuYmxvYlVybHMuc3BsaWNlKDAsMSlbMF07Yy5yZXZva2VPYmplY3RVUkwoaC51cmwpLGQuYmxvYlVybHNUb3RhbFNpemUtPWguc2l6ZX19fSl9ZWxzZXt2YXIgaT1uZXcgRmlsZVJlYWRlcjtpLm9ubG9hZD1mdW5jdGlvbihjKXtiKGZ1bmN0aW9uKCl7YS4kbmdmRGF0YVVybD1jLnRhcmdldC5yZXN1bHQsZy5yZXNvbHZlKGMudGFyZ2V0LnJlc3VsdCxhKSxiKGZ1bmN0aW9uKCl7ZGVsZXRlIGEuJG5nZkRhdGFVcmx9LDFlMyl9KX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7YihmdW5jdGlvbigpe2EuJG5nZkRhdGFVcmw9XCJcIixnLnJlamVjdCgpfSl9LGkucmVhZEFzRGF0YVVSTChhKX19ZWxzZSBiKGZ1bmN0aW9uKCl7YVtlP1wiJG5nZkRhdGFVcmxcIjpcIiRuZ2ZCbG9iVXJsXCJdPVwiXCIsZy5yZWplY3QoKX0pfSksZj1lP2EuJCRuZ2ZEYXRhVXJsUHJvbWlzZT1nLnByb21pc2U6YS4kJG5nZkJsb2JVcmxQcm9taXNlPWcucHJvbWlzZSxmW1wiZmluYWxseVwiXShmdW5jdGlvbigpe2RlbGV0ZSBhW2U/XCIkJG5nZkRhdGFVcmxQcm9taXNlXCI6XCIkJG5nZkJsb2JVcmxQcm9taXNlXCJdfSksZn0sZH1dKSxuZ0ZpbGVVcGxvYWQuZGlyZWN0aXZlKFwibmdmU3JjXCIsW1wiVXBsb2FkXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYyl7cmV0dXJue3Jlc3RyaWN0OlwiQUVcIixsaW5rOmZ1bmN0aW9uKGQsZSxmKXtiKGEsYyxkLGUsZixcIm5nZlNyY1wiLGEuYXR0ckdldHRlcihcIm5nZlJlc2l6ZVwiLGYsZCksITEpfX19XSksbmdGaWxlVXBsb2FkLmRpcmVjdGl2ZShcIm5nZkJhY2tncm91bmRcIixbXCJVcGxvYWRcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYSxjKXtyZXR1cm57cmVzdHJpY3Q6XCJBRVwiLGxpbms6ZnVuY3Rpb24oZCxlLGYpe2IoYSxjLGQsZSxmLFwibmdmQmFja2dyb3VuZFwiLGEuYXR0ckdldHRlcihcIm5nZlJlc2l6ZVwiLGYsZCksITApfX19XSksbmdGaWxlVXBsb2FkLmRpcmVjdGl2ZShcIm5nZlRodW1ibmFpbFwiLFtcIlVwbG9hZFwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihhLGMpe3JldHVybntyZXN0cmljdDpcIkFFXCIsbGluazpmdW5jdGlvbihkLGUsZil7dmFyIGc9YS5hdHRyR2V0dGVyKFwibmdmU2l6ZVwiLGYsZCk7YihhLGMsZCxlLGYsXCJuZ2ZUaHVtYm5haWxcIixnLGEuYXR0ckdldHRlcihcIm5nZkFzQmFja2dyb3VuZFwiLGYsZCkpfX19XSksbmdGaWxlVXBsb2FkLmNvbmZpZyhbXCIkY29tcGlsZVByb3ZpZGVyXCIsZnVuY3Rpb24oYSl7YS5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QmJmEuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KC9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8d2ViY2FsfGxvY2FsfGZpbGV8ZGF0YXxibG9iKTovKSxhLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0JiZhLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KC9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8d2ViY2FsfGxvY2FsfGZpbGV8ZGF0YXxibG9iKTovKX1dKSxuZ0ZpbGVVcGxvYWQuZmlsdGVyKFwibmdmRGF0YVVybFwiLFtcIlVwbG9hZERhdGFVcmxcIixcIiRzY2VcIixmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQsZSl7aWYoYW5ndWxhci5pc1N0cmluZyhjKSlyZXR1cm4gYi50cnVzdEFzUmVzb3VyY2VVcmwoYyk7dmFyIGY9YyYmKChkP2MuJG5nZkRhdGFVcmw6Yy4kbmdmQmxvYlVybCl8fGMuJG5nZkRhdGFVcmwpO3JldHVybiBjJiYhZj8oIWMuJG5nZkRhdGFVcmxGaWx0ZXJJblByb2dyZXNzJiZhbmd1bGFyLmlzT2JqZWN0KGMpJiYoYy4kbmdmRGF0YVVybEZpbHRlckluUHJvZ3Jlc3M9ITAsYS5kYXRhVXJsKGMsZCkpLFwiXCIpOihjJiZkZWxldGUgYy4kbmdmRGF0YVVybEZpbHRlckluUHJvZ3Jlc3MsKGMmJmY/ZT9iLnRydXN0QXNSZXNvdXJjZVVybChmKTpmOmMpfHxcIlwiKX19XSl9KCksbmdGaWxlVXBsb2FkLnNlcnZpY2UoXCJVcGxvYWRWYWxpZGF0ZVwiLFtcIlVwbG9hZERhdGFVcmxcIixcIiRxXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3ZhciBiPVwiXCIsYz1bXTtpZihhLmxlbmd0aD4yJiZcIi9cIj09PWFbMF0mJlwiL1wiPT09YVthLmxlbmd0aC0xXSliPWEuc3Vic3RyaW5nKDEsYS5sZW5ndGgtMSk7ZWxzZXt2YXIgZT1hLnNwbGl0KFwiLFwiKTtpZihlLmxlbmd0aD4xKWZvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1kKGVbZl0pO2cucmVnZXhwPyhiKz1cIihcIitnLnJlZ2V4cCtcIilcIixmPGUubGVuZ3RoLTEmJihiKz1cInxcIikpOmM9Yy5jb25jYXQoZy5leGNsdWRlcyl9ZWxzZSAwPT09YS5pbmRleE9mKFwiIVwiKT9jLnB1c2goXCJeKCg/IVwiK2QoYS5zdWJzdHJpbmcoMSkpLnJlZ2V4cCtcIikuKSokXCIpOigwPT09YS5pbmRleE9mKFwiLlwiKSYmKGE9XCIqXCIrYSksYj1cIl5cIithLnJlcGxhY2UobmV3IFJlZ0V4cChcIlsuXFxcXFxcXFwrKj9cXFxcW1xcXFxeXFxcXF0kKCl7fT0hPD58OlxcXFwtXVwiLFwiZ1wiKSxcIlxcXFwkJlwiKStcIiRcIixiPWIucmVwbGFjZSgvXFxcXFxcKi9nLFwiLipcIikucmVwbGFjZSgvXFxcXFxcPy9nLFwiLlwiKSl9cmV0dXJue3JlZ2V4cDpiLGV4Y2x1ZGVzOmN9fWZ1bmN0aW9uIGUoYSxiKXtudWxsPT1ifHxhLiRkaXJ0eXx8KGEuJHNldERpcnR5P2EuJHNldERpcnR5KCk6YS4kZGlydHk9ITApfXZhciBmPWE7cmV0dXJuIGYudmFsaWRhdGVQYXR0ZXJuPWZ1bmN0aW9uKGEsYil7aWYoIWIpcmV0dXJuITA7dmFyIGM9ZChiKSxlPSEwO2lmKGMucmVnZXhwJiZjLnJlZ2V4cC5sZW5ndGgpe3ZhciBmPW5ldyBSZWdFeHAoYy5yZWdleHAsXCJpXCIpO2U9bnVsbCE9YS50eXBlJiZmLnRlc3QoYS50eXBlKXx8bnVsbCE9YS5uYW1lJiZmLnRlc3QoYS5uYW1lKX1mb3IodmFyIGc9Yy5leGNsdWRlcy5sZW5ndGg7Zy0tOyl7dmFyIGg9bmV3IFJlZ0V4cChjLmV4Y2x1ZGVzW2ddLFwiaVwiKTtlPWUmJihudWxsPT1hLnR5cGV8fGgudGVzdChhLnR5cGUpKSYmKG51bGw9PWEubmFtZXx8aC50ZXN0KGEubmFtZSkpfXJldHVybiBlfSxmLnJhdGlvVG9GbG9hdD1mdW5jdGlvbihhKXt2YXIgYj1hLnRvU3RyaW5nKCksYz1iLnNlYXJjaCgvW3g6XS9pKTtyZXR1cm4gYj1jPi0xP3BhcnNlRmxvYXQoYi5zdWJzdHJpbmcoMCxjKSkvcGFyc2VGbG9hdChiLnN1YnN0cmluZyhjKzEpKTpwYXJzZUZsb2F0KGIpfSxmLnJlZ2lzdGVyTW9kZWxDaGFuZ2VWYWxpZGF0b3I9ZnVuY3Rpb24oYSxiLGMpe2EmJmEuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihkKXtpZihhLiRkaXJ0eSl7dmFyIGU9ZDtkJiYhYW5ndWxhci5pc0FycmF5KGQpJiYoZT1bZF0pLGYudmFsaWRhdGUoZSwwLGEsYixjKS50aGVuKGZ1bmN0aW9uKCl7Zi5hcHBseU1vZGVsVmFsaWRhdGlvbihhLGUpfSl9cmV0dXJuIGR9KX0sZi5hcHBseU1vZGVsVmFsaWRhdGlvbj1mdW5jdGlvbihhLGIpe2UoYSxiKSxhbmd1bGFyLmZvckVhY2goYS4kbmdmVmFsaWRhdGlvbnMsZnVuY3Rpb24oYil7YS4kc2V0VmFsaWRpdHkoYi5uYW1lLGIudmFsaWQpfSl9LGYuZ2V0VmFsaWRhdGlvbkF0dHI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZz1cIm5nZlwiK2NbMF0udG9VcHBlckNhc2UoKStjLnN1YnN0cigxKSxoPWYuYXR0ckdldHRlcihnLGEsYix7JGZpbGU6ZX0pO2lmKG51bGw9PWgmJihoPWYuYXR0ckdldHRlcihcIm5nZlZhbGlkYXRlXCIsYSxiLHskZmlsZTplfSkpKXt2YXIgaT0oZHx8Yykuc3BsaXQoXCIuXCIpO2g9aFtpWzBdXSxpLmxlbmd0aD4xJiYoaD1oJiZoW2lbMV1dKX1yZXR1cm4gaH0sZi52YWxpZGF0ZT1mdW5jdGlvbihhLGMsZCxlLGcpe2Z1bmN0aW9uIGgoYixjLGgpe2lmKGEpe2Zvcih2YXIgaT1hLmxlbmd0aCxqPW51bGw7aS0tOyl7dmFyIG49YVtpXTtpZihuKXt2YXIgbz1mLmdldFZhbGlkYXRpb25BdHRyKGUsZyxiLGMsbik7bnVsbCE9byYmKGgobixvLGkpfHwoLTE9PT1rLmluZGV4T2YoYik/KG4uJGVycm9yPWIsKG4uJGVycm9yTWVzc2FnZXM9bi4kZXJyb3JNZXNzYWdlc3x8e30pW2JdPSEwLG4uJGVycm9yUGFyYW09bywtMT09PW0uaW5kZXhPZihuKSYmbS5wdXNoKG4pLGx8fGEuc3BsaWNlKGksMSksaj0hMSk6YS5zcGxpY2UoaSwxKSkpfX1udWxsIT09aiYmZC4kbmdmVmFsaWRhdGlvbnMucHVzaCh7bmFtZTpiLHZhbGlkOmp9KX19ZnVuY3Rpb24gaShjLGgsaSxuLG8pe2Z1bmN0aW9uIHAoYixkLGUpe2Z1bmN0aW9uIGYoZil7aWYoZigpKWlmKC0xPT09ay5pbmRleE9mKGMpKXtpZihkLiRlcnJvcj1jLChkLiRlcnJvck1lc3NhZ2VzPWQuJGVycm9yTWVzc2FnZXN8fHt9KVtjXT0hMCxkLiRlcnJvclBhcmFtPWUsLTE9PT1tLmluZGV4T2YoZCkmJm0ucHVzaChkKSwhbCl7dmFyIGc9YS5pbmRleE9mKGQpO2c+LTEmJmEuc3BsaWNlKGcsMSl9Yi5yZXNvbHZlKCExKX1lbHNle3ZhciBoPWEuaW5kZXhPZihkKTtoPi0xJiZhLnNwbGljZShoLDEpLGIucmVzb2x2ZSghMCl9ZWxzZSBiLnJlc29sdmUoITApfW51bGwhPWU/bihkLGUpLnRoZW4oZnVuY3Rpb24oYSl7ZihmdW5jdGlvbigpe3JldHVybiFvKGEsZSl9KX0sZnVuY3Rpb24oKXtmKGZ1bmN0aW9uKCl7cmV0dXJuIGooXCJuZ2ZWYWxpZGF0ZUZvcmNlXCIseyRmaWxlOmR9KX0pfSk6Yi5yZXNvbHZlKCEwKX12YXIgcT1bZi5lbXB0eVByb21pc2UoITApXTthJiYoYT12b2lkIDA9PT1hLmxlbmd0aD9bYV06YSxhbmd1bGFyLmZvckVhY2goYSxmdW5jdGlvbihhKXt2YXIgZD1iLmRlZmVyKCk7cmV0dXJuIHEucHVzaChkLnByb21pc2UpLCFpfHxudWxsIT1hLnR5cGUmJjA9PT1hLnR5cGUuc2VhcmNoKGkpP3ZvaWQoXCJkaW1lbnNpb25zXCI9PT1jJiZudWxsIT1mLmF0dHJHZXR0ZXIoXCJuZ2ZEaW1lbnNpb25zXCIsZSk/Zi5pbWFnZURpbWVuc2lvbnMoYSkudGhlbihmdW5jdGlvbihiKXtwKGQsYSxqKFwibmdmRGltZW5zaW9uc1wiLHskZmlsZTphLCR3aWR0aDpiLndpZHRoLCRoZWlnaHQ6Yi5oZWlnaHR9KSl9LGZ1bmN0aW9uKCl7ZC5yZXNvbHZlKCExKX0pOlwiZHVyYXRpb25cIj09PWMmJm51bGwhPWYuYXR0ckdldHRlcihcIm5nZkR1cmF0aW9uXCIsZSk/Zi5tZWRpYUR1cmF0aW9uKGEpLnRoZW4oZnVuY3Rpb24oYil7cChkLGEsaihcIm5nZkR1cmF0aW9uXCIseyRmaWxlOmEsJGR1cmF0aW9uOmJ9KSl9LGZ1bmN0aW9uKCl7ZC5yZXNvbHZlKCExKX0pOnAoZCxhLGYuZ2V0VmFsaWRhdGlvbkF0dHIoZSxnLGMsaCxhKSkpOnZvaWQgZC5yZXNvbHZlKCEwKX0pKTt2YXIgcj1iLmRlZmVyKCk7cmV0dXJuIGIuYWxsKHEpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSEwLGU9MDtlPGEubGVuZ3RoO2UrKylpZighYVtlXSl7Yj0hMTticmVha31kLiRuZ2ZWYWxpZGF0aW9ucy5wdXNoKHtuYW1lOmMsdmFsaWQ6Yn0pLHIucmVzb2x2ZShiKX0pLHIucHJvbWlzZX1kPWR8fHt9LGQuJG5nZlZhbGlkYXRpb25zPWQuJG5nZlZhbGlkYXRpb25zfHxbXSxhbmd1bGFyLmZvckVhY2goZC4kbmdmVmFsaWRhdGlvbnMsZnVuY3Rpb24oYSl7YS52YWxpZD0hMH0pO3ZhciBqPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGYuYXR0ckdldHRlcihhLGUsZyxiKX0saz0oZi5hdHRyR2V0dGVyKFwibmdmSWdub3JlSW52YWxpZFwiLGUsZyl8fFwiXCIpLnNwbGl0KFwiIFwiKSxsPWYuYXR0ckdldHRlcihcIm5nZlJ1bkFsbFZhbGlkYXRpb25zXCIsZSxnKTtpZihudWxsPT1hfHwwPT09YS5sZW5ndGgpcmV0dXJuIGYuZW1wdHlQcm9taXNlKHt2YWxpZEZpbGVzOmEsaW52YWxpZEZpbGVzOltdfSk7YT12b2lkIDA9PT1hLmxlbmd0aD9bYV06YS5zbGljZSgwKTt2YXIgbT1bXTtoKFwicGF0dGVyblwiLG51bGwsZi52YWxpZGF0ZVBhdHRlcm4pLGgoXCJtaW5TaXplXCIsXCJzaXplLm1pblwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc2l6ZSsuMT49Zi50cmFuc2xhdGVTY2FsYXJzKGIpfSksaChcIm1heFNpemVcIixcInNpemUubWF4XCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zaXplLS4xPD1mLnRyYW5zbGF0ZVNjYWxhcnMoYil9KTt2YXIgbj0wO2lmKGgoXCJtYXhUb3RhbFNpemVcIixudWxsLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIG4rPWIuc2l6ZSxuPmYudHJhbnNsYXRlU2NhbGFycyhjKT8oYS5zcGxpY2UoMCxhLmxlbmd0aCksITEpOiEwfSksaChcInZhbGlkYXRlRm5cIixudWxsLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PT0hMHx8bnVsbD09PWJ8fFwiXCI9PT1ifSksIWEubGVuZ3RoKXJldHVybiBmLmVtcHR5UHJvbWlzZSh7dmFsaWRGaWxlczpbXSxpbnZhbGlkRmlsZXM6bX0pO3ZhciBvPWIuZGVmZXIoKSxwPVtdO3JldHVybiBwLnB1c2goaShcIm1heEhlaWdodFwiLFwiaGVpZ2h0Lm1heFwiLC9pbWFnZS8sdGhpcy5pbWFnZURpbWVuc2lvbnMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5oZWlnaHQ8PWJ9KSkscC5wdXNoKGkoXCJtaW5IZWlnaHRcIixcImhlaWdodC5taW5cIiwvaW1hZ2UvLHRoaXMuaW1hZ2VEaW1lbnNpb25zLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaGVpZ2h0Pj1ifSkpLHAucHVzaChpKFwibWF4V2lkdGhcIixcIndpZHRoLm1heFwiLC9pbWFnZS8sdGhpcy5pbWFnZURpbWVuc2lvbnMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS53aWR0aDw9Yn0pKSxwLnB1c2goaShcIm1pbldpZHRoXCIsXCJ3aWR0aC5taW5cIiwvaW1hZ2UvLHRoaXMuaW1hZ2VEaW1lbnNpb25zLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEud2lkdGg+PWJ9KSkscC5wdXNoKGkoXCJkaW1lbnNpb25zXCIsbnVsbCwvaW1hZ2UvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYuZW1wdHlQcm9taXNlKGIpfSxmdW5jdGlvbihhKXtyZXR1cm4gYX0pKSxwLnB1c2goaShcInJhdGlvXCIsbnVsbCwvaW1hZ2UvLHRoaXMuaW1hZ2VEaW1lbnNpb25zLGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWIudG9TdHJpbmcoKS5zcGxpdChcIixcIiksZD0hMSxlPTA7ZTxjLmxlbmd0aDtlKyspTWF0aC5hYnMoYS53aWR0aC9hLmhlaWdodC1mLnJhdGlvVG9GbG9hdChjW2VdKSk8LjAxJiYoZD0hMCk7cmV0dXJuIGR9KSkscC5wdXNoKGkoXCJtYXhSYXRpb1wiLFwicmF0aW8ubWF4XCIsL2ltYWdlLyx0aGlzLmltYWdlRGltZW5zaW9ucyxmdW5jdGlvbihhLGIpe3JldHVybiBhLndpZHRoL2EuaGVpZ2h0LWYucmF0aW9Ub0Zsb2F0KGIpPDFlLTR9KSkscC5wdXNoKGkoXCJtaW5SYXRpb1wiLFwicmF0aW8ubWluXCIsL2ltYWdlLyx0aGlzLmltYWdlRGltZW5zaW9ucyxmdW5jdGlvbihhLGIpe3JldHVybiBhLndpZHRoL2EuaGVpZ2h0LWYucmF0aW9Ub0Zsb2F0KGIpPi0xZS00fSkpLHAucHVzaChpKFwibWF4RHVyYXRpb25cIixcImR1cmF0aW9uLm1heFwiLC9hdWRpb3x2aWRlby8sdGhpcy5tZWRpYUR1cmF0aW9uLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8PWYudHJhbnNsYXRlU2NhbGFycyhiKX0pKSxwLnB1c2goaShcIm1pbkR1cmF0aW9uXCIsXCJkdXJhdGlvbi5taW5cIiwvYXVkaW98dmlkZW8vLHRoaXMubWVkaWFEdXJhdGlvbixmdW5jdGlvbihhLGIpe3JldHVybiBhPj1mLnRyYW5zbGF0ZVNjYWxhcnMoYil9KSkscC5wdXNoKGkoXCJkdXJhdGlvblwiLG51bGwsL2F1ZGlvfHZpZGVvLyxmdW5jdGlvbihhLGIpe3JldHVybiBmLmVtcHR5UHJvbWlzZShiKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGF9KSkscC5wdXNoKGkoXCJ2YWxpZGF0ZUFzeW5jRm5cIixudWxsLG51bGwsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0sZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0hMHx8bnVsbD09PWF8fFwiXCI9PT1hfSkpLGIuYWxsKHApLnRoZW4oZnVuY3Rpb24oKXtpZihsKWZvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgZD1hW2JdO2QuJGVycm9yJiZhLnNwbGljZShiLS0sMSl9bD0hMSxoKFwibWF4RmlsZXNcIixudWxsLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYj5jK2R9KSxvLnJlc29sdmUoe3ZhbGlkRmlsZXM6YSxpbnZhbGlkRmlsZXM6bX0pfSksby5wcm9taXNlfSxmLmltYWdlRGltZW5zaW9ucz1mdW5jdGlvbihhKXtpZihhLiRuZ2ZXaWR0aCYmYS4kbmdmSGVpZ2h0KXt2YXIgZD1iLmRlZmVyKCk7cmV0dXJuIGMoZnVuY3Rpb24oKXtkLnJlc29sdmUoe3dpZHRoOmEuJG5nZldpZHRoLGhlaWdodDphLiRuZ2ZIZWlnaHR9KX0pLGQucHJvbWlzZX1pZihhLiRuZ2ZEaW1lbnNpb25Qcm9taXNlKXJldHVybiBhLiRuZ2ZEaW1lbnNpb25Qcm9taXNlO3ZhciBlPWIuZGVmZXIoKTtyZXR1cm4gYyhmdW5jdGlvbigpe3JldHVybiAwIT09YS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKT92b2lkIGUucmVqZWN0KFwibm90IGltYWdlXCIpOnZvaWQgZi5kYXRhVXJsKGEpLnRoZW4oZnVuY3Rpb24oYil7ZnVuY3Rpb24gZCgpe3ZhciBiPWhbMF0ubmF0dXJhbFdpZHRofHxoWzBdLmNsaWVudFdpZHRoLGM9aFswXS5uYXR1cmFsSGVpZ2h0fHxoWzBdLmNsaWVudEhlaWdodDtoLnJlbW92ZSgpLGEuJG5nZldpZHRoPWIsYS4kbmdmSGVpZ2h0PWMsZS5yZXNvbHZlKHt3aWR0aDpiLGhlaWdodDpjfSl9ZnVuY3Rpb24gZigpe1xuaC5yZW1vdmUoKSxlLnJlamVjdChcImxvYWQgZXJyb3JcIil9ZnVuY3Rpb24gZygpe2MoZnVuY3Rpb24oKXtoWzBdLnBhcmVudE5vZGUmJihoWzBdLmNsaWVudFdpZHRoP2QoKTppKys+MTA/ZigpOmcoKSl9LDFlMyl9dmFyIGg9YW5ndWxhci5lbGVtZW50KFwiPGltZz5cIikuYXR0cihcInNyY1wiLGIpLmNzcyhcInZpc2liaWxpdHlcIixcImhpZGRlblwiKS5jc3MoXCJwb3NpdGlvblwiLFwiZml4ZWRcIikuY3NzKFwibWF4LXdpZHRoXCIsXCJub25lICFpbXBvcnRhbnRcIikuY3NzKFwibWF4LWhlaWdodFwiLFwibm9uZSAhaW1wb3J0YW50XCIpO2gub24oXCJsb2FkXCIsZCksaC5vbihcImVycm9yXCIsZik7dmFyIGk9MDtnKCksYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXSkuYXBwZW5kKGgpfSxmdW5jdGlvbigpe2UucmVqZWN0KFwibG9hZCBlcnJvclwiKX0pfSksYS4kbmdmRGltZW5zaW9uUHJvbWlzZT1lLnByb21pc2UsYS4kbmdmRGltZW5zaW9uUHJvbWlzZVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtkZWxldGUgYS4kbmdmRGltZW5zaW9uUHJvbWlzZX0pLGEuJG5nZkRpbWVuc2lvblByb21pc2V9LGYubWVkaWFEdXJhdGlvbj1mdW5jdGlvbihhKXtpZihhLiRuZ2ZEdXJhdGlvbil7dmFyIGQ9Yi5kZWZlcigpO3JldHVybiBjKGZ1bmN0aW9uKCl7ZC5yZXNvbHZlKGEuJG5nZkR1cmF0aW9uKX0pLGQucHJvbWlzZX1pZihhLiRuZ2ZEdXJhdGlvblByb21pc2UpcmV0dXJuIGEuJG5nZkR1cmF0aW9uUHJvbWlzZTt2YXIgZT1iLmRlZmVyKCk7cmV0dXJuIGMoZnVuY3Rpb24oKXtyZXR1cm4gMCE9PWEudHlwZS5pbmRleE9mKFwiYXVkaW9cIikmJjAhPT1hLnR5cGUuaW5kZXhPZihcInZpZGVvXCIpP3ZvaWQgZS5yZWplY3QoXCJub3QgbWVkaWFcIik6dm9pZCBmLmRhdGFVcmwoYSkudGhlbihmdW5jdGlvbihiKXtmdW5jdGlvbiBkKCl7dmFyIGI9aFswXS5kdXJhdGlvbjthLiRuZ2ZEdXJhdGlvbj1iLGgucmVtb3ZlKCksZS5yZXNvbHZlKGIpfWZ1bmN0aW9uIGYoKXtoLnJlbW92ZSgpLGUucmVqZWN0KFwibG9hZCBlcnJvclwiKX1mdW5jdGlvbiBnKCl7YyhmdW5jdGlvbigpe2hbMF0ucGFyZW50Tm9kZSYmKGhbMF0uZHVyYXRpb24/ZCgpOmk+MTA/ZigpOmcoKSl9LDFlMyl9dmFyIGg9YW5ndWxhci5lbGVtZW50KDA9PT1hLnR5cGUuaW5kZXhPZihcImF1ZGlvXCIpP1wiPGF1ZGlvPlwiOlwiPHZpZGVvPlwiKS5hdHRyKFwic3JjXCIsYikuY3NzKFwidmlzaWJpbGl0eVwiLFwibm9uZVwiKS5jc3MoXCJwb3NpdGlvblwiLFwiZml4ZWRcIik7aC5vbihcImxvYWRlZG1ldGFkYXRhXCIsZCksaC5vbihcImVycm9yXCIsZik7dmFyIGk9MDtnKCksYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmFwcGVuZChoKX0sZnVuY3Rpb24oKXtlLnJlamVjdChcImxvYWQgZXJyb3JcIil9KX0pLGEuJG5nZkR1cmF0aW9uUHJvbWlzZT1lLnByb21pc2UsYS4kbmdmRHVyYXRpb25Qcm9taXNlW1wiZmluYWxseVwiXShmdW5jdGlvbigpe2RlbGV0ZSBhLiRuZ2ZEdXJhdGlvblByb21pc2V9KSxhLiRuZ2ZEdXJhdGlvblByb21pc2V9LGZ9XSksbmdGaWxlVXBsb2FkLnNlcnZpY2UoXCJVcGxvYWRSZXNpemVcIixbXCJVcGxvYWRWYWxpZGF0ZVwiLFwiJHFcIixmdW5jdGlvbihhLGIpe3ZhciBjPWEsZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWU/TWF0aC5tYXgoYy9hLGQvYik6TWF0aC5taW4oYy9hLGQvYik7cmV0dXJue3dpZHRoOmEqZixoZWlnaHQ6YipmLG1hcmdpblg6YSpmLWMsbWFyZ2luWTpiKmYtZH19LGU9ZnVuY3Rpb24oYSxlLGYsZyxoLGksaixrKXt2YXIgbD1iLmRlZmVyKCksbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwidmlzaWJpbGl0eTpoaWRkZW47cG9zaXRpb246Zml4ZWQ7ei1pbmRleDotMTAwMDAwXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobiksbi5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT1uLndpZHRoLGI9bi5oZWlnaHQ7aWYobi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLG51bGwhPWsmJmsoYSxiKT09PSExKXJldHVybiB2b2lkIGwucmVqZWN0KFwicmVzaXplSWZcIik7dHJ5e2lmKGkpe3ZhciBvPWMucmF0aW9Ub0Zsb2F0KGkpLHA9YS9iO28+cD8oZT1hLGY9ZS9vKTooZj1iLGU9ZipvKX1lfHwoZT1hKSxmfHwoZj1iKTt2YXIgcT1kKGEsYixlLGYsaik7bS53aWR0aD1NYXRoLm1pbihxLndpZHRoLGUpLG0uaGVpZ2h0PU1hdGgubWluKHEuaGVpZ2h0LGYpO3ZhciByPW0uZ2V0Q29udGV4dChcIjJkXCIpO3IuZHJhd0ltYWdlKG4sTWF0aC5taW4oMCwtcS5tYXJnaW5YLzIpLE1hdGgubWluKDAsLXEubWFyZ2luWS8yKSxxLndpZHRoLHEuaGVpZ2h0KSxsLnJlc29sdmUobS50b0RhdGFVUkwoaHx8XCJpbWFnZS9XZWJQXCIsZ3x8LjkzNCkpfWNhdGNoKHMpe2wucmVqZWN0KHMpfX0sbi5vbmVycm9yPWZ1bmN0aW9uKCl7bi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLGwucmVqZWN0KCl9LG4uc3JjPWEsbC5wcm9taXNlfTtyZXR1cm4gYy5kYXRhVXJsdG9CbG9iPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5zcGxpdChcIixcIiksZT1kWzBdLm1hdGNoKC86KC4qPyk7LylbMV0sZj1hdG9iKGRbMV0pLGc9Zi5sZW5ndGgsaD1uZXcgVWludDhBcnJheShnKTtnLS07KWhbZ109Zi5jaGFyQ29kZUF0KGcpO3ZhciBpPW5ldyB3aW5kb3cuQmxvYihbaF0se3R5cGU6ZX0pO3JldHVybiBpLm5hbWU9YixpLiRuZ2ZPcmlnU2l6ZT1jLGl9LGMuaXNSZXNpemVTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiB3aW5kb3cuYXRvYiYmYS5nZXRDb250ZXh0JiZhLmdldENvbnRleHQoXCIyZFwiKSYmd2luZG93LkJsb2J9LGMuaXNSZXNpemVTdXBwb3J0ZWQoKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5CbG9iLnByb3RvdHlwZSxcIm5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5nZk5hbWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLiRuZ2ZOYW1lPWF9LGNvbmZpZ3VyYWJsZTohMH0pLGMucmVzaXplPWZ1bmN0aW9uKGEsZCl7aWYoMCE9PWEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikpcmV0dXJuIGMuZW1wdHlQcm9taXNlKGEpO3ZhciBmPWIuZGVmZXIoKTtyZXR1cm4gYy5kYXRhVXJsKGEsITApLnRoZW4oZnVuY3Rpb24oYil7ZShiLGQud2lkdGgsZC5oZWlnaHQsZC5xdWFsaXR5LGQudHlwZXx8YS50eXBlLGQucmF0aW8sZC5jZW50ZXJDcm9wLGQucmVzaXplSWYpLnRoZW4oZnVuY3Rpb24oZSl7aWYoXCJpbWFnZS9qcGVnXCI9PT1hLnR5cGUmJmQucmVzdG9yZUV4aWYhPT0hMSl0cnl7ZT1jLnJlc3RvcmVFeGlmKGIsZSl9Y2F0Y2goZyl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGd9LDEpfXRyeXt2YXIgaD1jLmRhdGFVcmx0b0Jsb2IoZSxhLm5hbWUsYS5zaXplKTtmLnJlc29sdmUoaCl9Y2F0Y2goZyl7Zi5yZWplY3QoZyl9fSxmdW5jdGlvbihiKXtcInJlc2l6ZUlmXCI9PT1iJiZmLnJlc29sdmUoYSksZi5yZWplY3QoYil9KX0sZnVuY3Rpb24oYSl7Zi5yZWplY3QoYSl9KSxmLnByb21pc2V9LGN9XSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyxkLGUsZixnLGgsaSxqLGspe2Z1bmN0aW9uIGwoKXtyZXR1cm4gYy5hdHRyKFwiZGlzYWJsZWRcIil8fHMoXCJuZ2ZEcm9wRGlzYWJsZWRcIixhKX1mdW5jdGlvbiBtKGIsYyxkKXtpZihiKXt2YXIgZTt0cnl7ZT1iJiZiLmdldERhdGEmJmIuZ2V0RGF0YShcInRleHQvaHRtbFwiKX1jYXRjaChmKXt9cShiLml0ZW1zLGIuZmlsZXMscyhcIm5nZkFsbG93RGlyXCIsYSkhPT0hMSxzKFwibXVsdGlwbGVcIil8fHMoXCJuZ2ZNdWx0aXBsZVwiLGEpKS50aGVuKGZ1bmN0aW9uKGEpe2EubGVuZ3RoP24oYSxjKTpvKGQsZSkudGhlbihmdW5jdGlvbihhKXtuKGEsYyl9KX0pfX1mdW5jdGlvbiBuKGIsYyl7aS51cGRhdGVNb2RlbChlLGQsYSxzKFwibmdmQ2hhbmdlXCIpfHxzKFwibmdmRHJvcFwiKSxiLGMpfWZ1bmN0aW9uIG8oYixjKXtpZighaS5zaG91bGRVcGRhdGVPbihiLGQsYSl8fFwic3RyaW5nXCIhPXR5cGVvZiBjKXJldHVybiBpLnJlamVjdFByb21pc2UoW10pO3ZhciBlPVtdO2MucmVwbGFjZSgvPChpbWcgc3JjfGltZyBbXj5dKiBzcmMpICo9XFxcIihbXlxcXCJdKilcXFwiL2dpLGZ1bmN0aW9uKGEsYixjKXtlLnB1c2goYyl9KTt2YXIgZj1bXSxnPVtdO2lmKGUubGVuZ3RoKXthbmd1bGFyLmZvckVhY2goZSxmdW5jdGlvbihhKXtmLnB1c2goaS51cmxUb0Jsb2IoYSkudGhlbihmdW5jdGlvbihhKXtnLnB1c2goYSl9KSl9KTt2YXIgaD1rLmRlZmVyKCk7cmV0dXJuIGsuYWxsKGYpLnRoZW4oZnVuY3Rpb24oKXtoLnJlc29sdmUoZyl9LGZ1bmN0aW9uKGEpe2gucmVqZWN0KGEpfSksaC5wcm9taXNlfXJldHVybiBpLmVtcHR5UHJvbWlzZSgpfWZ1bmN0aW9uIHAoYSxiLGMsZCl7dmFyIGU9cyhcIm5nZkRyYWdPdmVyQ2xhc3NcIixhLHskZXZlbnQ6Y30pLGY9XCJkcmFnb3ZlclwiO2lmKGFuZ3VsYXIuaXNTdHJpbmcoZSkpZj1lO2Vsc2UgaWYoZSYmKGUuZGVsYXkmJih3PWUuZGVsYXkpLGUuYWNjZXB0fHxlLnJlamVjdCkpe3ZhciBnPWMuZGF0YVRyYW5zZmVyLml0ZW1zO2lmKG51bGwhPWcmJmcubGVuZ3RoKWZvcih2YXIgaD1lLnBhdHRlcm58fHMoXCJuZ2ZQYXR0ZXJuXCIsYSx7JGV2ZW50OmN9KSxqPWcubGVuZ3RoO2otLTspe2lmKCFpLnZhbGlkYXRlUGF0dGVybihnW2pdLGgpKXtmPWUucmVqZWN0O2JyZWFrfWY9ZS5hY2NlcHR9ZWxzZSBmPWUuYWNjZXB0fWQoZil9ZnVuY3Rpb24gcShiLGMsZSxmKXtmdW5jdGlvbiBnKGEsYil7dmFyIGM9ay5kZWZlcigpO2lmKG51bGwhPWEpaWYoYS5pc0RpcmVjdG9yeSl7dmFyIGQ9W2kuZW1wdHlQcm9taXNlKCldO2lmKG0pe3ZhciBlPXt0eXBlOlwiZGlyZWN0b3J5XCJ9O2UubmFtZT1lLnBhdGg9KGJ8fFwiXCIpK2EubmFtZSxuLnB1c2goZSl9dmFyIGY9YS5jcmVhdGVSZWFkZXIoKSxoPVtdLHA9ZnVuY3Rpb24oKXtmLnJlYWRFbnRyaWVzKGZ1bmN0aW9uKGUpe3RyeXtlLmxlbmd0aD8oaD1oLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlfHxbXSwwKSkscCgpKTooYW5ndWxhci5mb3JFYWNoKGguc2xpY2UoMCksZnVuY3Rpb24oYyl7bi5sZW5ndGg8PWomJmw+PW8mJmQucHVzaChnKGMsKGI/YjpcIlwiKSthLm5hbWUrXCIvXCIpKX0pLGsuYWxsKGQpLnRoZW4oZnVuY3Rpb24oKXtjLnJlc29sdmUoKX0sZnVuY3Rpb24oYSl7Yy5yZWplY3QoYSl9KSl9Y2F0Y2goZil7Yy5yZWplY3QoZil9fSxmdW5jdGlvbihhKXtjLnJlamVjdChhKX0pfTtwKCl9ZWxzZSBhLmZpbGUoZnVuY3Rpb24oYSl7dHJ5e2EucGF0aD0oYj9iOlwiXCIpK2EubmFtZSxtJiYoYT1pLnJlbmFtZShhLGEucGF0aCkpLG4ucHVzaChhKSxvKz1hLnNpemUsYy5yZXNvbHZlKCl9Y2F0Y2goZCl7Yy5yZWplY3QoZCl9fSxmdW5jdGlvbihhKXtjLnJlamVjdChhKX0pO3JldHVybiBjLnByb21pc2V9dmFyIGo9aS5nZXRWYWxpZGF0aW9uQXR0cihkLGEsXCJtYXhGaWxlc1wiKTtudWxsPT1qJiYoaj1OdW1iZXIuTUFYX1ZBTFVFKTt2YXIgbD1pLmdldFZhbGlkYXRpb25BdHRyKGQsYSxcIm1heFRvdGFsU2l6ZVwiKTtudWxsPT1sJiYobD1OdW1iZXIuTUFYX1ZBTFVFKTt2YXIgbT1zKFwibmdmSW5jbHVkZURpclwiLGEpLG49W10sbz0wLHA9W2kuZW1wdHlQcm9taXNlKCldO2lmKGImJmIubGVuZ3RoPjAmJlwiZmlsZTpcIiE9PWgubG9jYXRpb24ucHJvdG9jb2wpZm9yKHZhciBxPTA7cTxiLmxlbmd0aDtxKyspe2lmKGJbcV0ud2Via2l0R2V0QXNFbnRyeSYmYltxXS53ZWJraXRHZXRBc0VudHJ5KCkmJmJbcV0ud2Via2l0R2V0QXNFbnRyeSgpLmlzRGlyZWN0b3J5KXt2YXIgcj1iW3FdLndlYmtpdEdldEFzRW50cnkoKTtpZihyLmlzRGlyZWN0b3J5JiYhZSljb250aW51ZTtudWxsIT1yJiZwLnB1c2goZyhyKSl9ZWxzZXt2YXIgdD1iW3FdLmdldEFzRmlsZSgpO251bGwhPXQmJihuLnB1c2godCksbys9dC5zaXplKX1pZihuLmxlbmd0aD5qfHxvPmx8fCFmJiZuLmxlbmd0aD4wKWJyZWFrfWVsc2UgaWYobnVsbCE9Yylmb3IodmFyIHU9MDt1PGMubGVuZ3RoO3UrKyl7dmFyIHY9Yy5pdGVtKHUpO2lmKCh2LnR5cGV8fHYuc2l6ZT4wKSYmKG4ucHVzaCh2KSxvKz12LnNpemUpLG4ubGVuZ3RoPmp8fG8+bHx8IWYmJm4ubGVuZ3RoPjApYnJlYWt9dmFyIHc9ay5kZWZlcigpO3JldHVybiBrLmFsbChwKS50aGVuKGZ1bmN0aW9uKCl7aWYoZnx8bXx8IW4ubGVuZ3RoKXcucmVzb2x2ZShuKTtlbHNle2Zvcih2YXIgYT0wO25bYV0mJlwiZGlyZWN0b3J5XCI9PT1uW2FdLnR5cGU7KWErKzt3LnJlc29sdmUoW25bYV1dKX19LGZ1bmN0aW9uKGEpe3cucmVqZWN0KGEpfSksdy5wcm9taXNlfXZhciByPWIoKSxzPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaS5hdHRyR2V0dGVyKGEsZCxiLGMpfTtpZihzKFwiZHJvcEF2YWlsYWJsZVwiKSYmZyhmdW5jdGlvbigpe2FbcyhcImRyb3BBdmFpbGFibGVcIildP2FbcyhcImRyb3BBdmFpbGFibGVcIildLnZhbHVlPXI6YVtzKFwiZHJvcEF2YWlsYWJsZVwiKV09cn0pLCFyKXJldHVybiB2b2lkKHMoXCJuZ2ZIaWRlT25Ecm9wTm90QXZhaWxhYmxlXCIsYSk9PT0hMCYmYy5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpKTtudWxsPT1zKFwibmdmU2VsZWN0XCIpJiZpLnJlZ2lzdGVyTW9kZWxDaGFuZ2VWYWxpZGF0b3IoZSxkLGEpO3ZhciB0LHU9bnVsbCx2PWYocyhcIm5nZlN0b3BQcm9wYWdhdGlvblwiKSksdz0xO2NbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsZnVuY3Rpb24oYil7aWYoIWwoKSYmaS5zaG91bGRVcGRhdGVPbihcImRyb3BcIixkLGEpKXtpZihiLnByZXZlbnREZWZhdWx0KCksdihhKSYmYi5zdG9wUHJvcGFnYXRpb24oKSxuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIik+LTEpe3ZhciBlPWIuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQ7Yi5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cIm1vdmVcIj09PWV8fFwibGlua01vdmVcIj09PWU/XCJtb3ZlXCI6XCJjb3B5XCJ9Zy5jYW5jZWwodSksdHx8KHQ9XCJDXCIscChhLGQsYixmdW5jdGlvbihkKXt0PWQsYy5hZGRDbGFzcyh0KSxzKFwibmdmRHJhZ1wiLGEseyRpc0RyYWdnaW5nOiEwLCRjbGFzczp0LCRldmVudDpifSl9KSl9fSwhMSksY1swXS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsZnVuY3Rpb24oYil7IWwoKSYmaS5zaG91bGRVcGRhdGVPbihcImRyb3BcIixkLGEpJiYoYi5wcmV2ZW50RGVmYXVsdCgpLHYoYSkmJmIuc3RvcFByb3BhZ2F0aW9uKCkpfSwhMSksY1swXS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsZnVuY3Rpb24oYil7IWwoKSYmaS5zaG91bGRVcGRhdGVPbihcImRyb3BcIixkLGEpJiYoYi5wcmV2ZW50RGVmYXVsdCgpLHYoYSkmJmIuc3RvcFByb3BhZ2F0aW9uKCksdT1nKGZ1bmN0aW9uKCl7dCYmYy5yZW1vdmVDbGFzcyh0KSx0PW51bGwscyhcIm5nZkRyYWdcIixhLHskaXNEcmFnZ2luZzohMSwkZXZlbnQ6Yn0pfSx3fHwxMDApKX0sITEpLGNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIixmdW5jdGlvbihiKXshbCgpJiZpLnNob3VsZFVwZGF0ZU9uKFwiZHJvcFwiLGQsYSkmJihiLnByZXZlbnREZWZhdWx0KCksdihhKSYmYi5zdG9wUHJvcGFnYXRpb24oKSx0JiZjLnJlbW92ZUNsYXNzKHQpLHQ9bnVsbCxtKGIuZGF0YVRyYW5zZmVyLGIsXCJkcm9wVXJsXCIpKX0sITEpLGNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsZnVuY3Rpb24oYil7bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpPi0xJiZzKFwibmdmRW5hYmxlRmlyZWZveFBhc3RlXCIsYSkmJmIucHJldmVudERlZmF1bHQoKSwhbCgpJiZpLnNob3VsZFVwZGF0ZU9uKFwicGFzdGVcIixkLGEpJiZtKGIuY2xpcGJvYXJkRGF0YXx8Yi5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGEsYixcInBhc3RlVXJsXCIpfSwhMSksbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpPi0xJiZzKFwibmdmRW5hYmxlRmlyZWZveFBhc3RlXCIsYSkmJihjLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIiwhMCksYy5vbihcImtleXByZXNzXCIsZnVuY3Rpb24oYSl7YS5tZXRhS2V5fHxhLmN0cmxLZXl8fGEucHJldmVudERlZmF1bHQoKX0pKX1mdW5jdGlvbiBiKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm5cImRyYWdnYWJsZVwiaW4gYSYmXCJvbmRyb3BcImluIGEmJiEvRWRnZVxcLzEyLi9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9bmdGaWxlVXBsb2FkLmRpcmVjdGl2ZShcIm5nZkRyb3BcIixbXCIkcGFyc2VcIixcIiR0aW1lb3V0XCIsXCIkd2luZG93XCIsXCJVcGxvYWRcIixcIiRodHRwXCIsXCIkcVwiLGZ1bmN0aW9uKGIsYyxkLGUsZixnKXtyZXR1cm57cmVzdHJpY3Q6XCJBRUNcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGgsaSxqLGspe2EoaCxpLGosayxiLGMsZCxlLGYsZyl9fX1dKSxuZ0ZpbGVVcGxvYWQuZGlyZWN0aXZlKFwibmdmTm9GaWxlRHJvcFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7YigpJiZjLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9fSksbmdGaWxlVXBsb2FkLmRpcmVjdGl2ZShcIm5nZkRyb3BBdmFpbGFibGVcIixbXCIkcGFyc2VcIixcIiR0aW1lb3V0XCIsXCJVcGxvYWRcIixmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGZ1bmN0aW9uKGUsZixnKXtpZihiKCkpe3ZhciBoPWEoZC5hdHRyR2V0dGVyKFwibmdmRHJvcEF2YWlsYWJsZVwiLGcpKTtjKGZ1bmN0aW9uKCl7aChlKSxoLmFzc2lnbiYmaC5hc3NpZ24oZSwhMCl9KX19fV0pfSgpLG5nRmlsZVVwbG9hZC5zZXJ2aWNlKFwiVXBsb2FkRXhpZlwiLFtcIlVwbG9hZFJlc2l6ZVwiLFwiJHFcIixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMsZCl7c3dpdGNoKGIpe2Nhc2UgMjpyZXR1cm4gYS50cmFuc2Zvcm0oLTEsMCwwLDEsYywwKTtjYXNlIDM6cmV0dXJuIGEudHJhbnNmb3JtKC0xLDAsMCwtMSxjLGQpO2Nhc2UgNDpyZXR1cm4gYS50cmFuc2Zvcm0oMSwwLDAsLTEsMCxkKTtjYXNlIDU6cmV0dXJuIGEudHJhbnNmb3JtKDAsMSwxLDAsMCwwKTtjYXNlIDY6cmV0dXJuIGEudHJhbnNmb3JtKDAsMSwtMSwwLGQsMCk7Y2FzZSA3OnJldHVybiBhLnRyYW5zZm9ybSgwLC0xLC0xLDAsZCxjKTtjYXNlIDg6cmV0dXJuIGEudHJhbnNmb3JtKDAsLTEsMSwwLDAsYyl9fWZ1bmN0aW9uIGQoYSl7Zm9yKHZhciBiPVwiXCIsYz1uZXcgVWludDhBcnJheShhKSxkPWMuYnl0ZUxlbmd0aCxlPTA7ZD5lO2UrKyliKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGNbZV0pO3JldHVybiB3aW5kb3cuYnRvYShiKX12YXIgZT1hO3JldHVybiBlLmlzRXhpZlN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cuRmlsZVJlYWRlciYmKG5ldyBGaWxlUmVhZGVyKS5yZWFkQXNBcnJheUJ1ZmZlciYmZS5pc1Jlc2l6ZVN1cHBvcnRlZCgpfSxlLnJlYWRPcmllbnRhdGlvbj1mdW5jdGlvbihhKXt2YXIgYz1iLmRlZmVyKCksZD1uZXcgRmlsZVJlYWRlcixlPWEuc2xpY2U/YS5zbGljZSgwLDY1NTM2KTphO3JldHVybiBkLnJlYWRBc0FycmF5QnVmZmVyKGUpLGQub25lcnJvcj1mdW5jdGlvbihhKXtyZXR1cm4gYy5yZWplY3QoYSl9LGQub25sb2FkPWZ1bmN0aW9uKGEpe3ZhciBiPXtvcmllbnRhdGlvbjoxfSxkPW5ldyBEYXRhVmlldyh0aGlzLnJlc3VsdCk7aWYoNjU0OTYhPT1kLmdldFVpbnQxNigwLCExKSlyZXR1cm4gYy5yZXNvbHZlKGIpO2Zvcih2YXIgZT1kLmJ5dGVMZW5ndGgsZj0yO2U+Zjspe3ZhciBnPWQuZ2V0VWludDE2KGYsITEpO2lmKGYrPTIsNjU1MDU9PT1nKXtpZigxMTY1NTE5MjA2IT09ZC5nZXRVaW50MzIoZis9MiwhMSkpcmV0dXJuIGMucmVzb2x2ZShiKTt2YXIgaD0xODc2MT09PWQuZ2V0VWludDE2KGYrPTYsITEpO2YrPWQuZ2V0VWludDMyKGYrNCxoKTt2YXIgaT1kLmdldFVpbnQxNihmLGgpO2YrPTI7Zm9yKHZhciBqPTA7aT5qO2orKylpZigyNzQ9PT1kLmdldFVpbnQxNihmKzEyKmosaCkpe3ZhciBrPWQuZ2V0VWludDE2KGYrMTIqais4LGgpO3JldHVybiBrPj0yJiY4Pj1rJiYoZC5zZXRVaW50MTYoZisxMipqKzgsMSxoKSxiLmZpeGVkQXJyYXlCdWZmZXI9YS50YXJnZXQucmVzdWx0KSxiLm9yaWVudGF0aW9uPWssYy5yZXNvbHZlKGIpfX1lbHNle2lmKDY1MjgwIT09KDY1MjgwJmcpKWJyZWFrO2YrPWQuZ2V0VWludDE2KGYsITEpfX1yZXR1cm4gYy5yZXNvbHZlKGIpfSxjLnByb21pc2V9LGUuYXBwbHlFeGlmUm90YXRpb249ZnVuY3Rpb24oYSl7aWYoMCE9PWEudHlwZS5pbmRleE9mKFwiaW1hZ2UvanBlZ1wiKSlyZXR1cm4gZS5lbXB0eVByb21pc2UoYSk7dmFyIGY9Yi5kZWZlcigpO3JldHVybiBlLnJlYWRPcmllbnRhdGlvbihhKS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBiLm9yaWVudGF0aW9uPDJ8fGIub3JpZW50YXRpb24+OD9mLnJlc29sdmUoYSk6dm9pZCBlLmRhdGFVcmwoYSwhMCkudGhlbihmdW5jdGlvbihnKXt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtpLm9ubG9hZD1mdW5jdGlvbigpe3RyeXtoLndpZHRoPWIub3JpZW50YXRpb24+ND9pLmhlaWdodDppLndpZHRoLGguaGVpZ2h0PWIub3JpZW50YXRpb24+ND9pLndpZHRoOmkuaGVpZ2h0O3ZhciBnPWguZ2V0Q29udGV4dChcIjJkXCIpO2MoZyxiLm9yaWVudGF0aW9uLGkud2lkdGgsaS5oZWlnaHQpLGcuZHJhd0ltYWdlKGksMCwwKTt2YXIgaj1oLnRvRGF0YVVSTChhLnR5cGV8fFwiaW1hZ2UvV2ViUFwiLC45MzQpO2o9ZS5yZXN0b3JlRXhpZihkKGIuZml4ZWRBcnJheUJ1ZmZlciksaik7dmFyIGs9ZS5kYXRhVXJsdG9CbG9iKGosYS5uYW1lKTtmLnJlc29sdmUoayl9Y2F0Y2gobCl7cmV0dXJuIGYucmVqZWN0KGwpfX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7Zi5yZWplY3QoKX0saS5zcmM9Z30sZnVuY3Rpb24oYSl7Zi5yZWplY3QoYSl9KX0sZnVuY3Rpb24oYSl7Zi5yZWplY3QoYSl9KSxmLnByb21pc2V9LGUucmVzdG9yZUV4aWY9ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtyZXR1cm4gYy5LRVlfU1RSPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixjLmVuY29kZTY0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZz1cIlwiLGg9XCJcIixpPVwiXCIsaj0wO2RvIGI9YVtqKytdLGM9YVtqKytdLGg9YVtqKytdLGQ9Yj4+MixlPSgzJmIpPDw0fGM+PjQsZj0oMTUmYyk8PDJ8aD4+NixpPTYzJmgsaXNOYU4oYyk/Zj1pPTY0OmlzTmFOKGgpJiYoaT02NCksZz1nK3RoaXMuS0VZX1NUUi5jaGFyQXQoZCkrdGhpcy5LRVlfU1RSLmNoYXJBdChlKSt0aGlzLktFWV9TVFIuY2hhckF0KGYpK3RoaXMuS0VZX1NUUi5jaGFyQXQoaSksYj1jPWg9XCJcIixkPWU9Zj1pPVwiXCI7d2hpbGUoajxhLmxlbmd0aCk7cmV0dXJuIGd9LGMucmVzdG9yZT1mdW5jdGlvbihhLGIpe2EubWF0Y2goXCJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LFwiKSYmKGE9YS5yZXBsYWNlKFwiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxcIixcIlwiKSk7dmFyIGM9dGhpcy5kZWNvZGU2NChhKSxkPXRoaXMuc2xpY2UyU2VnbWVudHMoYyksZT10aGlzLmV4aWZNYW5pcHVsYXRpb24oYixkKTtyZXR1cm5cImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsXCIrdGhpcy5lbmNvZGU2NChlKX0sYy5leGlmTWFuaXB1bGF0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRFeGlmQXJyYXkoYiksZD10aGlzLmluc2VydEV4aWYoYSxjKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZCl9LGMuZ2V0RXhpZkFycmF5PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspaWYoYj1hW2NdLDI1NT09PWJbMF0mMjI1PT09YlsxXSlyZXR1cm4gYjtyZXR1cm5bXX0sYy5pbnNlcnRFeGlmPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5yZXBsYWNlKFwiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxcIixcIlwiKSxkPXRoaXMuZGVjb2RlNjQoYyksZT1kLmluZGV4T2YoMjU1LDMpLGY9ZC5zbGljZSgwLGUpLGc9ZC5zbGljZShlKSxoPWY7cmV0dXJuIGg9aC5jb25jYXQoYiksaD1oLmNvbmNhdChnKX0sYy5zbGljZTJTZWdtZW50cz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPVtdOzspe2lmKDI1NT09PWFbYl0mMjE4PT09YVtiKzFdKWJyZWFrO2lmKDI1NT09PWFbYl0mMjE2PT09YVtiKzFdKWIrPTI7ZWxzZXt2YXIgZD0yNTYqYVtiKzJdK2FbYiszXSxlPWIrZCsyLGY9YS5zbGljZShiLGUpO2MucHVzaChmKSxiPWV9aWYoYj5hLmxlbmd0aClicmVha31yZXR1cm4gY30sYy5kZWNvZGU2ND1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGc9XCJcIixoPVwiXCIsaT0wLGo9W10saz0vW15BLVphLXowLTlcXCtcXC9cXD1dL2c7ay5leGVjKGEpJiZjb25zb2xlLmxvZyhcIlRoZXJlIHdlcmUgaW52YWxpZCBiYXNlNjQgY2hhcmFjdGVycyBpbiB0aGUgaW5wdXQgdGV4dC5cXG5WYWxpZCBiYXNlNjQgY2hhcmFjdGVycyBhcmUgQS1aLCBhLXosIDAtOSwgTmFORXhwZWN0IGVycm9ycyBpbiBkZWNvZGluZy5cIiksYT1hLnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXFw9XS9nLFwiXCIpO2RvIGQ9dGhpcy5LRVlfU1RSLmluZGV4T2YoYS5jaGFyQXQoaSsrKSksZT10aGlzLktFWV9TVFIuaW5kZXhPZihhLmNoYXJBdChpKyspKSxmPXRoaXMuS0VZX1NUUi5pbmRleE9mKGEuY2hhckF0KGkrKykpLGg9dGhpcy5LRVlfU1RSLmluZGV4T2YoYS5jaGFyQXQoaSsrKSksYj1kPDwyfGU+PjQsYz0oMTUmZSk8PDR8Zj4+MixnPSgzJmYpPDw2fGgsai5wdXNoKGIpLDY0IT09ZiYmai5wdXNoKGMpLDY0IT09aCYmai5wdXNoKGcpLGI9Yz1nPVwiXCIsZD1lPWY9aD1cIlwiO3doaWxlKGk8YS5sZW5ndGgpO3JldHVybiBqfSxjLnJlc3RvcmUoYSxiKX0sZX1dKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3BsdWdpbnMvbmctZmlsZS11cGxvYWQtYWxsLm1pbi5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUFBOztBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 12 */
/***/ function(module, exports) {

eval("/**\n * @license AngularJS v1.3.10\n * (c) 2010-2014 Google, Inc. http://angularjs.org\n * License: MIT\n */\n!function(a,b,c){\"use strict\";/**\n * @ngdoc module\n * @name ngSanitize\n * @description\n *\n * # ngSanitize\n *\n * The `ngSanitize` module provides functionality to sanitize HTML.\n *\n *\n * <div doc-module-components=\"ngSanitize\"></div>\n *\n * See {@link ngSanitize.$sanitize `$sanitize`} for usage.\n */\n/*\n * HTML Parser By Misko Hevery (misko@hevery.com)\n * based on:  HTML Parser By John Resig (ejohn.org)\n * Original code by Erik Arvidsson, Mozilla Public License\n * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js\n *\n * // Use like so:\n * htmlParser(htmlString, {\n *     start: function(tag, attrs, unary) {},\n *     end: function(tag) {},\n *     chars: function(text) {},\n *     comment: function(text) {}\n * });\n *\n */\n/**\n * @ngdoc service\n * @name $sanitize\n * @kind function\n *\n * @description\n *   The input is sanitized by parsing the HTML into tokens. All safe tokens (from a whitelist) are\n *   then serialized back to properly escaped html string. This means that no unsafe input can make\n *   it into the returned string, however, since our parser is more strict than a typical browser\n *   parser, it's possible that some obscure input, which would be recognized as valid HTML by a\n *   browser, won't make it through the sanitizer. The input may also contain SVG markup.\n *   The whitelist is configured using the functions `aHrefSanitizationWhitelist` and\n *   `imgSrcSanitizationWhitelist` of {@link ng.$compileProvider `$compileProvider`}.\n *\n * @param {string} html HTML input.\n * @returns {string} Sanitized HTML.\n *\n * @example\n   <example module=\"sanitizeExample\" deps=\"angular-sanitize.js\">\n   <file name=\"index.html\">\n     <script>\n         angular.module('sanitizeExample', ['ngSanitize'])\n           .controller('ExampleController', ['$scope', '$sce', function($scope, $sce) {\n             $scope.snippet =\n               '<p style=\"color:blue\">an html\\n' +\n               '<em onmouseover=\"this.textContent=\\'PWN3D!\\'\">click here</em>\\n' +\n               'snippet</p>';\n             $scope.deliberatelyTrustDangerousSnippet = function() {\n               return $sce.trustAsHtml($scope.snippet);\n             };\n           }]);\n     </script>\n     <div ng-controller=\"ExampleController\">\n        Snippet: <textarea ng-model=\"snippet\" cols=\"60\" rows=\"3\"></textarea>\n       <table>\n         <tr>\n           <td>Directive</td>\n           <td>How</td>\n           <td>Source</td>\n           <td>Rendered</td>\n         </tr>\n         <tr id=\"bind-html-with-sanitize\">\n           <td>ng-bind-html</td>\n           <td>Automatically uses $sanitize</td>\n           <td><pre>&lt;div ng-bind-html=\"snippet\"&gt;<br/>&lt;/div&gt;</pre></td>\n           <td><div ng-bind-html=\"snippet\"></div></td>\n         </tr>\n         <tr id=\"bind-html-with-trust\">\n           <td>ng-bind-html</td>\n           <td>Bypass $sanitize by explicitly trusting the dangerous value</td>\n           <td>\n           <pre>&lt;div ng-bind-html=\"deliberatelyTrustDangerousSnippet()\"&gt;\n&lt;/div&gt;</pre>\n           </td>\n           <td><div ng-bind-html=\"deliberatelyTrustDangerousSnippet()\"></div></td>\n         </tr>\n         <tr id=\"bind-default\">\n           <td>ng-bind</td>\n           <td>Automatically escapes</td>\n           <td><pre>&lt;div ng-bind=\"snippet\"&gt;<br/>&lt;/div&gt;</pre></td>\n           <td><div ng-bind=\"snippet\"></div></td>\n         </tr>\n       </table>\n       </div>\n   </file>\n   <file name=\"protractor.js\" type=\"protractor\">\n     it('should sanitize the html snippet by default', function() {\n       expect(element(by.css('#bind-html-with-sanitize div')).getInnerHtml()).\n         toBe('<p>an html\\n<em>click here</em>\\nsnippet</p>');\n     });\n\n     it('should inline raw snippet if bound to a trusted value', function() {\n       expect(element(by.css('#bind-html-with-trust div')).getInnerHtml()).\n         toBe(\"<p style=\\\"color:blue\\\">an html\\n\" +\n              \"<em onmouseover=\\\"this.textContent='PWN3D!'\\\">click here</em>\\n\" +\n              \"snippet</p>\");\n     });\n\n     it('should escape snippet without any filter', function() {\n       expect(element(by.css('#bind-default div')).getInnerHtml()).\n         toBe(\"&lt;p style=\\\"color:blue\\\"&gt;an html\\n\" +\n              \"&lt;em onmouseover=\\\"this.textContent='PWN3D!'\\\"&gt;click here&lt;/em&gt;\\n\" +\n              \"snippet&lt;/p&gt;\");\n     });\n\n     it('should update', function() {\n       element(by.model('snippet')).clear();\n       element(by.model('snippet')).sendKeys('new <b onclick=\"alert(1)\">text</b>');\n       expect(element(by.css('#bind-html-with-sanitize div')).getInnerHtml()).\n         toBe('new <b>text</b>');\n       expect(element(by.css('#bind-html-with-trust div')).getInnerHtml()).toBe(\n         'new <b onclick=\"alert(1)\">text</b>');\n       expect(element(by.css('#bind-default div')).getInnerHtml()).toBe(\n         \"new &lt;b onclick=\\\"alert(1)\\\"&gt;text&lt;/b&gt;\");\n     });\n   </file>\n   </example>\n */\nfunction d(){this.$get=[\"$$sanitizeUri\",function(a){return function(b){\"undefined\"!=typeof arguments[1]&&(arguments[1].version=\"taSanitize\");var c=[];return g(b,l(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join(\"\")}}]}function e(a){var c=[],d=l(c,b.noop);return d.chars(a),c.join(\"\")}function f(a){var b,c={},d=a.split(\",\");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}/**\n * @example\n * htmlParser(htmlString, {\n *     start: function(tag, attrs, unary) {},\n *     end: function(tag) {},\n *     chars: function(text) {},\n *     comment: function(text) {}\n * });\n *\n * @param {string} html string\n * @param {object} handler\n */\nfunction g(a,c){function d(a,d,f,g){if(d=b.lowercase(d),D[d])for(;k.last()&&E[k.last()];)e(\"\",k.last());C[d]&&k.last()==d&&e(\"\",d),g=z[d]||!!g,g||k.push(d);var i={};f.replace(p,function(a,b,c,d,e){var f=c||d||e||\"\";i[b]=h(f)}),c.start&&c.start(d,i,g)}function e(a,d){var e,f=0;if(d=b.lowercase(d))\n// Find the closest opened tag of the same type\nfor(f=k.length-1;f>=0&&k[f]!=d;f--);if(f>=0){\n// Close all the open elements, up the stack\nfor(e=k.length-1;e>=f;e--)c.end&&c.end(k[e]);\n// Remove the open elements from the stack\nk.length=f}}\"string\"!=typeof a&&(a=null===a||\"undefined\"==typeof a?\"\":\"\"+a);var f,g,i,j,k=[],l=a;for(k.last=function(){return k[k.length-1]};a;){\n// Make sure we're not in a script or style element\nif(j=\"\",g=!0,k.last()&&G[k.last()])a=a.replace(new RegExp(\"([^]*)<\\\\s*\\\\/\\\\s*\"+k.last()+\"[^>]*>\",\"i\"),function(a,b){return b=b.replace(s,\"$1\").replace(v,\"$1\"),c.chars&&c.chars(h(b)),\"\"}),e(\"\",k.last());else{\n// White space\nif(y.test(a)){if(i=a.match(y)){i[0];c.whitespace&&c.whitespace(i[0]),a=a.replace(i[0],\"\"),g=!1}}else t.test(a)?(i=a.match(t),i&&(c.comment&&c.comment(i[1]),a=a.replace(i[0],\"\"),g=!1)):u.test(a)?(i=a.match(u),i&&(a=a.replace(i[0],\"\"),g=!1)):r.test(a)?(i=a.match(o),i&&(a=a.substring(i[0].length),i[0].replace(o,e),g=!1)):q.test(a)&&(i=a.match(n),i?(\n// We only have a valid start-tag if there is a '>'.\ni[4]&&(a=a.substring(i[0].length),i[0].replace(n,d)),g=!1):(\n// no ending tag found --- this piece should be encoded as an entity.\nj+=\"<\",a=a.substring(1)));g&&(f=a.indexOf(\"<\"),j+=f<0?a:a.substring(0,f),a=f<0?\"\":a.substring(f),c.chars&&c.chars(h(j)))}if(a==l)throw m(\"badparse\",\"The sanitizer was unable to parse the following block of html: {0}\",a);l=a}\n// Clean up any remaining tags\ne()}/**\n * decodes all entities into regular string\n * @param value\n * @returns {string} A string with decoded entities.\n */\nfunction h(a){if(!a)return\"\";\n// Note: IE8 does not preserve spaces at the start/end of innerHTML\n// so we must capture them and reattach them afterward\nvar b=N.exec(a),c=b[1],d=b[3],e=b[2];\n// innerText depends on styling as it doesn't display hidden elements.\n// Therefore, it's better to use textContent not to cause unnecessary\n// reflows. However, IE<9 don't support textContent so the innerText\n// fallback is necessary.\nreturn e&&(M.innerHTML=e.replace(/</g,\"&lt;\"),e=\"textContent\"in M?M.textContent:M.innerText),c+e+d}/**\n * Escapes all potentially dangerous characters, so that the\n * resulting string can be safely inserted into attribute or\n * element text.\n * @param value\n * @returns {string} escaped text\n */\nfunction i(a){return a.replace(/&/g,\"&amp;\").replace(w,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return\"&#\"+(1024*(b-55296)+(c-56320)+65536)+\";\"}).replace(x,function(a){\n// unsafe chars are: \\u0000-\\u001f \\u007f-\\u009f \\u00ad \\u0600-\\u0604 \\u070f \\u17b4 \\u17b5 \\u200c-\\u200f \\u2028-\\u202f \\u2060-\\u206f \\ufeff \\ufff0-\\uffff from jslint.com/lint.html\n// decimal values are: 0-31, 127-159, 173, 1536-1540, 1807, 6068, 6069, 8204-8207, 8232-8239, 8288-8303, 65279, 65520-65535\nvar b=a.charCodeAt(0);\n// if unsafe character encode\n// if unsafe character encode\nreturn b<=159||173==b||b>=1536&&b<=1540||1807==b||6068==b||6069==b||b>=8204&&b<=8207||b>=8232&&b<=8239||b>=8288&&b<=8303||65279==b||b>=65520&&b<=65535?\"&#\"+b+\";\":a}).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}\n// Custom logic for accepting certain style options only - textAngular\n// Currently allows only the color, background-color, text-align, float, width and height attributes\n// all other attributes should be easily done through classes.\nfunction j(a){var c=\"\",d=a.split(\";\");return b.forEach(d,function(a){var d=a.split(\":\");if(2==d.length){var e=O(b.lowercase(d[0])),a=O(b.lowercase(d[1]));((\"color\"===e||\"background-color\"===e)&&(a.match(/^rgb\\([0-9%,\\. ]*\\)$/i)||a.match(/^rgba\\([0-9%,\\. ]*\\)$/i)||a.match(/^hsl\\([0-9%,\\. ]*\\)$/i)||a.match(/^hsla\\([0-9%,\\. ]*\\)$/i)||a.match(/^#[0-9a-f]{3,6}$/i)||a.match(/^[a-z]*$/i))||\"text-align\"===e&&(\"left\"===a||\"right\"===a||\"center\"===a||\"justify\"===a)||\"text-decoration\"===e&&(\"underline\"===a||\"line-through\"===a)||\"font-weight\"===e&&\"bold\"===a||\"font-style\"===e&&\"italic\"===a||\"float\"===e&&(\"left\"===a||\"right\"===a||\"none\"===a)||\"vertical-align\"===e&&(\"baseline\"===a||\"sub\"===a||\"super\"===a||\"test-top\"===a||\"text-bottom\"===a||\"middle\"===a||\"top\"===a||\"bottom\"===a||a.match(/[0-9]*(px|em)/)||a.match(/[0-9]+?%/))||\"font-size\"===e&&(\"xx-small\"===a||\"x-small\"===a||\"small\"===a||\"medium\"===a||\"large\"===a||\"x-large\"===a||\"xx-large\"===a||\"larger\"===a||\"smaller\"===a||a.match(/[0-9]*\\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||(\"width\"===e||\"height\"===e)&&a.match(/[0-9\\.]*(px|em|rem|%)/)||// Reference #520\n\"direction\"===e&&a.match(/^ltr|rtl|initial|inherit$/))&&(c+=e+\": \"+a+\";\")}}),c}\n// this function is used to manually allow specific attributes on specific tags with certain prerequisites\nfunction k(a,b,c,d){\n// catch the div placeholder for the iframe replacement\nreturn!(\"img\"!==a||!b[\"ta-insert-video\"]||\"ta-insert-video\"!==c&&\"allowfullscreen\"!==c&&\"frameborder\"!==c&&(\"contenteditable\"!==c||\"false\"!==d))}/**\n * create an HTML/XML writer which writes to buffer\n * @param {Array} buf use buf.jain('') to get out sanitized html string\n * @returns {object} in the form of {\n *     start: function(tag, attrs, unary) {},\n *     end: function(tag) {},\n *     chars: function(text) {},\n *     comment: function(text) {}\n * }\n */\nfunction l(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&G[a]&&(d=a),d||H[a]!==!0||(e(\"<\"),e(a),b.forEach(f,function(d,g){var h=b.lowercase(g),l=\"img\"===a&&\"src\"===h||\"background\"===h;(\"style\"===h&&\"\"!==(d=j(d))||k(a,f,h,d)||L[h]===!0&&(I[h]!==!0||c(d,l)))&&(e(\" \"),e(g),e('=\"'),e(i(d)),e('\"'))}),e(g?\"/>\":\">\"))},comment:function(a){e(a)},whitespace:function(a){e(i(a))},end:function(a){a=b.lowercase(a),d||H[a]!==!0||(e(\"</\"),e(a),e(\">\")),a==d&&(d=!1)},chars:function(a){d||e(i(a))}}}var m=b.$$minErr(\"$sanitize\"),n=/^<((?:[a-zA-Z])[\\w:-]*)((?:\\s+[\\w:-]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)\\s*(>?)/,o=/^<\\/\\s*([\\w:-]+)[^>]*>/,p=/([\\w:-]+)(?:\\s*=\\s*(?:(?:\"((?:[^\"])*)\")|(?:'((?:[^'])*)')|([^>\\s]+)))?/g,q=/^</,r=/^<\\//,s=/<!--(.*?)-->/g,t=/(^<!--.*?-->)/,u=/<!DOCTYPE([^>]*?)>/i,v=/<!\\[CDATA\\[(.*?)]]>/g,w=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n// Match everything outside of normal chars and \" (quote character)\nx=/([^\\#-~| |!])/g,y=/^(\\s+)/,z=f(\"area,br,col,hr,img,wbr,input\"),A=f(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),B=f(\"rp,rt\"),C=b.extend({},B,A),D=b.extend({},A,f(\"address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul\")),E=b.extend({},B,f(\"a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var\")),F=f(\"animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use\"),G=f(\"script,style\"),H=b.extend({},z,D,E,C,F),I=f(\"background,cite,href,longdesc,src,usemap,xlink:href\"),J=f(\"abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width\"),K=f(\"accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan\"),L=b.extend({},I,K,J),M=document.createElement(\"pre\"),N=/^(\\s*)([\\s\\S]*?)(\\s*)$/,O=function(){\n// native trim is way faster: http://jsperf.com/angular-trim-test\n// but IE doesn't have it... :-(\n// TODO: we should move this into IE/ES5 polyfill\n// native trim is way faster: http://jsperf.com/angular-trim-test\n// but IE doesn't have it... :-(\n// TODO: we should move this into IE/ES5 polyfill\nreturn String.prototype.trim?function(a){return b.isString(a)?a.trim():a}:function(a){return b.isString(a)?a.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\"):a}}();\n// define ngSanitize module and register $sanitize service\nb.module(\"ngSanitize\",[]).provider(\"$sanitize\",d),/* global sanitizeText: false */\n/**\n * @ngdoc filter\n * @name linky\n * @kind function\n *\n * @description\n * Finds links in text input and turns them into html links. Supports http/https/ftp/mailto and\n * plain email address links.\n *\n * Requires the {@link ngSanitize `ngSanitize`} module to be installed.\n *\n * @param {string} text Input text.\n * @param {string} target Window (_blank|_self|_parent|_top) or named frame to open links in.\n * @returns {string} Html-linkified text.\n *\n * @usage\n   <span ng-bind-html=\"linky_expression | linky\"></span>\n *\n * @example\n   <example module=\"linkyExample\" deps=\"angular-sanitize.js\">\n     <file name=\"index.html\">\n       <script>\n         angular.module('linkyExample', ['ngSanitize'])\n           .controller('ExampleController', ['$scope', function($scope) {\n             $scope.snippet =\n               'Pretty text with some links:\\n'+\n               'http://angularjs.org/,\\n'+\n               'mailto:us@somewhere.org,\\n'+\n               'another@somewhere.org,\\n'+\n               'and one more: ftp://127.0.0.1/.';\n             $scope.snippetWithTarget = 'http://angularjs.org/';\n           }]);\n       </script>\n       <div ng-controller=\"ExampleController\">\n       Snippet: <textarea ng-model=\"snippet\" cols=\"60\" rows=\"3\"></textarea>\n       <table>\n         <tr>\n           <td>Filter</td>\n           <td>Source</td>\n           <td>Rendered</td>\n         </tr>\n         <tr id=\"linky-filter\">\n           <td>linky filter</td>\n           <td>\n             <pre>&lt;div ng-bind-html=\"snippet | linky\"&gt;<br>&lt;/div&gt;</pre>\n           </td>\n           <td>\n             <div ng-bind-html=\"snippet | linky\"></div>\n           </td>\n         </tr>\n         <tr id=\"linky-target\">\n          <td>linky target</td>\n          <td>\n            <pre>&lt;div ng-bind-html=\"snippetWithTarget | linky:'_blank'\"&gt;<br>&lt;/div&gt;</pre>\n          </td>\n          <td>\n            <div ng-bind-html=\"snippetWithTarget | linky:'_blank'\"></div>\n          </td>\n         </tr>\n         <tr id=\"escaped-html\">\n           <td>no filter</td>\n           <td><pre>&lt;div ng-bind=\"snippet\"&gt;<br>&lt;/div&gt;</pre></td>\n           <td><div ng-bind=\"snippet\"></div></td>\n         </tr>\n       </table>\n     </file>\n     <file name=\"protractor.js\" type=\"protractor\">\n       it('should linkify the snippet with urls', function() {\n         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).\n             toBe('Pretty text with some links: http://angularjs.org/, us@somewhere.org, ' +\n                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');\n         expect(element.all(by.css('#linky-filter a')).count()).toEqual(4);\n       });\n\n       it('should not linkify snippet without the linky filter', function() {\n         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText()).\n             toBe('Pretty text with some links: http://angularjs.org/, mailto:us@somewhere.org, ' +\n                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');\n         expect(element.all(by.css('#escaped-html a')).count()).toEqual(0);\n       });\n\n       it('should update', function() {\n         element(by.model('snippet')).clear();\n         element(by.model('snippet')).sendKeys('new http://link.');\n         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).\n             toBe('new http://link.');\n         expect(element.all(by.css('#linky-filter a')).count()).toEqual(1);\n         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText())\n             .toBe('new http://link.');\n       });\n\n       it('should work with the target property', function() {\n        expect(element(by.id('linky-target')).\n            element(by.binding(\"snippetWithTarget | linky:'_blank'\")).getText()).\n            toBe('http://angularjs.org/');\n        expect(element(by.css('#linky-target a')).getAttribute('target')).toEqual('_blank');\n       });\n     </file>\n   </example>\n */\nb.module(\"ngSanitize\").filter(\"linky\",[\"$sanitize\",function(a){var c=/((ftp|https?):\\/\\/|(www\\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\\S*[^\\s.;,(){}<>\"]/,d=/^mailto:/;return function(f,g){function h(a){a&&n.push(e(a))}function i(a,c){n.push(\"<a \"),b.isDefined(g)&&n.push('target=\"',g,'\" '),n.push('href=\"',a.replace(/\"/g,\"&quot;\"),'\">'),h(c),n.push(\"</a>\")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)\n// We can not end in these as they are sometimes found at the end of the sentence\nk=j[0],\n// if we did not match ftp/http/www/mailto then assume mailto\nj[2]||j[4]||(k=(j[3]?\"http://\":\"mailto:\")+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(d,\"\")),m=m.substring(l+j[0].length);return h(m),a(n.join(\"\"))}}])}(window,window.angular);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3BsdWdpbnMvdGV4dEFuZ3VsYXItc2FuaXRpemUubWluLmpzPzY3NTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuMy4xMFxuICogKGMpIDIwMTAtMjAxNCBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4hZnVuY3Rpb24oYSxiLGMpe1widXNlIHN0cmljdFwiOy8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbmdTYW5pdGl6ZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogIyBuZ1Nhbml0aXplXG4gKlxuICogVGhlIGBuZ1Nhbml0aXplYCBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBzYW5pdGl6ZSBIVE1MLlxuICpcbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nU2FuaXRpemVcIj48L2Rpdj5cbiAqXG4gKiBTZWUge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplIGAkc2FuaXRpemVgfSBmb3IgdXNhZ2UuXG4gKi9cbi8qXG4gKiBIVE1MIFBhcnNlciBCeSBNaXNrbyBIZXZlcnkgKG1pc2tvQGhldmVyeS5jb20pXG4gKiBiYXNlZCBvbjogIEhUTUwgUGFyc2VyIEJ5IEpvaG4gUmVzaWcgKGVqb2huLm9yZylcbiAqIE9yaWdpbmFsIGNvZGUgYnkgRXJpayBBcnZpZHNzb24sIE1vemlsbGEgUHVibGljIExpY2Vuc2VcbiAqIGh0dHA6Ly9lcmlrLmVhZS5uZXQvc2ltcGxlaHRtbHBhcnNlci9zaW1wbGVodG1scGFyc2VyLmpzXG4gKlxuICogLy8gVXNlIGxpa2Ugc286XG4gKiBodG1sUGFyc2VyKGh0bWxTdHJpbmcsIHtcbiAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHt9LFxuICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAqICAgICBjaGFyczogZnVuY3Rpb24odGV4dCkge30sXG4gKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAqIH0pO1xuICpcbiAqL1xuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNhbml0aXplXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBUaGUgaW5wdXQgaXMgc2FuaXRpemVkIGJ5IHBhcnNpbmcgdGhlIEhUTUwgaW50byB0b2tlbnMuIEFsbCBzYWZlIHRva2VucyAoZnJvbSBhIHdoaXRlbGlzdCkgYXJlXG4gKiAgIHRoZW4gc2VyaWFsaXplZCBiYWNrIHRvIHByb3Blcmx5IGVzY2FwZWQgaHRtbCBzdHJpbmcuIFRoaXMgbWVhbnMgdGhhdCBubyB1bnNhZmUgaW5wdXQgY2FuIG1ha2VcbiAqICAgaXQgaW50byB0aGUgcmV0dXJuZWQgc3RyaW5nLCBob3dldmVyLCBzaW5jZSBvdXIgcGFyc2VyIGlzIG1vcmUgc3RyaWN0IHRoYW4gYSB0eXBpY2FsIGJyb3dzZXJcbiAqICAgcGFyc2VyLCBpdCdzIHBvc3NpYmxlIHRoYXQgc29tZSBvYnNjdXJlIGlucHV0LCB3aGljaCB3b3VsZCBiZSByZWNvZ25pemVkIGFzIHZhbGlkIEhUTUwgYnkgYVxuICogICBicm93c2VyLCB3b24ndCBtYWtlIGl0IHRocm91Z2ggdGhlIHNhbml0aXplci4gVGhlIGlucHV0IG1heSBhbHNvIGNvbnRhaW4gU1ZHIG1hcmt1cC5cbiAqICAgVGhlIHdoaXRlbGlzdCBpcyBjb25maWd1cmVkIHVzaW5nIHRoZSBmdW5jdGlvbnMgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YCBhbmRcbiAqICAgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGAgb2Yge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIgYCRjb21waWxlUHJvdmlkZXJgfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbCBIVE1MIGlucHV0LlxuICogQHJldHVybnMge3N0cmluZ30gU2FuaXRpemVkIEhUTUwuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cInNhbml0aXplRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3Nhbml0aXplRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc2NlJywgZnVuY3Rpb24oJHNjb3BlLCAkc2NlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnNuaXBwZXQgPVxuICAgICAgICAgICAgICAgJzxwIHN0eWxlPVwiY29sb3I6Ymx1ZVwiPmFuIGh0bWxcXG4nICtcbiAgICAgICAgICAgICAgICc8ZW0gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PVxcJ1BXTjNEIVxcJ1wiPmNsaWNrIGhlcmU8L2VtPlxcbicgK1xuICAgICAgICAgICAgICAgJ3NuaXBwZXQ8L3A+JztcbiAgICAgICAgICAgICAkc2NvcGUuZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbCgkc2NvcGUuc25pcHBldCk7XG4gICAgICAgICAgICAgfTtcbiAgICAgICAgICAgfV0pO1xuICAgICA8L3NjcmlwdD5cbiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgU25pcHBldDogPHRleHRhcmVhIG5nLW1vZGVsPVwic25pcHBldFwiIGNvbHM9XCI2MFwiIHJvd3M9XCIzXCI+PC90ZXh0YXJlYT5cbiAgICAgICA8dGFibGU+XG4gICAgICAgICA8dHI+XG4gICAgICAgICAgIDx0ZD5EaXJlY3RpdmU8L3RkPlxuICAgICAgICAgICA8dGQ+SG93PC90ZD5cbiAgICAgICAgICAgPHRkPlNvdXJjZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5SZW5kZXJlZDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1odG1sLXdpdGgtc2FuaXRpemVcIj5cbiAgICAgICAgICAgPHRkPm5nLWJpbmQtaHRtbDwvdGQ+XG4gICAgICAgICAgIDx0ZD5BdXRvbWF0aWNhbGx5IHVzZXMgJHNhbml0aXplPC90ZD5cbiAgICAgICAgICAgPHRkPjxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0XCImZ3Q7PGJyLz4mbHQ7L2RpdiZndDs8L3ByZT48L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWh0bWwtd2l0aC10cnVzdFwiPlxuICAgICAgICAgICA8dGQ+bmctYmluZC1odG1sPC90ZD5cbiAgICAgICAgICAgPHRkPkJ5cGFzcyAkc2FuaXRpemUgYnkgZXhwbGljaXRseSB0cnVzdGluZyB0aGUgZGFuZ2Vyb3VzIHZhbHVlPC90ZD5cbiAgICAgICAgICAgPHRkPlxuICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwiZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0KClcIiZndDtcbiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kLWh0bWw9XCJkZWxpYmVyYXRlbHlUcnVzdERhbmdlcm91c1NuaXBwZXQoKVwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1kZWZhdWx0XCI+XG4gICAgICAgICAgIDx0ZD5uZy1iaW5kPC90ZD5cbiAgICAgICAgICAgPHRkPkF1dG9tYXRpY2FsbHkgZXNjYXBlczwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZD1cInNuaXBwZXRcIiZndDs8YnIvPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB0aGUgaHRtbCBzbmlwcGV0IGJ5IGRlZmF1bHQnLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZSBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxuICAgICAgICAgdG9CZSgnPHA+YW4gaHRtbFxcbjxlbT5jbGljayBoZXJlPC9lbT5cXG5zbmlwcGV0PC9wPicpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIGlubGluZSByYXcgc25pcHBldCBpZiBib3VuZCB0byBhIHRydXN0ZWQgdmFsdWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC10cnVzdCBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxuICAgICAgICAgdG9CZShcIjxwIHN0eWxlPVxcXCJjb2xvcjpibHVlXFxcIj5hbiBodG1sXFxuXCIgK1xuICAgICAgICAgICAgICBcIjxlbSBvbm1vdXNlb3Zlcj1cXFwidGhpcy50ZXh0Q29udGVudD0nUFdOM0QhJ1xcXCI+Y2xpY2sgaGVyZTwvZW0+XFxuXCIgK1xuICAgICAgICAgICAgICBcInNuaXBwZXQ8L3A+XCIpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIGVzY2FwZSBzbmlwcGV0IHdpdGhvdXQgYW55IGZpbHRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtZGVmYXVsdCBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxuICAgICAgICAgdG9CZShcIiZsdDtwIHN0eWxlPVxcXCJjb2xvcjpibHVlXFxcIiZndDthbiBodG1sXFxuXCIgK1xuICAgICAgICAgICAgICBcIiZsdDtlbSBvbm1vdXNlb3Zlcj1cXFwidGhpcy50ZXh0Q29udGVudD0nUFdOM0QhJ1xcXCImZ3Q7Y2xpY2sgaGVyZSZsdDsvZW0mZ3Q7XFxuXCIgK1xuICAgICAgICAgICAgICBcInNuaXBwZXQmbHQ7L3AmZ3Q7XCIpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuY2xlYXIoKTtcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLnNlbmRLZXlzKCduZXcgPGIgb25jbGljaz1cImFsZXJ0KDEpXCI+dGV4dDwvYj4nKTtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZSBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxuICAgICAgICAgdG9CZSgnbmV3IDxiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtdHJ1c3QgZGl2JykpLmdldElubmVySHRtbCgpKS50b0JlKFxuICAgICAgICAgJ25ldyA8YiBvbmNsaWNrPVwiYWxlcnQoMSlcIj50ZXh0PC9iPicpO1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtZGVmYXVsdCBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLnRvQmUoXG4gICAgICAgICBcIm5ldyAmbHQ7YiBvbmNsaWNrPVxcXCJhbGVydCgxKVxcXCImZ3Q7dGV4dCZsdDsvYiZndDtcIik7XG4gICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBkKCl7dGhpcy4kZ2V0PVtcIiQkc2FuaXRpemVVcmlcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGFyZ3VtZW50c1sxXSYmKGFyZ3VtZW50c1sxXS52ZXJzaW9uPVwidGFTYW5pdGl6ZVwiKTt2YXIgYz1bXTtyZXR1cm4gZyhiLGwoYyxmdW5jdGlvbihiLGMpe3JldHVybiEvXnVuc2FmZS8udGVzdChhKGIsYykpfSkpLGMuam9pbihcIlwiKX19XX1mdW5jdGlvbiBlKGEpe3ZhciBjPVtdLGQ9bChjLGIubm9vcCk7cmV0dXJuIGQuY2hhcnMoYSksYy5qb2luKFwiXCIpfWZ1bmN0aW9uIGYoYSl7dmFyIGIsYz17fSxkPWEuc3BsaXQoXCIsXCIpO2ZvcihiPTA7YjxkLmxlbmd0aDtiKyspY1tkW2JdXT0hMDtyZXR1cm4gY30vKipcbiAqIEBleGFtcGxlXG4gKiBodG1sUGFyc2VyKGh0bWxTdHJpbmcsIHtcbiAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHt9LFxuICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAqICAgICBjaGFyczogZnVuY3Rpb24odGV4dCkge30sXG4gKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAqIH0pO1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIHN0cmluZ1xuICogQHBhcmFtIHtvYmplY3R9IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gZyhhLGMpe2Z1bmN0aW9uIGQoYSxkLGYsZyl7aWYoZD1iLmxvd2VyY2FzZShkKSxEW2RdKWZvcig7ay5sYXN0KCkmJkVbay5sYXN0KCldOyllKFwiXCIsay5sYXN0KCkpO0NbZF0mJmsubGFzdCgpPT1kJiZlKFwiXCIsZCksZz16W2RdfHwhIWcsZ3x8ay5wdXNoKGQpO3ZhciBpPXt9O2YucmVwbGFjZShwLGZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9Y3x8ZHx8ZXx8XCJcIjtpW2JdPWgoZil9KSxjLnN0YXJ0JiZjLnN0YXJ0KGQsaSxnKX1mdW5jdGlvbiBlKGEsZCl7dmFyIGUsZj0wO2lmKGQ9Yi5sb3dlcmNhc2UoZCkpXG4vLyBGaW5kIHRoZSBjbG9zZXN0IG9wZW5lZCB0YWcgb2YgdGhlIHNhbWUgdHlwZVxuZm9yKGY9ay5sZW5ndGgtMTtmPj0wJiZrW2ZdIT1kO2YtLSk7aWYoZj49MCl7XG4vLyBDbG9zZSBhbGwgdGhlIG9wZW4gZWxlbWVudHMsIHVwIHRoZSBzdGFja1xuZm9yKGU9ay5sZW5ndGgtMTtlPj1mO2UtLSljLmVuZCYmYy5lbmQoa1tlXSk7XG4vLyBSZW1vdmUgdGhlIG9wZW4gZWxlbWVudHMgZnJvbSB0aGUgc3RhY2tcbmsubGVuZ3RoPWZ9fVwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYT1udWxsPT09YXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGE/XCJcIjpcIlwiK2EpO3ZhciBmLGcsaSxqLGs9W10sbD1hO2ZvcihrLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4ga1trLmxlbmd0aC0xXX07YTspe1xuLy8gTWFrZSBzdXJlIHdlJ3JlIG5vdCBpbiBhIHNjcmlwdCBvciBzdHlsZSBlbGVtZW50XG5pZihqPVwiXCIsZz0hMCxrLmxhc3QoKSYmR1trLmxhc3QoKV0pYT1hLnJlcGxhY2UobmV3IFJlZ0V4cChcIihbXl0qKTxcXFxccypcXFxcL1xcXFxzKlwiK2subGFzdCgpK1wiW14+XSo+XCIsXCJpXCIpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9Yi5yZXBsYWNlKHMsXCIkMVwiKS5yZXBsYWNlKHYsXCIkMVwiKSxjLmNoYXJzJiZjLmNoYXJzKGgoYikpLFwiXCJ9KSxlKFwiXCIsay5sYXN0KCkpO2Vsc2V7XG4vLyBXaGl0ZSBzcGFjZVxuaWYoeS50ZXN0KGEpKXtpZihpPWEubWF0Y2goeSkpe2lbMF07Yy53aGl0ZXNwYWNlJiZjLndoaXRlc3BhY2UoaVswXSksYT1hLnJlcGxhY2UoaVswXSxcIlwiKSxnPSExfX1lbHNlIHQudGVzdChhKT8oaT1hLm1hdGNoKHQpLGkmJihjLmNvbW1lbnQmJmMuY29tbWVudChpWzFdKSxhPWEucmVwbGFjZShpWzBdLFwiXCIpLGc9ITEpKTp1LnRlc3QoYSk/KGk9YS5tYXRjaCh1KSxpJiYoYT1hLnJlcGxhY2UoaVswXSxcIlwiKSxnPSExKSk6ci50ZXN0KGEpPyhpPWEubWF0Y2gobyksaSYmKGE9YS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLGlbMF0ucmVwbGFjZShvLGUpLGc9ITEpKTpxLnRlc3QoYSkmJihpPWEubWF0Y2gobiksaT8oXG4vLyBXZSBvbmx5IGhhdmUgYSB2YWxpZCBzdGFydC10YWcgaWYgdGhlcmUgaXMgYSAnPicuXG5pWzRdJiYoYT1hLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksaVswXS5yZXBsYWNlKG4sZCkpLGc9ITEpOihcbi8vIG5vIGVuZGluZyB0YWcgZm91bmQgLS0tIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGVuY29kZWQgYXMgYW4gZW50aXR5Llxuais9XCI8XCIsYT1hLnN1YnN0cmluZygxKSkpO2cmJihmPWEuaW5kZXhPZihcIjxcIiksais9ZjwwP2E6YS5zdWJzdHJpbmcoMCxmKSxhPWY8MD9cIlwiOmEuc3Vic3RyaW5nKGYpLGMuY2hhcnMmJmMuY2hhcnMoaChqKSkpfWlmKGE9PWwpdGhyb3cgbShcImJhZHBhcnNlXCIsXCJUaGUgc2FuaXRpemVyIHdhcyB1bmFibGUgdG8gcGFyc2UgdGhlIGZvbGxvd2luZyBibG9jayBvZiBodG1sOiB7MH1cIixhKTtsPWF9XG4vLyBDbGVhbiB1cCBhbnkgcmVtYWluaW5nIHRhZ3NcbmUoKX0vKipcbiAqIGRlY29kZXMgYWxsIGVudGl0aWVzIGludG8gcmVndWxhciBzdHJpbmdcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmcgd2l0aCBkZWNvZGVkIGVudGl0aWVzLlxuICovXG5mdW5jdGlvbiBoKGEpe2lmKCFhKXJldHVyblwiXCI7XG4vLyBOb3RlOiBJRTggZG9lcyBub3QgcHJlc2VydmUgc3BhY2VzIGF0IHRoZSBzdGFydC9lbmQgb2YgaW5uZXJIVE1MXG4vLyBzbyB3ZSBtdXN0IGNhcHR1cmUgdGhlbSBhbmQgcmVhdHRhY2ggdGhlbSBhZnRlcndhcmRcbnZhciBiPU4uZXhlYyhhKSxjPWJbMV0sZD1iWzNdLGU9YlsyXTtcbi8vIGlubmVyVGV4dCBkZXBlbmRzIG9uIHN0eWxpbmcgYXMgaXQgZG9lc24ndCBkaXNwbGF5IGhpZGRlbiBlbGVtZW50cy5cbi8vIFRoZXJlZm9yZSwgaXQncyBiZXR0ZXIgdG8gdXNlIHRleHRDb250ZW50IG5vdCB0byBjYXVzZSB1bm5lY2Vzc2FyeVxuLy8gcmVmbG93cy4gSG93ZXZlciwgSUU8OSBkb24ndCBzdXBwb3J0IHRleHRDb250ZW50IHNvIHRoZSBpbm5lclRleHRcbi8vIGZhbGxiYWNrIGlzIG5lY2Vzc2FyeS5cbnJldHVybiBlJiYoTS5pbm5lckhUTUw9ZS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLGU9XCJ0ZXh0Q29udGVudFwiaW4gTT9NLnRleHRDb250ZW50Ok0uaW5uZXJUZXh0KSxjK2UrZH0vKipcbiAqIEVzY2FwZXMgYWxsIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjaGFyYWN0ZXJzLCBzbyB0aGF0IHRoZVxuICogcmVzdWx0aW5nIHN0cmluZyBjYW4gYmUgc2FmZWx5IGluc2VydGVkIGludG8gYXR0cmlidXRlIG9yXG4gKiBlbGVtZW50IHRleHQuXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGVzY2FwZWQgdGV4dFxuICovXG5mdW5jdGlvbiBpKGEpe3JldHVybiBhLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UodyxmdW5jdGlvbihhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCksYz1hLmNoYXJDb2RlQXQoMSk7cmV0dXJuXCImI1wiKygxMDI0KihiLTU1Mjk2KSsoYy01NjMyMCkrNjU1MzYpK1wiO1wifSkucmVwbGFjZSh4LGZ1bmN0aW9uKGEpe1xuLy8gdW5zYWZlIGNoYXJzIGFyZTogXFx1MDAwMC1cXHUwMDFmIFxcdTAwN2YtXFx1MDA5ZiBcXHUwMGFkIFxcdTA2MDAtXFx1MDYwNCBcXHUwNzBmIFxcdTE3YjQgXFx1MTdiNSBcXHUyMDBjLVxcdTIwMGYgXFx1MjAyOC1cXHUyMDJmIFxcdTIwNjAtXFx1MjA2ZiBcXHVmZWZmIFxcdWZmZjAtXFx1ZmZmZiBmcm9tIGpzbGludC5jb20vbGludC5odG1sXG4vLyBkZWNpbWFsIHZhbHVlcyBhcmU6IDAtMzEsIDEyNy0xNTksIDE3MywgMTUzNi0xNTQwLCAxODA3LCA2MDY4LCA2MDY5LCA4MjA0LTgyMDcsIDgyMzItODIzOSwgODI4OC04MzAzLCA2NTI3OSwgNjU1MjAtNjU1MzVcbnZhciBiPWEuY2hhckNvZGVBdCgwKTtcbi8vIGlmIHVuc2FmZSBjaGFyYWN0ZXIgZW5jb2RlXG4vLyBpZiB1bnNhZmUgY2hhcmFjdGVyIGVuY29kZVxucmV0dXJuIGI8PTE1OXx8MTczPT1ifHxiPj0xNTM2JiZiPD0xNTQwfHwxODA3PT1ifHw2MDY4PT1ifHw2MDY5PT1ifHxiPj04MjA0JiZiPD04MjA3fHxiPj04MjMyJiZiPD04MjM5fHxiPj04Mjg4JiZiPD04MzAzfHw2NTI3OT09Ynx8Yj49NjU1MjAmJmI8PTY1NTM1P1wiJiNcIitiK1wiO1wiOmF9KS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIil9XG4vLyBDdXN0b20gbG9naWMgZm9yIGFjY2VwdGluZyBjZXJ0YWluIHN0eWxlIG9wdGlvbnMgb25seSAtIHRleHRBbmd1bGFyXG4vLyBDdXJyZW50bHkgYWxsb3dzIG9ubHkgdGhlIGNvbG9yLCBiYWNrZ3JvdW5kLWNvbG9yLCB0ZXh0LWFsaWduLCBmbG9hdCwgd2lkdGggYW5kIGhlaWdodCBhdHRyaWJ1dGVzXG4vLyBhbGwgb3RoZXIgYXR0cmlidXRlcyBzaG91bGQgYmUgZWFzaWx5IGRvbmUgdGhyb3VnaCBjbGFzc2VzLlxuZnVuY3Rpb24gaihhKXt2YXIgYz1cIlwiLGQ9YS5zcGxpdChcIjtcIik7cmV0dXJuIGIuZm9yRWFjaChkLGZ1bmN0aW9uKGEpe3ZhciBkPWEuc3BsaXQoXCI6XCIpO2lmKDI9PWQubGVuZ3RoKXt2YXIgZT1PKGIubG93ZXJjYXNlKGRbMF0pKSxhPU8oYi5sb3dlcmNhc2UoZFsxXSkpOygoXCJjb2xvclwiPT09ZXx8XCJiYWNrZ3JvdW5kLWNvbG9yXCI9PT1lKSYmKGEubWF0Y2goL15yZ2JcXChbMC05JSxcXC4gXSpcXCkkL2kpfHxhLm1hdGNoKC9ecmdiYVxcKFswLTklLFxcLiBdKlxcKSQvaSl8fGEubWF0Y2goL15oc2xcXChbMC05JSxcXC4gXSpcXCkkL2kpfHxhLm1hdGNoKC9eaHNsYVxcKFswLTklLFxcLiBdKlxcKSQvaSl8fGEubWF0Y2goL14jWzAtOWEtZl17Myw2fSQvaSl8fGEubWF0Y2goL15bYS16XSokL2kpKXx8XCJ0ZXh0LWFsaWduXCI9PT1lJiYoXCJsZWZ0XCI9PT1hfHxcInJpZ2h0XCI9PT1hfHxcImNlbnRlclwiPT09YXx8XCJqdXN0aWZ5XCI9PT1hKXx8XCJ0ZXh0LWRlY29yYXRpb25cIj09PWUmJihcInVuZGVybGluZVwiPT09YXx8XCJsaW5lLXRocm91Z2hcIj09PWEpfHxcImZvbnQtd2VpZ2h0XCI9PT1lJiZcImJvbGRcIj09PWF8fFwiZm9udC1zdHlsZVwiPT09ZSYmXCJpdGFsaWNcIj09PWF8fFwiZmxvYXRcIj09PWUmJihcImxlZnRcIj09PWF8fFwicmlnaHRcIj09PWF8fFwibm9uZVwiPT09YSl8fFwidmVydGljYWwtYWxpZ25cIj09PWUmJihcImJhc2VsaW5lXCI9PT1hfHxcInN1YlwiPT09YXx8XCJzdXBlclwiPT09YXx8XCJ0ZXN0LXRvcFwiPT09YXx8XCJ0ZXh0LWJvdHRvbVwiPT09YXx8XCJtaWRkbGVcIj09PWF8fFwidG9wXCI9PT1hfHxcImJvdHRvbVwiPT09YXx8YS5tYXRjaCgvWzAtOV0qKHB4fGVtKS8pfHxhLm1hdGNoKC9bMC05XSs/JS8pKXx8XCJmb250LXNpemVcIj09PWUmJihcInh4LXNtYWxsXCI9PT1hfHxcIngtc21hbGxcIj09PWF8fFwic21hbGxcIj09PWF8fFwibWVkaXVtXCI9PT1hfHxcImxhcmdlXCI9PT1hfHxcIngtbGFyZ2VcIj09PWF8fFwieHgtbGFyZ2VcIj09PWF8fFwibGFyZ2VyXCI9PT1hfHxcInNtYWxsZXJcIj09PWF8fGEubWF0Y2goL1swLTldKlxcLj9bMC05XSoocHh8ZW18cmVtfG1tfHF8Y218aW58cHR8cGN8JSkvKSl8fChcIndpZHRoXCI9PT1lfHxcImhlaWdodFwiPT09ZSkmJmEubWF0Y2goL1swLTlcXC5dKihweHxlbXxyZW18JSkvKXx8Ly8gUmVmZXJlbmNlICM1MjBcblwiZGlyZWN0aW9uXCI9PT1lJiZhLm1hdGNoKC9ebHRyfHJ0bHxpbml0aWFsfGluaGVyaXQkLykpJiYoYys9ZStcIjogXCIrYStcIjtcIil9fSksY31cbi8vIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBtYW51YWxseSBhbGxvdyBzcGVjaWZpYyBhdHRyaWJ1dGVzIG9uIHNwZWNpZmljIHRhZ3Mgd2l0aCBjZXJ0YWluIHByZXJlcXVpc2l0ZXNcbmZ1bmN0aW9uIGsoYSxiLGMsZCl7XG4vLyBjYXRjaCB0aGUgZGl2IHBsYWNlaG9sZGVyIGZvciB0aGUgaWZyYW1lIHJlcGxhY2VtZW50XG5yZXR1cm4hKFwiaW1nXCIhPT1hfHwhYltcInRhLWluc2VydC12aWRlb1wiXXx8XCJ0YS1pbnNlcnQtdmlkZW9cIiE9PWMmJlwiYWxsb3dmdWxsc2NyZWVuXCIhPT1jJiZcImZyYW1lYm9yZGVyXCIhPT1jJiYoXCJjb250ZW50ZWRpdGFibGVcIiE9PWN8fFwiZmFsc2VcIiE9PWQpKX0vKipcbiAqIGNyZWF0ZSBhbiBIVE1ML1hNTCB3cml0ZXIgd2hpY2ggd3JpdGVzIHRvIGJ1ZmZlclxuICogQHBhcmFtIHtBcnJheX0gYnVmIHVzZSBidWYuamFpbignJykgdG8gZ2V0IG91dCBzYW5pdGl6ZWQgaHRtbCBzdHJpbmdcbiAqIEByZXR1cm5zIHtvYmplY3R9IGluIHRoZSBmb3JtIG9mIHtcbiAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHt9LFxuICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAqICAgICBjaGFyczogZnVuY3Rpb24odGV4dCkge30sXG4gKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAqIH1cbiAqL1xuZnVuY3Rpb24gbChhLGMpe3ZhciBkPSExLGU9Yi5iaW5kKGEsYS5wdXNoKTtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oYSxmLGcpe2E9Yi5sb3dlcmNhc2UoYSksIWQmJkdbYV0mJihkPWEpLGR8fEhbYV0hPT0hMHx8KGUoXCI8XCIpLGUoYSksYi5mb3JFYWNoKGYsZnVuY3Rpb24oZCxnKXt2YXIgaD1iLmxvd2VyY2FzZShnKSxsPVwiaW1nXCI9PT1hJiZcInNyY1wiPT09aHx8XCJiYWNrZ3JvdW5kXCI9PT1oOyhcInN0eWxlXCI9PT1oJiZcIlwiIT09KGQ9aihkKSl8fGsoYSxmLGgsZCl8fExbaF09PT0hMCYmKElbaF0hPT0hMHx8YyhkLGwpKSkmJihlKFwiIFwiKSxlKGcpLGUoJz1cIicpLGUoaShkKSksZSgnXCInKSl9KSxlKGc/XCIvPlwiOlwiPlwiKSl9LGNvbW1lbnQ6ZnVuY3Rpb24oYSl7ZShhKX0sd2hpdGVzcGFjZTpmdW5jdGlvbihhKXtlKGkoYSkpfSxlbmQ6ZnVuY3Rpb24oYSl7YT1iLmxvd2VyY2FzZShhKSxkfHxIW2FdIT09ITB8fChlKFwiPC9cIiksZShhKSxlKFwiPlwiKSksYT09ZCYmKGQ9ITEpfSxjaGFyczpmdW5jdGlvbihhKXtkfHxlKGkoYSkpfX19dmFyIG09Yi4kJG1pbkVycihcIiRzYW5pdGl6ZVwiKSxuPS9ePCgoPzpbYS16QS1aXSlbXFx3Oi1dKikoKD86XFxzK1tcXHc6LV0rKD86XFxzKj1cXHMqKD86KD86XCJbXlwiXSpcIil8KD86J1teJ10qJyl8W14+XFxzXSspKT8pKilcXHMqKFxcLz8pXFxzKig+PykvLG89L148XFwvXFxzKihbXFx3Oi1dKylbXj5dKj4vLHA9LyhbXFx3Oi1dKykoPzpcXHMqPVxccyooPzooPzpcIigoPzpbXlwiXSkqKVwiKXwoPzonKCg/OlteJ10pKiknKXwoW14+XFxzXSspKSk/L2cscT0vXjwvLHI9L148XFwvLyxzPS88IS0tKC4qPyktLT4vZyx0PS8oXjwhLS0uKj8tLT4pLyx1PS88IURPQ1RZUEUoW14+XSo/KT4vaSx2PS88IVxcW0NEQVRBXFxbKC4qPyldXT4vZyx3PS9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2csXG4vLyBNYXRjaCBldmVyeXRoaW5nIG91dHNpZGUgb2Ygbm9ybWFsIGNoYXJzIGFuZCBcIiAocXVvdGUgY2hhcmFjdGVyKVxueD0vKFteXFwjLX58IHwhXSkvZyx5PS9eKFxccyspLyx6PWYoXCJhcmVhLGJyLGNvbCxocixpbWcsd2JyLGlucHV0XCIpLEE9ZihcImNvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHJcIiksQj1mKFwicnAscnRcIiksQz1iLmV4dGVuZCh7fSxCLEEpLEQ9Yi5leHRlbmQoe30sQSxmKFwiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1hcCxtZW51LG5hdixvbCxwcmUsc2NyaXB0LHNlY3Rpb24sdGFibGUsdWxcIikpLEU9Yi5leHRlbmQoe30sQixmKFwiYSxhYmJyLGFjcm9ueW0sYixiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscSxydWJ5LHJwLHJ0LHMsc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHR0LHUsdmFyXCIpKSxGPWYoXCJhbmltYXRlLGFuaW1hdGVDb2xvcixhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGRlZnMsZGVzYyxlbGxpcHNlLGZvbnQtZmFjZSxmb250LWZhY2UtbmFtZSxmb250LWZhY2Utc3JjLGcsZ2x5cGgsaGtlcm4saW1hZ2UsbGluZWFyR3JhZGllbnQsbGluZSxtYXJrZXIsbWV0YWRhdGEsbWlzc2luZy1nbHlwaCxtcGF0aCxwYXRoLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc3RvcCxzdmcsc3dpdGNoLHRleHQsdGl0bGUsdHNwYW4sdXNlXCIpLEc9ZihcInNjcmlwdCxzdHlsZVwiKSxIPWIuZXh0ZW5kKHt9LHosRCxFLEMsRiksST1mKFwiYmFja2dyb3VuZCxjaXRlLGhyZWYsbG9uZ2Rlc2Msc3JjLHVzZW1hcCx4bGluazpocmVmXCIpLEo9ZihcImFiYnIsYWxpZ24sYWx0LGF4aXMsYmdjb2xvcixib3JkZXIsY2VsbHBhZGRpbmcsY2VsbHNwYWNpbmcsY2xhc3MsY2xlYXIsY29sb3IsY29scyxjb2xzcGFuLGNvbXBhY3QsY29vcmRzLGRpcixmYWNlLGhlYWRlcnMsaGVpZ2h0LGhyZWZsYW5nLGhzcGFjZSxpZCxpc21hcCxsYW5nLGxhbmd1YWdlLG5vaHJlZixub3dyYXAscmVsLHJldixyb3dzLHJvd3NwYW4scnVsZXMsc2NvcGUsc2Nyb2xsaW5nLHNoYXBlLHNpemUsc3BhbixzdGFydCxzdW1tYXJ5LHRhcmdldCx0aXRsZSx0eXBlLHZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGhcIiksSz1mKFwiYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFscGhhYmV0aWMsYXJhYmljLWZvcm0sYXNjZW50LGF0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY29sb3IsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnQsY3gsY3ksZCxkeCxkeSxkZXNjZW50LGRpc3BsYXksZHVyLGVuZCxmaWxsLGZpbGwtcnVsZSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZyb20sZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkZW9ncmFwaGljLGssa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXRoZW1hdGljYWwsbWF4LG1pbixvZmZzZXQsb3BhY2l0eSxvcmllbnQsb3JpZ2luLG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYXRoLHBhdGhMZW5ndGgscG9pbnRzLHByZXNlcnZlQXNwZWN0UmF0aW8scixyZWZYLHJlZlkscmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscm90YXRlLHJ4LHJ5LHNsb3BlLHN0ZW1oLHN0ZW12LHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzeXN0ZW1MYW5ndWFnZSx0YXJnZXQsdGV4dC1hbmNob3IsdG8sdHJhbnNmb3JtLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2YWx1ZXMsdmVyc2lvbix2aWV3Qm94LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHgseC1oZWlnaHQseDEseDIseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx4bWxucyx4bWxuczp4bGluayx5LHkxLHkyLHpvb21BbmRQYW5cIiksTD1iLmV4dGVuZCh7fSxJLEssSiksTT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpLE49L14oXFxzKikoW1xcc1xcU10qPykoXFxzKikkLyxPPWZ1bmN0aW9uKCl7XG4vLyBuYXRpdmUgdHJpbSBpcyB3YXkgZmFzdGVyOiBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyLXRyaW0tdGVzdFxuLy8gYnV0IElFIGRvZXNuJ3QgaGF2ZSBpdC4uLiA6LShcbi8vIFRPRE86IHdlIHNob3VsZCBtb3ZlIHRoaXMgaW50byBJRS9FUzUgcG9seWZpbGxcbi8vIG5hdGl2ZSB0cmltIGlzIHdheSBmYXN0ZXI6IGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXItdHJpbS10ZXN0XG4vLyBidXQgSUUgZG9lc24ndCBoYXZlIGl0Li4uIDotKFxuLy8gVE9ETzogd2Ugc2hvdWxkIG1vdmUgdGhpcyBpbnRvIElFL0VTNSBwb2x5ZmlsbFxucmV0dXJuIFN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbihhKXtyZXR1cm4gYi5pc1N0cmluZyhhKT9hLnRyaW0oKTphfTpmdW5jdGlvbihhKXtyZXR1cm4gYi5pc1N0cmluZyhhKT9hLnJlcGxhY2UoL15cXHNcXHMqLyxcIlwiKS5yZXBsYWNlKC9cXHNcXHMqJC8sXCJcIik6YX19KCk7XG4vLyBkZWZpbmUgbmdTYW5pdGl6ZSBtb2R1bGUgYW5kIHJlZ2lzdGVyICRzYW5pdGl6ZSBzZXJ2aWNlXG5iLm1vZHVsZShcIm5nU2FuaXRpemVcIixbXSkucHJvdmlkZXIoXCIkc2FuaXRpemVcIixkKSwvKiBnbG9iYWwgc2FuaXRpemVUZXh0OiBmYWxzZSAqL1xuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBsaW5reVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZpbmRzIGxpbmtzIGluIHRleHQgaW5wdXQgYW5kIHR1cm5zIHRoZW0gaW50byBodG1sIGxpbmtzLiBTdXBwb3J0cyBodHRwL2h0dHBzL2Z0cC9tYWlsdG8gYW5kXG4gKiBwbGFpbiBlbWFpbCBhZGRyZXNzIGxpbmtzLlxuICpcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSBgbmdTYW5pdGl6ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgSW5wdXQgdGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXQgV2luZG93IChfYmxhbmt8X3NlbGZ8X3BhcmVudHxfdG9wKSBvciBuYW1lZCBmcmFtZSB0byBvcGVuIGxpbmtzIGluLlxuICogQHJldHVybnMge3N0cmluZ30gSHRtbC1saW5raWZpZWQgdGV4dC5cbiAqXG4gKiBAdXNhZ2VcbiAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cImxpbmt5X2V4cHJlc3Npb24gfCBsaW5reVwiPjwvc3Bhbj5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGlua3lFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpbmt5RXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0ID1cbiAgICAgICAgICAgICAgICdQcmV0dHkgdGV4dCB3aXRoIHNvbWUgbGlua3M6XFxuJytcbiAgICAgICAgICAgICAgICdodHRwOi8vYW5ndWxhcmpzLm9yZy8sXFxuJytcbiAgICAgICAgICAgICAgICdtYWlsdG86dXNAc29tZXdoZXJlLm9yZyxcXG4nK1xuICAgICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZyxcXG4nK1xuICAgICAgICAgICAgICAgJ2FuZCBvbmUgbW9yZTogZnRwOi8vMTI3LjAuMC4xLy4nO1xuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0V2l0aFRhcmdldCA9ICdodHRwOi8vYW5ndWxhcmpzLm9yZy8nO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICBTbmlwcGV0OiA8dGV4dGFyZWEgbmctbW9kZWw9XCJzbmlwcGV0XCIgY29scz1cIjYwXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPlxuICAgICAgIDx0YWJsZT5cbiAgICAgICAgIDx0cj5cbiAgICAgICAgICAgPHRkPkZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD5Tb3VyY2U8L3RkPlxuICAgICAgICAgICA8dGQ+UmVuZGVyZWQ8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImxpbmt5LWZpbHRlclwiPlxuICAgICAgICAgICA8dGQ+bGlua3kgZmlsdGVyPC90ZD5cbiAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0IHwgbGlua3lcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICA8ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXQgfCBsaW5reVwiPjwvZGl2PlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImxpbmt5LXRhcmdldFwiPlxuICAgICAgICAgIDx0ZD5saW5reSB0YXJnZXQ8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFRhcmdldCB8IGxpbmt5OidfYmxhbmsnXCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFRhcmdldCB8IGxpbmt5OidfYmxhbmsnXCI+PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJlc2NhcGVkLWh0bWxcIj5cbiAgICAgICAgICAgPHRkPm5vIGZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZD1cInNuaXBwZXRcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZD1cInNuaXBwZXRcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGxpbmtpZnkgdGhlIHNuaXBwZXQgd2l0aCB1cmxzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIHVzQHNvbWV3aGVyZS5vcmcsICcgK1xuICAgICAgICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZywgYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2xpbmt5LWZpbHRlciBhJykpLmNvdW50KCkpLnRvRXF1YWwoNCk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIG5vdCBsaW5raWZ5IHNuaXBwZXQgd2l0aG91dCB0aGUgbGlua3kgZmlsdGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgIHRvQmUoJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczogaHR0cDovL2FuZ3VsYXJqcy5vcmcvLCBtYWlsdG86dXNAc29tZXdoZXJlLm9yZywgJyArXG4gICAgICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLCBhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjZXNjYXBlZC1odG1sIGEnKSkuY291bnQoKSkudG9FcXVhbCgwKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLnNlbmRLZXlzKCduZXcgaHR0cDovL2xpbmsuJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnbmV3IGh0dHA6Ly9saW5rLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2xpbmt5LWZpbHRlciBhJykpLmNvdW50KCkpLnRvRXF1YWwoMSk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpXG4gICAgICAgICAgICAgLnRvQmUoJ25ldyBodHRwOi8vbGluay4nKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgd29yayB3aXRoIHRoZSB0YXJnZXQgcHJvcGVydHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LXRhcmdldCcpKS5cbiAgICAgICAgICAgIGVsZW1lbnQoYnkuYmluZGluZyhcInNuaXBwZXRXaXRoVGFyZ2V0IHwgbGlua3k6J19ibGFuaydcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b0JlKCdodHRwOi8vYW5ndWxhcmpzLm9yZy8nKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjbGlua3ktdGFyZ2V0IGEnKSkuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSkudG9FcXVhbCgnX2JsYW5rJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuYi5tb2R1bGUoXCJuZ1Nhbml0aXplXCIpLmZpbHRlcihcImxpbmt5XCIsW1wiJHNhbml0aXplXCIsZnVuY3Rpb24oYSl7dmFyIGM9LygoZnRwfGh0dHBzPyk6XFwvXFwvfCh3d3dcXC4pfChtYWlsdG86KT9bQS1aYS16MC05Ll8lKy1dK0ApXFxTKlteXFxzLjssKCl7fTw+XCLigJ3igJldLyxkPS9ebWFpbHRvOi87cmV0dXJuIGZ1bmN0aW9uKGYsZyl7ZnVuY3Rpb24gaChhKXthJiZuLnB1c2goZShhKSl9ZnVuY3Rpb24gaShhLGMpe24ucHVzaChcIjxhIFwiKSxiLmlzRGVmaW5lZChnKSYmbi5wdXNoKCd0YXJnZXQ9XCInLGcsJ1wiICcpLG4ucHVzaCgnaHJlZj1cIicsYS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLCdcIj4nKSxoKGMpLG4ucHVzaChcIjwvYT5cIil9aWYoIWYpcmV0dXJuIGY7Zm9yKHZhciBqLGssbCxtPWYsbj1bXTtqPW0ubWF0Y2goYyk7KVxuLy8gV2UgY2FuIG5vdCBlbmQgaW4gdGhlc2UgYXMgdGhleSBhcmUgc29tZXRpbWVzIGZvdW5kIGF0IHRoZSBlbmQgb2YgdGhlIHNlbnRlbmNlXG5rPWpbMF0sXG4vLyBpZiB3ZSBkaWQgbm90IG1hdGNoIGZ0cC9odHRwL3d3dy9tYWlsdG8gdGhlbiBhc3N1bWUgbWFpbHRvXG5qWzJdfHxqWzRdfHwoaz0oalszXT9cImh0dHA6Ly9cIjpcIm1haWx0bzpcIikrayksbD1qLmluZGV4LGgobS5zdWJzdHIoMCxsKSksaShrLGpbMF0ucmVwbGFjZShkLFwiXCIpKSxtPW0uc3Vic3RyaW5nKGwralswXS5sZW5ndGgpO3JldHVybiBoKG0pLGEobi5qb2luKFwiXCIpKX19XSl9KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9wbHVnaW5zL3RleHRBbmd1bGFyLXNhbml0aXplLm1pbi5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FBS0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUErSEE7Ozs7Ozs7Ozs7OztBQVlBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOzs7OztBQUtBOzs7QUFHQTs7Ozs7QUFLQTs7Ozs7OztBQU9BOzs7QUFHQTs7O0FBR0E7Ozs7QUFJQTtBQUNBOztBQUVBOztBQUVBOzs7Ozs7Ozs7O0FBVUE7O0FBRUE7Ozs7Ozs7QUFPQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxR0E7O0FBRUE7O0FBRUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!function(a,b){ true?\n// AMD. Register as an anonymous module unless amdModuleId is set\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0),__webpack_require__(92)], __WEBPACK_AMD_DEFINE_RESULT__ = function(c,d){return a[\"textAngular.name\"]=b(c,d)}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):\"object\"==typeof exports?\n// Node. Does not work with strict CommonJS, but\n// only CommonJS-like environments that support module.exports,\n// like Node.\nmodule.exports=b(require(\"rangy\"),require(\"rangy/lib/rangy-selectionsaverestore\")):a.textAngular=b(rangy)}(this,function(a){\n// tests against the current jqLite/jquery implementation if this can be an element\nfunction b(a){try{return 0!==angular.element(a).length}catch(a){return!1}}/*\n    A tool definition is an object with the following key/value parameters:\n        action: [function(deferred, restoreSelection)]\n                a function that is executed on clicking on the button - this will allways be executed using ng-click and will\n                overwrite any ng-click value in the display attribute.\n                The function is passed a deferred object ($q.defer()), if this is wanted to be used `return false;` from the action and\n                manually call `deferred.resolve();` elsewhere to notify the editor that the action has finished.\n                restoreSelection is only defined if the rangy library is included and it can be called as `restoreSelection()` to restore the users\n                selection in the WYSIWYG editor.\n        display: [string]?\n                Optional, an HTML element to be displayed as the button. The `scope` of the button is the tool definition object with some additional functions\n                If set this will cause buttontext and iconclass to be ignored\n        class: [string]?\n                Optional, if set will override the taOptions.classes.toolbarButton class.\n        buttontext: [string]?\n                if this is defined it will replace the contents of the element contained in the `display` element\n        iconclass: [string]?\n                if this is defined an icon (<i>) will be appended to the `display` element with this string as it's class\n        tooltiptext: [string]?\n                Optional, a plain text description of the action, used for the title attribute of the action button in the toolbar by default.\n        activestate: [function(commonElement)]?\n                this function is called on every caret movement, if it returns true then the class taOptions.classes.toolbarButtonActive\n                will be applied to the `display` element, else the class will be removed\n        disabled: [function()]?\n                if this function returns true then the tool will have the class taOptions.classes.disabled applied to it, else it will be removed\n    Other functions available on the scope are:\n        name: [string]\n                the name of the tool, this is the first parameter passed into taRegisterTool\n        isDisabled: [function()]\n                returns true if the tool is disabled, false if it isn't\n        displayActiveToolClass: [function(boolean)]\n                returns true if the tool is 'active' in the currently focussed toolbar\n        onElementSelect: [Object]\n                This object contains the following key/value pairs and is used to trigger the ta-element-select event\n                element: [String]\n                    an element name, will only trigger the onElementSelect action if the tagName of the element matches this string\n                filter: [function(element)]?\n                    an optional filter that returns a boolean, if true it will trigger the onElementSelect.\n                action: [function(event, element, editorScope)]\n                    the action that should be executed if the onElementSelect function runs\n*/\n// name and toolDefinition to add into the tools available to be added on the toolbar\nfunction c(a,c){if(!a||\"\"===a||e.hasOwnProperty(a))throw\"textAngular Error: A unique name is required for a Tool Definition\";if(c.display&&(\"\"===c.display||!b(c.display))||!c.display&&!c.buttontext&&!c.iconclass)throw'textAngular Error: Tool Definition for \"'+a+'\" does not have a valid display/iconclass/buttontext value';e[a]=c}\n// usage is:\n// var t0 = performance.now();\n// doSomething();\n// var t1 = performance.now();\n// console.log('Took', (t1 - t0).toFixed(4), 'milliseconds to do something!');\n//\n// turn html into pure text that shows visiblity\nfunction d(a){var b=document.createElement(\"DIV\");b.innerHTML=a;var c=b.textContent||b.innerText||\"\";// zero width space\nreturn c.replace(\"\",\"\"),c=c.trim()}\n// setup the global contstant functions for setting up the toolbar\n// all tool definitions\nvar e={};angular.module(\"textAngularSetup\",[]).constant(\"taRegisterTool\",c).value(\"taTools\",e).value(\"taOptions\",{\n//////////////////////////////////////////////////////////////////////////////////////\n// forceTextAngularSanitize\n// set false to allow the textAngular-sanitize provider to be replaced\n// with angular-sanitize or a custom provider.\nforceTextAngularSanitize:!0,\n///////////////////////////////////////////////////////////////////////////////////////\n// keyMappings\n// allow customizable keyMappings for specialized key boards or languages\n//\n// keyMappings provides key mappings that are attached to a given commandKeyCode.\n// To modify a specific keyboard binding, simply provide function which returns true\n// for the event you wish to map to.\n// Or to disable a specific keyboard binding, provide a function which returns false.\n// Note: 'RedoKey' and 'UndoKey' are internally bound to the redo and undo functionality.\n// At present, the following commandKeyCodes are in use:\n// 98, 'TabKey', 'ShiftTabKey', 105, 117, 'UndoKey', 'RedoKey'\n//\n// To map to an new commandKeyCode, add a new key mapping such as:\n// {commandKeyCode: 'CustomKey', testForKey: function (event) {\n//  if (event.keyCode=57 && event.ctrlKey && !event.shiftKey && !event.altKey) return true;\n// } }\n// to the keyMappings. This example maps ctrl+9 to 'CustomKey'\n// Then where taRegisterTool(...) is called, add a commandKeyCode: 'CustomKey' and your\n// tool will be bound to ctrl+9.\n//\n// To disble one of the already bound commandKeyCodes such as 'RedoKey' or 'UndoKey' add:\n// {commandKeyCode: 'RedoKey', testForKey: function (event) { return false; } },\n// {commandKeyCode: 'UndoKey', testForKey: function (event) { return false; } },\n// to disable them.\n//\nkeyMappings:[],toolbar:[[\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"p\",\"pre\",\"quote\"],[\"bold\",\"italics\",\"underline\",\"strikeThrough\",\"ul\",\"ol\",\"redo\",\"undo\",\"clear\"],[\"justifyLeft\",\"justifyCenter\",\"justifyRight\",\"justifyFull\",\"indent\",\"outdent\"],[\"html\",\"insertImage\",\"insertLink\",\"insertVideo\",\"wordcount\",\"charcount\"]],classes:{focussed:\"focussed\",toolbar:\"btn-toolbar\",toolbarGroup:\"btn-group\",toolbarButton:\"btn btn-default\",toolbarButtonActive:\"active\",disabled:\"disabled\",textEditor:\"form-control\",htmlEditor:\"form-control\"},defaultTagAttributes:{a:{target:\"\"}},setup:{\n// wysiwyg mode\ntextEditorSetup:function(a){},\n// raw html\nhtmlEditorSetup:function(a){}},defaultFileDropHandler:/* istanbul ignore next: untestable image processing */\nfunction(a,b){var c=new FileReader;return\"image\"===a.type.substring(0,5)&&(c.onload=function(){\"\"!==c.result&&b(\"insertImage\",c.result,!0)},c.readAsDataURL(a),!0)}}).value(\"taSelectableElements\",[\"a\",\"img\"]).value(\"taCustomRenderers\",[{\n// Parse back out: '<div class=\"ta-insert-video\" ta-insert-video src=\"' + urlLink + '\" allowfullscreen=\"true\" width=\"300\" frameborder=\"0\" height=\"250\"></div>'\n// To correct video element. For now only support youtube\nselector:\"img\",customAttribute:\"ta-insert-video\",renderLogic:function(a){var b=angular.element(\"<iframe></iframe>\"),c=a.prop(\"attributes\");\n// loop through element attributes and apply them on iframe\nangular.forEach(c,function(a){b.attr(a.name,a.value)}),b.attr(\"src\",b.attr(\"ta-insert-video\")),a.replaceWith(b)}}]).value(\"taTranslations\",{\n// moved to sub-elements\n//toggleHTML: \"Toggle HTML\",\n//insertImage: \"Please enter a image URL to insert\",\n//insertLink: \"Please enter a URL to insert\",\n//insertVideo: \"Please enter a youtube URL to embed\",\nhtml:{tooltip:\"Toggle html / Rich Text\"},\n// tooltip for heading - might be worth splitting\nheading:{tooltip:\"Heading \"},p:{tooltip:\"Paragraph\"},pre:{tooltip:\"Preformatted text\"},ul:{tooltip:\"Unordered List\"},ol:{tooltip:\"Ordered List\"},quote:{tooltip:\"Quote/unquote selection or paragraph\"},undo:{tooltip:\"Undo\"},redo:{tooltip:\"Redo\"},bold:{tooltip:\"Bold\"},italic:{tooltip:\"Italic\"},underline:{tooltip:\"Underline\"},strikeThrough:{tooltip:\"Strikethrough\"},justifyLeft:{tooltip:\"Align text left\"},justifyRight:{tooltip:\"Align text right\"},justifyFull:{tooltip:\"Justify text\"},justifyCenter:{tooltip:\"Center\"},indent:{tooltip:\"Increase indent\"},outdent:{tooltip:\"Decrease indent\"},clear:{tooltip:\"Clear formatting\"},insertImage:{dialogPrompt:\"Please enter an image URL to insert\",tooltip:\"Insert image\",hotkey:\"the - possibly language dependent hotkey ... for some future implementation\"},insertVideo:{tooltip:\"Insert video\",dialogPrompt:\"Please enter a youtube URL to embed\"},insertLink:{tooltip:\"Insert / edit link\",dialogPrompt:\"Please enter a URL to insert\"},editLink:{reLinkButton:{tooltip:\"Relink\"},unLinkButton:{tooltip:\"Unlink\"},targetToggle:{buttontext:\"Open in New Window\"}},wordcount:{tooltip:\"Display words Count\"},charcount:{tooltip:\"Display characters Count\"}}).factory(\"taToolFunctions\",[\"$window\",\"taTranslations\",function(a,b){return{imgOnSelectAction:function(a,b,c){\n// setup the editor toolbar\n// Credit to the work at http://hackerwins.github.io/summernote/ for this editbar logic/display\nvar d=function(){c.updateTaBindtaTextElement(),c.hidePopover()};a.preventDefault(),c.displayElements.popover.css(\"width\",\"375px\");var e=c.displayElements.popoverContainer;e.empty();var f=angular.element('<div class=\"btn-group\" style=\"padding-right: 6px;\">'),g=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\">100% </button>');g.on(\"click\",function(a){a.preventDefault(),b.css({width:\"100%\",height:\"\"}),d()});var h=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\">50% </button>');h.on(\"click\",function(a){a.preventDefault(),b.css({width:\"50%\",height:\"\"}),d()});var i=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\">25% </button>');i.on(\"click\",function(a){a.preventDefault(),b.css({width:\"25%\",height:\"\"}),d()});var j=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\">Reset</button>');j.on(\"click\",function(a){a.preventDefault(),b.css({width:\"\",height:\"\"}),d()}),f.append(g),f.append(h),f.append(i),f.append(j),e.append(f),f=angular.element('<div class=\"btn-group\" style=\"padding-right: 6px;\">');var k=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\"><i class=\"fa fa-align-left\"></i></button>');k.on(\"click\",function(a){a.preventDefault(),\n// webkit\nb.css(\"float\",\"left\"),\n// firefox\nb.css(\"cssFloat\",\"left\"),\n// IE < 8\nb.css(\"styleFloat\",\"left\"),d()});var l=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\"><i class=\"fa fa-align-right\"></i></button>');l.on(\"click\",function(a){a.preventDefault(),\n// webkit\nb.css(\"float\",\"right\"),\n// firefox\nb.css(\"cssFloat\",\"right\"),\n// IE < 8\nb.css(\"styleFloat\",\"right\"),d()});var m=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\"><i class=\"fa fa-align-justify\"></i></button>');m.on(\"click\",function(a){a.preventDefault(),\n// webkit\nb.css(\"float\",\"\"),\n// firefox\nb.css(\"cssFloat\",\"\"),\n// IE < 8\nb.css(\"styleFloat\",\"\"),d()}),f.append(k),f.append(m),f.append(l),e.append(f),f=angular.element('<div class=\"btn-group\">');var n=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" unselectable=\"on\" tabindex=\"-1\"><i class=\"fa fa-trash-o\"></i></button>');n.on(\"click\",function(a){a.preventDefault(),b.remove(),d()}),f.append(n),e.append(f),c.showPopover(b),c.showResizeOverlay(b)},aOnSelectAction:function(c,d,e){\n// setup the editor toolbar\n// Credit to the work at http://hackerwins.github.io/summernote/ for this editbar logic\nc.preventDefault(),e.displayElements.popover.css(\"width\",\"436px\");var f=e.displayElements.popoverContainer;f.empty(),f.css(\"line-height\",\"28px\");var g=angular.element('<a href=\"'+d.attr(\"href\")+'\" target=\"_blank\">'+d.attr(\"href\")+\"</a>\");g.css({display:\"inline-block\",\"max-width\":\"200px\",overflow:\"hidden\",\"text-overflow\":\"ellipsis\",\"white-space\":\"nowrap\",\"vertical-align\":\"middle\"}),f.append(g);var h=angular.element('<div class=\"btn-group pull-right\">'),i=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" tabindex=\"-1\" unselectable=\"on\" title=\"'+b.editLink.reLinkButton.tooltip+'\"><i class=\"fa fa-edit icon-edit\"></i></button>');i.on(\"click\",function(c){c.preventDefault();var f=a.prompt(b.insertLink.dialogPrompt,d.attr(\"href\"));f&&\"\"!==f&&\"http://\"!==f&&(d.attr(\"href\",f),e.updateTaBindtaTextElement()),e.hidePopover()}),h.append(i);var j=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" tabindex=\"-1\" unselectable=\"on\" title=\"'+b.editLink.unLinkButton.tooltip+'\"><i class=\"fa fa-unlink icon-unlink\"></i></button>');\n// directly before this click event is fired a digest is fired off whereby the reference to $element is orphaned off\nj.on(\"click\",function(a){a.preventDefault(),d.replaceWith(d.contents()),e.updateTaBindtaTextElement(),e.hidePopover()}),h.append(j);var k=angular.element('<button type=\"button\" class=\"btn btn-default btn-sm btn-small\" tabindex=\"-1\" unselectable=\"on\">'+b.editLink.targetToggle.buttontext+\"</button>\");\"_blank\"===d.attr(\"target\")&&k.addClass(\"active\"),k.on(\"click\",function(a){a.preventDefault(),d.attr(\"target\",\"_blank\"===d.attr(\"target\")?\"\":\"_blank\"),k.toggleClass(\"active\"),e.updateTaBindtaTextElement()}),h.append(k),f.append(h),e.showPopover(d)},extractYoutubeVideoId:function(a){var b=/(?:youtube(?:-nocookie)?\\.com\\/(?:[^\\/\\n\\s]+\\/\\S+\\/|(?:v|e(?:mbed)?)\\/|\\S*?[?&]v=)|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/i,c=a.match(b);return c&&c[1]||null}}}]).run([\"taRegisterTool\",\"$window\",\"taTranslations\",\"taSelection\",\"taToolFunctions\",\"$sanitize\",\"taOptions\",\"$log\",function(a,b,c,d,e,f,g,h){\n// test for the version of $sanitize that is in use\n// You can disable this check by setting taOptions.textAngularSanitize == false\nvar i={};/* istanbul ignore next, throws error */\nif(f(\"\",i),g.forceTextAngularSanitize===!0&&\"taSanitize\"!==i.version)throw angular.$$minErr(\"textAngular\")(\"textAngularSetup\",\"The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?\");a(\"html\",{iconclass:\"fa fa-code\",tooltiptext:c.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});\n// add the Header tools\n// convenience functions so that the loop works correctly\nvar j=function(a){return function(){return this.$editor().queryFormatBlockState(a)}},k=function(){return this.$editor().wrapSelection(\"formatBlock\",\"<\"+this.name.toUpperCase()+\">\")};angular.forEach([\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"],function(b){a(b.toLowerCase(),{buttontext:b.toUpperCase(),tooltiptext:c.heading.tooltip+b.charAt(1),action:k,activeState:j(b.toLowerCase())})}),a(\"p\",{buttontext:\"P\",tooltiptext:c.p.tooltip,action:function(){return this.$editor().wrapSelection(\"formatBlock\",\"<P>\")},activeState:function(){return this.$editor().queryFormatBlockState(\"p\")}}),\n// key: pre -> taTranslations[key].tooltip, taTranslations[key].buttontext\na(\"pre\",{buttontext:\"pre\",tooltiptext:c.pre.tooltip,action:function(){return this.$editor().wrapSelection(\"formatBlock\",\"<PRE>\")},activeState:function(){return this.$editor().queryFormatBlockState(\"pre\")}}),a(\"ul\",{iconclass:\"fa fa-list-ul\",tooltiptext:c.ul.tooltip,action:function(){return this.$editor().wrapSelection(\"insertUnorderedList\",null)},activeState:function(){return this.$editor().queryCommandState(\"insertUnorderedList\")}}),a(\"ol\",{iconclass:\"fa fa-list-ol\",tooltiptext:c.ol.tooltip,action:function(){return this.$editor().wrapSelection(\"insertOrderedList\",null)},activeState:function(){return this.$editor().queryCommandState(\"insertOrderedList\")}}),a(\"quote\",{iconclass:\"fa fa-quote-right\",tooltiptext:c.quote.tooltip,action:function(){return this.$editor().wrapSelection(\"formatBlock\",\"<BLOCKQUOTE>\")},activeState:function(){return this.$editor().queryFormatBlockState(\"blockquote\")}}),a(\"undo\",{iconclass:\"fa fa-undo\",tooltiptext:c.undo.tooltip,action:function(){return this.$editor().wrapSelection(\"undo\",null)}}),a(\"redo\",{iconclass:\"fa fa-repeat\",tooltiptext:c.redo.tooltip,action:function(){return this.$editor().wrapSelection(\"redo\",null)}}),a(\"bold\",{iconclass:\"fa fa-bold\",tooltiptext:c.bold.tooltip,action:function(){return this.$editor().wrapSelection(\"bold\",null)},activeState:function(){return this.$editor().queryCommandState(\"bold\")},commandKeyCode:98}),a(\"justifyLeft\",{iconclass:\"fa fa-align-left\",tooltiptext:c.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection(\"justifyLeft\",null)},activeState:function(a){/* istanbul ignore next: */\nif(a&&\"#document\"===a.nodeName)return!1;var b=!1;if(a)\n// commonELement.css('text-align') can throw an error 'Cannot read property 'defaultView' of null' in rare conditions\n// so we do try catch here...\ntry{b=\"left\"===a.css(\"text-align\")||\"left\"===a.attr(\"align\")||\"right\"!==a.css(\"text-align\")&&\"center\"!==a.css(\"text-align\")&&\"justify\"!==a.css(\"text-align\")&&!this.$editor().queryCommandState(\"justifyRight\")&&!this.$editor().queryCommandState(\"justifyCenter\")&&!this.$editor().queryCommandState(\"justifyFull\")}catch(a){/* istanbul ignore next: error handler */\n//console.log(e);\nb=!1}return b=b||this.$editor().queryCommandState(\"justifyLeft\")}}),a(\"justifyRight\",{iconclass:\"fa fa-align-right\",tooltiptext:c.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection(\"justifyRight\",null)},activeState:function(a){/* istanbul ignore next: */\nif(a&&\"#document\"===a.nodeName)return!1;var b=!1;if(a)\n// commonELement.css('text-align') can throw an error 'Cannot read property 'defaultView' of null' in rare conditions\n// so we do try catch here...\ntry{b=\"right\"===a.css(\"text-align\")}catch(a){/* istanbul ignore next: error handler */\n//console.log(e);\nb=!1}return b=b||this.$editor().queryCommandState(\"justifyRight\")}}),a(\"justifyFull\",{iconclass:\"fa fa-align-justify\",tooltiptext:c.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection(\"justifyFull\",null)},activeState:function(a){var b=!1;if(a)\n// commonELement.css('text-align') can throw an error 'Cannot read property 'defaultView' of null' in rare conditions\n// so we do try catch here...\ntry{b=\"justify\"===a.css(\"text-align\")}catch(a){/* istanbul ignore next: error handler */\n//console.log(e);\nb=!1}return b=b||this.$editor().queryCommandState(\"justifyFull\")}}),a(\"justifyCenter\",{iconclass:\"fa fa-align-center\",tooltiptext:c.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection(\"justifyCenter\",null)},activeState:function(a){/* istanbul ignore next: */\nif(a&&\"#document\"===a.nodeName)return!1;var b=!1;if(a)\n// commonELement.css('text-align') can throw an error 'Cannot read property 'defaultView' of null' in rare conditions\n// so we do try catch here...\ntry{b=\"center\"===a.css(\"text-align\")}catch(a){/* istanbul ignore next: error handler */\n//console.log(e);\nb=!1}return b=b||this.$editor().queryCommandState(\"justifyCenter\")}}),a(\"indent\",{iconclass:\"fa fa-indent\",tooltiptext:c.indent.tooltip,action:function(){return this.$editor().wrapSelection(\"indent\",null)},activeState:function(){return this.$editor().queryFormatBlockState(\"blockquote\")},commandKeyCode:\"TabKey\"}),a(\"outdent\",{iconclass:\"fa fa-outdent\",tooltiptext:c.outdent.tooltip,action:function(){return this.$editor().wrapSelection(\"outdent\",null)},activeState:function(){return!1},commandKeyCode:\"ShiftTabKey\"}),a(\"italics\",{iconclass:\"fa fa-italic\",tooltiptext:c.italic.tooltip,action:function(){return this.$editor().wrapSelection(\"italic\",null)},activeState:function(){return this.$editor().queryCommandState(\"italic\")},commandKeyCode:105}),a(\"underline\",{iconclass:\"fa fa-underline\",tooltiptext:c.underline.tooltip,action:function(){return this.$editor().wrapSelection(\"underline\",null)},activeState:function(){return this.$editor().queryCommandState(\"underline\")},commandKeyCode:117}),a(\"strikeThrough\",{iconclass:\"fa fa-strikethrough\",tooltiptext:c.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection(\"strikeThrough\",null)},activeState:function(){return document.queryCommandState(\"strikeThrough\")}}),a(\"clear\",{iconclass:\"fa fa-ban\",tooltiptext:c.clear.tooltip,action:function(a,b){var c;this.$editor().wrapSelection(\"removeFormat\",null);var e=angular.element(d.getSelectionElement());c=d.getAllSelectedElements();\n//$log.log('selectedElements:', selectedElements);\n// remove lists\nvar f=function(a,b){a=angular.element(a);var c=b;return b||(c=a),angular.forEach(a.children(),function(a){if(\"ul\"===a.tagName.toLowerCase()||\"ol\"===a.tagName.toLowerCase())c=f(a,c);else{var b=angular.element(\"<p></p>\");b.html(angular.element(a).html()),c.after(b),c=b}}),a.remove(),c};angular.forEach(c,function(a){\"ul\"!==a.nodeName.toLowerCase()&&\"ol\"!==a.nodeName.toLowerCase()||\n//console.log('removeListElements', element);\nf(a)}),angular.forEach(e.find(\"ul\"),f),angular.forEach(e.find(\"ol\"),f);\n// clear out all class attributes. These do not seem to be cleared via removeFormat\nvar g=this.$editor(),h=function(a){a=angular.element(a),/* istanbul ignore next: this is not triggered in tests any longer since we now never select the whole displayELement */\na[0]!==g.displayElements.text[0]&&a.removeAttr(\"class\"),angular.forEach(a.children(),h)};angular.forEach(e,h),\n// check if in list. If not in list then use formatBlock option\ne[0]&&\"li\"!==e[0].tagName.toLowerCase()&&\"ol\"!==e[0].tagName.toLowerCase()&&\"ul\"!==e[0].tagName.toLowerCase()&&\"true\"!==e[0].getAttribute(\"contenteditable\")&&this.$editor().wrapSelection(\"formatBlock\",\"default\"),b()}});/* jshint -W099 */\n/****************************\n     //  we don't use this code - since the previous way CLEAR is expected to work does not clear partially selected <li>\n\n     var removeListElement = function(listE){\n                console.log(listE);\n                var _list = listE.parentNode.childNodes;\n                console.log('_list', _list);\n                var _preLis = [], _postLis = [], _found = false;\n                for (i = 0; i < _list.length; i++) {\n                    if (_list[i] === listE) {\n                        _found = true;\n                    } else if (!_found) _preLis.push(_list[i]);\n                    else _postLis.push(_list[i]);\n                }\n                var _parent = angular.element(listE.parentNode);\n                var newElem = angular.element('<p></p>');\n                newElem.html(angular.element(listE).html());\n                if (_preLis.length === 0 || _postLis.length === 0) {\n                    if (_postLis.length === 0) _parent.after(newElem);\n                    else _parent[0].parentNode.insertBefore(newElem[0], _parent[0]);\n\n                    if (_preLis.length === 0 && _postLis.length === 0) _parent.remove();\n                    else angular.element(listE).remove();\n                } else {\n                    var _firstList = angular.element('<' + _parent[0].tagName + '></' + _parent[0].tagName + '>');\n                    var _secondList = angular.element('<' + _parent[0].tagName + '></' + _parent[0].tagName + '>');\n                    for (i = 0; i < _preLis.length; i++) _firstList.append(angular.element(_preLis[i]));\n                    for (i = 0; i < _postLis.length; i++) _secondList.append(angular.element(_postLis[i]));\n                    _parent.after(_secondList);\n                    _parent.after(newElem);\n                    _parent.after(_firstList);\n                    _parent.remove();\n                }\n                taSelection.setSelectionToElementEnd(newElem[0]);\n            };\n\n     elementsSeen = [];\n     if (selectedElements.length !==0) console.log(selectedElements);\n     angular.forEach(selectedElements, function (element) {\n                if (elementsSeen.indexOf(element) !== -1 || elementsSeen.indexOf(element.parentElement) !== -1) {\n                    return;\n                }\n                elementsSeen.push(element);\n                if (element.nodeName.toLowerCase() === 'li') {\n                    console.log('removeListElement', element);\n                    removeListElement(element);\n                }\n                else if (element.parentElement && element.parentElement.nodeName.toLowerCase() === 'li') {\n                    console.log('removeListElement', element.parentElement);\n                    elementsSeen.push(element.parentElement);\n                    removeListElement(element.parentElement);\n                }\n            });\n     **********************/\n/**********************\n     if(possibleNodes[0].tagName.toLowerCase() === 'li'){\n                var _list = possibleNodes[0].parentNode.childNodes;\n                var _preLis = [], _postLis = [], _found = false;\n                for(i = 0; i < _list.length; i++){\n                    if(_list[i] === possibleNodes[0]){\n                        _found = true;\n                    }else if(!_found) _preLis.push(_list[i]);\n                    else _postLis.push(_list[i]);\n                }\n                var _parent = angular.element(possibleNodes[0].parentNode);\n                var newElem = angular.element('<p></p>');\n                newElem.html(angular.element(possibleNodes[0]).html());\n                if(_preLis.length === 0 || _postLis.length === 0){\n                    if(_postLis.length === 0) _parent.after(newElem);\n                    else _parent[0].parentNode.insertBefore(newElem[0], _parent[0]);\n\n                    if(_preLis.length === 0 && _postLis.length === 0) _parent.remove();\n                    else angular.element(possibleNodes[0]).remove();\n                }else{\n                    var _firstList = angular.element('<'+_parent[0].tagName+'></'+_parent[0].tagName+'>');\n                    var _secondList = angular.element('<'+_parent[0].tagName+'></'+_parent[0].tagName+'>');\n                    for(i = 0; i < _preLis.length; i++) _firstList.append(angular.element(_preLis[i]));\n                    for(i = 0; i < _postLis.length; i++) _secondList.append(angular.element(_postLis[i]));\n                    _parent.after(_secondList);\n                    _parent.after(newElem);\n                    _parent.after(_firstList);\n                    _parent.remove();\n                }\n                taSelection.setSelectionToElementEnd(newElem[0]);\n            }\n     *******************/\n/* istanbul ignore next: if it's javascript don't worry - though probably should show some kind of error message */\nvar l=function(a){return a.toLowerCase().indexOf(\"javascript\")!==-1};a(\"insertImage\",{iconclass:\"fa fa-picture-o\",tooltiptext:c.insertImage.tooltip,action:function(){var a;if(a=b.prompt(c.insertImage.dialogPrompt,\"http://\"),a&&\"\"!==a&&\"http://\"!==a&&!l(a)){d.getSelectionElement().tagName&&\"a\"===d.getSelectionElement().tagName.toLowerCase()&&\n// due to differences in implementation between FireFox and Chrome, we must move the\n// insertion point past the <a> element, otherwise FireFox inserts inside the <a>\n// With this change, both FireFox and Chrome behave the same way!\nd.setSelectionAfterElement(d.getSelectionElement());\n// In the past we used the simple statement:\n//return this.$editor().wrapSelection('insertImage', imageLink, true);\n//\n// However on Firefox only, when the content is empty this is a problem\n// See Issue #1201\n// Investigation reveals that Firefox only inserts a <p> only!!!!\n// So now we use insertHTML here and all is fine.\n// NOTE: this is what 'insertImage' is supposed to do anyway!\nvar e='<img src=\"'+a+'\">';return this.$editor().wrapSelection(\"insertHTML\",e,!0)}},onElementSelect:{element:\"img\",action:e.imgOnSelectAction}}),a(\"insertVideo\",{iconclass:\"fa fa-youtube-play\",tooltiptext:c.insertVideo.tooltip,action:function(){var a;\n// block javascript here\n/* istanbul ignore else: if it's javascript don't worry - though probably should show some kind of error message */\nif(a=b.prompt(c.insertVideo.dialogPrompt,\"https://\"),!l(a)&&a&&\"\"!==a&&\"https://\"!==a&&(videoId=e.extractYoutubeVideoId(a),videoId)){\n// create the embed link\nvar f=\"https://www.youtube.com/embed/\"+videoId,g='<img class=\"ta-insert-video\" src=\"https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg\" ta-insert-video=\"'+f+'\" contenteditable=\"false\" allowfullscreen=\"true\" frameborder=\"0\" />';\n// insert\n/* istanbul ignore next: don't know how to test this... since it needs a dialogPrompt */\n// due to differences in implementation between FireFox and Chrome, we must move the\n// insertion point past the <a> element, otherwise FireFox inserts inside the <a>\n// With this change, both FireFox and Chrome behave the same way!\nreturn d.getSelectionElement().tagName&&\"a\"===d.getSelectionElement().tagName.toLowerCase()&&d.setSelectionAfterElement(d.getSelectionElement()),this.$editor().wrapSelection(\"insertHTML\",g,!0)}},onElementSelect:{element:\"img\",onlyWithAttrs:[\"ta-insert-video\"],action:e.imgOnSelectAction}}),a(\"insertLink\",{tooltiptext:c.insertLink.tooltip,iconclass:\"fa fa-link\",action:function(){var a;if(\n// if this link has already been set, we need to just edit the existing link\n/* istanbul ignore if: we do not test this */\na=d.getSelectionElement().tagName&&\"a\"===d.getSelectionElement().tagName.toLowerCase()?b.prompt(c.insertLink.dialogPrompt,d.getSelectionElement().href):b.prompt(c.insertLink.dialogPrompt,\"http://\"),a&&\"\"!==a&&\"http://\"!==a&&!l(a))return this.$editor().wrapSelection(\"createLink\",a,!0)},activeState:function(a){return!!a&&\"A\"===a[0].tagName},onElementSelect:{element:\"a\",action:e.aOnSelectAction}}),a(\"wordcount\",{display:'<div id=\"toolbarWC\" style=\"display:block; min-width:100px;\">Words: <span ng-bind=\"wordcount\"></span></div>',disabled:!0,wordcount:0,activeState:function(){// this fires on keyup\nvar a=this.$editor().displayElements.text,b=a[0].innerHTML||\"\",c=0;/* istanbul ignore if: will default to '' when undefined */\n//Set current scope\n//Set editor scope\nreturn\"\"!==b.replace(/\\s*<[^>]*?>\\s*/g,\"\")&&\"\"!==b.trim()&&(c=b.replace(/<\\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,\"\").replace(/(<[^>]*?>\\s*<[^>]*?>)/gi,\" \").replace(/(<[^>]*?>)/gi,\"\").replace(/\\s+/gi,\" \").match(/\\S+/g).length),this.wordcount=c,this.$editor().wordcount=c,!1}}),a(\"charcount\",{display:'<div id=\"toolbarCC\" style=\"display:block; min-width:120px;\">Characters: <span ng-bind=\"charcount\"></span></div>',disabled:!0,charcount:0,activeState:function(){// this fires on keyup\nvar a=this.$editor().displayElements.text,b=a[0].innerText||a[0].textContent,c=b.replace(/(\\r\\n|\\n|\\r)/gm,\"\").replace(/^\\s+/g,\" \").replace(/\\s+$/g,\" \").length;\n//Set current scope\n//Set editor scope\nreturn this.charcount=c,this.$editor().charcount=c,!1}})}]);// NOTE: textAngularVersion must match the Gruntfile.js 'setVersion' task.... and have format v/d+./d+./d+\nvar f=\"v1.5.16\",g={ie:function(){for(var a,b=3,c=document.createElement(\"div\"),d=c.getElementsByTagName(\"i\");c.innerHTML=\"<!--[if gt IE \"+ ++b+\"]><i></i><![endif]-->\",d[0];);return b>4?b:a}(),webkit:/AppleWebKit\\/([\\d.]+)/i.test(navigator.userAgent),isFirefox:navigator.userAgent.toLowerCase().indexOf(\"firefox\")>-1},h=h||{};/* istanbul ignore next: untestable browser check */\nh.now=function(){return h.now||h.mozNow||h.msNow||h.oNow||h.webkitNow||function(){return(new Date).getTime()}}();\n// Global to textAngular REGEXP vars for block and list elements.\nvar i=/^(address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,j=/^(ul|li|ol)$/i,k=/^(#text|span|address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Compatibility\n/* istanbul ignore next: trim shim for older browsers */\nString.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,\"\")});/*\n\tCustom stylesheet for the placeholders rules.\n\tCredit to: http://davidwalsh.name/add-rules-stylesheets\n*/\nvar l,m,n,o,p,q;/* istanbul ignore else: IE <8 test*/\nif(g.ie>8||void 0===g.ie){/* istanbul ignore next: preference for stylesheet loaded externally */\nfor(var r=document.styleSheets,s=0;s<r.length;s++)if((0===r[s].media.length||r[s].media.mediaText.match(/(all|screen)/gi))&&r[s].href&&r[s].href.match(/textangular\\.(min\\.|)css/gi)){l=r[s];break}/* istanbul ignore next: preference for stylesheet loaded externally */\nl||(\n// this sheet is used for the placeholders later on.\nl=function(){\n// Create the <style> tag\nvar a=document.createElement(\"style\");/* istanbul ignore else : WebKit hack :( */\n// Add the <style> element to the page, add as first so the styles can be overridden by custom stylesheets\nreturn g.webkit&&a.appendChild(document.createTextNode(\"\")),document.getElementsByTagName(\"head\")[0].appendChild(a),a.sheet}()),\n// use as: addCSSRule(\"header\", \"float: left\");\nm=function(a,b){return o(l,a,b)},o=function(a,b,c){var d,e;\n// return the inserted stylesheet rule\n// This order is important as IE 11 has both cssRules and rules but they have different lengths - cssRules is correct, rules gives an error in IE 11\n/* istanbul ignore next: browser catches */\n/* istanbul ignore else: untestable IE option */\n/* istanbul ignore next: browser catches */\nreturn a.cssRules?d=Math.max(a.cssRules.length-1,0):a.rules&&(d=Math.max(a.rules.length-1,0)),a.insertRule?a.insertRule(b+\"{\"+c+\"}\",d):a.addRule(b,c,d),l.rules?e=l.rules[d]:l.cssRules&&(e=l.cssRules[d]),e},q=function(a,b){var c,d;for(c=0;c<b.length;c++)/* istanbul ignore else: check for correct rule */\nif(b[c].cssText===a.cssText){d=c;break}return d},n=function(a){p(l,a)},/* istanbul ignore next: tests are browser specific */\np=function(a,b){var c=a.cssRules||a.rules;if(c&&0!==c.length){var d=q(b,c);a.removeRule?a.removeRule(d):a.deleteRule(d)}}}angular.module(\"textAngular.factories\",[]).factory(\"taBrowserTag\",[function(){return function(a){/* istanbul ignore next: ie specific test */\n/* istanbul ignore next: ie specific test */\nreturn a?\"\"===a?void 0===g.ie?\"div\":g.ie<=8?\"P\":\"p\":g.ie<=8?a.toUpperCase():a:g.ie<=8?\"P\":\"p\"}}]).factory(\"taApplyCustomRenderers\",[\"taCustomRenderers\",\"taDOM\",function(a,b){return function(c){var d=angular.element(\"<div></div>\");return d[0].innerHTML=c,angular.forEach(a,function(a){var c=[];\n// get elements based on what is defined. If both defined do secondary filter in the forEach after using selector string\na.selector&&\"\"!==a.selector?c=d.find(a.selector):a.customAttribute&&\"\"!==a.customAttribute&&(c=b.getByAttribute(d,a.customAttribute)),\n// process elements if any found\nangular.forEach(c,function(b){b=angular.element(b),a.selector&&\"\"!==a.selector&&a.customAttribute&&\"\"!==a.customAttribute?void 0!==b.attr(a.customAttribute)&&a.renderLogic(b):a.renderLogic(b)})}),d[0].innerHTML}}]).factory(\"taFixChrome\",function(){\n// get whaterever rubbish is inserted in chrome\n// should be passed an html string, returns an html string\nvar a=function(a,b){if(!a||!angular.isString(a)||a.length<=0)return a;\n// remove all the Apple-converted-space spans and replace with the content of the span\n//console.log('before:', html);\n/* istanbul ignore next: apple-contereted-space span match */\nfor(\n// grab all elements with a style attibute\n// a betterSpanMatch matches only a style=... with matching quotes\n// this captures the whole:\n// 'style=\"background-color: rgb(255, 255, 255);\"'\nvar c,d,e,f=/style\\s?=\\s?([\"'])(?:(?=(\\\\?))\\2.)*?\\1/gi,g=/<span class=\"Apple-converted-space\">([^<]+)<\\/span>/gi,h=\"\",i=0;c=g.exec(a);)e=c[1],e=e.replace(/&nbsp;/gi,\" \"),h+=a.substring(i,c.index)+e,i=c.index+c[0].length;\n/////////////////////////////////////////////////////////////\n//\n// Allow control of this modification\n// taKeepStyles: False - removes these modification\n//\n// taFixChrome removes the following styles:\n//    font-family: inherit;\n//    line-height: <number>\n//    color: inherit;\n//    color: rgb( <rgb-component>#{3} )\n//    background-color: rgb( <rgb-component>#{3} )\n//\n/////////////////////////////////////////////////////////////\nif(/* istanbul ignore next: apple-contereted-space span has matched */\ni&&(\n// modified....\nh+=a.substring(i),a=h,h=\"\",i=0),!b){for(;c=f.exec(a);)h+=a.substring(i,c.index-1),d=c[0],\n// test for chrome inserted junk\nc=/font-family: inherit;|line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\\(\\d{1,3}, \\d{1,3}, \\d{1,3}\\);|background-color: rgb\\(\\d{1,3}, \\d{1,3}, \\d{1,3}\\);/gi.exec(d),c?(d=d.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\\(\\d{1,3}, \\d{1,3}, \\d{1,3}\\);|( |)background-color: rgb\\(\\d{1,3}, \\d{1,3}, \\d{1,3}\\);/gi,\"\"),\n//console.log(styleVal, styleVal.length);\nd.length>8&&(h+=\" \"+d)):h+=\" \"+d,i=f.lastIndex;h+=a.substring(i)}\n//console.log('final:', finalHtml);\n// only replace when something has changed, else we get focus problems on inserting lists\nif(i>0){\n// replace all empty strings\nvar j=h.replace(/<span\\s?>(.*?)<\\/span>(<br(\\/|)>|)/gi,\"$1\");return j}return a};return a}).factory(\"taSanitize\",[\"$sanitize\",function(a){function b(a,b){for(var c,d=0,e=0,f=/<[^>]*>/gi;c=f.exec(a);)if(e=c.index,\"/\"===c[0].substr(1,1)){if(0===d)break;d--}else d++;\n// get the start tags reversed - this is safe as we construct the strings with no content except the tags\nreturn b+a.substring(0,e)+angular.element(b)[0].outerHTML.substring(b.length)+a.substring(e)}function c(a){if(!a||!angular.isString(a)||a.length<=0)return a;for(var d,f,g,h,i,k,l=/<([^>\\/]+?)style=(\"([^\"]+)\"|'([^']+)')([^>]*)>/gi,m=\"\",n=\"\",o=0;f=l.exec(a);){\n// one of the quoted values ' or \"\n/* istanbul ignore next: quotations match */\nh=f[3]||f[4];var p=new RegExp(j,\"i\");\n// test for style values to change\nif(angular.isString(h)&&p.test(h)){\n// remove build tag list\ni=\"\";\n// find relevand tags and build a string of them\nfor(\n// init regex here for exec\nvar q=new RegExp(j,\"ig\");g=q.exec(h);)for(d=0;d<e.length;d++)g[2*d+2]&&(i+=\"<\"+e[d].tag+\">\");\n// recursively find more legacy styles in html before this tag and after the previous match (if any)\nk=c(a.substring(o,f.index)),\n// build up html\nn+=m.length>0?b(k,m):k,\n// grab the style val without the transformed values\nh=h.replace(new RegExp(j,\"ig\"),\"\"),\n// build the html tag\nn+=\"<\"+f[1].trim(),h.length>0&&(n+=' style=\"'+h+'\"'),n+=f[5]+\">\",\n// update the start index to after this tag\no=f.index+f[0].length,m=i}}return n+=m.length>0?b(a.substring(o),m):a.substring(o)}function d(a){if(!a||!angular.isString(a)||a.length<=0)return a;\n// match all attr tags\nfor(\n// replace all align='...' tags with text-align attributes\nvar b,c=/<([^>\\/]+?)align=(\"([^\"]+)\"|'([^']+)')([^>]*)>/gi,d=\"\",e=0;b=c.exec(a);){\n// add all html before this tag\nd+=a.substring(e,b.index),\n// record last index after this tag\ne=b.index+b[0].length;\n// construct tag without the align attribute\nvar f=\"<\"+b[1]+b[5];\n// add the style attribute\n/style=(\"([^\"]+)\"|'([^']+)')/gi.test(f)?/* istanbul ignore next: quotations match */\nf=f.replace(/style=(\"([^\"]+)\"|'([^']+)')/i,'style=\"$2$3 text-align:'+(b[3]||b[4])+';\"'):/* istanbul ignore next: quotations match */\nf+=' style=\"text-align:'+(b[3]||b[4])+';\"',f+=\">\",\n// add to html\nd+=f}\n// return with remaining html\nreturn d+a.substring(e)}for(var e=[{property:\"font-weight\",values:[\"bold\"],tag:\"b\"},{property:\"font-style\",values:[\"italic\"],tag:\"i\"}],f=[],g=0;g<e.length;g++){for(var h=\"(\"+e[g].property+\":\\\\s*(\",i=0;i<e[g].values.length;i++)/* istanbul ignore next: not needed to be tested yet */\ni>0&&(h+=\"|\"),h+=e[g].values[i];h+=\");)\",f.push(h)}var j=\"(\"+f.join(\"|\")+\")\",k=new RegExp(/<span id=\"selectionBoundary_\\d+_\\d+\" class=\"rangySelectionBoundary\">[^<>]+?<\\/span>/gi),l=new RegExp(/<span class=\"rangySelectionBoundary\" id=\"selectionBoundary_\\d+_\\d+\">[^<>]+?<\\/span>/gi),m=new RegExp(/<span id=\"selectionBoundary_\\d+_\\d+\" class=\"rangySelectionBoundary\">[^<>]+?<\\/span>/gi);return function(b,e,f){\n// unsafe html should NEVER built into a DOM object via angular.element. This allows XSS to be inserted and run.\nif(!f)try{b=c(b)}catch(a){}\n// we had an issue in the past, where we dumped a whole bunch of <span>'s into the content...\n// so we remove them here\n// IN A FUTURE release this can be removed after all have updated through release 1.5.9\nif(\n// unsafe and oldsafe should be valid HTML strings\n// any exceptions (lets say, color for example) should be made here but with great care\n// setup unsafe element for modification\nb=d(b))try{b=b.replace(k,\"\"),b=b.replace(l,\"\"),b=b.replace(k,\"\"),b=b.replace(m,\"\")}catch(a){}var g;try{g=a(b),\n// do this afterwards, then the $sanitizer should still throw for bad markup\nf&&(g=b)}catch(a){g=e||\"\"}\n// Do processing for <pre> tags, removing tabs and return carriages outside of them\nvar h,i=g.match(/(<pre[^>]*>.*?<\\/pre[^>]*>)/gi),j=g.replace(/(&#(9|10);)*/gi,\"\"),n=/<pre[^>]*>.*?<\\/pre[^>]*>/gi,o=0,p=0;for(g=\"\";null!==(h=n.exec(j))&&o<i.length;)g+=j.substring(p,h.index)+i[o],p=h.index+h[0].length,o++;return g+j.substring(p)}}]).factory(\"taToolExecuteAction\",[\"$q\",\"$log\",function(a,b){\n// this must be called on a toolScope or instance\nreturn function(c){void 0!==c&&(this.$editor=function(){return c});var d,e=a.defer(),f=e.promise,g=this.$editor();try{d=this.action(e,g.startAction()),\n// We set the .finally callback here to make sure it doesn't get executed before any other .then callback.\nf.finally(function(){g.endAction.call(g)})}catch(a){b.error(a)}(d||void 0===d)&&\n// if true or undefined is returned then the action has finished. Otherwise the deferred action will be resolved manually.\ne.resolve()}}]),angular.module(\"textAngular.DOM\",[\"textAngular.factories\"]).factory(\"taExecCommand\",[\"taSelection\",\"taBrowserTag\",\"$document\",function(b,c,d){var e=function(a,c){var d,e,f=a.find(\"li\");for(e=f.length-1;e>=0;e--)d=angular.element(\"<\"+c+\">\"+f[e].innerHTML+\"</\"+c+\">\"),a.after(d);a.remove(),b.setSelectionToElementEnd(d[0])},f=function(a,d,e,f,g){var h,i,j,k,l,m=a.find(\"li\");for(i=0;i<m.length;i++)if(m[i].outerHTML===d[0].outerHTML){\n// found it...\nl=i,i>0&&(j=m[i-1]),i+1<m.length&&(k=m[i+1]);break}\n//console.log('listElementToSelfTag', list, listElement, selfTag, bDefault, priorElement, nextElement);\n// un-list the listElement\nvar n=\"\";\n//console.log('$target', $target[0]);\nif(f?n+=\"<\"+g+\">\"+d[0].innerHTML+\"</\"+g+\">\":(n+=\"<\"+c(e)+\">\",n+=\"<li>\"+d[0].innerHTML+\"</li>\",n+=\"</\"+c(e)+\">\"),h=angular.element(n),!j)\n// this is the first the list, so we just remove it...\nreturn d.remove(),a.after(angular.element(a[0].outerHTML)),a.after(h),a.remove(),void b.setSelectionToElementEnd(h[0]);if(k){var o=(a.parent(),\"\"),p=a[0].nodeName.toLowerCase();for(o+=\"<\"+p+\">\",i=0;i<l;i++)o+=\"<li>\"+m[i].innerHTML+\"</li>\";o+=\"</\"+p+\">\";var q=\"\";for(q+=\"<\"+p+\">\",i=l+1;i<m.length;i++)q+=\"<li>\"+m[i].innerHTML+\"</li>\";q+=\"</\"+p+\">\",\n//console.log(html1, $target[0], html2);\na.after(angular.element(q)),a.after(h),a.after(angular.element(o)),a.remove(),\n//console.log('parent ******XXX*****', p[0]);\nb.setSelectionToElementEnd(h[0])}else\n// this is the last in the list, so we just remove it..\nd.remove(),a.after(h),b.setSelectionToElementEnd(h[0])},g=function(a,d,e,f,g){var h,i,j,k,l,m=a.find(\"li\"),n=[];for(i=0;i<m.length;i++)for(j=0;j<d.length;j++)m[i].isEqualNode(d[j])&&(\n// found it...\nn[j]=i);n[0]>0&&(k=m[n[0]-1]),n[d.length-1]+1<m.length&&(l=m[n[d.length-1]+1]);\n//console.log('listElementsToSelfTag', list, listElements, selfTag, bDefault, !priorElement, !afterElement, foundIndexes[listElements.length-1], children.length);\n// un-list the listElements\nvar o=\"\";if(f)for(j=0;j<d.length;j++)o+=\"<\"+g+\">\"+d[j].innerHTML+\"</\"+g+\">\",d[j].remove();else{for(o+=\"<\"+c(e)+\">\",j=0;j<d.length;j++)o+=d[j].outerHTML,d[j].remove();o+=\"</\"+c(e)+\">\"}if(h=angular.element(o),!k)\n// this is the first the list, so we just remove it...\nreturn a.after(angular.element(a[0].outerHTML)),a.after(h),a.remove(),void b.setSelectionToElementEnd(h[0]);if(!l)\n// this is the last in the list, so we just remove it..\nreturn a.after(h),void b.setSelectionToElementEnd(h[0]);\n// okay it was some where in the middle... so we need to break apart the list...\nvar p=\"\",q=a[0].nodeName.toLowerCase();for(p+=\"<\"+q+\">\",i=0;i<n[0];i++)p+=\"<li>\"+m[i].innerHTML+\"</li>\";p+=\"</\"+q+\">\";var r=\"\";for(r+=\"<\"+q+\">\",i=n[d.length-1]+1;i<m.length;i++)r+=\"<li>\"+m[i].innerHTML+\"</li>\";r+=\"</\"+q+\">\",a.after(angular.element(r)),a.after(h),a.after(angular.element(p)),a.remove(),\n//console.log('parent ******YYY*****', list.parent()[0]);\nb.setSelectionToElementEnd(h[0])},h=function(a){/(<br(|\\/)>)$/i.test(a.innerHTML.trim())?b.setSelectionBeforeElement(angular.element(a).find(\"br\")[0]):b.setSelectionToElementEnd(a)},k=function(a,b){var c=angular.element(\"<\"+b+\">\"+a[0].innerHTML+\"</\"+b+\">\");a.after(c),a.remove(),h(c.find(\"li\")[0])},l=function(a,b,d){for(var e=\"\",f=0;f<a.length;f++)e+=\"<\"+c(\"li\")+\">\"+a[f].innerHTML+\"</\"+c(\"li\")+\">\";var g=angular.element(\"<\"+d+\">\"+e+\"</\"+d+\">\");b.after(g),b.remove(),h(g.find(\"li\")[0])},m=function(a,b){for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];/* istanbul ignore next - more complex testing*/\nd.tagName&&d.tagName.match(i)&&m(d,b)}/* istanbul ignore next - very rare condition that we do not test*/\nif(null===a.parentNode)\n// nothing left to do..\nreturn a;/* istanbul ignore next - not sure have to test this */\nif(\"<br>\"===b)return a;var e=angular.element(b);return e[0].innerHTML=a.innerHTML,a.parentNode.insertBefore(e[0],a),a.parentNode.removeChild(a),e};return function(h,n){\n// NOTE: here we are dealing with the html directly from the browser and not the html the user sees.\n// IF you want to modify the html the user sees, do it when the user does a switchView\nreturn h=c(h),function(o,p,q,r){var s,t,u,v,w,x,y,z,A=angular.element(\"<\"+h+\">\");try{b.getSelection&&(z=b.getSelection()),y=b.getSelectionElement();\n// special checks and fixes when we are selecting the whole container\nvar B,C;/* istanbul ignore next */\nvoid 0!==y.tagName&&(\"div\"===y.tagName.toLowerCase()&&/taTextElement.+/.test(y.id)&&z&&z.start&&1===z.start.offset&&1===z.end.offset?(\n// opps we are actually selecting the whole container!\n//console.log('selecting whole container!');\nB=y.innerHTML,/<br>/i.test(B)&&(\n// Firefox adds <br>'s and so we remove the <br>\nB=B.replace(/<br>/i,\"&#8203;\")),/<br\\/>/i.test(B)&&(\n// Firefox adds <br/>'s and so we remove the <br/>\nB=B.replace(/<br\\/>/i,\"&#8203;\")),\n// remove stacked up <span>'s\n/<span>(<span>)+/i.test(B)&&(B=__.replace(/<span>(<span>)+/i,\"<span>\")),\n// remove stacked up </span>'s\n/<\\/span>(<\\/span>)+/i.test(B)&&(B=__.replace(/<\\/span>(<\\/span>)+/i,\"</span>\")),/<span><\\/span>/i.test(B)&&(\n// if we end up with a <span></span> here we remove it...\nB=B.replace(/<span><\\/span>/i,\"\")),\n//console.log('inner whole container', selectedElement.childNodes);\nC=\"<div>\"+B+\"</div>\",y.innerHTML=C,b.setSelectionToElementEnd(y.childNodes[0]),y=b.getSelectionElement()):\"span\"===y.tagName.toLowerCase()&&z&&z.start&&1===z.start.offset&&1===z.end.offset?(\n// just a span -- this is a problem...\n//console.log('selecting span!');\nB=y.innerHTML,/<br>/i.test(B)&&(\n// Firefox adds <br>'s and so we remove the <br>\nB=B.replace(/<br>/i,\"&#8203;\")),/<br\\/>/i.test(B)&&(\n// Firefox adds <br/>'s and so we remove the <br/>\nB=B.replace(/<br\\/>/i,\"&#8203;\")),\n// remove stacked up <span>'s\n/<span>(<span>)+/i.test(B)&&(B=__.replace(/<span>(<span>)+/i,\"<span>\")),\n// remove stacked up </span>'s\n/<\\/span>(<\\/span>)+/i.test(B)&&(B=__.replace(/<\\/span>(<\\/span>)+/i,\"</span>\")),/<span><\\/span>/i.test(B)&&(\n// if we end up with a <span></span> here we remove it...\nB=B.replace(/<span><\\/span>/i,\"\")),\n//console.log('inner span', selectedElement.childNodes);\n// we wrap this in a <div> because otherwise the browser get confused when we attempt to select the whole node\n// and the focus is not set correctly no matter what we do\nC=\"<div>\"+B+\"</div>\",y.innerHTML=C,b.setSelectionToElementEnd(y.childNodes[0]),y=b.getSelectionElement()):\"p\"===y.tagName.toLowerCase()&&z&&z.start&&1===z.start.offset&&1===z.end.offset?(\n//console.log('p special');\n// we need to remove the </br> that firefox adds!\nB=y.innerHTML,/<br>/i.test(B)&&(\n// Firefox adds <br>'s and so we remove the <br>\nB=B.replace(/<br>/i,\"&#8203;\"),// no space-space\ny.innerHTML=B)):\"li\"===y.tagName.toLowerCase()&&z&&z.start&&z.start.offset===z.end.offset&&(\n// we need to remove the </br> that firefox adds!\nB=y.innerHTML,/<br>/i.test(B)&&(\n// Firefox adds <br>'s and so we remove the <br>\nB=B.replace(/<br>/i,\"\"),// nothing\ny.innerHTML=B)))}catch(a){}\n//console.log('************** selectedElement:', selectedElement);\n/* istanbul ignore if: */\nif(y){var D=angular.element(y),E=y&&y.tagName&&y.tagName.toLowerCase()||/* istanbul ignore next: */\n\"\";if(\"insertorderedlist\"===o.toLowerCase()||\"insertunorderedlist\"===o.toLowerCase()){var F=c(\"insertorderedlist\"===o.toLowerCase()?\"ol\":\"ul\"),G=b.getOnlySelectedElements();\n//console.log('PPPPPPPPPPPPP', tagName, selfTag, selectedElements, tagName.match(BLOCKELEMENTS), $selected.hasClass('ta-bind'), $selected.parent()[0].tagName);\nif(G.length>1&&(\"ol\"===E||\"ul\"===E))return g(D,G,F,F===E,h);if(E===F)\n// if all selected then we should remove the list\n// grab all li elements and convert to taDefaultWrap tags\n//console.log('tagName===selfTag');\n// if all selected then we should remove the list\n// grab all li elements and convert to taDefaultWrap tags\n//console.log('tagName===selfTag');\nreturn D[0].childNodes.length!==G.length&&1===G.length?(D=angular.element(G[0]),f(D.parent(),D,F,!0,h)):e(D,h);if(\"li\"===E&&D.parent()[0].tagName.toLowerCase()===F&&1===D.parent().children().length)\n// catch for the previous statement if only one li exists\nreturn e(D.parent(),h);if(\"li\"===E&&D.parent()[0].tagName.toLowerCase()!==F&&1===D.parent().children().length)\n// catch for the previous statement if only one li exists\nreturn k(D.parent(),F);if(E.match(i)&&!D.hasClass(\"ta-bind\")){\n// if it's one of those block elements we have to change the contents\n// if it's a ol/ul we are changing from one to the other\nif(G.length&&D[0].childNodes.length!==G.length&&1===G.length)\n//console.log('&&&&&&&&&&&&&&& --------- &&&&&&&&&&&&&&&&', selectedElements[0], $selected[0].childNodes);\nreturn D=angular.element(G[0]),f(D.parent(),D,F,F===E,h);if(\"ol\"===E||\"ul\"===E)\n// now if this is a set of selected elements... behave diferently\nreturn k(D,F);var H=!1;return angular.forEach(D.children(),function(a){a.tagName.match(i)&&(H=!0)}),H?l(D.children(),D,F):l([angular.element(\"<div>\"+y.innerHTML+\"</div>\")[0]],D,F)}if(E.match(i)){\n//console.log('_nodes', _nodes, tagName);\nif(\n// if we get here then the contents of the ta-bind are selected\nv=b.getOnlySelectedElements(),0===v.length)\n// here is if there is only text in ta-bind ie <div ta-bind>test content</div>\nt=angular.element(\"<\"+F+\"><li>\"+y.innerHTML+\"</li></\"+F+\">\"),D.html(\"\"),D.append(t);else{if(1===v.length&&(\"ol\"===v[0].tagName.toLowerCase()||\"ul\"===v[0].tagName.toLowerCase()))return v[0].tagName.toLowerCase()===F?e(angular.element(v[0]),h):k(angular.element(v[0]),F);u=\"\";var I=[];for(s=0;s<v.length;s++)/* istanbul ignore else: catch for real-world can't make it occur in testing */\nif(3!==v[s].nodeType){var J=angular.element(v[s]);/* istanbul ignore if: browser check only, phantomjs doesn't return children nodes but chrome at least does */\nif(\"li\"===v[s].tagName.toLowerCase())continue;u+=\"ol\"===v[s].tagName.toLowerCase()||\"ul\"===v[s].tagName.toLowerCase()?J[0].innerHTML:\"span\"!==v[s].tagName.toLowerCase()||\"ol\"!==v[s].childNodes[0].tagName.toLowerCase()&&\"ul\"!==v[s].childNodes[0].tagName.toLowerCase()?\"<\"+c(\"li\")+\">\"+J[0].innerHTML+\"</\"+c(\"li\")+\">\":J[0].childNodes[0].innerHTML,I.unshift(J)}\n//console.log('$nodes', $nodes);\nt=angular.element(\"<\"+F+\">\"+u+\"</\"+F+\">\"),I.pop().replaceWith(t),angular.forEach(I,function(a){a.remove()})}return void b.setSelectionToElementEnd(t[0])}}else{if(\"formatblock\"===o.toLowerCase()){\n// find the first blockElement\nfor(x=q.toLowerCase().replace(/[<>]/gi,\"\"),\"default\"===x.trim()&&(x=h,q=\"<\"+h+\">\"),t=\"li\"===E?D.parent():D;!t[0].tagName||!t[0].tagName.match(i)&&!t.parent().attr(\"contenteditable\");)t=t.parent(),/* istanbul ignore next */\nE=(t[0].tagName||\"\").toLowerCase();if(E===x){\n// $target is wrap element\nv=t.children();var K=!1;for(s=0;s<v.length;s++)K=K||v[s].tagName.match(i);K?(t.after(v),w=t.next(),t.remove(),t=w):(A.append(t[0].childNodes),t.after(A),t.remove(),t=A)}else if(t.parent()[0].tagName.toLowerCase()!==x||t.parent().hasClass(\"ta-bind\"))if(E.match(j))\n// wrapping a list element\nt.wrap(q);else{\n// find the parent block element if any of the nodes are inline or text\nfor(\n// default wrap behaviour\nv=b.getOnlySelectedElements(),0===v.length&&(\n// no nodes at all....\nv=[t[0]]),s=0;s<v.length;s++)if(3===v[s].nodeType||!v[s].tagName.match(i))for(;3===v[s].nodeType||!v[s].tagName||!v[s].tagName.match(i);)v[s]=v[s].parentNode;if(\n// remove any duplicates from the array of _nodes!\nv=v.filter(function(a,b,c){return c.indexOf(a)===b}),\n// remove all whole taTextElement if it is here... unless it is the only element!\nv.length>1&&(v=v.filter(function(a,b,c){return!(\"div\"===a.nodeName.toLowerCase()&&/^taTextElement/.test(a.id))})),angular.element(v[0]).hasClass(\"ta-bind\"))t=angular.element(q),t[0].innerHTML=v[0].innerHTML,v[0].innerHTML=t[0].outerHTML;else if(\"blockquote\"===x){for(\n// blockquotes wrap other block elements\nu=\"\",s=0;s<v.length;s++)u+=v[s].outerHTML;for(t=angular.element(q),t[0].innerHTML=u,v[0].parentNode.insertBefore(t[0],v[0]),s=v.length-1;s>=0;s--)/* istanbul ignore else:  */\nv[s].parentNode&&v[s].parentNode.removeChild(v[s])}else/* istanbul ignore next: not tested since identical to blockquote */\nif(\"pre\"===x&&b.getStateShiftKey()){for(\n//console.log('shift pre', _nodes);\n// pre wrap other block elements\nu=\"\",s=0;s<v.length;s++)u+=v[s].outerHTML;for(t=angular.element(q),t[0].innerHTML=u,v[0].parentNode.insertBefore(t[0],v[0]),s=v.length-1;s>=0;s--)/* istanbul ignore else:  */\nv[s].parentNode&&v[s].parentNode.removeChild(v[s])}else\n//console.log(optionsTagName, _nodes);\n// regular block elements replace other block elements\nfor(s=0;s<v.length;s++){var L=m(v[s],q);v[s]===t[0]&&(t=angular.element(L))}}else{\n//unwrap logic for parent\nvar M=t.parent(),N=M.contents();for(s=0;s<N.length;s++)/* istanbul ignore next: can't test - some wierd thing with how phantomjs works */\nM.parent().hasClass(\"ta-bind\")&&3===N[s].nodeType&&(A=angular.element(\"<\"+h+\">\"),A[0].innerHTML=N[s].outerHTML,N[s]=A[0]),M.parent()[0].insertBefore(N[s],M[0]);M.remove()}\n// looses focus when we have the whole container selected and no text!\n// refocus on the shown display element, this fixes a bug when using firefox\nreturn b.setSelectionToElementEnd(t[0]),void t[0].focus()}if(\"createlink\"===o.toLowerCase()){/* istanbul ignore next: firefox specific fix */\nif(\"a\"===E)\n// already a link!!! we are just replacing it...\nreturn void(b.getSelectionElement().href=q);var O='<a href=\"'+q+'\" target=\"'+(r.a.target?r.a.target:\"\")+'\">',P=\"</a>\",Q=b.getSelection();if(Q.collapsed)\n//console.log('collapsed');\n// insert text at selection, then select then just let normal exec-command run\nb.insertHtml(O+q+P,n);else if(a.getSelection().getRangeAt(0).canSurroundContents()){var R=angular.element(O+P)[0];a.getSelection().getRangeAt(0).surroundContents(R)}return}if(\"inserthtml\"===o.toLowerCase())\n//console.log('inserthtml');\nreturn void b.insertHtml(q,n)}try{d[0].execCommand(o,p,q)}catch(a){}}}}}]).service(\"taSelection\",[\"$document\",\"taDOM\",\"$log\",/* istanbul ignore next: all browser specifics and PhantomJS dosen't seem to support half of it */\nfunction(b,c,d){\n// need to dereference the document else the calls don't work correctly\nvar e,f=b[0],g=function(a,b){/* check if selection is a BR element at the beginning of a container. If so, get\n        * the parentNode instead.\n        * offset should be zero in this case. Otherwise, return the original\n        * element.\n        */\n/* check if selection is a BR element at the beginning of a container. If so, get\n        * the parentNode instead.\n        * offset should be zero in this case. Otherwise, return the original\n        * element.\n        */\nreturn a.tagName&&a.tagName.match(/^br$/i)&&0===b&&!a.previousSibling?{element:a.parentNode,offset:0}:{element:a,offset:b}},h={getSelection:function(){var b;try{\n// catch any errors from rangy and ignore the issue\nb=a.getSelection().getRangeAt(0)}catch(a){\n//console.info(e);\nreturn}var c=b.commonAncestorContainer,d={start:g(b.startContainer,b.startOffset),end:g(b.endContainer,b.endOffset),collapsed:b.collapsed};\n//console.log('***selection container:', selection.container.nodeName, selection.start.offset, selection.container);\n// This has problems under Firefox.\n// On Firefox with\n// <p>Try me !</p>\n// <ul>\n// <li>line 1</li>\n// <li>line 2</li>\n// </ul>\n// <p>line 3</p>\n// <ul>\n// <li>line 4</li>\n// <li>line 5</li>\n// </ul>\n// <p>Hello textAngular</p>\n// WITH the cursor after the 3 on line 3, it gets the commonAncestorContainer as:\n// <TextNode textContent='line 3'>\n// AND Chrome gets the commonAncestorContainer as:\n// <p>line 3</p>\n//\n// Check if the container is a text node and return its parent if so\n// unless this is the whole taTextElement.  If so we return the textNode\n//console.log('*********taTextElement************');\n//console.log('commonAncestorContainer:', container);\nreturn 3===c.nodeType&&(\"div\"===c.parentNode.nodeName.toLowerCase()&&/^taTextElement/.test(c.parentNode.id)||(c=c.parentNode)),\"div\"===c.nodeName.toLowerCase()&&/^taTextElement/.test(c.id)?(d.start.element=c.childNodes[d.start.offset],d.end.element=c.childNodes[d.end.offset],d.container=c):c.parentNode===d.start.element||c.parentNode===d.end.element?d.container=c.parentNode:d.container=c,d},\n// if we use the LEFT_ARROW and we are at the special place <span>&#65279;</span> we move the cursor over by one...\n// Chrome and Firefox behave differently so so fix this for Firefox here.  No adjustment needed for Chrome.\nupdateLeftArrowKey:function(b){var c=a.getSelection().getRangeAt(0);if(c&&c.collapsed){var d=h.getFlattenedDom(c);if(!d.findIndex)return;var e,f,g=c.startContainer,i=d.findIndex(function(a,b){if(a.node===g)return!0;var c=a.parents.indexOf(g);return c!==-1});\n//console.log('updateLeftArrowKey', range.startOffset, range.startContainer.textContent);\n// this first section handles the case for Chrome browser\n// if the first character of the nextNode is a \\ufeff we know that we are just before the special span...\n// and so we most left by one character\nif(\n//console.log('indexStartContainer', indexStartContainer, _nodes.length, 'startContainer:', _node, _node === _nodes[indexStartContainer].node);\nd.forEach(function(a,b){\n//console.log(i, n.node);\na.parents.forEach(function(a,b){})}),i+1<d.length&&(\n// we need the node just after this startContainer\n// so we can check and see it this is a special place\nf=d[i+1].node),f&&f.textContent&&(e=/^\\ufeff([^\\ufeff]*)$/.exec(f.textContent)))\n// we are before the special node with begins with a \\ufeff character\n//console.log('LEFT ...found it...', 'startOffset:', range.startOffset, m[0].length, m[1].length);\n// no need to change anything in this case\nreturn;var j;if(i>0&&(\n// we need the node just after this startContainer\n// so we can check and see it this is a special place\nj=d[i-1].node),0===c.startOffset&&j&&(\n//console.log(nextNodeToLeft, range.startOffset, nextNodeToLeft.textContent);\ne=/^\\ufeff([^\\ufeff]*)$/.exec(j.textContent)))\n//console.log('LEFT &&&&&&&&&&&&&&&&&&&...found it...&&&&&&&&&&&', nextNodeToLeft, m[0].length, m[1].length);\n// move over to the left my one -- Firefox triggers this case\nreturn void h.setSelectionToElementEnd(j)}},\n// if we use the RIGHT_ARROW and we are at the special place <span>&#65279;</span> we move the cursor over by one...\nupdateRightArrowKey:function(a){},getFlattenedDom:function(a){function b(a){if(a.node.childNodes.length){var c=Array.prototype.slice.call(a.node.childNodes);// converts NodeList to Array\nc.forEach(function(c){var d=a.parents.slice();d.slice(-1)[0]!==a.node&&d.push(a.node),b({parents:d,node:c})})}else d.push({parents:a.parents,node:a.node})}var c=a.commonAncestorContainer.parentNode;if(!c)return a.commonAncestorContainer.childNodes;var d=Array.prototype.slice.call(c.childNodes),e=d.indexOf(a.startContainer);\n// make sure that we have a big enough set of nodes\n// now walk the parent\nreturn e+1<d.length&&e>0||c.parentNode&&(c=c.parentNode),d=[],b({parents:[c],node:c}),d},getOnlySelectedElements:function(){var b=a.getSelection().getRangeAt(0),c=b.commonAncestorContainer;\n// get the nodes in the range that are ELEMENT_NODE and are children of the container\n// in this range...\n// Node.TEXT_NODE === 3\n// Node.ELEMENT_NODE === 1\n// Node.COMMENT_NODE === 8\n// Check if the container is a text node and return its parent if so\nreturn c=3===c.nodeType?c.parentNode:c,b.getNodes([1],function(a){return a.parentNode===c})},\n// this includes the container element if all children are selected\ngetAllSelectedElements:function(){var b=a.getSelection().getRangeAt(0),c=b.commonAncestorContainer;\n// Node.TEXT_NODE === 3\n// Node.ELEMENT_NODE === 1\n// Node.COMMENT_NODE === 8\n// Check if the container is a text node and return its parent if so\nc=3===c.nodeType?c.parentNode:c;\n// get the nodes in the range that are ELEMENT_NODE and are children of the container\n// in this range...\nvar d=b.getNodes([1],function(a){return a.parentNode===c}),e=c.innerHTML;\n//console.log(innerHtml);\n//console.log(range.toHtml());\n//console.log(innerHtml === range.toHtml());\nif(\n// remove the junk that rangy has put down\ne=e.replace(/<span id=.selectionBoundary[^>]+>\\ufeff?<\\/span>/gi,\"\"),e===b.toHtml()&&(\"div\"!==c.nodeName.toLowerCase()||!/^taTextElement/.test(c.id))){for(var f=[],g=d.length;g--;f.unshift(d[g]));d=f,d.push(c)}return d},\n// Some basic selection functions\ngetSelectionElement:function(){var a=h.getSelection();return a?h.getSelection().container:void 0},setSelection:function(b,c,d,e){var f=a.createRange();f.setStart(b,d),f.setEnd(c,e),a.getSelection().setSingleRange(f)},setSelectionBeforeElement:function(b){var c=a.createRange();c.selectNode(b),c.collapse(!0),a.getSelection().setSingleRange(c)},setSelectionAfterElement:function(b){var c=a.createRange();c.selectNode(b),c.collapse(!1),a.getSelection().setSingleRange(c)},setSelectionToElementStart:function(b){var c=a.createRange();c.selectNodeContents(b),c.collapse(!0),a.getSelection().setSingleRange(c)},setSelectionToElementEnd:function(b){var c=a.createRange();c.selectNodeContents(b),c.collapse(!1),b.childNodes&&b.childNodes[b.childNodes.length-1]&&\"br\"===b.childNodes[b.childNodes.length-1].nodeName&&(c.startOffset=c.endOffset=c.startOffset-1),a.getSelection().setSingleRange(c)},setStateShiftKey:function(a){e=a},getStateShiftKey:function(){return e},\n// from http://stackoverflow.com/questions/6690752/insert-html-at-caret-in-a-contenteditable-div\n// topNode is the contenteditable normally, all manipulation MUST be inside this.\ninsertHtml:function(b,d){var e,g,j,l,m,n,o,p=angular.element(\"<div>\"+b+\"</div>\"),q=a.getSelection().getRangeAt(0),r=f.createDocumentFragment(),s=p[0].childNodes,t=!0;if(s.length>0){for(\n// NOTE!! We need to do the following:\n// check for blockelements - if they exist then we have to split the current element in half (and all others up to the closest block element) and insert all children in-between.\n// If there are no block elements, or there is a mixture we need to create textNodes for the non wrapped text (we don't want them spans messing up the picture).\nl=[],j=0;j<s.length;j++){var u=s[j];\"p\"===u.nodeName.toLowerCase()&&\"\"===u.innerHTML.trim()||(/****************\n                     *  allow any text to be inserted...\n                    if((   _cnode.nodeType === 3 &&\n                           _cnode.nodeValue === '\\ufeff'[0] &&\n                           _cnode.nodeValue.trim() === '') // empty no-space space element\n                        ) {\n                        // no change to isInline\n                        nodes.push(_cnode);\n                        continue;\n                    }\n                    if(_cnode.nodeType === 3 &&\n                         _cnode.nodeValue.trim() === '') { // empty text node\n                        continue;\n                    }\n                    *****************/\nt=t&&!i.test(u.nodeName),l.push(u))}for(var v=0;v<l.length;v++)n=r.appendChild(l[v]);!t&&q.collapsed&&/^(|<br(|\\/)>)$/i.test(q.startContainer.innerHTML)&&q.selectNode(q.startContainer)}else t=!0,\n// paste text of some sort\nn=r=f.createTextNode(b);\n// Other Edge case - selected data spans multiple blocks.\nif(t)q.deleteContents();else// not inline insert\nif(q.collapsed&&q.startContainer!==d)if(q.startContainer.innerHTML&&q.startContainer.innerHTML.match(/^<[^>]*>$/i))\n// this log is to catch when innerHTML is something like `<img ...>`\ne=q.startContainer,1===q.startOffset?(\n// before single tag\nq.setStartAfter(e),q.setEndAfter(e)):(\n// after single tag\nq.setStartBefore(e),q.setEndBefore(e));else{\n// split element into 2 and insert block element in middle\nif(3===q.startContainer.nodeType&&q.startContainer.parentNode!==d)\n// Escape out of the inline tags like b\nfor(// if text node\ne=q.startContainer.parentNode,g=e.cloneNode(),\n// split the nodes into two lists - before and after, splitting the node with the selection into 2 text nodes.\nc.splitNodes(e.childNodes,e,g,q.startContainer,q.startOffset);!k.test(e.nodeName);){angular.element(e).after(g),e=e.parentNode;var w=g;g=e.cloneNode(),\n// split the nodes into two lists - before and after, splitting the node with the selection into 2 text nodes.\nc.splitNodes(e.childNodes,e,g,w)}else e=q.startContainer,g=e.cloneNode(),c.splitNodes(e.childNodes,e,g,void 0,void 0,q.startOffset);if(angular.element(e).after(g),\n// put cursor to end of inserted content\n//console.log('setStartAfter', parent);\nq.setStartAfter(e),q.setEndAfter(e),/^(|<br(|\\/)>)$/i.test(e.innerHTML.trim())&&(q.setStartBefore(e),q.setEndBefore(e),angular.element(e).remove()),/^(|<br(|\\/)>)$/i.test(g.innerHTML.trim())&&angular.element(g).remove(),\"li\"===e.nodeName.toLowerCase()){for(o=f.createDocumentFragment(),m=0;m<r.childNodes.length;m++)p=angular.element(\"<li>\"),c.transferChildNodes(r.childNodes[m],p[0]),c.transferNodeAttributes(r.childNodes[m],p[0]),o.appendChild(p[0]);r=o,n&&(n=r.childNodes[r.childNodes.length-1],n=n.childNodes[n.childNodes.length-1])}}else q.deleteContents();q.insertNode(r),n&&h.setSelectionToElementEnd(n)}};return h}]).service(\"taDOM\",function(){var a={\n// recursive function that returns an array of angular.elements that have the passed attribute set on them\ngetByAttribute:function(b,c){var d=[],e=b.children();return e.length&&angular.forEach(e,function(b){d=d.concat(a.getByAttribute(angular.element(b),c))}),void 0!==b.attr(c)&&d.push(b),d},transferChildNodes:function(a,b){for(\n// clear out target\nb.innerHTML=\"\";a.childNodes.length>0;)b.appendChild(a.childNodes[0]);return b},splitNodes:function(b,c,d,e,f,g){if(!e&&isNaN(g))throw new Error(\"taDOM.splitNodes requires a splitNode or splitIndex\");for(var h=document.createDocumentFragment(),i=document.createDocumentFragment(),j=0;b.length>0&&(isNaN(g)||g!==j)&&b[0]!==e;)h.appendChild(b[0]),// this removes from the nodes array (if proper childNodes object.\nj++;for(!isNaN(f)&&f>=0&&b[0]&&(h.appendChild(document.createTextNode(b[0].nodeValue.substring(0,f))),b[0].nodeValue=b[0].nodeValue.substring(f));b.length>0;)i.appendChild(b[0]);a.transferChildNodes(h,c),a.transferChildNodes(i,d)},transferNodeAttributes:function(a,b){for(var c=0;c<a.attributes.length;c++)b.setAttribute(a.attributes[c].name,a.attributes[c].value);return b}};return a}),angular.module(\"textAngular.validators\",[]).directive(\"taMaxText\",function(){return{restrict:\"A\",require:\"ngModel\",link:function(a,b,c,d){var e=parseInt(a.$eval(c.taMaxText));if(isNaN(e))throw\"Max text must be an integer\";c.$observe(\"taMaxText\",function(a){if(e=parseInt(a),isNaN(e))throw\"Max text must be an integer\";d.$dirty&&d.$validate()}),d.$validators.taMaxText=function(a){var b=angular.element(\"<div/>\");return b.html(a),b.text().length<=e}}}}).directive(\"taMinText\",function(){return{restrict:\"A\",require:\"ngModel\",link:function(a,b,c,d){var e=parseInt(a.$eval(c.taMinText));if(isNaN(e))throw\"Min text must be an integer\";c.$observe(\"taMinText\",function(a){if(e=parseInt(a),isNaN(e))throw\"Min text must be an integer\";d.$dirty&&d.$validate()}),d.$validators.taMinText=function(a){var b=angular.element(\"<div/>\");return b.html(a),!b.text().length||b.text().length>=e}}}}),angular.module(\"textAngular.taBind\",[\"textAngular.factories\",\"textAngular.DOM\"]).service(\"_taBlankTest\",[function(){return function(a){\n// we radically restructure this code.\n// what was here before was incredibly fragile.\n// What we do now is to check that the html is non-blank visually\n// which we check by looking at html->text\nif(!a)return!0;\n// find first non-tag match - ie start of string or after tag that is not whitespace\n// var t0 = performance.now();\n// Takes a small fraction of a mSec to do this...\nvar b=d(a);\n// var t1 = performance.now();\n// console.log('Took', (t1 - t0).toFixed(4), 'milliseconds to generate:');\n// var t1 = performance.now();\n// console.log('Took', (t1 - t0).toFixed(4), 'milliseconds to generate:');\nreturn\"\"===b&&!/<img[^>]+>/.test(a)}}]).directive(\"taButton\",[function(){return{link:function(a,b,c){b.attr(\"unselectable\",\"on\"),b.on(\"mousedown\",function(a,b){/* istanbul ignore else: this is for catching the jqLite testing*/\n// this prevents focusout from firing on the editor when clicking toolbar buttons\nreturn b&&angular.extend(a,b),a.preventDefault(),!1})}}}]).directive(\"taBind\",[\"taSanitize\",\"$timeout\",\"$document\",\"taFixChrome\",\"taBrowserTag\",\"taSelection\",\"taSelectableElements\",\"taApplyCustomRenderers\",\"taOptions\",\"_taBlankTest\",\"$parse\",\"taDOM\",\"textAngularManager\",function(b,c,d,e,f,h,j,l,o,p,q,r,s){\n// Uses for this are textarea or input with ng-model and ta-bind='text'\n// OR any non-form element with contenteditable=\"contenteditable\" ta-bind=\"html|text\" ng-model\nreturn{priority:2,// So we override validators correctly\nrequire:[\"ngModel\",\"?ngModelOptions\"],link:function(f,r,u,v){function w(a){var b;return V.forEach(function(c){if(c.keyCode===a.keyCode){var d=(a.metaKey?N:0)+(a.ctrlKey?M:0)+(a.shiftKey?P:0)+(a.altKey?O:0);if(c.forbiddenModifiers&d)return;c.mustHaveModifiers.every(function(a){return d&a})&&(b=c.specialKey)}}),b}var x,y,z,A,B=v[0],C=v[1]||{},D=void 0!==r.attr(\"contenteditable\")&&r.attr(\"contenteditable\"),E=D||\"textarea\"===r[0].tagName.toLowerCase()||\"input\"===r[0].tagName.toLowerCase(),F=!1,G=!1,H=!1,I=u.taUnsafeSanitizer||o.disableSanitizer,J=u.taKeepStyles||o.keepStyles,K=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,L=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,M=1,N=2,O=4,P=8,Q=13,R=16,S=9,T=37,U=39,V=[\n//\t\tctrl/command + z\n{specialKey:\"UndoKey\",forbiddenModifiers:O+P,mustHaveModifiers:[N+M],keyCode:90},\n//\t\tctrl/command + shift + z\n{specialKey:\"RedoKey\",forbiddenModifiers:O,mustHaveModifiers:[N+M,P],keyCode:90},\n//\t\tctrl/command + y\n{specialKey:\"RedoKey\",forbiddenModifiers:O+P,mustHaveModifiers:[N+M],keyCode:89},\n//\t\tTabKey\n{specialKey:\"TabKey\",forbiddenModifiers:N+P+O+M,mustHaveModifiers:[],keyCode:S},\n//\t\tshift + TabKey\n{specialKey:\"ShiftTabKey\",forbiddenModifiers:N+O+M,mustHaveModifiers:[P],keyCode:S}];\n// set the default to be a paragraph value\nvoid 0===u.taDefaultWrap&&(u.taDefaultWrap=\"p\"),/* istanbul ignore next: ie specific test */\n\"\"===u.taDefaultWrap?(z=\"\",A=void 0===g.ie?\"<div><br></div>\":g.ie>=11?\"<p><br></p>\":g.ie<=8?\"<P>&nbsp;</P>\":\"<p>&nbsp;</p>\"):(z=void 0===g.ie||g.ie>=11?\"br\"===u.taDefaultWrap.toLowerCase()?\"<BR><BR>\":\"<\"+u.taDefaultWrap+\"><br></\"+u.taDefaultWrap+\">\":g.ie<=8?\"<\"+u.taDefaultWrap.toUpperCase()+\"></\"+u.taDefaultWrap.toUpperCase()+\">\":\"<\"+u.taDefaultWrap+\"></\"+u.taDefaultWrap+\">\",A=void 0===g.ie||g.ie>=11?\"br\"===u.taDefaultWrap.toLowerCase()?\"<br><br>\":\"<\"+u.taDefaultWrap+\"><br></\"+u.taDefaultWrap+\">\":g.ie<=8?\"<\"+u.taDefaultWrap.toUpperCase()+\">&nbsp;</\"+u.taDefaultWrap.toUpperCase()+\">\":\"<\"+u.taDefaultWrap+\">&nbsp;</\"+u.taDefaultWrap+\">\"),/* istanbul ignore else */\nC.$options||(C.$options={});// ng-model-options support\nvar W=function(a){if(p(a))return a;var b=angular.element(\"<div>\"+a+\"</div>\");\n//console.log('domTest.children().length():', domTest.children().length);\n//console.log('_ensureContentWrapped', domTest.children());\n//console.log(value, attrs.taDefaultWrap);\nif(0===b.children().length)\n// if we have a <br> and the attrs.taDefaultWrap is a <p> we need to remove the <br>\n//value = value.replace(/<br>/i, '');\na=\"<\"+u.taDefaultWrap+\">\"+a+\"</\"+u.taDefaultWrap+\">\";else{var c,d=b[0].childNodes,e=!1;for(c=0;c<d.length&&!(e=d[c].nodeName.toLowerCase().match(i));c++);if(e)for(a=\"\",c=0;c<d.length;c++){var f=d[c],g=f.nodeName.toLowerCase();\n//console.log('node#:', i, 'name:', nodeName);\nif(\"#comment\"===g)a+=\"<!--\"+f.nodeValue+\"-->\";else if(\"#text\"===g){\n// determine if this is all whitespace, if so, we will leave it as it is.\n// otherwise, we will wrap it as it is\nvar h=f.textContent;\n// not pure white space so wrap in <p>...</p> or whatever attrs.taDefaultWrap is set to.\na+=h.trim()?\"<\"+u.taDefaultWrap+\">\"+h+\"</\"+u.taDefaultWrap+\">\":h}else if(g.match(i))a+=f.outerHTML;else{/* istanbul ignore  next: Doesn't seem to trigger on tests */\nvar j=f.outerHTML||f.nodeValue;/* istanbul ignore else: Doesn't seem to trigger on tests, is tested though */\na+=\"\"!==j.trim()?\"<\"+u.taDefaultWrap+\">\"+j+\"</\"+u.taDefaultWrap+\">\":j}}else a=\"<\"+u.taDefaultWrap+\">\"+a+\"</\"+u.taDefaultWrap+\">\"}\n//console.log(value);\nreturn a};u.taPaste&&(y=q(u.taPaste)),r.addClass(\"ta-bind\");var X;f[\"$undoManager\"+(u.id||\"\")]=B.$undoManager={_stack:[],_index:0,_max:1e3,push:function(a){return\"undefined\"==typeof a||null===a||\"undefined\"!=typeof this.current()&&null!==this.current()&&a===this.current()?a:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(a),X&&c.cancel(X),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,a)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(a){if(!(a<0||a>this._stack.length-1))return this._index=a,this.current()},current:function(){return this._stack[this._index]}};\n// in here we are undoing the converts used elsewhere to prevent the < > and & being displayed when they shouldn't in the code.\nvar Y,Z=function(){if(D)return r[0].innerHTML;if(E)return r.val();throw\"textAngular Error: attempting to update non-editable taBind\"},$=function(a){\n// emit the element-select event, pass the element\nreturn f.$emit(\"ta-element-select\",this),a.preventDefault(),!1},_=f[\"reApplyOnSelectorHandlers\"+(u.id||\"\")]=function(){/* istanbul ignore else */\nF||angular.forEach(j,function(a){\n// check we don't apply the handler twice\nr.find(a).off(\"click\",$).on(\"click\",$)})},aa=function(a,b,c){H=c||!1,\"undefined\"!=typeof b&&null!==b||(b=D),// if not contentEditable then the native undo/redo is fine\n\"undefined\"!=typeof a&&null!==a||(a=Z()),p(a)?(\n// this avoids us from tripping the ng-pristine flag if we click in and out with out typing\n\"\"!==B.$viewValue&&B.$setViewValue(\"\"),b&&\"\"!==B.$undoManager.current()&&B.$undoManager.push(\"\")):(_(),B.$viewValue!==a&&(B.$setViewValue(a),b&&B.$undoManager.push(a))),B.$render()},ba=function(a){r[0].innerHTML=a},ca=f[\"$undoTaBind\"+(u.id||\"\")]=function(){/* istanbul ignore else: can't really test it due to all changes being ignored as well in readonly */\nif(!F&&D){var a=B.$undoManager.undo();\"undefined\"!=typeof a&&null!==a&&(ba(a),aa(a,!1),Y&&c.cancel(Y),Y=c(function(){r[0].focus(),h.setSelectionToElementEnd(r[0])},1))}},da=f[\"$redoTaBind\"+(u.id||\"\")]=function(){/* istanbul ignore else: can't really test it due to all changes being ignored as well in readonly */\nif(!F&&D){var a=B.$undoManager.redo();\"undefined\"!=typeof a&&null!==a&&(ba(a),aa(a,!1),/* istanbul ignore next */\nY&&c.cancel(Y),Y=c(function(){r[0].focus(),h.setSelectionToElementEnd(r[0])},1))}};\n//used for updating when inserting wrapped elements\nf[\"updateTaBind\"+(u.id||\"\")]=function(){F||aa(void 0,void 0,!0)};\n// catch DOM XSS via taSanitize\n// Sanitizing both ways is identical\nvar ea=function(a){return B.$oldViewValue=b(e(a,J),B.$oldViewValue,I)};\n//this code is used to update the models when data is entered/deleted\nif(\n// trigger the validation calls\nr.attr(\"required\")&&(B.$validators.required=function(a,b){return!p(a||b)}),\n// parsers trigger from the above keyup function or any other time that the viewValue is updated and parses it for storage in the ngModel\nB.$parsers.push(ea),B.$parsers.unshift(W),\n// because textAngular is bi-directional (which is awesome) we need to also sanitize values going in from the server\nB.$formatters.push(ea),B.$formatters.unshift(W),B.$formatters.unshift(function(a){return B.$undoManager.push(a||\"\")}),E)if(f.events={},D){\n// all the code specific to contenteditable divs\nvar fa=!1,ga=function(a){var d=void 0!==a&&a.match(/content=[\"']*OneNote.File/i);/* istanbul ignore else: don't care if nothing pasted */\n//console.log(text);\nif(a&&a.trim().length){\n// test paste from word/microsoft product\nif(a.match(/class=[\"']*Mso(Normal|List)/i)||a.match(/content=[\"']*Word.Document/i)||a.match(/content=[\"']*OneNote.File/i)){var e=a.match(/<!--StartFragment-->([\\s\\S]*?)<!--EndFragment-->/i);e=e?e[1]:a,e=e.replace(/<o:p>[\\s\\S]*?<\\/o:p>/gi,\"\").replace(/class=([\"']|)MsoNormal([\"']|)/gi,\"\");var g=angular.element(\"<div>\"+e+\"</div>\"),i=angular.element(\"<div></div>\"),j={element:null,lastIndent:[],lastLi:null,isUl:!1};j.lastIndent.peek=function(){var a=this.length;if(a>0)return this[a-1]};for(var k=function(a){j.isUl=a,j.element=angular.element(a?\"<ul>\":\"<ol>\"),j.lastIndent=[],j.lastIndent.peek=function(){var a=this.length;if(a>0)return this[a-1]},j.lastLevelMatch=null},l=0;l<=g[0].childNodes.length;l++)if(g[0].childNodes[l]&&\"#text\"!==g[0].childNodes[l].nodeName){var m=g[0].childNodes[l].tagName.toLowerCase();if(\"p\"===m||\"ul\"===m||\"h1\"===m||\"h2\"===m||\"h3\"===m||\"h4\"===m||\"h5\"===m||\"h6\"===m||\"table\"===m){var n=angular.element(g[0].childNodes[l]),o=(n.attr(\"class\")||\"\").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(o){if(n[0].childNodes.length<2||n[0].childNodes[1].childNodes.length<1)continue;var p=\"bullet\"===o[1].toLowerCase()||\"number\"!==o[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(n[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(n[0].childNodes[1].childNodes[0].innerHTML)),q=(n.attr(\"style\")||\"\").match(/margin-left:([\\-\\.0-9]*)/i),s=parseFloat(q?q[1]:0),t=(n.attr(\"style\")||\"\").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(\n// prefers the mso-list syntax\nt&&t[2]&&(s=parseInt(t[2])),t&&(!j.lastLevelMatch||t[1]!==j.lastLevelMatch[1])||!o[3]||\"first\"===o[3].toLowerCase()||null===j.lastIndent.peek()||j.isUl!==p&&j.lastIndent.peek()===s)k(p),i.append(j.element);else if(null!=j.lastIndent.peek()&&j.lastIndent.peek()<s)j.element=angular.element(p?\"<ul>\":\"<ol>\"),j.lastLi.append(j.element);else if(null!=j.lastIndent.peek()&&j.lastIndent.peek()>s){for(;null!=j.lastIndent.peek()&&j.lastIndent.peek()>s;)if(\"li\"!==j.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(j.element.parent()[0].tagName.toLowerCase()))// else it's it should be a sibling\nbreak;j.element=j.element.parent(),j.lastIndent.pop()}else j.element=j.element.parent();j.isUl=\"ul\"===j.element[0].tagName.toLowerCase(),p!==j.isUl&&(k(p),i.append(j.element))}j.lastLevelMatch=t,s!==j.lastIndent.peek()&&j.lastIndent.push(s),j.lastLi=angular.element(\"<li>\"),j.element.append(j.lastLi),j.lastLi.html(n.html().replace(/<!(--|)\\[if !supportLists\\](--|)>[\\s\\S]*?<!(--|)\\[endif\\](--|)>/gi,\"\")),n.remove()}else k(!1),i.append(n)}}var u=function(a){a=angular.element(a);for(var b=a[0].childNodes.length-1;b>=0;b--)a.after(a[0].childNodes[b]);a.remove()};angular.forEach(i.find(\"span\"),function(a){a.removeAttribute(\"lang\"),a.attributes.length<=0&&u(a)}),angular.forEach(i.find(\"font\"),u),a=i.html(),d&&(a=i.html()||g.html()),\n// LF characters instead of spaces in some spots and they are replaced by '/n', so we need to just swap them to spaces\na=a.replace(/\\n/g,\" \")}else{if(\n// remove unnecessary chrome insert\na=a.replace(/<(|\\/)meta[^>]*?>/gi,\"\"),a.match(/<[^>]*?(ta-bind)[^>]*?>/)){\n// entire text-angular or ta-bind has been pasted, REMOVE AT ONCE!!\nif(a.match(/<[^>]*?(text-angular)[^>]*?>/)){var v=angular.element(\"<div>\"+a+\"</div>\");v.find(\"textarea\").remove();for(var w=0;w<binds.length;w++){for(var x=binds[w][0].parentNode.parentNode,z=0;z<binds[w][0].childNodes.length;z++)x.parentNode.insertBefore(binds[w][0].childNodes[z],x);x.parentNode.removeChild(x)}a=v.html().replace('<br class=\"Apple-interchange-newline\">',\"\")}}else a.match(/^<span/)&&(\n// in case of pasting only a span - chrome paste, remove them. THis is just some wierd formatting\n// if we remove the '<span class=\"Apple-converted-space\"></span>' here we destroy the spacing\n// on paste from even ourselves!\na.match(/<span class=(\\\"Apple-converted-space\\\"|\\'Apple-converted-space\\')>.<\\/span>/gi)||(a=a.replace(/<(|\\/)span[^>]*?>/gi,\"\")));\n// Webkit on Apple tags\na=a.replace(/<br class=\"Apple-interchange-newline\"[^>]*?>/gi,\"\").replace(/<span class=\"Apple-converted-space\">( |&nbsp;)<\\/span>/gi,\"&nbsp;\")}/<li(\\s.*)?>/i.test(a)&&/(<ul(\\s.*)?>|<ol(\\s.*)?>).*<li(\\s.*)?>/i.test(a)===!1&&(\n// insert missing parent of li element\na=a.replace(/<li(\\s.*)?>.*<\\/li(\\s.*)?>/i,\"<ul>$&</ul>\")),\n// parse whitespace from plaintext input, starting with preceding spaces that get stripped on paste\na=a.replace(/^[ |\\u00A0]+/gm,function(a){for(var b=\"\",c=0;c<a.length;c++)b+=\"&nbsp;\";return b}).replace(/\\n|\\r\\n|\\r/g,\"<br />\").replace(/\\t/g,\"&nbsp;&nbsp;&nbsp;&nbsp;\"),y&&(a=y(f,{$html:a})||a),\n// turn span vertical-align:super into <sup></sup>\na=a.replace(/<span style=(\"|')([^<]*?)vertical-align\\s*:\\s*super;?([^>]*?)(\"|')>([^<]+?)<\\/span>/g,\"<sup style='$2$3'>$5</sup>\"),a=b(a,\"\",I),\n//console.log('DONE\\n', text);\nh.insertHtml(a,r[0]),c(function(){B.$setViewValue(Z()),fa=!1,r.removeClass(\"processing-paste\")},0)}else fa=!1,r.removeClass(\"processing-paste\")};r.on(\"paste\",f.events.paste=function(b,e){if(/* istanbul ignore else: this is for catching the jqLite testing*/\ne&&angular.extend(b,e),F||fa)return b.stopPropagation(),b.preventDefault(),!1;\n// Code adapted from http://stackoverflow.com/questions/2176861/javascript-get-clipboard-data-on-paste-event-cross-browser/6804718#6804718\nfa=!0,r.addClass(\"processing-paste\");var f,g=(b.originalEvent||b).clipboardData;/* istanbul ignore next: Handle legacy IE paste */\nif(!g&&window.clipboardData&&window.clipboardData.getData)return f=window.clipboardData.getData(\"Text\"),ga(f),b.stopPropagation(),b.preventDefault(),!1;if(g&&g.getData&&g.types.length>0){for(var h=\"\",i=0;i<g.types.length;i++)h+=\" \"+g.types[i];/* istanbul ignore next: browser tests */\nreturn/text\\/html/i.test(h)?f=g.getData(\"text/html\"):/text\\/plain/i.test(h)&&(f=g.getData(\"text/plain\")),ga(f),b.stopPropagation(),b.preventDefault(),!1}// Everything else - empty editdiv and allow browser to paste content into it, then cleanup\nvar j=a.saveSelection(),k=angular.element('<div class=\"ta-hidden-input\" contenteditable=\"true\"></div>');d.find(\"body\").append(k),k[0].focus(),c(function(){\n// restore selection\na.restoreSelection(j),ga(k[0].innerHTML),r[0].focus(),k.remove()},0)}),r.on(\"cut\",f.events.cut=function(a){\n// timeout to next is needed as otherwise the paste/cut event has not finished actually changing the display\nF?a.preventDefault():c(function(){B.$setViewValue(Z())},0)}),r.on(\"keydown\",f.events.keydown=function(a,b){/* istanbul ignore else: this is for catching the jqLite testing*/\nb&&angular.extend(a,b),a.keyCode===R?h.setStateShiftKey(!0):h.setStateShiftKey(!1),a.specialKey=w(a);var c;/* istanbul ignore else: readonly check */\nif(/* istanbul ignore next: difficult to test */\no.keyMappings.forEach(function(b){a.specialKey===b.commandKeyCode&&(\n// taOptions has remapped this binding... so\n// we disable our own\na.specialKey=void 0),b.testForKey(a)&&(c=b.commandKeyCode),\"UndoKey\"!==b.commandKeyCode&&\"RedoKey\"!==b.commandKeyCode||b.enablePropagation||a.preventDefault()}),/* istanbul ignore next: difficult to test */\n\"undefined\"!=typeof c&&(a.specialKey=c),/* istanbul ignore next: difficult to test as can't seem to select */\n\"undefined\"==typeof a.specialKey||\"UndoKey\"===a.specialKey&&\"RedoKey\"===a.specialKey||(a.preventDefault(),s.sendKeyCommand(f,a)),!(F||(\"UndoKey\"===a.specialKey&&(ca(),a.preventDefault()),\"RedoKey\"===a.specialKey&&(da(),a.preventDefault()),a.keyCode!==Q||a.shiftKey||a.ctrlKey||a.metaKey||a.altKey))){var d,e=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},g=h.getSelectionElement();\n// shifted to nodeName here from tagName since it is more widely supported see: http://stackoverflow.com/questions/4878484/difference-between-tagname-and-nodename\nif(!g.nodeName.match(k))return;var i=angular.element(z),j=[\"blockquote\",\"ul\",\"ol\"];if(e(j,g.parentNode.tagName.toLowerCase())){if(/^<br(|\\/)>$/i.test(g.innerHTML.trim())&&!g.nextSibling){\n// if last element is blank, pull element outside.\nd=angular.element(g);var l=d.parent();l.after(i),d.remove(),0===l.children().length&&l.remove(),h.setSelectionToElementStart(i[0]),a.preventDefault()}/^<[^>]+><br(|\\/)><\\/[^>]+>$/i.test(g.innerHTML.trim())&&(d=angular.element(g),d.after(i),d.remove(),h.setSelectionToElementStart(i[0]),a.preventDefault())}}});var ha;r.on(\"keyup\",f.events.keyup=function(a,b){// clear the ShiftKey state\n/* istanbul ignore next: FF specific bug fix */\nif(/* istanbul ignore else: this is for catching the jqLite testing*/\nb&&angular.extend(a,b),h.setStateShiftKey(!1),a.keyCode===S){var d=h.getSelection();return void(d.start.element===r[0]&&r.children().length&&h.setSelectionToElementStart(r.children()[0]))}if(\n// we do this here during the 'keyup' so that the browser has already moved the slection by one character...\na.keyCode!==T||a.shiftKey||h.updateLeftArrowKey(r),\n// we do this here during the 'keyup' so that the browser has already moved the slection by one character...\na.keyCode!==U||a.shiftKey||h.updateRightArrowKey(r),X&&c.cancel(X),!F&&!K.test(a.keyCode))/* istanbul ignore next: Ignore any _ENTER_KEYCODE that has ctrlKey, metaKey or alKey */\nif(a.keyCode===Q&&(a.ctrlKey||a.metaKey||a.altKey));else{\n// if enter - insert new taDefaultWrap, if shift+enter insert <br/>\nif(\"\"!==z&&\"<BR><BR>\"!==z&&a.keyCode===Q&&!a.ctrlKey&&!a.metaKey&&!a.altKey){for(var e=h.getSelectionElement();!e.nodeName.match(k)&&e!==r[0];)e=e.parentNode;if(a.shiftKey){\n// shift + Enter\nvar f=e.tagName.toLowerCase();\n//console.log('Shift+Enter', selection.tagName, attrs.taDefaultWrap, selection.innerHTML.trim());\n// For an LI: We see: LI p ....<br><br>\n// For a P: We see: P p ....<br><br>\n// on Safari, the browser ignores the Shift+Enter and acts just as an Enter Key\n// For an LI: We see: LI p <br>\n// For a P: We see: P p <br>\nif((f===u.taDefaultWrap||\"li\"===f||\"pre\"===f||\"div\"===f)&&!/.+<br><br>/.test(e.innerHTML.trim())){var g=e.previousSibling;\n//console.log('wrong....', ps);\n// we need to remove this selection and fix the previousSibling up...\ng&&(g.innerHTML=g.innerHTML+\"<br><br>\",angular.element(e).remove(),h.setSelectionToElementEnd(g))}}else\n// new paragraph, br should be caught correctly\n// shifted to nodeName here from tagName since it is more widely supported see: http://stackoverflow.com/questions/4878484/difference-between-tagname-and-nodename\n//console.log('Enter', selection.nodeName, attrs.taDefaultWrap, selection.innerHTML.trim());\nif(e.tagName.toLowerCase()!==u.taDefaultWrap&&\"li\"!==e.nodeName.toLowerCase()&&(\"\"===e.innerHTML.trim()||\"<br>\"===e.innerHTML.trim())){\n// Chrome starts with a <div><br></div> after an EnterKey\n// so we replace this with the _defaultVal\nvar i=angular.element(z);angular.element(e).replaceWith(i),h.setSelectionToElementStart(i[0])}}var j=Z();\"\"===z||\"\"!==j.trim()&&\"<br>\"!==j.trim()?\"<\"!==j.substring(0,1)&&\"\"!==u.taDefaultWrap:(ba(z),h.setSelectionToElementStart(r.children()[0]));var l=x!==a.keyCode&&L.test(a.keyCode);ha&&c.cancel(ha),ha=c(function(){aa(j,l,!0)},C.$options.debounce||400),l||(X=c(function(){B.$undoManager.push(j)},250)),x=a.keyCode}});\n// when there is a change from a spelling correction in the browser, the only\n// change that is seen is a 'input' and the $watch('html') sees nothing... So\n// we added this element.on('input') to catch this change and call the _setViewValue()\n// so the ngModel is updated and all works as it should.\nvar ia;\n// Placeholders not supported on ie 8 and below\nif(r.on(\"input\",function(){Z()!==B.$viewValue&&(\n// we wait a time now to allow the natural $watch('html') to handle this change\n// and then after a 1 second delay, if there is still a difference we will do the\n// _setViewValue() call.\n/* istanbul ignore if: can't test */\nia&&c.cancel(ia),/* istanbul ignore next: cant' test? */\nia=c(function(){var b=a.saveSelection(),c=Z();c!==B.$viewValue&&\n//console.log('_setViewValue');\n//console.log('old:', ngModel.$viewValue);\n//console.log('new:', _val);\naa(c,!0),\n// if the savedSelection marker is gone at this point, we cannot restore the selection!!!\n//console.log('rangy.restoreSelection', ngModel.$viewValue.length, _savedSelection);\n0!==B.$viewValue.length&&a.restoreSelection(b)},1e3))}),r.on(\"blur\",f.events.blur=function(){G=!1,/* istanbul ignore else: if readonly don't update model */\nF?(H=!0,// don't redo the whole thing, just check the placeholder logic\nB.$render()):aa(void 0,void 0,!0)}),u.placeholder&&(g.ie>8||void 0===g.ie)){var ja;if(!u.id)throw\"textAngular Error: An unique ID is required for placeholders to work\";ja=m(\"#\"+u.id+\".placeholder-text:before\",'content: \"'+u.placeholder+'\"'),f.$on(\"$destroy\",function(){n(ja)})}r.on(\"focus\",f.events.focus=function(){G=!0,r.removeClass(\"placeholder-text\"),_()}),r.on(\"mouseup\",f.events.mouseup=function(){var a=h.getSelection();a&&a.start.element===r[0]&&r.children().length&&h.setSelectionToElementStart(r.children()[0])}),\n// prevent propagation on mousedown in editor, see #206\nr.on(\"mousedown\",f.events.mousedown=function(a,b){/* istanbul ignore else: this is for catching the jqLite testing*/\nb&&angular.extend(a,b),a.stopPropagation()})}else{\n// if a textarea or input just add in change and blur handlers, everything else is done by angulars input directive\nr.on(\"change blur\",f.events.change=f.events.blur=function(){F||B.$setViewValue(Z())}),r.on(\"keydown\",f.events.keydown=function(a,b){\n// Reference to http://stackoverflow.com/questions/6140632/how-to-handle-tab-in-textarea\n/* istanbul ignore else: otherwise normal functionality */\nif(/* istanbul ignore else: this is for catching the jqLite testing*/\nb&&angular.extend(a,b),a.keyCode===S){// tab was pressed\n// get caret position/selection\nvar c=this.selectionStart,d=this.selectionEnd,e=r.val();if(a.shiftKey){\n// find \\t\nvar f=e.lastIndexOf(\"\\n\",c),g=e.lastIndexOf(\"\\t\",c);g!==-1&&g>=f&&(\n// set textarea value to: text before caret + tab + text after caret\nr.val(e.substring(0,g)+e.substring(g+1)),\n// put caret at right position again (add one for the tab)\nthis.selectionStart=this.selectionEnd=c-1)}else\n// set textarea value to: text before caret + tab + text after caret\nr.val(e.substring(0,c)+\"\\t\"+e.substring(d)),\n// put caret at right position again (add one for the tab)\nthis.selectionStart=this.selectionEnd=c+1;\n// prevent the focus lose\na.preventDefault()}});var ka=function(a,b){for(var c=\"\",d=0;d<b;d++)c+=a;return c},la=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])},ma=function(a,b){var c=\"\",d=a.childNodes;\n// tab out and add the <ul> or <ol> html piece\n// now add on the </ol> or </ul> piece\nreturn b++,c+=ka(\"\\t\",b-1)+a.outerHTML.substring(0,4),la(d,function(a,d){/* istanbul ignore next: browser catch */\nvar e=d.nodeName.toLowerCase();/* istanbul ignore next: not tested, and this was original code -- so not wanting to possibly cause an issue, leaving it... */\nreturn\"#comment\"===e?void(c+=\"<!--\"+d.nodeValue+\"-->\"):\"#text\"===e?void(c+=d.textContent):void(d.outerHTML&&(c+=\"ul\"===e||\"ol\"===e?\"\\n\"+ma(d,b):\"\\n\"+ka(\"\\t\",b)+d.outerHTML))}),c+=\"\\n\"+ka(\"\\t\",b-1)+a.outerHTML.substring(a.outerHTML.lastIndexOf(\"<\"))};\n// handle formating of something like:\n// <ol><!--First comment-->\n//  <li>Test Line 1<!--comment test list 1--></li>\n//    <ul><!--comment ul-->\n//      <li>Nested Line 1</li>\n//        <!--comment between nested lines--><li>Nested Line 2</li>\n//    </ul>\n//  <li>Test Line 3</li>\n// </ol>\nB.$formatters.unshift(function(a){\n// tabulate the HTML so it looks nicer\n//\n// first get a list of the nodes...\n// we do this by using the element parser...\n//\n// doing this -- which is simpiler -- breaks our tests...\n//var _nodes=angular.element(htmlValue);\nvar b=angular.element(\"<div>\"+a+\"</div>\")[0].childNodes;\n// do the reformatting of the layout...\nreturn b.length>0&&(a=\"\",la(b,function(b,c){var d=c.nodeName.toLowerCase();/* istanbul ignore next: not tested, and this was original code -- so not wanting to possibly cause an issue, leaving it... */\n// we aready have some content, so drop to a new line\n// okay a set of list stuff we want to reformat in a nested way\nreturn\"#comment\"===d?void(a+=\"<!--\"+c.nodeValue+\"-->\"):\"#text\"===d?void(a+=c.textContent):void(c.outerHTML&&(a.length>0&&(a+=\"\\n\"),a+=\"ul\"===d||\"ol\"===d?\"\"+ma(c,0):\"\"+c.outerHTML))})),a})}var na,oa=function(a,b){\n// emit the drop event, pass the element, preventing should be done elsewhere\nif(/* istanbul ignore else: this is for catching the jqLite testing*/\nb&&angular.extend(a,b),!t&&!F){t=!0;var d;d=a.originalEvent?a.originalEvent.dataTransfer:a.dataTransfer,f.$emit(\"ta-drop-event\",this,a,d),c(function(){t=!1,aa(void 0,void 0,!0)},100)}},pa=!1;\n// changes to the model variable from outside the html/text inputs\nB.$render=function(){/* istanbul ignore if: Catches rogue renders, hard to replicate in tests */\nif(!pa){pa=!0;\n// catch model being null or undefined\nvar a=B.$viewValue||\"\";\n// if the editor isn't focused it needs to be updated, otherwise it's receiving user input\nH||(/* istanbul ignore else: in other cases we don't care */\nD&&G&&(\n// update while focussed\nr.removeClass(\"placeholder-text\"),/* istanbul ignore next: don't know how to test this */\nna&&c.cancel(na),na=c(function(){/* istanbul ignore if: Can't be bothered testing this... */\nG||(r[0].focus(),h.setSelectionToElementEnd(r.children()[r.children().length-1])),na=void 0},1)),D?(\n// blank\nba(\n// WYSIWYG Mode\nu.placeholder?\"\"===a?z:a:\"\"===a?z:a),\n// if in WYSIWYG and readOnly we kill the use of links by clicking\nF?r.off(\"drop\",oa):(_(),r.on(\"drop\",oa))):\"textarea\"!==r[0].tagName.toLowerCase()&&\"input\"!==r[0].tagName.toLowerCase()?\n// make sure the end user can SEE the html code as a display. This is a read-only display element\nba(l(a)):\n// only for input and textarea inputs\nr.val(a)),D&&u.placeholder&&(\"\"===a?G?r.removeClass(\"placeholder-text\"):r.addClass(\"placeholder-text\"):r.removeClass(\"placeholder-text\")),pa=H=!1}},u.taReadonly&&(\n//set initial value\nF=f.$eval(u.taReadonly),F?(r.addClass(\"ta-readonly\"),\n// we changed to readOnly mode (taReadonly='true')\n\"textarea\"!==r[0].tagName.toLowerCase()&&\"input\"!==r[0].tagName.toLowerCase()||r.attr(\"disabled\",\"disabled\"),void 0!==r.attr(\"contenteditable\")&&r.attr(\"contenteditable\")&&r.removeAttr(\"contenteditable\")):(r.removeClass(\"ta-readonly\"),\n// we changed to NOT readOnly mode (taReadonly='false')\n\"textarea\"===r[0].tagName.toLowerCase()||\"input\"===r[0].tagName.toLowerCase()?r.removeAttr(\"disabled\"):D&&r.attr(\"contenteditable\",\"true\")),\n// taReadonly only has an effect if the taBind element is an input or textarea or has contenteditable='true' on it.\n// Otherwise it is readonly by default\nf.$watch(u.taReadonly,function(a,b){b!==a&&(a?(r.addClass(\"ta-readonly\"),\n// we changed to readOnly mode (taReadonly='true')\n\"textarea\"!==r[0].tagName.toLowerCase()&&\"input\"!==r[0].tagName.toLowerCase()||r.attr(\"disabled\",\"disabled\"),void 0!==r.attr(\"contenteditable\")&&r.attr(\"contenteditable\")&&r.removeAttr(\"contenteditable\"),\n// turn ON selector click handlers\nangular.forEach(j,function(a){r.find(a).on(\"click\",$)}),r.off(\"drop\",oa)):(r.removeClass(\"ta-readonly\"),\n// we changed to NOT readOnly mode (taReadonly='false')\n\"textarea\"===r[0].tagName.toLowerCase()||\"input\"===r[0].tagName.toLowerCase()?r.removeAttr(\"disabled\"):D&&r.attr(\"contenteditable\",\"true\"),\n// remove the selector click handlers\nangular.forEach(j,function(a){r.find(a).off(\"click\",$)}),r.on(\"drop\",oa)),F=a)})),\n// Initialise the selectableElements\n// if in WYSIWYG and readOnly we kill the use of links by clicking\nD&&!F&&(angular.forEach(j,function(a){r.find(a).on(\"click\",$)}),r.on(\"drop\",oa))}}}]);\n// this global var is used to prevent multiple fires of the drop event. Needs to be global to the textAngular file.\nvar t=!1,u=angular.module(\"textAngular\",[\"ngSanitize\",\"textAngularSetup\",\"textAngular.factories\",\"textAngular.DOM\",\"textAngular.validators\",\"textAngular.taBind\"]);//This makes ngSanitize required\nreturn u.config([function(){\n// clear taTools variable. Just catches testing and any other time that this config may run multiple times...\nangular.forEach(e,function(a,b){delete e[b]})}]),u.directive(\"textAngular\",[\"$compile\",\"$timeout\",\"taOptions\",\"taSelection\",\"taExecCommand\",\"textAngularManager\",\"$document\",\"$animate\",\"$log\",\"$q\",\"$parse\",function(b,c,d,e,f,g,h,i,j,k,l){return{require:\"?ngModel\",scope:{},restrict:\"EA\",priority:2,// So we override validators correctly\nlink:function(m,n,o,p){\n// all these vars should not be accessable outside this directive\nvar q,r,s,t,u,v,w,x,y,z,A,B,C=o.serial?o.serial:Math.floor(1e16*Math.random());m._name=o.name?o.name:\"textAngularEditor\"+C;var D=function(a,b,d){c(function(){a.one(b,d)},100)};if(y=f(o.taDefaultWrap),\n// get the settings from the defaults and add our specific functions that need to be on the scope\nangular.extend(m,angular.copy(d),{\n// wraps the selection in the provided tag / execCommand function. Should only be called in WYSIWYG mode.\nwrapSelection:function(a,b,c){\n// we restore the saved selection that was saved when focus was lost\n/* NOT FUNCTIONAL YET */\n/* textAngularManager.restoreFocusSelection(scope._name, scope); */\n\"undo\"===a.toLowerCase()?m[\"$undoTaBindtaTextElement\"+C]():\"redo\"===a.toLowerCase()?m[\"$redoTaBindtaTextElement\"+C]():(\n// catch errors like FF erroring when you try to force an undo with nothing done\ny(a,!1,b,m.defaultTagAttributes),c&&\n// re-apply the selectable tool events\nm[\"reApplyOnSelectorHandlerstaTextElement\"+C](),\n// refocus on the shown display element, this fixes a display bug when using :focus styles to outline the box.\n// You still have focus on the text/html input it just doesn't show up\nm.displayElements.text[0].focus())},showHtml:m.$eval(o.taShowHtml)||!1}),\n// setup the options from the optional attributes\no.taFocussedClass&&(m.classes.focussed=o.taFocussedClass),o.taTextEditorClass&&(m.classes.textEditor=o.taTextEditorClass),o.taHtmlEditorClass&&(m.classes.htmlEditor=o.taHtmlEditorClass),o.taDefaultTagAttributes)try{\n//\tTODO: This should use angular.merge to enhance functionality once angular 1.4 is required\nangular.extend(m.defaultTagAttributes,angular.fromJson(o.taDefaultTagAttributes))}catch(a){j.error(a)}\n// optional setup functions\no.taTextEditorSetup&&(m.setup.textEditorSetup=m.$parent.$eval(o.taTextEditorSetup)),o.taHtmlEditorSetup&&(m.setup.htmlEditorSetup=m.$parent.$eval(o.taHtmlEditorSetup)),\n// optional fileDropHandler function\no.taFileDrop?m.fileDropHandler=m.$parent.$eval(o.taFileDrop):m.fileDropHandler=m.defaultFileDropHandler,w=n[0].innerHTML,\n// clear the original content\nn[0].innerHTML=\"\",\n// Setup the HTML elements as variable references for use later\nm.displayElements={\n// we still need the hidden input even with a textarea as the textarea may have invalid/old input in it,\n// wheras the input will ALLWAYS have the correct value.\nforminput:angular.element(\"<input type='hidden' tabindex='-1' style='display: none;'>\"),html:angular.element(\"<textarea></textarea>\"),text:angular.element(\"<div></div>\"),\n// other toolbased elements\nscrollWindow:angular.element(\"<div class='ta-scroll-window'></div>\"),popover:angular.element('<div class=\"popover fade bottom\" style=\"max-width: none; width: 305px;\"></div>'),popoverArrow:angular.element('<div class=\"arrow\"></div>'),popoverContainer:angular.element('<div class=\"popover-content\"></div>'),resize:{overlay:angular.element('<div class=\"ta-resizer-handle-overlay\"></div>'),background:angular.element('<div class=\"ta-resizer-handle-background\"></div>'),anchors:[angular.element('<div class=\"ta-resizer-handle-corner ta-resizer-handle-corner-tl\"></div>'),angular.element('<div class=\"ta-resizer-handle-corner ta-resizer-handle-corner-tr\"></div>'),angular.element('<div class=\"ta-resizer-handle-corner ta-resizer-handle-corner-bl\"></div>'),angular.element('<div class=\"ta-resizer-handle-corner ta-resizer-handle-corner-br\"></div>')],info:angular.element('<div class=\"ta-resizer-handle-info\"></div>')}},\n// Setup the popover\nm.displayElements.popover.append(m.displayElements.popoverArrow),m.displayElements.popover.append(m.displayElements.popoverContainer),m.displayElements.scrollWindow.append(m.displayElements.popover),m.displayElements.popover.on(\"mousedown\",function(a,b){/* istanbul ignore else: this is for catching the jqLite testing*/\n// this prevents focusout from firing on the editor when clicking anything in the popover\nreturn b&&angular.extend(a,b),a.preventDefault(),!1}),/* istanbul ignore next: popover resize and scroll events handled */\nm.handlePopoverEvents=function(){\"block\"===m.displayElements.popover.css(\"display\")&&(B&&c.cancel(B),B=c(function(){\n//console.log('resize', scope.displayElements.popover.css('display'));\nm.reflowPopover(m.resizeElement),m.reflowResizeOverlay(m.resizeElement)},100))},/* istanbul ignore next: browser resize check */\nangular.element(window).on(\"resize\",m.handlePopoverEvents),/* istanbul ignore next: browser scroll check */\nangular.element(window).on(\"scroll\",m.handlePopoverEvents);\n// we want to know if a given node has a scrollbar!\n// credit to lotif on http://stackoverflow.com/questions/4880381/check-whether-html-element-has-scrollbars\nvar E=function(a){var b,c={vertical:!1,horizontal:!1};try{if(b=window.getComputedStyle(a),null===b)return c}catch(a){/* istanbul ignore next: error handler */\nreturn c}var d=b[\"overflow-y\"],e=b[\"overflow-x\"];return{vertical:(\"scroll\"===d||\"auto\"===d)&&/* istanbul ignore next: not tested */\na.scrollHeight>a.clientHeight,horizontal:(\"scroll\"===e||\"auto\"===e)&&/* istanbul ignore next: not tested */\na.scrollWidth>a.clientWidth}};\n// getScrollTop\n//\n// we structure this so that it can climb the parents of the _el and when it finds\n// one with scrollbars, it adds an EventListener, so that no matter how the\n// DOM is structured in the user APP, if there is a scrollbar not as part of the\n// ta-scroll-window, we will still capture the 'scroll' events...\n// and handle the scroll event properly and do the resize, etc.\n//\nm.getScrollTop=function(a,b){var c=a.scrollTop;/* istanbul ignore next: triggered only if has scrollbar and scrolled */\n/* istanbul ignore next: triggered only if has scrollbar */\n// remove element eventListener\n/* istanbul ignore next: triggered only if has scrollbar and scrolled */\n/* istanbul ignore else: catches only if no scroll */\nreturn\"undefined\"==typeof c&&(c=0),b&&E(a).vertical&&(a.removeEventListener(\"scroll\",m._scrollListener,!1),a.addEventListener(\"scroll\",m._scrollListener,!1)),0!==c?{node:a.nodeName,top:c}:a.parentNode?m.getScrollTop(a.parentNode,b):{node:\"<none>\",top:0}},\n// define the popover show and hide functions\nm.showPopover=function(a){m.getScrollTop(m.displayElements.scrollWindow[0],!0),m.displayElements.popover.css(\"display\",\"block\"),\n// we must use a $timeout here, or the css change to the\n// displayElements.resize.overlay will not take!!!\n// WHY???\nc(function(){m.displayElements.resize.overlay.css(\"display\",\"block\")}),m.resizeElement=a,m.reflowPopover(a),i.addClass(m.displayElements.popover,\"in\"),D(h.find(\"body\"),\"click keyup\",function(){m.hidePopover()})},/* istanbul ignore next: browser scroll event handler */\nm._scrollListener=function(a,b){m.handlePopoverEvents()},m.reflowPopover=function(a){var b=m.getScrollTop(m.displayElements.scrollWindow[0],!1),c=a[0].offsetTop-b.top;\n//var spaceBelowImage = scope.displayElements.text[0].offsetHeight - _el[0].offsetHeight - spaceAboveImage;\n//console.log(spaceAboveImage, spaceBelowImage);\n/* istanbul ignore if: catches only if near bottom of editor */\nc<51?(m.displayElements.popover.css(\"top\",a[0].offsetTop+a[0].offsetHeight+m.displayElements.scrollWindow[0].scrollTop+\"px\"),m.displayElements.popover.removeClass(\"top\").addClass(\"bottom\")):(m.displayElements.popover.css(\"top\",a[0].offsetTop-54+m.displayElements.scrollWindow[0].scrollTop+\"px\"),m.displayElements.popover.removeClass(\"bottom\").addClass(\"top\"));var d=m.displayElements.text[0].offsetWidth-m.displayElements.popover[0].offsetWidth,e=a[0].offsetLeft+a[0].offsetWidth/2-m.displayElements.popover[0].offsetWidth/2,f=Math.max(0,Math.min(d,e)),g=Math.min(e,Math.max(0,e-d))-11;f+=window.scrollX,g-=window.scrollX,m.displayElements.popover.css(\"left\",f+\"px\"),m.displayElements.popoverArrow.css(\"margin-left\",g+\"px\")},m.hidePopover=function(){m.displayElements.popover.css(\"display\",\"none\"),m.displayElements.popoverContainer.attr(\"style\",\"\"),m.displayElements.popoverContainer.attr(\"class\",\"popover-content\"),m.displayElements.popover.removeClass(\"in\"),m.displayElements.resize.overlay.css(\"display\",\"none\")},\n// setup the resize overlay\nm.displayElements.resize.overlay.append(m.displayElements.resize.background),angular.forEach(m.displayElements.resize.anchors,function(a){m.displayElements.resize.overlay.append(a)}),m.displayElements.resize.overlay.append(m.displayElements.resize.info),m.displayElements.scrollWindow.append(m.displayElements.resize.overlay),\n// A click event on the resize.background will now shift the focus to the editor\n/* istanbul ignore next: click on the resize.background to focus back to editor */\nm.displayElements.resize.background.on(\"click\",function(a){m.displayElements.text[0].focus()}),\n// define the show and hide events\nm.reflowResizeOverlay=function(a){a=angular.element(a)[0],m.displayElements.resize.overlay.css({display:\"block\",left:a.offsetLeft-5+\"px\",top:a.offsetTop-5+\"px\",width:a.offsetWidth+10+\"px\",height:a.offsetHeight+10+\"px\"}),m.displayElements.resize.info.text(a.offsetWidth+\" x \"+a.offsetHeight)},/* istanbul ignore next: pretty sure phantomjs won't test this */\nm.showResizeOverlay=function(a){var b=h.find(\"body\");z=function(c){var d={width:parseInt(a.attr(\"width\")),height:parseInt(a.attr(\"height\")),x:c.clientX,y:c.clientY};(void 0===d.width||isNaN(d.width))&&(d.width=a[0].offsetWidth),(void 0===d.height||isNaN(d.height))&&(d.height=a[0].offsetHeight),m.hidePopover();var e=d.height/d.width,f=function(b){function c(a){return Math.round(Math.max(0,a))}\n// calculate new size\nvar f={x:Math.max(0,d.width+(b.clientX-d.x)),y:Math.max(0,d.height+(b.clientY-d.y))},g=void 0!==o.taResizeForceAspectRatio,h=o.taResizeMaintainAspectRatio,i=g||h&&!b.shiftKey;if(i){var j=f.y/f.x;f.x=e>j?f.x:f.y/e,f.y=e>j?f.x*e:f.y}var k=angular.element(a);k.css(\"height\",c(f.y)+\"px\"),k.css(\"width\",c(f.x)+\"px\"),\n// reflow the popover tooltip\nm.reflowResizeOverlay(a)};b.on(\"mousemove\",f),D(b,\"mouseup\",function(a){a.preventDefault(),a.stopPropagation(),b.off(\"mousemove\",f),\n// at this point, we need to force the model to update! since the css has changed!\n// this fixes bug: #862 - we now hide the popover -- as this seems more consitent.\n// there are still issues under firefox, the window does not repaint. -- not sure\n// how best to resolve this, but clicking anywhere works.\nm.$apply(function(){m.hidePopover(),m.updateTaBindtaTextElement()},100)}),c.stopPropagation(),c.preventDefault()},m.displayElements.resize.anchors[3].off(\"mousedown\"),m.displayElements.resize.anchors[3].on(\"mousedown\",z),m.reflowResizeOverlay(a),D(b,\"click\",function(){m.hideResizeOverlay()})},/* istanbul ignore next: pretty sure phantomjs won't test this */\nm.hideResizeOverlay=function(){m.displayElements.resize.anchors[3].off(\"mousedown\",z),m.displayElements.resize.overlay.css(\"display\",\"none\")},\n// allow for insertion of custom directives on the textarea and div\nm.setup.htmlEditorSetup(m.displayElements.html),m.setup.textEditorSetup(m.displayElements.text),m.displayElements.html.attr({id:\"taHtmlElement\"+C,\"ng-show\":\"showHtml\",\"ta-bind\":\"ta-bind\",\"ng-model\":\"html\",\"ng-model-options\":n.attr(\"ng-model-options\")}),m.displayElements.text.attr({id:\"taTextElement\"+C,contentEditable:\"true\",\"ta-bind\":\"ta-bind\",\"ng-model\":\"html\",\"ng-model-options\":n.attr(\"ng-model-options\")}),m.displayElements.scrollWindow.attr({\"ng-hide\":\"showHtml\"}),o.taDefaultWrap&&\n// taDefaultWrap is only applied to the text and not the html view\nm.displayElements.text.attr(\"ta-default-wrap\",o.taDefaultWrap),o.taUnsafeSanitizer&&(m.displayElements.text.attr(\"ta-unsafe-sanitizer\",o.taUnsafeSanitizer),m.displayElements.html.attr(\"ta-unsafe-sanitizer\",o.taUnsafeSanitizer)),o.taKeepStyles&&(m.displayElements.text.attr(\"ta-keep-styles\",o.taKeepStyles),m.displayElements.html.attr(\"ta-keep-styles\",o.taKeepStyles)),\n// add the main elements to the origional element\nm.displayElements.scrollWindow.append(m.displayElements.text),n.append(m.displayElements.scrollWindow),n.append(m.displayElements.html),m.displayElements.forminput.attr(\"name\",m._name),n.append(m.displayElements.forminput),o.tabindex&&(n.removeAttr(\"tabindex\"),m.displayElements.text.attr(\"tabindex\",o.tabindex),m.displayElements.html.attr(\"tabindex\",o.tabindex)),o.placeholder&&(m.displayElements.text.attr(\"placeholder\",o.placeholder),m.displayElements.html.attr(\"placeholder\",o.placeholder)),o.taDisabled&&(m.displayElements.text.attr(\"ta-readonly\",\"disabled\"),m.displayElements.html.attr(\"ta-readonly\",\"disabled\"),m.disabled=m.$parent.$eval(o.taDisabled),m.$parent.$watch(o.taDisabled,function(a){m.disabled=a,m.disabled?n.addClass(m.classes.disabled):n.removeClass(m.classes.disabled)})),o.taPaste&&(m._pasteHandler=function(a){return l(o.taPaste)(m.$parent,{$html:a})},m.displayElements.text.attr(\"ta-paste\",\"_pasteHandler($html)\")),\n// compile the scope with the text and html elements only - if we do this with the main element it causes a compile loop\nb(m.displayElements.scrollWindow)(m),b(m.displayElements.html)(m),m.updateTaBindtaTextElement=m[\"updateTaBindtaTextElement\"+C],m.updateTaBindtaHtmlElement=m[\"updateTaBindtaHtmlElement\"+C],\n// add the classes manually last\nn.addClass(\"ta-root\"),m.displayElements.scrollWindow.addClass(\"ta-text ta-editor \"+m.classes.textEditor),m.displayElements.html.addClass(\"ta-html ta-editor \"+m.classes.htmlEditor);var F=function(a,b){/* istanbul ignore next: this is only here because of a bug in rangy where rangy.saveSelection() has cleared the state */\nb!==h[0].queryCommandState(a)&&h[0].execCommand(a,!1,null)};\n// used in the toolbar actions\nm._actionRunning=!1;var G=!1;\n// changes to the model variable from outside the html/text inputs\n// if no ngModel, then the only input is from inside text-angular\nif(m.startAction=function(){var b=!1,c=!1,d=!1,e=!1;\n//console.log('B', $document[0].queryCommandState('bold'), 'I', $document[0].queryCommandState('italic'), '_', $document[0].queryCommandState('underline'), 'S', $document[0].queryCommandState('strikeThrough') );\n//console.log('B', _beforeStateBold, 'I', _beforeStateItalic, '_', _beforeStateUnderline, 'S', _beforeStateStrikethough);\n// if rangy library is loaded return a function to reload the current selection\n// rangy.saveSelection() clear the state of bold, italic, underline, strikethrough\n// so we reset them here....!!!\n// this fixes bugs #423, #1129, #1105, #693 which are actually rangy bugs!\nreturn m._actionRunning=!0,b=h[0].queryCommandState(\"bold\"),c=h[0].queryCommandState(\"italic\"),d=h[0].queryCommandState(\"underline\"),e=h[0].queryCommandState(\"strikeThrough\"),G=a.saveSelection(),F(\"bold\",b),F(\"italic\",c),F(\"underline\",d),F(\"strikeThrough\",e),function(){G&&a.restoreSelection(G)}},m.endAction=function(){m._actionRunning=!1,G&&(m.showHtml?m.displayElements.html[0].focus():m.displayElements.text[0].focus(),\n// rangy.restoreSelection(_savedSelection);\na.removeMarkers(G)),G=!1,m.updateSelectedStyles(),\n// only update if in text or WYSIWYG mode\nm.showHtml||m[\"updateTaBindtaTextElement\"+C]()},\n// note that focusout > focusin is called everytime we click a button - except bad support: http://www.quirksmode.org/dom/events/blurfocus.html\n// cascades to displayElements.text and displayElements.html automatically.\nu=function(a){m.focussed=!0,n.addClass(m.classes.focussed),/*******  NOT FUNCTIONAL YET\n                    if (e.target.id === 'taTextElement' + _serial) {\n                        console.log('_focusin taTextElement');\n                        // we only do this if NOT focussed\n                        textAngularManager.restoreFocusSelection(scope._name);\n                    }\n*******/\nx.focus(),n.triggerHandler(\"focus\"),\n// we call editorScope.updateSelectedStyles() here because we want the toolbar to be focussed\n// as soon as we have focus.  Otherwise this only happens on mousedown or keydown etc...\n/* istanbul ignore else: don't run if already running */\nm.updateSelectedStyles&&!m._bUpdateSelectedStyles&&\n// we don't set editorScope._bUpdateSelectedStyles here, because we do not want the\n// updateSelectedStyles() to run twice which it will do after 200 msec if we have\n// set editorScope._bUpdateSelectedStyles\n//\n// WOW, normally I would do a scope.$apply here, but this causes ERRORs when doing tests!\nc(function(){m.updateSelectedStyles()},0)},m.displayElements.html.on(\"focus\",u),m.displayElements.text.on(\"focus\",u),v=function(a){/****************** NOT FUNCTIONAL YET\n                    try {\n                        var _s = rangy.getSelection();\n                        if (_s) {\n                            // we save the selection when we loose focus so that if do a wrapSelection, the\n                            // apropriate selection in the editor is restored before action.\n                            var _savedFocusRange = rangy.saveRange(_s.getRangeAt(0));\n                            textAngularManager.saveFocusSelection(scope._name, _savedFocusRange);\n                        }\n                    } catch(error) { }\n                    *****************/\n// if we are NOT runnig an action and have NOT focussed again on the text etc then fire the blur events\n// to prevent multiple apply error defer to next seems to work.\nreturn m._actionRunning||h[0].activeElement===m.displayElements.html[0]||h[0].activeElement===m.displayElements.text[0]||(n.removeClass(m.classes.focussed),x.unfocus(),c(function(){m._bUpdateSelectedStyles=!1,n.triggerHandler(\"blur\"),m.focussed=!1},0)),a.preventDefault(),!1},m.displayElements.html.on(\"blur\",v),m.displayElements.text.on(\"blur\",v),m.displayElements.text.on(\"paste\",function(a){n.triggerHandler(\"paste\",a)}),\n// Setup the default toolbar tools, this way allows the user to add new tools like plugins.\n// This is on the editor for future proofing if we find a better way to do this.\nm.queryFormatBlockState=function(a){\n// $document[0].queryCommandValue('formatBlock') errors in Firefox if we call this when focussed on the textarea\nreturn!m.showHtml&&a.toLowerCase()===h[0].queryCommandValue(\"formatBlock\").toLowerCase()},m.queryCommandState=function(a){\n// $document[0].queryCommandValue('formatBlock') errors in Firefox if we call this when focussed on the textarea\nreturn m.showHtml?\"\":h[0].queryCommandState(a)},m.switchView=function(){m.showHtml=!m.showHtml,i.enabled(!1,m.displayElements.html),i.enabled(!1,m.displayElements.text),\n//Show the HTML view\n/* istanbul ignore next: ngModel exists check */\n/* THIS is not the correct thing to do, here....\n   The ngModel is correct, but it is not formatted as the user as done it...\n                    var _model;\n                    if (ngModel) {\n                        _model = ngModel.$viewValue;\n                    } else {\n                        _model = scope.html;\n                    }\n                    var _html = scope.displayElements.html[0].value;\n                    if (getDomFromHtml(_html).childElementCount !== getDomFromHtml(_model).childElementCount) {\n                        // the model and the html do not agree\n                        // they can get out of sync and when they do, we correct that here...\n                        scope.displayElements.html.val(_model);\n                    }\n*/\nm.showHtml?\n//defer until the element is visible\nc(function(){\n// [0] dereferences the DOM object from the angular.element\nreturn i.enabled(!0,m.displayElements.html),i.enabled(!0,m.displayElements.text),m.displayElements.html[0].focus()},100):\n//Show the WYSIWYG view\n//defer until the element is visible\nc(function(){\n// [0] dereferences the DOM object from the angular.element\nreturn i.enabled(!0,m.displayElements.html),i.enabled(!0,m.displayElements.text),m.displayElements.text[0].focus()},100)},o.ngModel){var H=!0;p.$render=function(){if(H){\n// we need this firstRun to set the originalContents otherwise it gets overrided by the setting of ngModel to undefined from NaN\nH=!1;\n// if view value is null or undefined initially and there was original content, set to the original content\nvar a=m.$parent.$eval(o.ngModel);void 0!==a&&null!==a||!w||\"\"===w||\n// on passing through to taBind it will be sanitised\np.$setViewValue(w)}m.displayElements.forminput.val(p.$viewValue),\n// if the editors aren't focused they need to be updated, otherwise they are doing the updating\nm.html=p.$viewValue||\"\"},\n// trigger the validation calls\nn.attr(\"required\")&&(p.$validators.required=function(a,b){var c=a||b;return!(!c||\"\"===c.trim())})}else\n// if no ngModel then update from the contents of the origional html.\nm.displayElements.forminput.val(w),m.html=w;if(\n// changes from taBind back up to here\nm.$watch(\"html\",function(a,b){a!==b&&(o.ngModel&&p.$viewValue!==a&&p.$setViewValue(a),m.displayElements.forminput.val(a))}),o.taTargetToolbars)x=g.registerEditor(m._name,m,o.taTargetToolbars.split(\",\"));else{var I=angular.element('<div text-angular-toolbar name=\"textAngularToolbar'+C+'\">');\n// passthrough init of toolbar options\no.taToolbar&&I.attr(\"ta-toolbar\",o.taToolbar),o.taToolbarClass&&I.attr(\"ta-toolbar-class\",o.taToolbarClass),o.taToolbarGroupClass&&I.attr(\"ta-toolbar-group-class\",o.taToolbarGroupClass),o.taToolbarButtonClass&&I.attr(\"ta-toolbar-button-class\",o.taToolbarButtonClass),o.taToolbarActiveButtonClass&&I.attr(\"ta-toolbar-active-button-class\",o.taToolbarActiveButtonClass),o.taFocussedClass&&I.attr(\"ta-focussed-class\",o.taFocussedClass),n.prepend(I),b(I)(m.$parent),x=g.registerEditor(m._name,m,[\"textAngularToolbar\"+C])}m.$on(\"$destroy\",function(){g.unregisterEditor(m._name),angular.element(window).off(\"blur\"),angular.element(window).off(\"resize\",m.handlePopoverEvents),angular.element(window).off(\"scroll\",m.handlePopoverEvents)}),\n// catch element select event and pass to toolbar tools\nm.$on(\"ta-element-select\",function(a,b){x.triggerElementSelect(a,b)&&m[\"reApplyOnSelectorHandlerstaTextElement\"+C]()}),/******************* no working fully\n                var distanceFromPoint = function (px, py, x, y) {\n                    return Math.sqrt((px-x)*(px-x)+(py-y)*(py-y));\n                };\n                // because each object is a rectangle and we have a single point,\n                // we need to give priority if the point is inside the rectangle\n                var getPositionDistance = function(el, x, y) {\n                    var range = document.createRange();\n                    range.selectNode(el);\n                    var rect = range.getBoundingClientRect();\n                    console.log(el, rect);\n                    range.detach();\n                    var bcr = rect;\n                    // top left\n                    var d1 = distanceFromPoint(bcr.left, bcr.top, x, y);\n                    // bottom left\n                    var d2 = distanceFromPoint(bcr.left, bcr.bottom, x, y);\n                    // top right\n                    var d3 = distanceFromPoint(bcr.right, bcr.top, x, y);\n                    // bottom right\n                    var d4 = distanceFromPoint(bcr.right, bcr.bottom, x, y);\n                    return Math.min(d1, d2, d3, d4);\n                };\n                var findClosest = function(el, minElement, maxDistance, x, y) {\n                    var _d=0;\n                    for (var i = 0; i < el.childNodes.length; i++) {\n                        var _n = el.childNodes[i];\n                        if (!_n.childNodes.length) {\n                            _d = getPositionDistance(_n, x, y);\n                            //console.log(_n, _n.childNodes, _d);\n                            if (_d < maxDistance) {\n                                maxDistance = _d;\n                                minElement = _n;\n                            }\n                        }\n                        var res = findClosest(_n, minElement, maxDistance, x, y);\n                        if (res.max < maxDistance) {\n                            maxDistance = res.max;\n                            minElement = res.min;\n                        }\n                    }\n                    return { max: maxDistance, min: minElement };\n                };\n                var getClosestElement = function (el, x, y) {\n                    return findClosest(el, null, 12341234124, x, y);\n                };\n****************/\nm.$on(\"ta-drop-event\",function(a,b,d,f){f&&f.files&&f.files.length>0?(m.displayElements.text[0].focus(),\n// we must set the location of the drop!\n//console.log(dropEvent.clientX, dropEvent.clientY, dropEvent.target);\ne.setSelectionToElementEnd(d.target),angular.forEach(f.files,function(a){\n// taking advantage of boolean execution, if the fileDropHandler returns true, nothing else after it is executed\n// If it is false then execute the defaultFileDropHandler if the fileDropHandler is NOT the default one\n// Once one of these has been executed wrap the result as a promise, if undefined or variable update the taBind, else we should wait for the promise\ntry{k.when(m.fileDropHandler(a,m.wrapSelection)||m.fileDropHandler!==m.defaultFileDropHandler&&k.when(m.defaultFileDropHandler(a,m.wrapSelection))).then(function(){m[\"updateTaBindtaTextElement\"+C]()})}catch(a){j.error(a)}}),d.preventDefault(),d.stopPropagation()):c(function(){m[\"updateTaBindtaTextElement\"+C]()},0)}),\n// the following is for applying the active states to the tools that support it\nm._bUpdateSelectedStyles=!1,/* istanbul ignore next: browser window/tab leave check */\nangular.element(window).on(\"blur\",function(){m._bUpdateSelectedStyles=!1,m.focussed=!1}),\n// loop through all the tools polling their activeState function if it exists\nm.updateSelectedStyles=function(){var a;/* istanbul ignore next: This check is to ensure multiple timeouts don't exist */\nA&&c.cancel(A),\n// test if the common element ISN'T the root ta-text node\nvoid 0!==(a=e.getSelectionElement())&&a.parentNode!==m.displayElements.text[0]?x.updateSelectedStyles(angular.element(a)):x.updateSelectedStyles(),\n// used to update the active state when a key is held down, ie the left arrow\n/* istanbul ignore else: browser only check */\nm._bUpdateSelectedStyles&&(A=c(m.updateSelectedStyles,200))},\n// start updating on keydown\nq=function(){/* istanbul ignore next: ie catch */\n/* istanbul ignore next: ie catch */\n/* istanbul ignore else: don't run if already running */\nreturn m.focussed?void(m._bUpdateSelectedStyles||(m._bUpdateSelectedStyles=!0,m.$apply(function(){m.updateSelectedStyles()}))):void(m._bUpdateSelectedStyles=!1)},m.displayElements.html.on(\"keydown\",q),m.displayElements.text.on(\"keydown\",q),\n// stop updating on key up and update the display/model\nr=function(){m._bUpdateSelectedStyles=!1},m.displayElements.html.on(\"keyup\",r),m.displayElements.text.on(\"keyup\",r),\n// stop updating on key up and update the display/model\ns=function(a,b){\n// bug fix for Firefox.  If we are selecting a <a> already, any characters will\n// be added within the <a> which is bad!\n/* istanbul ignore next: don't see how to test this... */\nif(e.getSelection){var c=e.getSelection();\n// in a weird case (can't reproduce) taSelection.getSelectionElement() can be undefined!!\n// this comes from range.commonAncestorContainer;\n// so I check for this here which fixes the error case\ne.getSelectionElement()&&\"a\"===e.getSelectionElement().nodeName.toLowerCase()&&(\n// check and see if we are at the edge of the <a>\n3===c.start.element.nodeType&&c.start.element.textContent.length===c.end.offset&&\n// we are at the end of the <a>!!!\n// so move the selection to after the <a>!!\ne.setSelectionAfterElement(e.getSelectionElement()),3===c.start.element.nodeType&&0===c.start.offset&&\n// we are at the start of the <a>!!!\n// so move the selection before the <a>!!\ne.setSelectionBeforeElement(e.getSelectionElement()))}/* istanbul ignore else: this is for catching the jqLite testing*/\nb&&angular.extend(a,b),m.$apply(function(){if(x.sendKeyCommand(a))/* istanbul ignore else: don't run if already running */\nreturn m._bUpdateSelectedStyles||m.updateSelectedStyles(),a.preventDefault(),!1})},m.displayElements.html.on(\"keypress\",s),m.displayElements.text.on(\"keypress\",s),\n// update the toolbar active states when we click somewhere in the text/html boxed\nt=function(){\n// ensure only one execution of updateSelectedStyles()\nm._bUpdateSelectedStyles=!1,\n// for some reason, unless we do a $timeout here, after a _mouseup when the line is\n// highlighted, and instead use a scope.$apply(function(){ scope.updateSelectedStyles(); });\n// doesn't work properly, so we replaced this with:\n/* istanbul ignore next: not tested  */\nc(function(){m.updateSelectedStyles()},0)},m.displayElements.html.on(\"mouseup\",t),m.displayElements.text.on(\"mouseup\",t)}}}]),u.service(\"textAngularManager\",[\"taToolExecuteAction\",\"taTools\",\"taRegisterTool\",\"$interval\",\"$rootScope\",\"$log\",function(a,b,c,d,e,g){\n// this service is used to manage all textAngular editors and toolbars.\n// All publicly published functions that modify/need to access the toolbar or editor scopes should be in here\n// these contain references to all the editors and toolbars that have been initialised in this app\nvar h,i={},j={},k=0,l=function(a){angular.forEach(j,function(b){b.editorFunctions.updateSelectedStyles(a)})},m=50,n=function(){k=Date.now(),/* istanbul ignore next: setup a one time updateStyles() */\nh=d(function(){l(),h=void 0},m,1)};/* istanbul ignore next: make sure clean up on destroy */\ne.$on(\"destroy\",function(){h&&(d.cancel(h),h=void 0)});var o=function(){Math.abs(Date.now()-k)>m&&\n// we have already triggered the updateStyles a long time back... so setup it again...\nn()};\n// when we focus into a toolbar, we need to set the TOOLBAR's $parent to be the toolbars it's linked to.\n// We also need to set the tools to be updated to be the toolbars...\nreturn{\n// register an editor and the toolbars that it is affected by\nregisterEditor:function(c,d,e){\n// NOTE: name === editorScope._name\n// targetToolbars is an [] of 'toolbar name's\n// targetToolbars are optional, we don't require a toolbar to function\nif(!c||\"\"===c)throw\"textAngular Error: An editor requires a name\";if(!d)throw\"textAngular Error: An editor requires a scope\";if(j[c])throw'textAngular Error: An Editor with name \"'+c+'\" already exists';return j[c]={scope:d,toolbars:e,\n// toolbarScopes used by this editor\ntoolbarScopes:[],_registerToolbarScope:function(a){\n// add to the list late\nthis.toolbars.indexOf(a.name)>=0&&\n// if this toolbarScope is being used by this editor we add it as one of the scopes\nthis.toolbarScopes.push(a)},\n// this is a suite of functions the editor should use to update all it's linked toolbars\neditorFunctions:{disable:function(){\n// disable all linked toolbars\nangular.forEach(j[c].toolbarScopes,function(a){a.disabled=!0})},enable:function(){\n// enable all linked toolbars\nangular.forEach(j[c].toolbarScopes,function(a){a.disabled=!1})},focus:function(){\n// this should be called when the editor is focussed\nangular.forEach(j[c].toolbarScopes,function(a){a._parent=d,a.disabled=!1,a.focussed=!0}),d.focussed=!0},unfocus:function(){\n// this should be called when the editor becomes unfocussed\nangular.forEach(j[c].toolbarScopes,function(a){a.disabled=!0,a.focussed=!1}),d.focussed=!1},updateSelectedStyles:function(a){\n// update the active state of all buttons on liked toolbars\nangular.forEach(j[c].toolbarScopes,function(b){angular.forEach(b.tools,function(c){c.activeState&&(b._parent=d,\n// selectedElement may be undefined if nothing selected\nc.active=c.activeState(a))})})},sendKeyCommand:function(e){\n// we return true if we applied an action, false otherwise\nvar f=!1;return(e.ctrlKey||e.metaKey||e.specialKey)&&angular.forEach(b,function(b,g){if(b.commandKeyCode&&(b.commandKeyCode===e.which||b.commandKeyCode===e.specialKey))for(var h=0;h<j[c].toolbarScopes.length;h++)if(void 0!==j[c].toolbarScopes[h].tools[g]){a.call(j[c].toolbarScopes[h].tools[g],d),f=!0;break}}),f},triggerElementSelect:function(a,e){\n// search through the taTools to see if a match for the tag is made.\n// if there is, see if the tool is on a registered toolbar and not disabled.\n// NOTE: This can trigger on MULTIPLE tools simultaneously.\nvar f=function(a,b){for(var c=!0,d=0;d<b.length;d++)c=c&&a.attr(b[d]);return c},g=[],h={},i=!1;e=angular.element(e);\n// get all valid tools by element name, keep track if one matches the\nvar k=!1;\n// Run the actions on the first visible filtered tool only\nif(angular.forEach(b,function(a,b){a.onElementSelect&&a.onElementSelect.element&&a.onElementSelect.element.toLowerCase()===e[0].tagName.toLowerCase()&&(!a.onElementSelect.filter||a.onElementSelect.filter(e))&&(\n// this should only end up true if the element matches the only attributes\nk=k||angular.isArray(a.onElementSelect.onlyWithAttrs)&&f(e,a.onElementSelect.onlyWithAttrs),a.onElementSelect.onlyWithAttrs&&!f(e,a.onElementSelect.onlyWithAttrs)||(h[b]=a))}),\n// if we matched attributes to filter on, then filter, else continue\nk?(angular.forEach(h,function(a,b){a.onElementSelect.onlyWithAttrs&&f(e,a.onElementSelect.onlyWithAttrs)&&g.push({name:b,tool:a})}),\n// sort most specific (most attrs to find) first\ng.sort(function(a,b){return b.tool.onElementSelect.onlyWithAttrs.length-a.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(h,function(a,b){g.push({name:b,tool:a})}),g.length>0)for(var l=0;l<g.length;l++){for(var m=g[l].tool,n=g[l].name,o=0;o<j[c].toolbarScopes.length;o++)if(void 0!==j[c].toolbarScopes[o].tools[n]){m.onElementSelect.action.call(j[c].toolbarScopes[o].tools[n],a,e,d),i=!0;break}if(i)break}return i}}},angular.forEach(e,function(a){i[a]&&j[c].toolbarScopes.push(i[a])}),o(),j[c].editorFunctions},\n// retrieve editor by name, largely used by testing suites only\nretrieveEditor:function(a){return j[a]},unregisterEditor:function(a){delete j[a],o()},\n// registers a toolbar such that it can be linked to editors\nregisterToolbar:function(a){if(!a)throw\"textAngular Error: A toolbar requires a scope\";if(!a.name||\"\"===a.name)throw\"textAngular Error: A toolbar requires a name\";if(i[a.name])throw'textAngular Error: A toolbar with name \"'+a.name+'\" already exists';i[a.name]=a,\n// walk all the editors and connect this toolbarScope to the editors.... if we need to.  This way, it does\n// not matter if we register the editors after the toolbars or not\n// Note the editor will ignore this toolbarScope if it is not connected to it...\nangular.forEach(j,function(b){b._registerToolbarScope(a)}),o()},\n// retrieve toolbar by name, largely used by testing suites only\nretrieveToolbar:function(a){return i[a]},\n// retrieve toolbars by editor name, largely used by testing suites only\nretrieveToolbarsViaEditor:function(a){var b=[],c=this;return angular.forEach(this.retrieveEditor(a).toolbars,function(a){b.push(c.retrieveToolbar(a))}),b},unregisterToolbar:function(a){delete i[a],o()},\n// functions for updating the toolbar buttons display\nupdateToolsDisplay:function(a){\n// pass a partial struct of the taTools, this allows us to update the tools on the fly, will not change the defaults.\nvar b=this;angular.forEach(a,function(a,c){b.updateToolDisplay(c,a)})},\n// this function resets all toolbars to their default tool definitions\nresetToolsDisplay:function(){var a=this;angular.forEach(b,function(b,c){a.resetToolDisplay(c)}),o()},\n// update a tool on all toolbars\nupdateToolDisplay:function(a,b){var c=this;angular.forEach(i,function(d,e){c.updateToolbarToolDisplay(e,a,b)}),o()},\n// resets a tool to the default/starting state on all toolbars\nresetToolDisplay:function(a){var b=this;angular.forEach(i,function(c,d){b.resetToolbarToolDisplay(d,a)}),o()},\n// update a tool on a specific toolbar\nupdateToolbarToolDisplay:function(a,b,c){if(!i[a])throw'textAngular Error: No Toolbar with name \"'+a+'\" exists';i[a].updateToolDisplay(b,c)},\n// reset a tool on a specific toolbar to it's default starting value\nresetToolbarToolDisplay:function(a,c){if(!i[a])throw'textAngular Error: No Toolbar with name \"'+a+'\" exists';i[a].updateToolDisplay(c,b[c],!0)},\n// removes a tool from all toolbars and it's definition\nremoveTool:function(a){delete b[a],angular.forEach(i,function(b){delete b.tools[a];for(var c=0;c<b.toolbar.length;c++){for(var d,e=0;e<b.toolbar[c].length;e++){if(b.toolbar[c][e]===a){d={group:c,index:e};break}if(void 0!==d)break}void 0!==d&&(b.toolbar[d.group].slice(d.index,1),b._$element.children().eq(d.group).children().eq(d.index).remove())}}),o()},\n// toolkey, toolDefinition are required. If group is not specified will pick the last group, if index isnt defined will append to group\naddTool:function(a,b,d,e){c(a,b),angular.forEach(i,function(c){c.addTool(a,b,d,e)}),o()},\n// adds a Tool but only to one toolbar not all\naddToolToToolbar:function(a,b,d,e,f){c(a,b),i[d].addTool(a,b,e,f),o()},\n// this is used when externally the html of an editor has been changed and textAngular needs to be notified to update the model.\n// this will call a $digest if not already happening\nrefreshEditor:function(a){if(!j[a])throw'textAngular Error: No Editor with name \"'+a+'\" exists';j[a].scope.updateTaBindtaTextElement(),/* istanbul ignore else: phase catch */\nj[a].scope.$$phase||j[a].scope.$digest(),o()},\n// this is used by taBind to send a key command in response to a special key event\nsendKeyCommand:function(a,b){var c=j[a._name];/* istanbul ignore else: if nothing to do, do nothing */\nif(c&&c.editorFunctions.sendKeyCommand(b))/* istanbul ignore else: don't run if already running */\nreturn a._bUpdateSelectedStyles||a.updateSelectedStyles(),b.preventDefault(),!1},\n//\n// When a toolbar and tools are created, it isn't until there is a key event or mouse event\n// that the updateSelectedStyles() is called behind the scenes.\n// This function forces an update through the existing editors to help the application make sure\n// the inital state is correct.\n//\nupdateStyles:l,\n// return the current version of textAngular in use to the user\ngetVersion:function(){return f},\n// for testing\ngetToolbarScopes:function(){var a=[];return angular.forEach(j,function(b){a=a.concat(b.toolbarScopes)}),a}}}]),u.directive(\"textAngularToolbar\",[\"$compile\",\"textAngularManager\",\"taOptions\",\"taTools\",\"taToolExecuteAction\",\"$window\",function(a,b,c,d,e,f){return{scope:{name:\"@\"},restrict:\"EA\",link:function(g,h,i){if(!g.name||\"\"===g.name)throw\"textAngular Error: A toolbar requires a name\";angular.extend(g,angular.copy(c)),i.taToolbar&&(g.toolbar=g.$parent.$eval(i.taToolbar)),i.taToolbarClass&&(g.classes.toolbar=i.taToolbarClass),i.taToolbarGroupClass&&(g.classes.toolbarGroup=i.taToolbarGroupClass),i.taToolbarButtonClass&&(g.classes.toolbarButton=i.taToolbarButtonClass),i.taToolbarActiveButtonClass&&(g.classes.toolbarButtonActive=i.taToolbarActiveButtonClass),i.taFocussedClass&&(g.classes.focussed=i.taFocussedClass),g.disabled=!0,g.focussed=!1,g._$element=h,h[0].innerHTML=\"\",h.addClass(\"ta-toolbar \"+g.classes.toolbar),g.$watch(\"focussed\",function(){g.focussed?h.addClass(g.classes.focussed):h.removeClass(g.classes.focussed)});var j=function(b,c){var d;if(d=b&&b.display?angular.element(b.display):angular.element(\"<button type='button'>\"),b&&b.class?d.addClass(b.class):d.addClass(g.classes.toolbarButton),d.attr(\"name\",c.name),\n// important to not take focus from the main text/html entry\nd.attr(\"ta-button\",\"ta-button\"),d.attr(\"ng-disabled\",\"isDisabled()\"),d.attr(\"tabindex\",\"-1\"),d.attr(\"ng-click\",\"executeAction()\"),d.attr(\"ng-class\",\"displayActiveToolClass(active)\"),b&&b.tooltiptext&&d.attr(\"title\",b.tooltiptext),b&&!b.display&&!c._display&&(\n// first clear out the current contents if any\nd[0].innerHTML=\"\",\n// add the buttonText\nb.buttontext&&(d[0].innerHTML=b.buttontext),b.iconclass)){var e=angular.element(\"<i>\"),f=d[0].innerHTML;e.addClass(b.iconclass),d[0].innerHTML=\"\",d.append(e),f&&\"\"!==f&&d.append(\"&nbsp;\"+f)}return c._lastToolDefinition=angular.copy(b),a(d)(c)};\n// Keep a reference for updating the active states later\ng.tools={},\n// create the tools in the toolbar\n// default functions and values to prevent errors in testing and on init\ng._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var k={$window:f,$editor:function(){\n// dynamically gets the editor as it is set\nreturn g._parent},isDisabled:function(){\n// view selection button is always enabled since it doesn not depend on a selction!\n// view selection button is always enabled since it doesn not depend on a selction!\n// this bracket is important as without it it just returns the first bracket and ignores the rest\n// when the button's disabled function/value evaluates to true\n// all buttons except the HTML Switch button should be disabled in the showHtml (RAW html) mode\n// if the toolbar is disabled\n// if the current editor is disabled\nreturn(\"html\"!==this.name||!g._parent.startAction)&&(\"function\"!=typeof this.$eval(\"disabled\")&&this.$eval(\"disabled\")||this.$eval(\"disabled()\")||\"html\"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled)},displayActiveToolClass:function(a){return a?g.classes.toolbarButtonActive:\"\"},executeAction:e};angular.forEach(g.toolbar,function(a){\n// setup the toolbar group\nvar b=angular.element(\"<div>\");b.addClass(g.classes.toolbarGroup),angular.forEach(a,function(a){\n// init and add the tools to the group\n// a tool name (key name from taTools struct)\n//creates a child scope of the main angularText scope and then extends the childScope with the functions of this particular tool\n// reference to the scope and element kept\ng.tools[a]=angular.extend(g.$new(!0),d[a],k,{name:a}),g.tools[a].$element=j(d[a],g.tools[a]),\n// append the tool compiled with the childScope to the group element\nb.append(g.tools[a].$element)}),\n// append the group to the toolbar\nh.append(b)}),\n// update a tool\n// if a value is set to null, remove from the display\n// when forceNew is set to true it will ignore all previous settings, used to reset to taTools definition\n// to reset to defaults pass in taTools[key] as _newTool and forceNew as true, ie `updateToolDisplay(key, taTools[key], true);`\ng.updateToolDisplay=function(a,b,c){var d=g.tools[a];if(d){if(\n// get the last toolDefinition, then override with the new definition\nd._lastToolDefinition&&!c&&(b=angular.extend({},d._lastToolDefinition,b)),null===b.buttontext&&null===b.iconclass&&null===b.display)throw'textAngular Error: Tool Definition for updating \"'+a+'\" does not have a valid display/iconclass/buttontext value';\n// if tool is defined on this toolbar, update/redo the tool\nnull===b.buttontext&&delete b.buttontext,null===b.iconclass&&delete b.iconclass,null===b.display&&delete b.display;var e=j(b,d);d.$element.replaceWith(e),d.$element=e}},\n// we assume here that all values passed are valid and correct\ng.addTool=function(a,b,c,e){g.tools[a]=angular.extend(g.$new(!0),d[a],k,{name:a}),g.tools[a].$element=j(d[a],g.tools[a]);var f;void 0===c&&(c=g.toolbar.length-1),f=angular.element(h.children()[c]),void 0===e?(f.append(g.tools[a].$element),g.toolbar[c][g.toolbar[c].length-1]=a):(f.children().eq(e).after(g.tools[a].$element),g.toolbar[c][e]=a)},b.registerToolbar(g),g.$on(\"$destroy\",function(){b.unregisterToolbar(g.name)})}}}]),u.directive(\"textAngularVersion\",[\"textAngularManager\",function(a){var b=a.getVersion();return{restrict:\"EA\",link:function(a,c,d){c.html(b)}}}]),u.name});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3BsdWdpbnMvdGV4dEFuZ3VsYXIubWluLmpzPzVkZGIiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGEsYil7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP1xuLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXRcbmRlZmluZShcInRleHRBbmd1bGFyXCIsW1wicmFuZ3lcIixcInJhbmd5L2xpYi9yYW5neS1zZWxlY3Rpb25zYXZlcmVzdG9yZVwiXSxmdW5jdGlvbihjLGQpe3JldHVybiBhW1widGV4dEFuZ3VsYXIubmFtZVwiXT1iKGMsZCl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9cbi8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4vLyBsaWtlIE5vZGUuXG5tb2R1bGUuZXhwb3J0cz1iKHJlcXVpcmUoXCJyYW5neVwiKSxyZXF1aXJlKFwicmFuZ3kvbGliL3Jhbmd5LXNlbGVjdGlvbnNhdmVyZXN0b3JlXCIpKTphLnRleHRBbmd1bGFyPWIocmFuZ3kpfSh0aGlzLGZ1bmN0aW9uKGEpe1xuLy8gdGVzdHMgYWdhaW5zdCB0aGUgY3VycmVudCBqcUxpdGUvanF1ZXJ5IGltcGxlbWVudGF0aW9uIGlmIHRoaXMgY2FuIGJlIGFuIGVsZW1lbnRcbmZ1bmN0aW9uIGIoYSl7dHJ5e3JldHVybiAwIT09YW5ndWxhci5lbGVtZW50KGEpLmxlbmd0aH1jYXRjaChhKXtyZXR1cm4hMX19LypcbiAgICBBIHRvb2wgZGVmaW5pdGlvbiBpcyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGtleS92YWx1ZSBwYXJhbWV0ZXJzOlxuICAgICAgICBhY3Rpb246IFtmdW5jdGlvbihkZWZlcnJlZCwgcmVzdG9yZVNlbGVjdGlvbildXG4gICAgICAgICAgICAgICAgYSBmdW5jdGlvbiB0aGF0IGlzIGV4ZWN1dGVkIG9uIGNsaWNraW5nIG9uIHRoZSBidXR0b24gLSB0aGlzIHdpbGwgYWxsd2F5cyBiZSBleGVjdXRlZCB1c2luZyBuZy1jbGljayBhbmQgd2lsbFxuICAgICAgICAgICAgICAgIG92ZXJ3cml0ZSBhbnkgbmctY2xpY2sgdmFsdWUgaW4gdGhlIGRpc3BsYXkgYXR0cmlidXRlLlxuICAgICAgICAgICAgICAgIFRoZSBmdW5jdGlvbiBpcyBwYXNzZWQgYSBkZWZlcnJlZCBvYmplY3QgKCRxLmRlZmVyKCkpLCBpZiB0aGlzIGlzIHdhbnRlZCB0byBiZSB1c2VkIGByZXR1cm4gZmFsc2U7YCBmcm9tIHRoZSBhY3Rpb24gYW5kXG4gICAgICAgICAgICAgICAgbWFudWFsbHkgY2FsbCBgZGVmZXJyZWQucmVzb2x2ZSgpO2AgZWxzZXdoZXJlIHRvIG5vdGlmeSB0aGUgZWRpdG9yIHRoYXQgdGhlIGFjdGlvbiBoYXMgZmluaXNoZWQuXG4gICAgICAgICAgICAgICAgcmVzdG9yZVNlbGVjdGlvbiBpcyBvbmx5IGRlZmluZWQgaWYgdGhlIHJhbmd5IGxpYnJhcnkgaXMgaW5jbHVkZWQgYW5kIGl0IGNhbiBiZSBjYWxsZWQgYXMgYHJlc3RvcmVTZWxlY3Rpb24oKWAgdG8gcmVzdG9yZSB0aGUgdXNlcnNcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24gaW4gdGhlIFdZU0lXWUcgZWRpdG9yLlxuICAgICAgICBkaXNwbGF5OiBbc3RyaW5nXT9cbiAgICAgICAgICAgICAgICBPcHRpb25hbCwgYW4gSFRNTCBlbGVtZW50IHRvIGJlIGRpc3BsYXllZCBhcyB0aGUgYnV0dG9uLiBUaGUgYHNjb3BlYCBvZiB0aGUgYnV0dG9uIGlzIHRoZSB0b29sIGRlZmluaXRpb24gb2JqZWN0IHdpdGggc29tZSBhZGRpdGlvbmFsIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIElmIHNldCB0aGlzIHdpbGwgY2F1c2UgYnV0dG9udGV4dCBhbmQgaWNvbmNsYXNzIHRvIGJlIGlnbm9yZWRcbiAgICAgICAgY2xhc3M6IFtzdHJpbmddP1xuICAgICAgICAgICAgICAgIE9wdGlvbmFsLCBpZiBzZXQgd2lsbCBvdmVycmlkZSB0aGUgdGFPcHRpb25zLmNsYXNzZXMudG9vbGJhckJ1dHRvbiBjbGFzcy5cbiAgICAgICAgYnV0dG9udGV4dDogW3N0cmluZ10/XG4gICAgICAgICAgICAgICAgaWYgdGhpcyBpcyBkZWZpbmVkIGl0IHdpbGwgcmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgY29udGFpbmVkIGluIHRoZSBgZGlzcGxheWAgZWxlbWVudFxuICAgICAgICBpY29uY2xhc3M6IFtzdHJpbmddP1xuICAgICAgICAgICAgICAgIGlmIHRoaXMgaXMgZGVmaW5lZCBhbiBpY29uICg8aT4pIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGBkaXNwbGF5YCBlbGVtZW50IHdpdGggdGhpcyBzdHJpbmcgYXMgaXQncyBjbGFzc1xuICAgICAgICB0b29sdGlwdGV4dDogW3N0cmluZ10/XG4gICAgICAgICAgICAgICAgT3B0aW9uYWwsIGEgcGxhaW4gdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgYWN0aW9uLCB1c2VkIGZvciB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBhY3Rpb24gYnV0dG9uIGluIHRoZSB0b29sYmFyIGJ5IGRlZmF1bHQuXG4gICAgICAgIGFjdGl2ZXN0YXRlOiBbZnVuY3Rpb24oY29tbW9uRWxlbWVudCldP1xuICAgICAgICAgICAgICAgIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGV2ZXJ5IGNhcmV0IG1vdmVtZW50LCBpZiBpdCByZXR1cm5zIHRydWUgdGhlbiB0aGUgY2xhc3MgdGFPcHRpb25zLmNsYXNzZXMudG9vbGJhckJ1dHRvbkFjdGl2ZVxuICAgICAgICAgICAgICAgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgYGRpc3BsYXlgIGVsZW1lbnQsIGVsc2UgdGhlIGNsYXNzIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAgICBkaXNhYmxlZDogW2Z1bmN0aW9uKCldP1xuICAgICAgICAgICAgICAgIGlmIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHRoZW4gdGhlIHRvb2wgd2lsbCBoYXZlIHRoZSBjbGFzcyB0YU9wdGlvbnMuY2xhc3Nlcy5kaXNhYmxlZCBhcHBsaWVkIHRvIGl0LCBlbHNlIGl0IHdpbGwgYmUgcmVtb3ZlZFxuICAgIE90aGVyIGZ1bmN0aW9ucyBhdmFpbGFibGUgb24gdGhlIHNjb3BlIGFyZTpcbiAgICAgICAgbmFtZTogW3N0cmluZ11cbiAgICAgICAgICAgICAgICB0aGUgbmFtZSBvZiB0aGUgdG9vbCwgdGhpcyBpcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHBhc3NlZCBpbnRvIHRhUmVnaXN0ZXJUb29sXG4gICAgICAgIGlzRGlzYWJsZWQ6IFtmdW5jdGlvbigpXVxuICAgICAgICAgICAgICAgIHJldHVybnMgdHJ1ZSBpZiB0aGUgdG9vbCBpcyBkaXNhYmxlZCwgZmFsc2UgaWYgaXQgaXNuJ3RcbiAgICAgICAgZGlzcGxheUFjdGl2ZVRvb2xDbGFzczogW2Z1bmN0aW9uKGJvb2xlYW4pXVxuICAgICAgICAgICAgICAgIHJldHVybnMgdHJ1ZSBpZiB0aGUgdG9vbCBpcyAnYWN0aXZlJyBpbiB0aGUgY3VycmVudGx5IGZvY3Vzc2VkIHRvb2xiYXJcbiAgICAgICAgb25FbGVtZW50U2VsZWN0OiBbT2JqZWN0XVxuICAgICAgICAgICAgICAgIFRoaXMgb2JqZWN0IGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcga2V5L3ZhbHVlIHBhaXJzIGFuZCBpcyB1c2VkIHRvIHRyaWdnZXIgdGhlIHRhLWVsZW1lbnQtc2VsZWN0IGV2ZW50XG4gICAgICAgICAgICAgICAgZWxlbWVudDogW1N0cmluZ11cbiAgICAgICAgICAgICAgICAgICAgYW4gZWxlbWVudCBuYW1lLCB3aWxsIG9ubHkgdHJpZ2dlciB0aGUgb25FbGVtZW50U2VsZWN0IGFjdGlvbiBpZiB0aGUgdGFnTmFtZSBvZiB0aGUgZWxlbWVudCBtYXRjaGVzIHRoaXMgc3RyaW5nXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBbZnVuY3Rpb24oZWxlbWVudCldP1xuICAgICAgICAgICAgICAgICAgICBhbiBvcHRpb25hbCBmaWx0ZXIgdGhhdCByZXR1cm5zIGEgYm9vbGVhbiwgaWYgdHJ1ZSBpdCB3aWxsIHRyaWdnZXIgdGhlIG9uRWxlbWVudFNlbGVjdC5cbiAgICAgICAgICAgICAgICBhY3Rpb246IFtmdW5jdGlvbihldmVudCwgZWxlbWVudCwgZWRpdG9yU2NvcGUpXVxuICAgICAgICAgICAgICAgICAgICB0aGUgYWN0aW9uIHRoYXQgc2hvdWxkIGJlIGV4ZWN1dGVkIGlmIHRoZSBvbkVsZW1lbnRTZWxlY3QgZnVuY3Rpb24gcnVuc1xuKi9cbi8vIG5hbWUgYW5kIHRvb2xEZWZpbml0aW9uIHRvIGFkZCBpbnRvIHRoZSB0b29scyBhdmFpbGFibGUgdG8gYmUgYWRkZWQgb24gdGhlIHRvb2xiYXJcbmZ1bmN0aW9uIGMoYSxjKXtpZighYXx8XCJcIj09PWF8fGUuaGFzT3duUHJvcGVydHkoYSkpdGhyb3dcInRleHRBbmd1bGFyIEVycm9yOiBBIHVuaXF1ZSBuYW1lIGlzIHJlcXVpcmVkIGZvciBhIFRvb2wgRGVmaW5pdGlvblwiO2lmKGMuZGlzcGxheSYmKFwiXCI9PT1jLmRpc3BsYXl8fCFiKGMuZGlzcGxheSkpfHwhYy5kaXNwbGF5JiYhYy5idXR0b250ZXh0JiYhYy5pY29uY2xhc3MpdGhyb3cndGV4dEFuZ3VsYXIgRXJyb3I6IFRvb2wgRGVmaW5pdGlvbiBmb3IgXCInK2ErJ1wiIGRvZXMgbm90IGhhdmUgYSB2YWxpZCBkaXNwbGF5L2ljb25jbGFzcy9idXR0b250ZXh0IHZhbHVlJztlW2FdPWN9XG4vLyB1c2FnZSBpczpcbi8vIHZhciB0MCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuLy8gZG9Tb21ldGhpbmcoKTtcbi8vIHZhciB0MSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuLy8gY29uc29sZS5sb2coJ1Rvb2snLCAodDEgLSB0MCkudG9GaXhlZCg0KSwgJ21pbGxpc2Vjb25kcyB0byBkbyBzb21ldGhpbmchJyk7XG4vL1xuLy8gdHVybiBodG1sIGludG8gcHVyZSB0ZXh0IHRoYXQgc2hvd3MgdmlzaWJsaXR5XG5mdW5jdGlvbiBkKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7Yi5pbm5lckhUTUw9YTt2YXIgYz1iLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8XCJcIjsvLyB6ZXJvIHdpZHRoIHNwYWNlXG5yZXR1cm4gYy5yZXBsYWNlKFwi4oCLXCIsXCJcIiksYz1jLnRyaW0oKX1cbi8vIHNldHVwIHRoZSBnbG9iYWwgY29udHN0YW50IGZ1bmN0aW9ucyBmb3Igc2V0dGluZyB1cCB0aGUgdG9vbGJhclxuLy8gYWxsIHRvb2wgZGVmaW5pdGlvbnNcbnZhciBlPXt9O2FuZ3VsYXIubW9kdWxlKFwidGV4dEFuZ3VsYXJTZXR1cFwiLFtdKS5jb25zdGFudChcInRhUmVnaXN0ZXJUb29sXCIsYykudmFsdWUoXCJ0YVRvb2xzXCIsZSkudmFsdWUoXCJ0YU9wdGlvbnNcIix7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gZm9yY2VUZXh0QW5ndWxhclNhbml0aXplXG4vLyBzZXQgZmFsc2UgdG8gYWxsb3cgdGhlIHRleHRBbmd1bGFyLXNhbml0aXplIHByb3ZpZGVyIHRvIGJlIHJlcGxhY2VkXG4vLyB3aXRoIGFuZ3VsYXItc2FuaXRpemUgb3IgYSBjdXN0b20gcHJvdmlkZXIuXG5mb3JjZVRleHRBbmd1bGFyU2FuaXRpemU6ITAsXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIGtleU1hcHBpbmdzXG4vLyBhbGxvdyBjdXN0b21pemFibGUga2V5TWFwcGluZ3MgZm9yIHNwZWNpYWxpemVkIGtleSBib2FyZHMgb3IgbGFuZ3VhZ2VzXG4vL1xuLy8ga2V5TWFwcGluZ3MgcHJvdmlkZXMga2V5IG1hcHBpbmdzIHRoYXQgYXJlIGF0dGFjaGVkIHRvIGEgZ2l2ZW4gY29tbWFuZEtleUNvZGUuXG4vLyBUbyBtb2RpZnkgYSBzcGVjaWZpYyBrZXlib2FyZCBiaW5kaW5nLCBzaW1wbHkgcHJvdmlkZSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIHRydWVcbi8vIGZvciB0aGUgZXZlbnQgeW91IHdpc2ggdG8gbWFwIHRvLlxuLy8gT3IgdG8gZGlzYWJsZSBhIHNwZWNpZmljIGtleWJvYXJkIGJpbmRpbmcsIHByb3ZpZGUgYSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGZhbHNlLlxuLy8gTm90ZTogJ1JlZG9LZXknIGFuZCAnVW5kb0tleScgYXJlIGludGVybmFsbHkgYm91bmQgdG8gdGhlIHJlZG8gYW5kIHVuZG8gZnVuY3Rpb25hbGl0eS5cbi8vIEF0IHByZXNlbnQsIHRoZSBmb2xsb3dpbmcgY29tbWFuZEtleUNvZGVzIGFyZSBpbiB1c2U6XG4vLyA5OCwgJ1RhYktleScsICdTaGlmdFRhYktleScsIDEwNSwgMTE3LCAnVW5kb0tleScsICdSZWRvS2V5J1xuLy9cbi8vIFRvIG1hcCB0byBhbiBuZXcgY29tbWFuZEtleUNvZGUsIGFkZCBhIG5ldyBrZXkgbWFwcGluZyBzdWNoIGFzOlxuLy8ge2NvbW1hbmRLZXlDb2RlOiAnQ3VzdG9tS2V5JywgdGVzdEZvcktleTogZnVuY3Rpb24gKGV2ZW50KSB7XG4vLyAgaWYgKGV2ZW50LmtleUNvZGU9NTcgJiYgZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmFsdEtleSkgcmV0dXJuIHRydWU7XG4vLyB9IH1cbi8vIHRvIHRoZSBrZXlNYXBwaW5ncy4gVGhpcyBleGFtcGxlIG1hcHMgY3RybCs5IHRvICdDdXN0b21LZXknXG4vLyBUaGVuIHdoZXJlIHRhUmVnaXN0ZXJUb29sKC4uLikgaXMgY2FsbGVkLCBhZGQgYSBjb21tYW5kS2V5Q29kZTogJ0N1c3RvbUtleScgYW5kIHlvdXJcbi8vIHRvb2wgd2lsbCBiZSBib3VuZCB0byBjdHJsKzkuXG4vL1xuLy8gVG8gZGlzYmxlIG9uZSBvZiB0aGUgYWxyZWFkeSBib3VuZCBjb21tYW5kS2V5Q29kZXMgc3VjaCBhcyAnUmVkb0tleScgb3IgJ1VuZG9LZXknIGFkZDpcbi8vIHtjb21tYW5kS2V5Q29kZTogJ1JlZG9LZXknLCB0ZXN0Rm9yS2V5OiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGZhbHNlOyB9IH0sXG4vLyB7Y29tbWFuZEtleUNvZGU6ICdVbmRvS2V5JywgdGVzdEZvcktleTogZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBmYWxzZTsgfSB9LFxuLy8gdG8gZGlzYWJsZSB0aGVtLlxuLy9cbmtleU1hcHBpbmdzOltdLHRvb2xiYXI6W1tcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIixcInBcIixcInByZVwiLFwicXVvdGVcIl0sW1wiYm9sZFwiLFwiaXRhbGljc1wiLFwidW5kZXJsaW5lXCIsXCJzdHJpa2VUaHJvdWdoXCIsXCJ1bFwiLFwib2xcIixcInJlZG9cIixcInVuZG9cIixcImNsZWFyXCJdLFtcImp1c3RpZnlMZWZ0XCIsXCJqdXN0aWZ5Q2VudGVyXCIsXCJqdXN0aWZ5UmlnaHRcIixcImp1c3RpZnlGdWxsXCIsXCJpbmRlbnRcIixcIm91dGRlbnRcIl0sW1wiaHRtbFwiLFwiaW5zZXJ0SW1hZ2VcIixcImluc2VydExpbmtcIixcImluc2VydFZpZGVvXCIsXCJ3b3JkY291bnRcIixcImNoYXJjb3VudFwiXV0sY2xhc3Nlczp7Zm9jdXNzZWQ6XCJmb2N1c3NlZFwiLHRvb2xiYXI6XCJidG4tdG9vbGJhclwiLHRvb2xiYXJHcm91cDpcImJ0bi1ncm91cFwiLHRvb2xiYXJCdXR0b246XCJidG4gYnRuLWRlZmF1bHRcIix0b29sYmFyQnV0dG9uQWN0aXZlOlwiYWN0aXZlXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLHRleHRFZGl0b3I6XCJmb3JtLWNvbnRyb2xcIixodG1sRWRpdG9yOlwiZm9ybS1jb250cm9sXCJ9LGRlZmF1bHRUYWdBdHRyaWJ1dGVzOnthOnt0YXJnZXQ6XCJcIn19LHNldHVwOntcbi8vIHd5c2l3eWcgbW9kZVxudGV4dEVkaXRvclNldHVwOmZ1bmN0aW9uKGEpe30sXG4vLyByYXcgaHRtbFxuaHRtbEVkaXRvclNldHVwOmZ1bmN0aW9uKGEpe319LGRlZmF1bHRGaWxlRHJvcEhhbmRsZXI6LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHVudGVzdGFibGUgaW1hZ2UgcHJvY2Vzc2luZyAqL1xuZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgRmlsZVJlYWRlcjtyZXR1cm5cImltYWdlXCI9PT1hLnR5cGUuc3Vic3RyaW5nKDAsNSkmJihjLm9ubG9hZD1mdW5jdGlvbigpe1wiXCIhPT1jLnJlc3VsdCYmYihcImluc2VydEltYWdlXCIsYy5yZXN1bHQsITApfSxjLnJlYWRBc0RhdGFVUkwoYSksITApfX0pLnZhbHVlKFwidGFTZWxlY3RhYmxlRWxlbWVudHNcIixbXCJhXCIsXCJpbWdcIl0pLnZhbHVlKFwidGFDdXN0b21SZW5kZXJlcnNcIixbe1xuLy8gUGFyc2UgYmFjayBvdXQ6ICc8ZGl2IGNsYXNzPVwidGEtaW5zZXJ0LXZpZGVvXCIgdGEtaW5zZXJ0LXZpZGVvIHNyYz1cIicgKyB1cmxMaW5rICsgJ1wiIGFsbG93ZnVsbHNjcmVlbj1cInRydWVcIiB3aWR0aD1cIjMwMFwiIGZyYW1lYm9yZGVyPVwiMFwiIGhlaWdodD1cIjI1MFwiPjwvZGl2Pidcbi8vIFRvIGNvcnJlY3QgdmlkZW8gZWxlbWVudC4gRm9yIG5vdyBvbmx5IHN1cHBvcnQgeW91dHViZVxuc2VsZWN0b3I6XCJpbWdcIixjdXN0b21BdHRyaWJ1dGU6XCJ0YS1pbnNlcnQtdmlkZW9cIixyZW5kZXJMb2dpYzpmdW5jdGlvbihhKXt2YXIgYj1hbmd1bGFyLmVsZW1lbnQoXCI8aWZyYW1lPjwvaWZyYW1lPlwiKSxjPWEucHJvcChcImF0dHJpYnV0ZXNcIik7XG4vLyBsb29wIHRocm91Z2ggZWxlbWVudCBhdHRyaWJ1dGVzIGFuZCBhcHBseSB0aGVtIG9uIGlmcmFtZVxuYW5ndWxhci5mb3JFYWNoKGMsZnVuY3Rpb24oYSl7Yi5hdHRyKGEubmFtZSxhLnZhbHVlKX0pLGIuYXR0cihcInNyY1wiLGIuYXR0cihcInRhLWluc2VydC12aWRlb1wiKSksYS5yZXBsYWNlV2l0aChiKX19XSkudmFsdWUoXCJ0YVRyYW5zbGF0aW9uc1wiLHtcbi8vIG1vdmVkIHRvIHN1Yi1lbGVtZW50c1xuLy90b2dnbGVIVE1MOiBcIlRvZ2dsZSBIVE1MXCIsXG4vL2luc2VydEltYWdlOiBcIlBsZWFzZSBlbnRlciBhIGltYWdlIFVSTCB0byBpbnNlcnRcIixcbi8vaW5zZXJ0TGluazogXCJQbGVhc2UgZW50ZXIgYSBVUkwgdG8gaW5zZXJ0XCIsXG4vL2luc2VydFZpZGVvOiBcIlBsZWFzZSBlbnRlciBhIHlvdXR1YmUgVVJMIHRvIGVtYmVkXCIsXG5odG1sOnt0b29sdGlwOlwiVG9nZ2xlIGh0bWwgLyBSaWNoIFRleHRcIn0sXG4vLyB0b29sdGlwIGZvciBoZWFkaW5nIC0gbWlnaHQgYmUgd29ydGggc3BsaXR0aW5nXG5oZWFkaW5nOnt0b29sdGlwOlwiSGVhZGluZyBcIn0scDp7dG9vbHRpcDpcIlBhcmFncmFwaFwifSxwcmU6e3Rvb2x0aXA6XCJQcmVmb3JtYXR0ZWQgdGV4dFwifSx1bDp7dG9vbHRpcDpcIlVub3JkZXJlZCBMaXN0XCJ9LG9sOnt0b29sdGlwOlwiT3JkZXJlZCBMaXN0XCJ9LHF1b3RlOnt0b29sdGlwOlwiUXVvdGUvdW5xdW90ZSBzZWxlY3Rpb24gb3IgcGFyYWdyYXBoXCJ9LHVuZG86e3Rvb2x0aXA6XCJVbmRvXCJ9LHJlZG86e3Rvb2x0aXA6XCJSZWRvXCJ9LGJvbGQ6e3Rvb2x0aXA6XCJCb2xkXCJ9LGl0YWxpYzp7dG9vbHRpcDpcIkl0YWxpY1wifSx1bmRlcmxpbmU6e3Rvb2x0aXA6XCJVbmRlcmxpbmVcIn0sc3RyaWtlVGhyb3VnaDp7dG9vbHRpcDpcIlN0cmlrZXRocm91Z2hcIn0sanVzdGlmeUxlZnQ6e3Rvb2x0aXA6XCJBbGlnbiB0ZXh0IGxlZnRcIn0sanVzdGlmeVJpZ2h0Ont0b29sdGlwOlwiQWxpZ24gdGV4dCByaWdodFwifSxqdXN0aWZ5RnVsbDp7dG9vbHRpcDpcIkp1c3RpZnkgdGV4dFwifSxqdXN0aWZ5Q2VudGVyOnt0b29sdGlwOlwiQ2VudGVyXCJ9LGluZGVudDp7dG9vbHRpcDpcIkluY3JlYXNlIGluZGVudFwifSxvdXRkZW50Ont0b29sdGlwOlwiRGVjcmVhc2UgaW5kZW50XCJ9LGNsZWFyOnt0b29sdGlwOlwiQ2xlYXIgZm9ybWF0dGluZ1wifSxpbnNlcnRJbWFnZTp7ZGlhbG9nUHJvbXB0OlwiUGxlYXNlIGVudGVyIGFuIGltYWdlIFVSTCB0byBpbnNlcnRcIix0b29sdGlwOlwiSW5zZXJ0IGltYWdlXCIsaG90a2V5OlwidGhlIC0gcG9zc2libHkgbGFuZ3VhZ2UgZGVwZW5kZW50IGhvdGtleSAuLi4gZm9yIHNvbWUgZnV0dXJlIGltcGxlbWVudGF0aW9uXCJ9LGluc2VydFZpZGVvOnt0b29sdGlwOlwiSW5zZXJ0IHZpZGVvXCIsZGlhbG9nUHJvbXB0OlwiUGxlYXNlIGVudGVyIGEgeW91dHViZSBVUkwgdG8gZW1iZWRcIn0saW5zZXJ0TGluazp7dG9vbHRpcDpcIkluc2VydCAvIGVkaXQgbGlua1wiLGRpYWxvZ1Byb21wdDpcIlBsZWFzZSBlbnRlciBhIFVSTCB0byBpbnNlcnRcIn0sZWRpdExpbms6e3JlTGlua0J1dHRvbjp7dG9vbHRpcDpcIlJlbGlua1wifSx1bkxpbmtCdXR0b246e3Rvb2x0aXA6XCJVbmxpbmtcIn0sdGFyZ2V0VG9nZ2xlOntidXR0b250ZXh0OlwiT3BlbiBpbiBOZXcgV2luZG93XCJ9fSx3b3JkY291bnQ6e3Rvb2x0aXA6XCJEaXNwbGF5IHdvcmRzIENvdW50XCJ9LGNoYXJjb3VudDp7dG9vbHRpcDpcIkRpc3BsYXkgY2hhcmFjdGVycyBDb3VudFwifX0pLmZhY3RvcnkoXCJ0YVRvb2xGdW5jdGlvbnNcIixbXCIkd2luZG93XCIsXCJ0YVRyYW5zbGF0aW9uc1wiLGZ1bmN0aW9uKGEsYil7cmV0dXJue2ltZ09uU2VsZWN0QWN0aW9uOmZ1bmN0aW9uKGEsYixjKXtcbi8vIHNldHVwIHRoZSBlZGl0b3IgdG9vbGJhclxuLy8gQ3JlZGl0IHRvIHRoZSB3b3JrIGF0IGh0dHA6Ly9oYWNrZXJ3aW5zLmdpdGh1Yi5pby9zdW1tZXJub3RlLyBmb3IgdGhpcyBlZGl0YmFyIGxvZ2ljL2Rpc3BsYXlcbnZhciBkPWZ1bmN0aW9uKCl7Yy51cGRhdGVUYUJpbmR0YVRleHRFbGVtZW50KCksYy5oaWRlUG9wb3ZlcigpfTthLnByZXZlbnREZWZhdWx0KCksYy5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5jc3MoXCJ3aWR0aFwiLFwiMzc1cHhcIik7dmFyIGU9Yy5kaXNwbGF5RWxlbWVudHMucG9wb3ZlckNvbnRhaW5lcjtlLmVtcHR5KCk7dmFyIGY9YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCIgc3R5bGU9XCJwYWRkaW5nLXJpZ2h0OiA2cHg7XCI+JyksZz1hbmd1bGFyLmVsZW1lbnQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tc21hbGxcIiB1bnNlbGVjdGFibGU9XCJvblwiIHRhYmluZGV4PVwiLTFcIj4xMDAlIDwvYnV0dG9uPicpO2cub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxiLmNzcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiXCJ9KSxkKCl9KTt2YXIgaD1hbmd1bGFyLmVsZW1lbnQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tc21hbGxcIiB1bnNlbGVjdGFibGU9XCJvblwiIHRhYmluZGV4PVwiLTFcIj41MCUgPC9idXR0b24+Jyk7aC5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGIuY3NzKHt3aWR0aDpcIjUwJVwiLGhlaWdodDpcIlwifSksZCgpfSk7dmFyIGk9YW5ndWxhci5lbGVtZW50KCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLXNtYWxsXCIgdW5zZWxlY3RhYmxlPVwib25cIiB0YWJpbmRleD1cIi0xXCI+MjUlIDwvYnV0dG9uPicpO2kub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxiLmNzcyh7d2lkdGg6XCIyNSVcIixoZWlnaHQ6XCJcIn0pLGQoKX0pO3ZhciBqPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGFiaW5kZXg9XCItMVwiPlJlc2V0PC9idXR0b24+Jyk7ai5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGIuY3NzKHt3aWR0aDpcIlwiLGhlaWdodDpcIlwifSksZCgpfSksZi5hcHBlbmQoZyksZi5hcHBlbmQoaCksZi5hcHBlbmQoaSksZi5hcHBlbmQoaiksZS5hcHBlbmQoZiksZj1hbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiBzdHlsZT1cInBhZGRpbmctcmlnaHQ6IDZweDtcIj4nKTt2YXIgaz1hbmd1bGFyLmVsZW1lbnQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tc21hbGxcIiB1bnNlbGVjdGFibGU9XCJvblwiIHRhYmluZGV4PVwiLTFcIj48aSBjbGFzcz1cImZhIGZhLWFsaWduLWxlZnRcIj48L2k+PC9idXR0b24+Jyk7ay5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLFxuLy8gd2Via2l0XG5iLmNzcyhcImZsb2F0XCIsXCJsZWZ0XCIpLFxuLy8gZmlyZWZveFxuYi5jc3MoXCJjc3NGbG9hdFwiLFwibGVmdFwiKSxcbi8vIElFIDwgOFxuYi5jc3MoXCJzdHlsZUZsb2F0XCIsXCJsZWZ0XCIpLGQoKX0pO3ZhciBsPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGFiaW5kZXg9XCItMVwiPjxpIGNsYXNzPVwiZmEgZmEtYWxpZ24tcmlnaHRcIj48L2k+PC9idXR0b24+Jyk7bC5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLFxuLy8gd2Via2l0XG5iLmNzcyhcImZsb2F0XCIsXCJyaWdodFwiKSxcbi8vIGZpcmVmb3hcbmIuY3NzKFwiY3NzRmxvYXRcIixcInJpZ2h0XCIpLFxuLy8gSUUgPCA4XG5iLmNzcyhcInN0eWxlRmxvYXRcIixcInJpZ2h0XCIpLGQoKX0pO3ZhciBtPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGFiaW5kZXg9XCItMVwiPjxpIGNsYXNzPVwiZmEgZmEtYWxpZ24tanVzdGlmeVwiPjwvaT48L2J1dHRvbj4nKTttLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksXG4vLyB3ZWJraXRcbmIuY3NzKFwiZmxvYXRcIixcIlwiKSxcbi8vIGZpcmVmb3hcbmIuY3NzKFwiY3NzRmxvYXRcIixcIlwiKSxcbi8vIElFIDwgOFxuYi5jc3MoXCJzdHlsZUZsb2F0XCIsXCJcIiksZCgpfSksZi5hcHBlbmQoayksZi5hcHBlbmQobSksZi5hcHBlbmQobCksZS5hcHBlbmQoZiksZj1hbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj4nKTt2YXIgbj1hbmd1bGFyLmVsZW1lbnQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tc21hbGxcIiB1bnNlbGVjdGFibGU9XCJvblwiIHRhYmluZGV4PVwiLTFcIj48aSBjbGFzcz1cImZhIGZhLXRyYXNoLW9cIj48L2k+PC9idXR0b24+Jyk7bi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGIucmVtb3ZlKCksZCgpfSksZi5hcHBlbmQobiksZS5hcHBlbmQoZiksYy5zaG93UG9wb3ZlcihiKSxjLnNob3dSZXNpemVPdmVybGF5KGIpfSxhT25TZWxlY3RBY3Rpb246ZnVuY3Rpb24oYyxkLGUpe1xuLy8gc2V0dXAgdGhlIGVkaXRvciB0b29sYmFyXG4vLyBDcmVkaXQgdG8gdGhlIHdvcmsgYXQgaHR0cDovL2hhY2tlcndpbnMuZ2l0aHViLmlvL3N1bW1lcm5vdGUvIGZvciB0aGlzIGVkaXRiYXIgbG9naWNcbmMucHJldmVudERlZmF1bHQoKSxlLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLmNzcyhcIndpZHRoXCIsXCI0MzZweFwiKTt2YXIgZj1lLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyQ29udGFpbmVyO2YuZW1wdHkoKSxmLmNzcyhcImxpbmUtaGVpZ2h0XCIsXCIyOHB4XCIpO3ZhciBnPWFuZ3VsYXIuZWxlbWVudCgnPGEgaHJlZj1cIicrZC5hdHRyKFwiaHJlZlwiKSsnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JytkLmF0dHIoXCJocmVmXCIpK1wiPC9hPlwiKTtnLmNzcyh7ZGlzcGxheTpcImlubGluZS1ibG9ja1wiLFwibWF4LXdpZHRoXCI6XCIyMDBweFwiLG92ZXJmbG93OlwiaGlkZGVuXCIsXCJ0ZXh0LW92ZXJmbG93XCI6XCJlbGxpcHNpc1wiLFwid2hpdGUtc3BhY2VcIjpcIm5vd3JhcFwiLFwidmVydGljYWwtYWxpZ25cIjpcIm1pZGRsZVwifSksZi5hcHBlbmQoZyk7dmFyIGg9YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIHB1bGwtcmlnaHRcIj4nKSxpPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHRhYmluZGV4PVwiLTFcIiB1bnNlbGVjdGFibGU9XCJvblwiIHRpdGxlPVwiJytiLmVkaXRMaW5rLnJlTGlua0J1dHRvbi50b29sdGlwKydcIj48aSBjbGFzcz1cImZhIGZhLWVkaXQgaWNvbi1lZGl0XCI+PC9pPjwvYnV0dG9uPicpO2kub24oXCJjbGlja1wiLGZ1bmN0aW9uKGMpe2MucHJldmVudERlZmF1bHQoKTt2YXIgZj1hLnByb21wdChiLmluc2VydExpbmsuZGlhbG9nUHJvbXB0LGQuYXR0cihcImhyZWZcIikpO2YmJlwiXCIhPT1mJiZcImh0dHA6Ly9cIiE9PWYmJihkLmF0dHIoXCJocmVmXCIsZiksZS51cGRhdGVUYUJpbmR0YVRleHRFbGVtZW50KCkpLGUuaGlkZVBvcG92ZXIoKX0pLGguYXBwZW5kKGkpO3ZhciBqPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHRhYmluZGV4PVwiLTFcIiB1bnNlbGVjdGFibGU9XCJvblwiIHRpdGxlPVwiJytiLmVkaXRMaW5rLnVuTGlua0J1dHRvbi50b29sdGlwKydcIj48aSBjbGFzcz1cImZhIGZhLXVubGluayBpY29uLXVubGlua1wiPjwvaT48L2J1dHRvbj4nKTtcbi8vIGRpcmVjdGx5IGJlZm9yZSB0aGlzIGNsaWNrIGV2ZW50IGlzIGZpcmVkIGEgZGlnZXN0IGlzIGZpcmVkIG9mZiB3aGVyZWJ5IHRoZSByZWZlcmVuY2UgdG8gJGVsZW1lbnQgaXMgb3JwaGFuZWQgb2ZmXG5qLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksZC5yZXBsYWNlV2l0aChkLmNvbnRlbnRzKCkpLGUudXBkYXRlVGFCaW5kdGFUZXh0RWxlbWVudCgpLGUuaGlkZVBvcG92ZXIoKX0pLGguYXBwZW5kKGopO3ZhciBrPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHRhYmluZGV4PVwiLTFcIiB1bnNlbGVjdGFibGU9XCJvblwiPicrYi5lZGl0TGluay50YXJnZXRUb2dnbGUuYnV0dG9udGV4dCtcIjwvYnV0dG9uPlwiKTtcIl9ibGFua1wiPT09ZC5hdHRyKFwidGFyZ2V0XCIpJiZrLmFkZENsYXNzKFwiYWN0aXZlXCIpLGsub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxkLmF0dHIoXCJ0YXJnZXRcIixcIl9ibGFua1wiPT09ZC5hdHRyKFwidGFyZ2V0XCIpP1wiXCI6XCJfYmxhbmtcIiksay50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKSxlLnVwZGF0ZVRhQmluZHRhVGV4dEVsZW1lbnQoKX0pLGguYXBwZW5kKGspLGYuYXBwZW5kKGgpLGUuc2hvd1BvcG92ZXIoZCl9LGV4dHJhY3RZb3V0dWJlVmlkZW9JZDpmdW5jdGlvbihhKXt2YXIgYj0vKD86eW91dHViZSg/Oi1ub2Nvb2tpZSk/XFwuY29tXFwvKD86W15cXC9cXG5cXHNdK1xcL1xcUytcXC98KD86dnxlKD86bWJlZCk/KVxcL3xcXFMqP1s/Jl12PSl8eW91dHVcXC5iZVxcLykoW2EtekEtWjAtOV8tXXsxMX0pL2ksYz1hLm1hdGNoKGIpO3JldHVybiBjJiZjWzFdfHxudWxsfX19XSkucnVuKFtcInRhUmVnaXN0ZXJUb29sXCIsXCIkd2luZG93XCIsXCJ0YVRyYW5zbGF0aW9uc1wiLFwidGFTZWxlY3Rpb25cIixcInRhVG9vbEZ1bmN0aW9uc1wiLFwiJHNhbml0aXplXCIsXCJ0YU9wdGlvbnNcIixcIiRsb2dcIixmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe1xuLy8gdGVzdCBmb3IgdGhlIHZlcnNpb24gb2YgJHNhbml0aXplIHRoYXQgaXMgaW4gdXNlXG4vLyBZb3UgY2FuIGRpc2FibGUgdGhpcyBjaGVjayBieSBzZXR0aW5nIHRhT3B0aW9ucy50ZXh0QW5ndWxhclNhbml0aXplID09IGZhbHNlXG52YXIgaT17fTsvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCwgdGhyb3dzIGVycm9yICovXG5pZihmKFwiXCIsaSksZy5mb3JjZVRleHRBbmd1bGFyU2FuaXRpemU9PT0hMCYmXCJ0YVNhbml0aXplXCIhPT1pLnZlcnNpb24pdGhyb3cgYW5ndWxhci4kJG1pbkVycihcInRleHRBbmd1bGFyXCIpKFwidGV4dEFuZ3VsYXJTZXR1cFwiLFwiVGhlIHRleHRBbmd1bGFyLXNhbml0aXplIHByb3ZpZGVyIGhhcyBiZWVuIHJlcGxhY2VkIGJ5IGFub3RoZXIgLS0gaGF2ZSB5b3UgaW5jbHVkZWQgYW5ndWxhci1zYW5pdGl6ZSBieSBtaXN0YWtlP1wiKTthKFwiaHRtbFwiLHtpY29uY2xhc3M6XCJmYSBmYS1jb2RlXCIsdG9vbHRpcHRleHQ6Yy5odG1sLnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7dGhpcy4kZWRpdG9yKCkuc3dpdGNoVmlldygpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5zaG93SHRtbH19KTtcbi8vIGFkZCB0aGUgSGVhZGVyIHRvb2xzXG4vLyBjb252ZW5pZW5jZSBmdW5jdGlvbnMgc28gdGhhdCB0aGUgbG9vcCB3b3JrcyBjb3JyZWN0bHlcbnZhciBqPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5xdWVyeUZvcm1hdEJsb2NrU3RhdGUoYSl9fSxrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJmb3JtYXRCbG9ja1wiLFwiPFwiK3RoaXMubmFtZS50b1VwcGVyQ2FzZSgpK1wiPlwiKX07YW5ndWxhci5mb3JFYWNoKFtcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIl0sZnVuY3Rpb24oYil7YShiLnRvTG93ZXJDYXNlKCkse2J1dHRvbnRleHQ6Yi50b1VwcGVyQ2FzZSgpLHRvb2x0aXB0ZXh0OmMuaGVhZGluZy50b29sdGlwK2IuY2hhckF0KDEpLGFjdGlvbjprLGFjdGl2ZVN0YXRlOmooYi50b0xvd2VyQ2FzZSgpKX0pfSksYShcInBcIix7YnV0dG9udGV4dDpcIlBcIix0b29sdGlwdGV4dDpjLnAudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImZvcm1hdEJsb2NrXCIsXCI8UD5cIil9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLnF1ZXJ5Rm9ybWF0QmxvY2tTdGF0ZShcInBcIil9fSksXG4vLyBrZXk6IHByZSAtPiB0YVRyYW5zbGF0aW9uc1trZXldLnRvb2x0aXAsIHRhVHJhbnNsYXRpb25zW2tleV0uYnV0dG9udGV4dFxuYShcInByZVwiLHtidXR0b250ZXh0OlwicHJlXCIsdG9vbHRpcHRleHQ6Yy5wcmUudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImZvcm1hdEJsb2NrXCIsXCI8UFJFPlwiKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkucXVlcnlGb3JtYXRCbG9ja1N0YXRlKFwicHJlXCIpfX0pLGEoXCJ1bFwiLHtpY29uY2xhc3M6XCJmYSBmYS1saXN0LXVsXCIsdG9vbHRpcHRleHQ6Yy51bC50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwiaW5zZXJ0VW5vcmRlcmVkTGlzdFwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImluc2VydFVub3JkZXJlZExpc3RcIil9fSksYShcIm9sXCIse2ljb25jbGFzczpcImZhIGZhLWxpc3Qtb2xcIix0b29sdGlwdGV4dDpjLm9sLnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJpbnNlcnRPcmRlcmVkTGlzdFwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImluc2VydE9yZGVyZWRMaXN0XCIpfX0pLGEoXCJxdW90ZVwiLHtpY29uY2xhc3M6XCJmYSBmYS1xdW90ZS1yaWdodFwiLHRvb2x0aXB0ZXh0OmMucXVvdGUudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImZvcm1hdEJsb2NrXCIsXCI8QkxPQ0tRVU9URT5cIil9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLnF1ZXJ5Rm9ybWF0QmxvY2tTdGF0ZShcImJsb2NrcXVvdGVcIil9fSksYShcInVuZG9cIix7aWNvbmNsYXNzOlwiZmEgZmEtdW5kb1wiLHRvb2x0aXB0ZXh0OmMudW5kby50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwidW5kb1wiLG51bGwpfX0pLGEoXCJyZWRvXCIse2ljb25jbGFzczpcImZhIGZhLXJlcGVhdFwiLHRvb2x0aXB0ZXh0OmMucmVkby50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwicmVkb1wiLG51bGwpfX0pLGEoXCJib2xkXCIse2ljb25jbGFzczpcImZhIGZhLWJvbGRcIix0b29sdGlwdGV4dDpjLmJvbGQudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImJvbGRcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkucXVlcnlDb21tYW5kU3RhdGUoXCJib2xkXCIpfSxjb21tYW5kS2V5Q29kZTo5OH0pLGEoXCJqdXN0aWZ5TGVmdFwiLHtpY29uY2xhc3M6XCJmYSBmYS1hbGlnbi1sZWZ0XCIsdG9vbHRpcHRleHQ6Yy5qdXN0aWZ5TGVmdC50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwianVzdGlmeUxlZnRcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oYSl7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6ICovXG5pZihhJiZcIiNkb2N1bWVudFwiPT09YS5ub2RlTmFtZSlyZXR1cm4hMTt2YXIgYj0hMTtpZihhKVxuLy8gY29tbW9uRUxlbWVudC5jc3MoJ3RleHQtYWxpZ24nKSBjYW4gdGhyb3cgYW4gZXJyb3IgJ0Nhbm5vdCByZWFkIHByb3BlcnR5ICdkZWZhdWx0Vmlldycgb2YgbnVsbCcgaW4gcmFyZSBjb25kaXRpb25zXG4vLyBzbyB3ZSBkbyB0cnkgY2F0Y2ggaGVyZS4uLlxudHJ5e2I9XCJsZWZ0XCI9PT1hLmNzcyhcInRleHQtYWxpZ25cIil8fFwibGVmdFwiPT09YS5hdHRyKFwiYWxpZ25cIil8fFwicmlnaHRcIiE9PWEuY3NzKFwidGV4dC1hbGlnblwiKSYmXCJjZW50ZXJcIiE9PWEuY3NzKFwidGV4dC1hbGlnblwiKSYmXCJqdXN0aWZ5XCIhPT1hLmNzcyhcInRleHQtYWxpZ25cIikmJiF0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImp1c3RpZnlSaWdodFwiKSYmIXRoaXMuJGVkaXRvcigpLnF1ZXJ5Q29tbWFuZFN0YXRlKFwianVzdGlmeUNlbnRlclwiKSYmIXRoaXMuJGVkaXRvcigpLnF1ZXJ5Q29tbWFuZFN0YXRlKFwianVzdGlmeUZ1bGxcIil9Y2F0Y2goYSl7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGVycm9yIGhhbmRsZXIgKi9cbi8vY29uc29sZS5sb2coZSk7XG5iPSExfXJldHVybiBiPWJ8fHRoaXMuJGVkaXRvcigpLnF1ZXJ5Q29tbWFuZFN0YXRlKFwianVzdGlmeUxlZnRcIil9fSksYShcImp1c3RpZnlSaWdodFwiLHtpY29uY2xhc3M6XCJmYSBmYS1hbGlnbi1yaWdodFwiLHRvb2x0aXB0ZXh0OmMuanVzdGlmeVJpZ2h0LnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJqdXN0aWZ5UmlnaHRcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oYSl7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6ICovXG5pZihhJiZcIiNkb2N1bWVudFwiPT09YS5ub2RlTmFtZSlyZXR1cm4hMTt2YXIgYj0hMTtpZihhKVxuLy8gY29tbW9uRUxlbWVudC5jc3MoJ3RleHQtYWxpZ24nKSBjYW4gdGhyb3cgYW4gZXJyb3IgJ0Nhbm5vdCByZWFkIHByb3BlcnR5ICdkZWZhdWx0Vmlldycgb2YgbnVsbCcgaW4gcmFyZSBjb25kaXRpb25zXG4vLyBzbyB3ZSBkbyB0cnkgY2F0Y2ggaGVyZS4uLlxudHJ5e2I9XCJyaWdodFwiPT09YS5jc3MoXCJ0ZXh0LWFsaWduXCIpfWNhdGNoKGEpey8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBlcnJvciBoYW5kbGVyICovXG4vL2NvbnNvbGUubG9nKGUpO1xuYj0hMX1yZXR1cm4gYj1ifHx0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImp1c3RpZnlSaWdodFwiKX19KSxhKFwianVzdGlmeUZ1bGxcIix7aWNvbmNsYXNzOlwiZmEgZmEtYWxpZ24tanVzdGlmeVwiLHRvb2x0aXB0ZXh0OmMuanVzdGlmeUZ1bGwudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImp1c3RpZnlGdWxsXCIsbnVsbCl9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKGEpXG4vLyBjb21tb25FTGVtZW50LmNzcygndGV4dC1hbGlnbicpIGNhbiB0aHJvdyBhbiBlcnJvciAnQ2Fubm90IHJlYWQgcHJvcGVydHkgJ2RlZmF1bHRWaWV3JyBvZiBudWxsJyBpbiByYXJlIGNvbmRpdGlvbnNcbi8vIHNvIHdlIGRvIHRyeSBjYXRjaCBoZXJlLi4uXG50cnl7Yj1cImp1c3RpZnlcIj09PWEuY3NzKFwidGV4dC1hbGlnblwiKX1jYXRjaChhKXsvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogZXJyb3IgaGFuZGxlciAqL1xuLy9jb25zb2xlLmxvZyhlKTtcbmI9ITF9cmV0dXJuIGI9Ynx8dGhpcy4kZWRpdG9yKCkucXVlcnlDb21tYW5kU3RhdGUoXCJqdXN0aWZ5RnVsbFwiKX19KSxhKFwianVzdGlmeUNlbnRlclwiLHtpY29uY2xhc3M6XCJmYSBmYS1hbGlnbi1jZW50ZXJcIix0b29sdGlwdGV4dDpjLmp1c3RpZnlDZW50ZXIudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImp1c3RpZnlDZW50ZXJcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oYSl7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6ICovXG5pZihhJiZcIiNkb2N1bWVudFwiPT09YS5ub2RlTmFtZSlyZXR1cm4hMTt2YXIgYj0hMTtpZihhKVxuLy8gY29tbW9uRUxlbWVudC5jc3MoJ3RleHQtYWxpZ24nKSBjYW4gdGhyb3cgYW4gZXJyb3IgJ0Nhbm5vdCByZWFkIHByb3BlcnR5ICdkZWZhdWx0Vmlldycgb2YgbnVsbCcgaW4gcmFyZSBjb25kaXRpb25zXG4vLyBzbyB3ZSBkbyB0cnkgY2F0Y2ggaGVyZS4uLlxudHJ5e2I9XCJjZW50ZXJcIj09PWEuY3NzKFwidGV4dC1hbGlnblwiKX1jYXRjaChhKXsvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogZXJyb3IgaGFuZGxlciAqL1xuLy9jb25zb2xlLmxvZyhlKTtcbmI9ITF9cmV0dXJuIGI9Ynx8dGhpcy4kZWRpdG9yKCkucXVlcnlDb21tYW5kU3RhdGUoXCJqdXN0aWZ5Q2VudGVyXCIpfX0pLGEoXCJpbmRlbnRcIix7aWNvbmNsYXNzOlwiZmEgZmEtaW5kZW50XCIsdG9vbHRpcHRleHQ6Yy5pbmRlbnQudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImluZGVudFwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5xdWVyeUZvcm1hdEJsb2NrU3RhdGUoXCJibG9ja3F1b3RlXCIpfSxjb21tYW5kS2V5Q29kZTpcIlRhYktleVwifSksYShcIm91dGRlbnRcIix7aWNvbmNsYXNzOlwiZmEgZmEtb3V0ZGVudFwiLHRvb2x0aXB0ZXh0OmMub3V0ZGVudC50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwib3V0ZGVudFwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiExfSxjb21tYW5kS2V5Q29kZTpcIlNoaWZ0VGFiS2V5XCJ9KSxhKFwiaXRhbGljc1wiLHtpY29uY2xhc3M6XCJmYSBmYS1pdGFsaWNcIix0b29sdGlwdGV4dDpjLml0YWxpYy50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwiaXRhbGljXCIsbnVsbCl9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLnF1ZXJ5Q29tbWFuZFN0YXRlKFwiaXRhbGljXCIpfSxjb21tYW5kS2V5Q29kZToxMDV9KSxhKFwidW5kZXJsaW5lXCIse2ljb25jbGFzczpcImZhIGZhLXVuZGVybGluZVwiLHRvb2x0aXB0ZXh0OmMudW5kZXJsaW5lLnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJ1bmRlcmxpbmVcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkucXVlcnlDb21tYW5kU3RhdGUoXCJ1bmRlcmxpbmVcIil9LGNvbW1hbmRLZXlDb2RlOjExN30pLGEoXCJzdHJpa2VUaHJvdWdoXCIse2ljb25jbGFzczpcImZhIGZhLXN0cmlrZXRocm91Z2hcIix0b29sdGlwdGV4dDpjLnN0cmlrZVRocm91Z2gudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcInN0cmlrZVRocm91Z2hcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoXCJzdHJpa2VUaHJvdWdoXCIpfX0pLGEoXCJjbGVhclwiLHtpY29uY2xhc3M6XCJmYSBmYS1iYW5cIix0b29sdGlwdGV4dDpjLmNsZWFyLnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM7dGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcInJlbW92ZUZvcm1hdFwiLG51bGwpO3ZhciBlPWFuZ3VsYXIuZWxlbWVudChkLmdldFNlbGVjdGlvbkVsZW1lbnQoKSk7Yz1kLmdldEFsbFNlbGVjdGVkRWxlbWVudHMoKTtcbi8vJGxvZy5sb2coJ3NlbGVjdGVkRWxlbWVudHM6Jywgc2VsZWN0ZWRFbGVtZW50cyk7XG4vLyByZW1vdmUgbGlzdHNcbnZhciBmPWZ1bmN0aW9uKGEsYil7YT1hbmd1bGFyLmVsZW1lbnQoYSk7dmFyIGM9YjtyZXR1cm4gYnx8KGM9YSksYW5ndWxhci5mb3JFYWNoKGEuY2hpbGRyZW4oKSxmdW5jdGlvbihhKXtpZihcInVsXCI9PT1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJvbFwiPT09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpYz1mKGEsYyk7ZWxzZXt2YXIgYj1hbmd1bGFyLmVsZW1lbnQoXCI8cD48L3A+XCIpO2IuaHRtbChhbmd1bGFyLmVsZW1lbnQoYSkuaHRtbCgpKSxjLmFmdGVyKGIpLGM9Yn19KSxhLnJlbW92ZSgpLGN9O2FuZ3VsYXIuZm9yRWFjaChjLGZ1bmN0aW9uKGEpe1widWxcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJvbFwiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHxcbi8vY29uc29sZS5sb2coJ3JlbW92ZUxpc3RFbGVtZW50cycsIGVsZW1lbnQpO1xuZihhKX0pLGFuZ3VsYXIuZm9yRWFjaChlLmZpbmQoXCJ1bFwiKSxmKSxhbmd1bGFyLmZvckVhY2goZS5maW5kKFwib2xcIiksZik7XG4vLyBjbGVhciBvdXQgYWxsIGNsYXNzIGF0dHJpYnV0ZXMuIFRoZXNlIGRvIG5vdCBzZWVtIHRvIGJlIGNsZWFyZWQgdmlhIHJlbW92ZUZvcm1hdFxudmFyIGc9dGhpcy4kZWRpdG9yKCksaD1mdW5jdGlvbihhKXthPWFuZ3VsYXIuZWxlbWVudChhKSwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogdGhpcyBpcyBub3QgdHJpZ2dlcmVkIGluIHRlc3RzIGFueSBsb25nZXIgc2luY2Ugd2Ugbm93IG5ldmVyIHNlbGVjdCB0aGUgd2hvbGUgZGlzcGxheUVMZW1lbnQgKi9cbmFbMF0hPT1nLmRpc3BsYXlFbGVtZW50cy50ZXh0WzBdJiZhLnJlbW92ZUF0dHIoXCJjbGFzc1wiKSxhbmd1bGFyLmZvckVhY2goYS5jaGlsZHJlbigpLGgpfTthbmd1bGFyLmZvckVhY2goZSxoKSxcbi8vIGNoZWNrIGlmIGluIGxpc3QuIElmIG5vdCBpbiBsaXN0IHRoZW4gdXNlIGZvcm1hdEJsb2NrIG9wdGlvblxuZVswXSYmXCJsaVwiIT09ZVswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJlwib2xcIiE9PWVbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZcInVsXCIhPT1lWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmXCJ0cnVlXCIhPT1lWzBdLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImZvcm1hdEJsb2NrXCIsXCJkZWZhdWx0XCIpLGIoKX19KTsvKiBqc2hpbnQgLVcwOTkgKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIC8vICB3ZSBkb24ndCB1c2UgdGhpcyBjb2RlIC0gc2luY2UgdGhlIHByZXZpb3VzIHdheSBDTEVBUiBpcyBleHBlY3RlZCB0byB3b3JrIGRvZXMgbm90IGNsZWFyIHBhcnRpYWxseSBzZWxlY3RlZCA8bGk+XG5cbiAgICAgdmFyIHJlbW92ZUxpc3RFbGVtZW50ID0gZnVuY3Rpb24obGlzdEUpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpc3RFKTtcbiAgICAgICAgICAgICAgICB2YXIgX2xpc3QgPSBsaXN0RS5wYXJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ19saXN0JywgX2xpc3QpO1xuICAgICAgICAgICAgICAgIHZhciBfcHJlTGlzID0gW10sIF9wb3N0TGlzID0gW10sIF9mb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2xpc3RbaV0gPT09IGxpc3RFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFfZm91bmQpIF9wcmVMaXMucHVzaChfbGlzdFtpXSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgX3Bvc3RMaXMucHVzaChfbGlzdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBfcGFyZW50ID0gYW5ndWxhci5lbGVtZW50KGxpc3RFLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdFbGVtID0gYW5ndWxhci5lbGVtZW50KCc8cD48L3A+Jyk7XG4gICAgICAgICAgICAgICAgbmV3RWxlbS5odG1sKGFuZ3VsYXIuZWxlbWVudChsaXN0RSkuaHRtbCgpKTtcbiAgICAgICAgICAgICAgICBpZiAoX3ByZUxpcy5sZW5ndGggPT09IDAgfHwgX3Bvc3RMaXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfcG9zdExpcy5sZW5ndGggPT09IDApIF9wYXJlbnQuYWZ0ZXIobmV3RWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgX3BhcmVudFswXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdFbGVtWzBdLCBfcGFyZW50WzBdKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX3ByZUxpcy5sZW5ndGggPT09IDAgJiYgX3Bvc3RMaXMubGVuZ3RoID09PSAwKSBfcGFyZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGFuZ3VsYXIuZWxlbWVudChsaXN0RSkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9maXJzdExpc3QgPSBhbmd1bGFyLmVsZW1lbnQoJzwnICsgX3BhcmVudFswXS50YWdOYW1lICsgJz48LycgKyBfcGFyZW50WzBdLnRhZ05hbWUgKyAnPicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3NlY29uZExpc3QgPSBhbmd1bGFyLmVsZW1lbnQoJzwnICsgX3BhcmVudFswXS50YWdOYW1lICsgJz48LycgKyBfcGFyZW50WzBdLnRhZ05hbWUgKyAnPicpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3ByZUxpcy5sZW5ndGg7IGkrKykgX2ZpcnN0TGlzdC5hcHBlbmQoYW5ndWxhci5lbGVtZW50KF9wcmVMaXNbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF9wb3N0TGlzLmxlbmd0aDsgaSsrKSBfc2Vjb25kTGlzdC5hcHBlbmQoYW5ndWxhci5lbGVtZW50KF9wb3N0TGlzW2ldKSk7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnQuYWZ0ZXIoX3NlY29uZExpc3QpO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50LmFmdGVyKG5ld0VsZW0pO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50LmFmdGVyKF9maXJzdExpc3QpO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YVNlbGVjdGlvbi5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQobmV3RWxlbVswXSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgIGVsZW1lbnRzU2VlbiA9IFtdO1xuICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggIT09MCkgY29uc29sZS5sb2coc2VsZWN0ZWRFbGVtZW50cyk7XG4gICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxlY3RlZEVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50c1NlZW4uaW5kZXhPZihlbGVtZW50KSAhPT0gLTEgfHwgZWxlbWVudHNTZWVuLmluZGV4T2YoZWxlbWVudC5wYXJlbnRFbGVtZW50KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50c1NlZW4ucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnbGknKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmVMaXN0RWxlbWVudCcsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVMaXN0RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50ICYmIGVsZW1lbnQucGFyZW50RWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnbGknKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmVMaXN0RWxlbWVudCcsIGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzU2Vlbi5wdXNoKGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RFbGVtZW50KGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICoqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBpZihwb3NzaWJsZU5vZGVzWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2xpJyl7XG4gICAgICAgICAgICAgICAgdmFyIF9saXN0ID0gcG9zc2libGVOb2Rlc1swXS5wYXJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICAgICAgdmFyIF9wcmVMaXMgPSBbXSwgX3Bvc3RMaXMgPSBbXSwgX2ZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgX2xpc3QubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBpZihfbGlzdFtpXSA9PT0gcG9zc2libGVOb2Rlc1swXSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZighX2ZvdW5kKSBfcHJlTGlzLnB1c2goX2xpc3RbaV0pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIF9wb3N0TGlzLnB1c2goX2xpc3RbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgX3BhcmVudCA9IGFuZ3VsYXIuZWxlbWVudChwb3NzaWJsZU5vZGVzWzBdLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdFbGVtID0gYW5ndWxhci5lbGVtZW50KCc8cD48L3A+Jyk7XG4gICAgICAgICAgICAgICAgbmV3RWxlbS5odG1sKGFuZ3VsYXIuZWxlbWVudChwb3NzaWJsZU5vZGVzWzBdKS5odG1sKCkpO1xuICAgICAgICAgICAgICAgIGlmKF9wcmVMaXMubGVuZ3RoID09PSAwIHx8IF9wb3N0TGlzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIGlmKF9wb3N0TGlzLmxlbmd0aCA9PT0gMCkgX3BhcmVudC5hZnRlcihuZXdFbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBfcGFyZW50WzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0VsZW1bMF0sIF9wYXJlbnRbMF0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKF9wcmVMaXMubGVuZ3RoID09PSAwICYmIF9wb3N0TGlzLmxlbmd0aCA9PT0gMCkgX3BhcmVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBhbmd1bGFyLmVsZW1lbnQocG9zc2libGVOb2Rlc1swXSkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZmlyc3RMaXN0ID0gYW5ndWxhci5lbGVtZW50KCc8JytfcGFyZW50WzBdLnRhZ05hbWUrJz48LycrX3BhcmVudFswXS50YWdOYW1lKyc+Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfc2Vjb25kTGlzdCA9IGFuZ3VsYXIuZWxlbWVudCgnPCcrX3BhcmVudFswXS50YWdOYW1lKyc+PC8nK19wYXJlbnRbMF0udGFnTmFtZSsnPicpO1xuICAgICAgICAgICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBfcHJlTGlzLmxlbmd0aDsgaSsrKSBfZmlyc3RMaXN0LmFwcGVuZChhbmd1bGFyLmVsZW1lbnQoX3ByZUxpc1tpXSkpO1xuICAgICAgICAgICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBfcG9zdExpcy5sZW5ndGg7IGkrKykgX3NlY29uZExpc3QuYXBwZW5kKGFuZ3VsYXIuZWxlbWVudChfcG9zdExpc1tpXSkpO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50LmFmdGVyKF9zZWNvbmRMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudC5hZnRlcihuZXdFbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudC5hZnRlcihfZmlyc3RMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFTZWxlY3Rpb24uc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKG5ld0VsZW1bMF0pO1xuICAgICAgICAgICAgfVxuICAgICAqKioqKioqKioqKioqKioqKioqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGlmIGl0J3MgamF2YXNjcmlwdCBkb24ndCB3b3JyeSAtIHRob3VnaCBwcm9iYWJseSBzaG91bGQgc2hvdyBzb21lIGtpbmQgb2YgZXJyb3IgbWVzc2FnZSAqL1xudmFyIGw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiamF2YXNjcmlwdFwiKSE9PS0xfTthKFwiaW5zZXJ0SW1hZ2VcIix7aWNvbmNsYXNzOlwiZmEgZmEtcGljdHVyZS1vXCIsdG9vbHRpcHRleHQ6Yy5pbnNlcnRJbWFnZS50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3ZhciBhO2lmKGE9Yi5wcm9tcHQoYy5pbnNlcnRJbWFnZS5kaWFsb2dQcm9tcHQsXCJodHRwOi8vXCIpLGEmJlwiXCIhPT1hJiZcImh0dHA6Ly9cIiE9PWEmJiFsKGEpKXtkLmdldFNlbGVjdGlvbkVsZW1lbnQoKS50YWdOYW1lJiZcImFcIj09PWQuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmXG4vLyBkdWUgdG8gZGlmZmVyZW5jZXMgaW4gaW1wbGVtZW50YXRpb24gYmV0d2VlbiBGaXJlRm94IGFuZCBDaHJvbWUsIHdlIG11c3QgbW92ZSB0aGVcbi8vIGluc2VydGlvbiBwb2ludCBwYXN0IHRoZSA8YT4gZWxlbWVudCwgb3RoZXJ3aXNlIEZpcmVGb3ggaW5zZXJ0cyBpbnNpZGUgdGhlIDxhPlxuLy8gV2l0aCB0aGlzIGNoYW5nZSwgYm90aCBGaXJlRm94IGFuZCBDaHJvbWUgYmVoYXZlIHRoZSBzYW1lIHdheSFcbmQuc2V0U2VsZWN0aW9uQWZ0ZXJFbGVtZW50KGQuZ2V0U2VsZWN0aW9uRWxlbWVudCgpKTtcbi8vIEluIHRoZSBwYXN0IHdlIHVzZWQgdGhlIHNpbXBsZSBzdGF0ZW1lbnQ6XG4vL3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKCdpbnNlcnRJbWFnZScsIGltYWdlTGluaywgdHJ1ZSk7XG4vL1xuLy8gSG93ZXZlciBvbiBGaXJlZm94IG9ubHksIHdoZW4gdGhlIGNvbnRlbnQgaXMgZW1wdHkgdGhpcyBpcyBhIHByb2JsZW1cbi8vIFNlZSBJc3N1ZSAjMTIwMVxuLy8gSW52ZXN0aWdhdGlvbiByZXZlYWxzIHRoYXQgRmlyZWZveCBvbmx5IGluc2VydHMgYSA8cD4gb25seSEhISFcbi8vIFNvIG5vdyB3ZSB1c2UgaW5zZXJ0SFRNTCBoZXJlIGFuZCBhbGwgaXMgZmluZS5cbi8vIE5PVEU6IHRoaXMgaXMgd2hhdCAnaW5zZXJ0SW1hZ2UnIGlzIHN1cHBvc2VkIHRvIGRvIGFueXdheSFcbnZhciBlPSc8aW1nIHNyYz1cIicrYSsnXCI+JztyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImluc2VydEhUTUxcIixlLCEwKX19LG9uRWxlbWVudFNlbGVjdDp7ZWxlbWVudDpcImltZ1wiLGFjdGlvbjplLmltZ09uU2VsZWN0QWN0aW9ufX0pLGEoXCJpbnNlcnRWaWRlb1wiLHtpY29uY2xhc3M6XCJmYSBmYS15b3V0dWJlLXBsYXlcIix0b29sdGlwdGV4dDpjLmluc2VydFZpZGVvLnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGE7XG4vLyBibG9jayBqYXZhc2NyaXB0IGhlcmVcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBpZiBpdCdzIGphdmFzY3JpcHQgZG9uJ3Qgd29ycnkgLSB0aG91Z2ggcHJvYmFibHkgc2hvdWxkIHNob3cgc29tZSBraW5kIG9mIGVycm9yIG1lc3NhZ2UgKi9cbmlmKGE9Yi5wcm9tcHQoYy5pbnNlcnRWaWRlby5kaWFsb2dQcm9tcHQsXCJodHRwczovL1wiKSwhbChhKSYmYSYmXCJcIiE9PWEmJlwiaHR0cHM6Ly9cIiE9PWEmJih2aWRlb0lkPWUuZXh0cmFjdFlvdXR1YmVWaWRlb0lkKGEpLHZpZGVvSWQpKXtcbi8vIGNyZWF0ZSB0aGUgZW1iZWQgbGlua1xudmFyIGY9XCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9cIit2aWRlb0lkLGc9JzxpbWcgY2xhc3M9XCJ0YS1pbnNlcnQtdmlkZW9cIiBzcmM9XCJodHRwczovL2ltZy55b3V0dWJlLmNvbS92aS8nK3ZpZGVvSWQrJy9ocWRlZmF1bHQuanBnXCIgdGEtaW5zZXJ0LXZpZGVvPVwiJytmKydcIiBjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiIGFsbG93ZnVsbHNjcmVlbj1cInRydWVcIiBmcmFtZWJvcmRlcj1cIjBcIiAvPic7XG4vLyBpbnNlcnRcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkb24ndCBrbm93IGhvdyB0byB0ZXN0IHRoaXMuLi4gc2luY2UgaXQgbmVlZHMgYSBkaWFsb2dQcm9tcHQgKi9cbi8vIGR1ZSB0byBkaWZmZXJlbmNlcyBpbiBpbXBsZW1lbnRhdGlvbiBiZXR3ZWVuIEZpcmVGb3ggYW5kIENocm9tZSwgd2UgbXVzdCBtb3ZlIHRoZVxuLy8gaW5zZXJ0aW9uIHBvaW50IHBhc3QgdGhlIDxhPiBlbGVtZW50LCBvdGhlcndpc2UgRmlyZUZveCBpbnNlcnRzIGluc2lkZSB0aGUgPGE+XG4vLyBXaXRoIHRoaXMgY2hhbmdlLCBib3RoIEZpcmVGb3ggYW5kIENocm9tZSBiZWhhdmUgdGhlIHNhbWUgd2F5IVxucmV0dXJuIGQuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLnRhZ05hbWUmJlwiYVwiPT09ZC5nZXRTZWxlY3Rpb25FbGVtZW50KCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZkLnNldFNlbGVjdGlvbkFmdGVyRWxlbWVudChkLmdldFNlbGVjdGlvbkVsZW1lbnQoKSksdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImluc2VydEhUTUxcIixnLCEwKX19LG9uRWxlbWVudFNlbGVjdDp7ZWxlbWVudDpcImltZ1wiLG9ubHlXaXRoQXR0cnM6W1widGEtaW5zZXJ0LXZpZGVvXCJdLGFjdGlvbjplLmltZ09uU2VsZWN0QWN0aW9ufX0pLGEoXCJpbnNlcnRMaW5rXCIse3Rvb2x0aXB0ZXh0OmMuaW5zZXJ0TGluay50b29sdGlwLGljb25jbGFzczpcImZhIGZhLWxpbmtcIixhY3Rpb246ZnVuY3Rpb24oKXt2YXIgYTtpZihcbi8vIGlmIHRoaXMgbGluayBoYXMgYWxyZWFkeSBiZWVuIHNldCwgd2UgbmVlZCB0byBqdXN0IGVkaXQgdGhlIGV4aXN0aW5nIGxpbmtcbi8qIGlzdGFuYnVsIGlnbm9yZSBpZjogd2UgZG8gbm90IHRlc3QgdGhpcyAqL1xuYT1kLmdldFNlbGVjdGlvbkVsZW1lbnQoKS50YWdOYW1lJiZcImFcIj09PWQuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9iLnByb21wdChjLmluc2VydExpbmsuZGlhbG9nUHJvbXB0LGQuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLmhyZWYpOmIucHJvbXB0KGMuaW5zZXJ0TGluay5kaWFsb2dQcm9tcHQsXCJodHRwOi8vXCIpLGEmJlwiXCIhPT1hJiZcImh0dHA6Ly9cIiE9PWEmJiFsKGEpKXJldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwiY3JlYXRlTGlua1wiLGEsITApfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4hIWEmJlwiQVwiPT09YVswXS50YWdOYW1lfSxvbkVsZW1lbnRTZWxlY3Q6e2VsZW1lbnQ6XCJhXCIsYWN0aW9uOmUuYU9uU2VsZWN0QWN0aW9ufX0pLGEoXCJ3b3JkY291bnRcIix7ZGlzcGxheTonPGRpdiBpZD1cInRvb2xiYXJXQ1wiIHN0eWxlPVwiZGlzcGxheTpibG9jazsgbWluLXdpZHRoOjEwMHB4O1wiPldvcmRzOiA8c3BhbiBuZy1iaW5kPVwid29yZGNvdW50XCI+PC9zcGFuPjwvZGl2PicsZGlzYWJsZWQ6ITAsd29yZGNvdW50OjAsYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXsvLyB0aGlzIGZpcmVzIG9uIGtleXVwXG52YXIgYT10aGlzLiRlZGl0b3IoKS5kaXNwbGF5RWxlbWVudHMudGV4dCxiPWFbMF0uaW5uZXJIVE1MfHxcIlwiLGM9MDsvKiBpc3RhbmJ1bCBpZ25vcmUgaWY6IHdpbGwgZGVmYXVsdCB0byAnJyB3aGVuIHVuZGVmaW5lZCAqL1xuLy9TZXQgY3VycmVudCBzY29wZVxuLy9TZXQgZWRpdG9yIHNjb3BlXG5yZXR1cm5cIlwiIT09Yi5yZXBsYWNlKC9cXHMqPFtePl0qPz5cXHMqL2csXCJcIikmJlwiXCIhPT1iLnRyaW0oKSYmKGM9Yi5yZXBsYWNlKC88XFwvPyhifGl8ZW18c3Ryb25nfHNwYW58dXxzdHJpa2V0aHJvdWdofGF8aW1nfHNtYWxsfHN1YnxzdXB8bGFiZWwpKCBbXj4qP10pPz4vZ2ksXCJcIikucmVwbGFjZSgvKDxbXj5dKj8+XFxzKjxbXj5dKj8+KS9naSxcIiBcIikucmVwbGFjZSgvKDxbXj5dKj8+KS9naSxcIlwiKS5yZXBsYWNlKC9cXHMrL2dpLFwiIFwiKS5tYXRjaCgvXFxTKy9nKS5sZW5ndGgpLHRoaXMud29yZGNvdW50PWMsdGhpcy4kZWRpdG9yKCkud29yZGNvdW50PWMsITF9fSksYShcImNoYXJjb3VudFwiLHtkaXNwbGF5Oic8ZGl2IGlkPVwidG9vbGJhckNDXCIgc3R5bGU9XCJkaXNwbGF5OmJsb2NrOyBtaW4td2lkdGg6MTIwcHg7XCI+Q2hhcmFjdGVyczogPHNwYW4gbmctYmluZD1cImNoYXJjb3VudFwiPjwvc3Bhbj48L2Rpdj4nLGRpc2FibGVkOiEwLGNoYXJjb3VudDowLGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7Ly8gdGhpcyBmaXJlcyBvbiBrZXl1cFxudmFyIGE9dGhpcy4kZWRpdG9yKCkuZGlzcGxheUVsZW1lbnRzLnRleHQsYj1hWzBdLmlubmVyVGV4dHx8YVswXS50ZXh0Q29udGVudCxjPWIucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSxcIlwiKS5yZXBsYWNlKC9eXFxzKy9nLFwiIFwiKS5yZXBsYWNlKC9cXHMrJC9nLFwiIFwiKS5sZW5ndGg7XG4vL1NldCBjdXJyZW50IHNjb3BlXG4vL1NldCBlZGl0b3Igc2NvcGVcbnJldHVybiB0aGlzLmNoYXJjb3VudD1jLHRoaXMuJGVkaXRvcigpLmNoYXJjb3VudD1jLCExfX0pfV0pOy8vIE5PVEU6IHRleHRBbmd1bGFyVmVyc2lvbiBtdXN0IG1hdGNoIHRoZSBHcnVudGZpbGUuanMgJ3NldFZlcnNpb24nIHRhc2suLi4uIGFuZCBoYXZlIGZvcm1hdCB2L2QrLi9kKy4vZCtcbnZhciBmPVwidjEuNS4xNlwiLGc9e2llOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MyxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaVwiKTtjLmlubmVySFRNTD1cIjwhLS1baWYgZ3QgSUUgXCIrICsrYitcIl0+PGk+PC9pPjwhW2VuZGlmXS0tPlwiLGRbMF07KTtyZXR1cm4gYj40P2I6YX0oKSx3ZWJraXQ6L0FwcGxlV2ViS2l0XFwvKFtcXGQuXSspL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxpc0ZpcmVmb3g6bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpPi0xfSxoPWh8fHt9Oy8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiB1bnRlc3RhYmxlIGJyb3dzZXIgY2hlY2sgKi9cbmgubm93PWZ1bmN0aW9uKCl7cmV0dXJuIGgubm93fHxoLm1vek5vd3x8aC5tc05vd3x8aC5vTm93fHxoLndlYmtpdE5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19KCk7XG4vLyBHbG9iYWwgdG8gdGV4dEFuZ3VsYXIgUkVHRVhQIHZhcnMgZm9yIGJsb2NrIGFuZCBsaXN0IGVsZW1lbnRzLlxudmFyIGk9L14oYWRkcmVzc3xhcnRpY2xlfGFzaWRlfGF1ZGlvfGJsb2NrcXVvdGV8Y2FudmFzfGNlbnRlcnxkZHxkaXZ8ZGx8ZmllbGRzZXR8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGZvcm18aDF8aDJ8aDN8aDR8aDV8aDZ8aGVhZGVyfGhncm91cHxocnxub3NjcmlwdHxvbHxvdXRwdXR8cHxwcmV8c2VjdGlvbnx0YWJsZXx0Zm9vdHx1bHx2aWRlbykkL2ksaj0vXih1bHxsaXxvbCkkL2ksaz0vXigjdGV4dHxzcGFufGFkZHJlc3N8YXJ0aWNsZXxhc2lkZXxhdWRpb3xibG9ja3F1b3RlfGNhbnZhc3xjZW50ZXJ8ZGR8ZGl2fGRsfGZpZWxkc2V0fGZpZ2NhcHRpb258ZmlndXJlfGZvb3Rlcnxmb3JtfGgxfGgyfGgzfGg0fGg1fGg2fGhlYWRlcnxoZ3JvdXB8aHJ8bm9zY3JpcHR8b2x8b3V0cHV0fHB8cHJlfHNlY3Rpb258dGFibGV8dGZvb3R8dWx8dmlkZW98bGkpJC9pO1xuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL1RyaW0jQ29tcGF0aWJpbGl0eVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHRyaW0gc2hpbSBmb3Igb2xkZXIgYnJvd3NlcnMgKi9cblN0cmluZy5wcm90b3R5cGUudHJpbXx8KFN0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9KTsvKlxuXHRDdXN0b20gc3R5bGVzaGVldCBmb3IgdGhlIHBsYWNlaG9sZGVycyBydWxlcy5cblx0Q3JlZGl0IHRvOiBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL2FkZC1ydWxlcy1zdHlsZXNoZWV0c1xuKi9cbnZhciBsLG0sbixvLHAscTsvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogSUUgPDggdGVzdCovXG5pZihnLmllPjh8fHZvaWQgMD09PWcuaWUpey8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBwcmVmZXJlbmNlIGZvciBzdHlsZXNoZWV0IGxvYWRlZCBleHRlcm5hbGx5ICovXG5mb3IodmFyIHI9ZG9jdW1lbnQuc3R5bGVTaGVldHMscz0wO3M8ci5sZW5ndGg7cysrKWlmKCgwPT09cltzXS5tZWRpYS5sZW5ndGh8fHJbc10ubWVkaWEubWVkaWFUZXh0Lm1hdGNoKC8oYWxsfHNjcmVlbikvZ2kpKSYmcltzXS5ocmVmJiZyW3NdLmhyZWYubWF0Y2goL3RleHRhbmd1bGFyXFwuKG1pblxcLnwpY3NzL2dpKSl7bD1yW3NdO2JyZWFrfS8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBwcmVmZXJlbmNlIGZvciBzdHlsZXNoZWV0IGxvYWRlZCBleHRlcm5hbGx5ICovXG5sfHwoXG4vLyB0aGlzIHNoZWV0IGlzIHVzZWQgZm9yIHRoZSBwbGFjZWhvbGRlcnMgbGF0ZXIgb24uXG5sPWZ1bmN0aW9uKCl7XG4vLyBDcmVhdGUgdGhlIDxzdHlsZT4gdGFnXG52YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7LyogaXN0YW5idWwgaWdub3JlIGVsc2UgOiBXZWJLaXQgaGFjayA6KCAqL1xuLy8gQWRkIHRoZSA8c3R5bGU+IGVsZW1lbnQgdG8gdGhlIHBhZ2UsIGFkZCBhcyBmaXJzdCBzbyB0aGUgc3R5bGVzIGNhbiBiZSBvdmVycmlkZGVuIGJ5IGN1c3RvbSBzdHlsZXNoZWV0c1xucmV0dXJuIGcud2Via2l0JiZhLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKSxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoYSksYS5zaGVldH0oKSksXG4vLyB1c2UgYXM6IGFkZENTU1J1bGUoXCJoZWFkZXJcIiwgXCJmbG9hdDogbGVmdFwiKTtcbm09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbyhsLGEsYil9LG89ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7XG4vLyByZXR1cm4gdGhlIGluc2VydGVkIHN0eWxlc2hlZXQgcnVsZVxuLy8gVGhpcyBvcmRlciBpcyBpbXBvcnRhbnQgYXMgSUUgMTEgaGFzIGJvdGggY3NzUnVsZXMgYW5kIHJ1bGVzIGJ1dCB0aGV5IGhhdmUgZGlmZmVyZW50IGxlbmd0aHMgLSBjc3NSdWxlcyBpcyBjb3JyZWN0LCBydWxlcyBnaXZlcyBhbiBlcnJvciBpbiBJRSAxMVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGJyb3dzZXIgY2F0Y2hlcyAqL1xuLyogaXN0YW5idWwgaWdub3JlIGVsc2U6IHVudGVzdGFibGUgSUUgb3B0aW9uICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogYnJvd3NlciBjYXRjaGVzICovXG5yZXR1cm4gYS5jc3NSdWxlcz9kPU1hdGgubWF4KGEuY3NzUnVsZXMubGVuZ3RoLTEsMCk6YS5ydWxlcyYmKGQ9TWF0aC5tYXgoYS5ydWxlcy5sZW5ndGgtMSwwKSksYS5pbnNlcnRSdWxlP2EuaW5zZXJ0UnVsZShiK1wie1wiK2MrXCJ9XCIsZCk6YS5hZGRSdWxlKGIsYyxkKSxsLnJ1bGVzP2U9bC5ydWxlc1tkXTpsLmNzc1J1bGVzJiYoZT1sLmNzc1J1bGVzW2RdKSxlfSxxPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKS8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBjaGVjayBmb3IgY29ycmVjdCBydWxlICovXG5pZihiW2NdLmNzc1RleHQ9PT1hLmNzc1RleHQpe2Q9YzticmVha31yZXR1cm4gZH0sbj1mdW5jdGlvbihhKXtwKGwsYSl9LC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiB0ZXN0cyBhcmUgYnJvd3NlciBzcGVjaWZpYyAqL1xucD1mdW5jdGlvbihhLGIpe3ZhciBjPWEuY3NzUnVsZXN8fGEucnVsZXM7aWYoYyYmMCE9PWMubGVuZ3RoKXt2YXIgZD1xKGIsYyk7YS5yZW1vdmVSdWxlP2EucmVtb3ZlUnVsZShkKTphLmRlbGV0ZVJ1bGUoZCl9fX1hbmd1bGFyLm1vZHVsZShcInRleHRBbmd1bGFyLmZhY3Rvcmllc1wiLFtdKS5mYWN0b3J5KFwidGFCcm93c2VyVGFnXCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpey8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBpZSBzcGVjaWZpYyB0ZXN0ICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogaWUgc3BlY2lmaWMgdGVzdCAqL1xucmV0dXJuIGE/XCJcIj09PWE/dm9pZCAwPT09Zy5pZT9cImRpdlwiOmcuaWU8PTg/XCJQXCI6XCJwXCI6Zy5pZTw9OD9hLnRvVXBwZXJDYXNlKCk6YTpnLmllPD04P1wiUFwiOlwicFwifX1dKS5mYWN0b3J5KFwidGFBcHBseUN1c3RvbVJlbmRlcmVyc1wiLFtcInRhQ3VzdG9tUmVuZGVyZXJzXCIsXCJ0YURPTVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWFuZ3VsYXIuZWxlbWVudChcIjxkaXY+PC9kaXY+XCIpO3JldHVybiBkWzBdLmlubmVySFRNTD1jLGFuZ3VsYXIuZm9yRWFjaChhLGZ1bmN0aW9uKGEpe3ZhciBjPVtdO1xuLy8gZ2V0IGVsZW1lbnRzIGJhc2VkIG9uIHdoYXQgaXMgZGVmaW5lZC4gSWYgYm90aCBkZWZpbmVkIGRvIHNlY29uZGFyeSBmaWx0ZXIgaW4gdGhlIGZvckVhY2ggYWZ0ZXIgdXNpbmcgc2VsZWN0b3Igc3RyaW5nXG5hLnNlbGVjdG9yJiZcIlwiIT09YS5zZWxlY3Rvcj9jPWQuZmluZChhLnNlbGVjdG9yKTphLmN1c3RvbUF0dHJpYnV0ZSYmXCJcIiE9PWEuY3VzdG9tQXR0cmlidXRlJiYoYz1iLmdldEJ5QXR0cmlidXRlKGQsYS5jdXN0b21BdHRyaWJ1dGUpKSxcbi8vIHByb2Nlc3MgZWxlbWVudHMgaWYgYW55IGZvdW5kXG5hbmd1bGFyLmZvckVhY2goYyxmdW5jdGlvbihiKXtiPWFuZ3VsYXIuZWxlbWVudChiKSxhLnNlbGVjdG9yJiZcIlwiIT09YS5zZWxlY3RvciYmYS5jdXN0b21BdHRyaWJ1dGUmJlwiXCIhPT1hLmN1c3RvbUF0dHJpYnV0ZT92b2lkIDAhPT1iLmF0dHIoYS5jdXN0b21BdHRyaWJ1dGUpJiZhLnJlbmRlckxvZ2ljKGIpOmEucmVuZGVyTG9naWMoYil9KX0pLGRbMF0uaW5uZXJIVE1MfX1dKS5mYWN0b3J5KFwidGFGaXhDaHJvbWVcIixmdW5jdGlvbigpe1xuLy8gZ2V0IHdoYXRlcmV2ZXIgcnViYmlzaCBpcyBpbnNlcnRlZCBpbiBjaHJvbWVcbi8vIHNob3VsZCBiZSBwYXNzZWQgYW4gaHRtbCBzdHJpbmcsIHJldHVybnMgYW4gaHRtbCBzdHJpbmdcbnZhciBhPWZ1bmN0aW9uKGEsYil7aWYoIWF8fCFhbmd1bGFyLmlzU3RyaW5nKGEpfHxhLmxlbmd0aDw9MClyZXR1cm4gYTtcbi8vIHJlbW92ZSBhbGwgdGhlIEFwcGxlLWNvbnZlcnRlZC1zcGFjZSBzcGFucyBhbmQgcmVwbGFjZSB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBzcGFuXG4vL2NvbnNvbGUubG9nKCdiZWZvcmU6JywgaHRtbCk7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogYXBwbGUtY29udGVyZXRlZC1zcGFjZSBzcGFuIG1hdGNoICovXG5mb3IoXG4vLyBncmFiIGFsbCBlbGVtZW50cyB3aXRoIGEgc3R5bGUgYXR0aWJ1dGVcbi8vIGEgYmV0dGVyU3Bhbk1hdGNoIG1hdGNoZXMgb25seSBhIHN0eWxlPS4uLiB3aXRoIG1hdGNoaW5nIHF1b3Rlc1xuLy8gdGhpcyBjYXB0dXJlcyB0aGUgd2hvbGU6XG4vLyAnc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XCInXG52YXIgYyxkLGUsZj0vc3R5bGVcXHM/PVxccz8oW1wiJ10pKD86KD89KFxcXFw/KSlcXDIuKSo/XFwxL2dpLGc9LzxzcGFuIGNsYXNzPVwiQXBwbGUtY29udmVydGVkLXNwYWNlXCI+KFtePF0rKTxcXC9zcGFuPi9naSxoPVwiXCIsaT0wO2M9Zy5leGVjKGEpOyllPWNbMV0sZT1lLnJlcGxhY2UoLyZuYnNwOy9naSxcIiBcIiksaCs9YS5zdWJzdHJpbmcoaSxjLmluZGV4KStlLGk9Yy5pbmRleCtjWzBdLmxlbmd0aDtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vXG4vLyBBbGxvdyBjb250cm9sIG9mIHRoaXMgbW9kaWZpY2F0aW9uXG4vLyB0YUtlZXBTdHlsZXM6IEZhbHNlIC0gcmVtb3ZlcyB0aGVzZSBtb2RpZmljYXRpb25cbi8vXG4vLyB0YUZpeENocm9tZSByZW1vdmVzIHRoZSBmb2xsb3dpbmcgc3R5bGVzOlxuLy8gICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4vLyAgICBsaW5lLWhlaWdodDogPG51bWJlcj5cbi8vICAgIGNvbG9yOiBpbmhlcml0O1xuLy8gICAgY29sb3I6IHJnYiggPHJnYi1jb21wb25lbnQ+I3szfSApXG4vLyAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoIDxyZ2ItY29tcG9uZW50PiN7M30gKVxuLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmlmKC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBhcHBsZS1jb250ZXJldGVkLXNwYWNlIHNwYW4gaGFzIG1hdGNoZWQgKi9cbmkmJihcbi8vIG1vZGlmaWVkLi4uLlxuaCs9YS5zdWJzdHJpbmcoaSksYT1oLGg9XCJcIixpPTApLCFiKXtmb3IoO2M9Zi5leGVjKGEpOyloKz1hLnN1YnN0cmluZyhpLGMuaW5kZXgtMSksZD1jWzBdLFxuLy8gdGVzdCBmb3IgY2hyb21lIGluc2VydGVkIGp1bmtcbmM9L2ZvbnQtZmFtaWx5OiBpbmhlcml0O3xsaW5lLWhlaWdodDogMS5bMC05XXszLDEyfTt8Y29sb3I6IGluaGVyaXQ7IGxpbmUtaGVpZ2h0OiAxLjE7fGNvbG9yOiByZ2JcXChcXGR7MSwzfSwgXFxkezEsM30sIFxcZHsxLDN9XFwpO3xiYWNrZ3JvdW5kLWNvbG9yOiByZ2JcXChcXGR7MSwzfSwgXFxkezEsM30sIFxcZHsxLDN9XFwpOy9naS5leGVjKGQpLGM/KGQ9ZC5yZXBsYWNlKC8oIHwpZm9udC1mYW1pbHk6IGluaGVyaXQ7fCggfClsaW5lLWhlaWdodDogMS5bMC05XXszLDEyfTt8KCB8KWNvbG9yOiBpbmhlcml0O3woIHwpY29sb3I6IHJnYlxcKFxcZHsxLDN9LCBcXGR7MSwzfSwgXFxkezEsM31cXCk7fCggfCliYWNrZ3JvdW5kLWNvbG9yOiByZ2JcXChcXGR7MSwzfSwgXFxkezEsM30sIFxcZHsxLDN9XFwpOy9naSxcIlwiKSxcbi8vY29uc29sZS5sb2coc3R5bGVWYWwsIHN0eWxlVmFsLmxlbmd0aCk7XG5kLmxlbmd0aD44JiYoaCs9XCIgXCIrZCkpOmgrPVwiIFwiK2QsaT1mLmxhc3RJbmRleDtoKz1hLnN1YnN0cmluZyhpKX1cbi8vY29uc29sZS5sb2coJ2ZpbmFsOicsIGZpbmFsSHRtbCk7XG4vLyBvbmx5IHJlcGxhY2Ugd2hlbiBzb21ldGhpbmcgaGFzIGNoYW5nZWQsIGVsc2Ugd2UgZ2V0IGZvY3VzIHByb2JsZW1zIG9uIGluc2VydGluZyBsaXN0c1xuaWYoaT4wKXtcbi8vIHJlcGxhY2UgYWxsIGVtcHR5IHN0cmluZ3NcbnZhciBqPWgucmVwbGFjZSgvPHNwYW5cXHM/PiguKj8pPFxcL3NwYW4+KDxicihcXC98KT58KS9naSxcIiQxXCIpO3JldHVybiBqfXJldHVybiBhfTtyZXR1cm4gYX0pLmZhY3RvcnkoXCJ0YVNhbml0aXplXCIsW1wiJHNhbml0aXplXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2Zvcih2YXIgYyxkPTAsZT0wLGY9LzxbXj5dKj4vZ2k7Yz1mLmV4ZWMoYSk7KWlmKGU9Yy5pbmRleCxcIi9cIj09PWNbMF0uc3Vic3RyKDEsMSkpe2lmKDA9PT1kKWJyZWFrO2QtLX1lbHNlIGQrKztcbi8vIGdldCB0aGUgc3RhcnQgdGFncyByZXZlcnNlZCAtIHRoaXMgaXMgc2FmZSBhcyB3ZSBjb25zdHJ1Y3QgdGhlIHN0cmluZ3Mgd2l0aCBubyBjb250ZW50IGV4Y2VwdCB0aGUgdGFnc1xucmV0dXJuIGIrYS5zdWJzdHJpbmcoMCxlKSthbmd1bGFyLmVsZW1lbnQoYilbMF0ub3V0ZXJIVE1MLnN1YnN0cmluZyhiLmxlbmd0aCkrYS5zdWJzdHJpbmcoZSl9ZnVuY3Rpb24gYyhhKXtpZighYXx8IWFuZ3VsYXIuaXNTdHJpbmcoYSl8fGEubGVuZ3RoPD0wKXJldHVybiBhO2Zvcih2YXIgZCxmLGcsaCxpLGssbD0vPChbXj5cXC9dKz8pc3R5bGU9KFwiKFteXCJdKylcInwnKFteJ10rKScpKFtePl0qKT4vZ2ksbT1cIlwiLG49XCJcIixvPTA7Zj1sLmV4ZWMoYSk7KXtcbi8vIG9uZSBvZiB0aGUgcXVvdGVkIHZhbHVlcyAnIG9yIFwiXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogcXVvdGF0aW9ucyBtYXRjaCAqL1xuaD1mWzNdfHxmWzRdO3ZhciBwPW5ldyBSZWdFeHAoaixcImlcIik7XG4vLyB0ZXN0IGZvciBzdHlsZSB2YWx1ZXMgdG8gY2hhbmdlXG5pZihhbmd1bGFyLmlzU3RyaW5nKGgpJiZwLnRlc3QoaCkpe1xuLy8gcmVtb3ZlIGJ1aWxkIHRhZyBsaXN0XG5pPVwiXCI7XG4vLyBmaW5kIHJlbGV2YW5kIHRhZ3MgYW5kIGJ1aWxkIGEgc3RyaW5nIG9mIHRoZW1cbmZvcihcbi8vIGluaXQgcmVnZXggaGVyZSBmb3IgZXhlY1xudmFyIHE9bmV3IFJlZ0V4cChqLFwiaWdcIik7Zz1xLmV4ZWMoaCk7KWZvcihkPTA7ZDxlLmxlbmd0aDtkKyspZ1syKmQrMl0mJihpKz1cIjxcIitlW2RdLnRhZytcIj5cIik7XG4vLyByZWN1cnNpdmVseSBmaW5kIG1vcmUgbGVnYWN5IHN0eWxlcyBpbiBodG1sIGJlZm9yZSB0aGlzIHRhZyBhbmQgYWZ0ZXIgdGhlIHByZXZpb3VzIG1hdGNoIChpZiBhbnkpXG5rPWMoYS5zdWJzdHJpbmcobyxmLmluZGV4KSksXG4vLyBidWlsZCB1cCBodG1sXG5uKz1tLmxlbmd0aD4wP2IoayxtKTprLFxuLy8gZ3JhYiB0aGUgc3R5bGUgdmFsIHdpdGhvdXQgdGhlIHRyYW5zZm9ybWVkIHZhbHVlc1xuaD1oLnJlcGxhY2UobmV3IFJlZ0V4cChqLFwiaWdcIiksXCJcIiksXG4vLyBidWlsZCB0aGUgaHRtbCB0YWdcbm4rPVwiPFwiK2ZbMV0udHJpbSgpLGgubGVuZ3RoPjAmJihuKz0nIHN0eWxlPVwiJytoKydcIicpLG4rPWZbNV0rXCI+XCIsXG4vLyB1cGRhdGUgdGhlIHN0YXJ0IGluZGV4IHRvIGFmdGVyIHRoaXMgdGFnXG5vPWYuaW5kZXgrZlswXS5sZW5ndGgsbT1pfX1yZXR1cm4gbis9bS5sZW5ndGg+MD9iKGEuc3Vic3RyaW5nKG8pLG0pOmEuc3Vic3RyaW5nKG8pfWZ1bmN0aW9uIGQoYSl7aWYoIWF8fCFhbmd1bGFyLmlzU3RyaW5nKGEpfHxhLmxlbmd0aDw9MClyZXR1cm4gYTtcbi8vIG1hdGNoIGFsbCBhdHRyIHRhZ3NcbmZvcihcbi8vIHJlcGxhY2UgYWxsIGFsaWduPScuLi4nIHRhZ3Mgd2l0aCB0ZXh0LWFsaWduIGF0dHJpYnV0ZXNcbnZhciBiLGM9LzwoW14+XFwvXSs/KWFsaWduPShcIihbXlwiXSspXCJ8JyhbXiddKyknKShbXj5dKik+L2dpLGQ9XCJcIixlPTA7Yj1jLmV4ZWMoYSk7KXtcbi8vIGFkZCBhbGwgaHRtbCBiZWZvcmUgdGhpcyB0YWdcbmQrPWEuc3Vic3RyaW5nKGUsYi5pbmRleCksXG4vLyByZWNvcmQgbGFzdCBpbmRleCBhZnRlciB0aGlzIHRhZ1xuZT1iLmluZGV4K2JbMF0ubGVuZ3RoO1xuLy8gY29uc3RydWN0IHRhZyB3aXRob3V0IHRoZSBhbGlnbiBhdHRyaWJ1dGVcbnZhciBmPVwiPFwiK2JbMV0rYls1XTtcbi8vIGFkZCB0aGUgc3R5bGUgYXR0cmlidXRlXG4vc3R5bGU9KFwiKFteXCJdKylcInwnKFteJ10rKScpL2dpLnRlc3QoZik/LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHF1b3RhdGlvbnMgbWF0Y2ggKi9cbmY9Zi5yZXBsYWNlKC9zdHlsZT0oXCIoW15cIl0rKVwifCcoW14nXSspJykvaSwnc3R5bGU9XCIkMiQzIHRleHQtYWxpZ246JysoYlszXXx8Yls0XSkrJztcIicpOi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBxdW90YXRpb25zIG1hdGNoICovXG5mKz0nIHN0eWxlPVwidGV4dC1hbGlnbjonKyhiWzNdfHxiWzRdKSsnO1wiJyxmKz1cIj5cIixcbi8vIGFkZCB0byBodG1sXG5kKz1mfVxuLy8gcmV0dXJuIHdpdGggcmVtYWluaW5nIGh0bWxcbnJldHVybiBkK2Euc3Vic3RyaW5nKGUpfWZvcih2YXIgZT1be3Byb3BlcnR5OlwiZm9udC13ZWlnaHRcIix2YWx1ZXM6W1wiYm9sZFwiXSx0YWc6XCJiXCJ9LHtwcm9wZXJ0eTpcImZvbnQtc3R5bGVcIix2YWx1ZXM6W1wiaXRhbGljXCJdLHRhZzpcImlcIn1dLGY9W10sZz0wO2c8ZS5sZW5ndGg7ZysrKXtmb3IodmFyIGg9XCIoXCIrZVtnXS5wcm9wZXJ0eStcIjpcXFxccyooXCIsaT0wO2k8ZVtnXS52YWx1ZXMubGVuZ3RoO2krKykvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IG5lZWRlZCB0byBiZSB0ZXN0ZWQgeWV0ICovXG5pPjAmJihoKz1cInxcIiksaCs9ZVtnXS52YWx1ZXNbaV07aCs9XCIpOylcIixmLnB1c2goaCl9dmFyIGo9XCIoXCIrZi5qb2luKFwifFwiKStcIilcIixrPW5ldyBSZWdFeHAoLzxzcGFuIGlkPVwic2VsZWN0aW9uQm91bmRhcnlfXFxkK19cXGQrXCIgY2xhc3M9XCJyYW5neVNlbGVjdGlvbkJvdW5kYXJ5XCI+W148Pl0rPzxcXC9zcGFuPi9naSksbD1uZXcgUmVnRXhwKC88c3BhbiBjbGFzcz1cInJhbmd5U2VsZWN0aW9uQm91bmRhcnlcIiBpZD1cInNlbGVjdGlvbkJvdW5kYXJ5X1xcZCtfXFxkK1wiPltePD5dKz88XFwvc3Bhbj4vZ2kpLG09bmV3IFJlZ0V4cCgvPHNwYW4gaWQ9XCJzZWxlY3Rpb25Cb3VuZGFyeV9cXGQrX1xcZCtcIiBjbGFzcz1cInJhbmd5U2VsZWN0aW9uQm91bmRhcnlcIj5bXjw+XSs/PFxcL3NwYW4+L2dpKTtyZXR1cm4gZnVuY3Rpb24oYixlLGYpe1xuLy8gdW5zYWZlIGh0bWwgc2hvdWxkIE5FVkVSIGJ1aWx0IGludG8gYSBET00gb2JqZWN0IHZpYSBhbmd1bGFyLmVsZW1lbnQuIFRoaXMgYWxsb3dzIFhTUyB0byBiZSBpbnNlcnRlZCBhbmQgcnVuLlxuaWYoIWYpdHJ5e2I9YyhiKX1jYXRjaChhKXt9XG4vLyB3ZSBoYWQgYW4gaXNzdWUgaW4gdGhlIHBhc3QsIHdoZXJlIHdlIGR1bXBlZCBhIHdob2xlIGJ1bmNoIG9mIDxzcGFuPidzIGludG8gdGhlIGNvbnRlbnQuLi5cbi8vIHNvIHdlIHJlbW92ZSB0aGVtIGhlcmVcbi8vIElOIEEgRlVUVVJFIHJlbGVhc2UgdGhpcyBjYW4gYmUgcmVtb3ZlZCBhZnRlciBhbGwgaGF2ZSB1cGRhdGVkIHRocm91Z2ggcmVsZWFzZSAxLjUuOVxuaWYoXG4vLyB1bnNhZmUgYW5kIG9sZHNhZmUgc2hvdWxkIGJlIHZhbGlkIEhUTUwgc3RyaW5nc1xuLy8gYW55IGV4Y2VwdGlvbnMgKGxldHMgc2F5LCBjb2xvciBmb3IgZXhhbXBsZSkgc2hvdWxkIGJlIG1hZGUgaGVyZSBidXQgd2l0aCBncmVhdCBjYXJlXG4vLyBzZXR1cCB1bnNhZmUgZWxlbWVudCBmb3IgbW9kaWZpY2F0aW9uXG5iPWQoYikpdHJ5e2I9Yi5yZXBsYWNlKGssXCJcIiksYj1iLnJlcGxhY2UobCxcIlwiKSxiPWIucmVwbGFjZShrLFwiXCIpLGI9Yi5yZXBsYWNlKG0sXCJcIil9Y2F0Y2goYSl7fXZhciBnO3RyeXtnPWEoYiksXG4vLyBkbyB0aGlzIGFmdGVyd2FyZHMsIHRoZW4gdGhlICRzYW5pdGl6ZXIgc2hvdWxkIHN0aWxsIHRocm93IGZvciBiYWQgbWFya3VwXG5mJiYoZz1iKX1jYXRjaChhKXtnPWV8fFwiXCJ9XG4vLyBEbyBwcm9jZXNzaW5nIGZvciA8cHJlPiB0YWdzLCByZW1vdmluZyB0YWJzIGFuZCByZXR1cm4gY2FycmlhZ2VzIG91dHNpZGUgb2YgdGhlbVxudmFyIGgsaT1nLm1hdGNoKC8oPHByZVtePl0qPi4qPzxcXC9wcmVbXj5dKj4pL2dpKSxqPWcucmVwbGFjZSgvKCYjKDl8MTApOykqL2dpLFwiXCIpLG49LzxwcmVbXj5dKj4uKj88XFwvcHJlW14+XSo+L2dpLG89MCxwPTA7Zm9yKGc9XCJcIjtudWxsIT09KGg9bi5leGVjKGopKSYmbzxpLmxlbmd0aDspZys9ai5zdWJzdHJpbmcocCxoLmluZGV4KStpW29dLHA9aC5pbmRleCtoWzBdLmxlbmd0aCxvKys7cmV0dXJuIGcrai5zdWJzdHJpbmcocCl9fV0pLmZhY3RvcnkoXCJ0YVRvb2xFeGVjdXRlQWN0aW9uXCIsW1wiJHFcIixcIiRsb2dcIixmdW5jdGlvbihhLGIpe1xuLy8gdGhpcyBtdXN0IGJlIGNhbGxlZCBvbiBhIHRvb2xTY29wZSBvciBpbnN0YW5jZVxucmV0dXJuIGZ1bmN0aW9uKGMpe3ZvaWQgMCE9PWMmJih0aGlzLiRlZGl0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gY30pO3ZhciBkLGU9YS5kZWZlcigpLGY9ZS5wcm9taXNlLGc9dGhpcy4kZWRpdG9yKCk7dHJ5e2Q9dGhpcy5hY3Rpb24oZSxnLnN0YXJ0QWN0aW9uKCkpLFxuLy8gV2Ugc2V0IHRoZSAuZmluYWxseSBjYWxsYmFjayBoZXJlIHRvIG1ha2Ugc3VyZSBpdCBkb2Vzbid0IGdldCBleGVjdXRlZCBiZWZvcmUgYW55IG90aGVyIC50aGVuIGNhbGxiYWNrLlxuZi5maW5hbGx5KGZ1bmN0aW9uKCl7Zy5lbmRBY3Rpb24uY2FsbChnKX0pfWNhdGNoKGEpe2IuZXJyb3IoYSl9KGR8fHZvaWQgMD09PWQpJiZcbi8vIGlmIHRydWUgb3IgdW5kZWZpbmVkIGlzIHJldHVybmVkIHRoZW4gdGhlIGFjdGlvbiBoYXMgZmluaXNoZWQuIE90aGVyd2lzZSB0aGUgZGVmZXJyZWQgYWN0aW9uIHdpbGwgYmUgcmVzb2x2ZWQgbWFudWFsbHkuXG5lLnJlc29sdmUoKX19XSksYW5ndWxhci5tb2R1bGUoXCJ0ZXh0QW5ndWxhci5ET01cIixbXCJ0ZXh0QW5ndWxhci5mYWN0b3JpZXNcIl0pLmZhY3RvcnkoXCJ0YUV4ZWNDb21tYW5kXCIsW1widGFTZWxlY3Rpb25cIixcInRhQnJvd3NlclRhZ1wiLFwiJGRvY3VtZW50XCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlPWZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxmPWEuZmluZChcImxpXCIpO2ZvcihlPWYubGVuZ3RoLTE7ZT49MDtlLS0pZD1hbmd1bGFyLmVsZW1lbnQoXCI8XCIrYytcIj5cIitmW2VdLmlubmVySFRNTCtcIjwvXCIrYytcIj5cIiksYS5hZnRlcihkKTthLnJlbW92ZSgpLGIuc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKGRbMF0pfSxmPWZ1bmN0aW9uKGEsZCxlLGYsZyl7dmFyIGgsaSxqLGssbCxtPWEuZmluZChcImxpXCIpO2ZvcihpPTA7aTxtLmxlbmd0aDtpKyspaWYobVtpXS5vdXRlckhUTUw9PT1kWzBdLm91dGVySFRNTCl7XG4vLyBmb3VuZCBpdC4uLlxubD1pLGk+MCYmKGo9bVtpLTFdKSxpKzE8bS5sZW5ndGgmJihrPW1baSsxXSk7YnJlYWt9XG4vL2NvbnNvbGUubG9nKCdsaXN0RWxlbWVudFRvU2VsZlRhZycsIGxpc3QsIGxpc3RFbGVtZW50LCBzZWxmVGFnLCBiRGVmYXVsdCwgcHJpb3JFbGVtZW50LCBuZXh0RWxlbWVudCk7XG4vLyB1bi1saXN0IHRoZSBsaXN0RWxlbWVudFxudmFyIG49XCJcIjtcbi8vY29uc29sZS5sb2coJyR0YXJnZXQnLCAkdGFyZ2V0WzBdKTtcbmlmKGY/bis9XCI8XCIrZytcIj5cIitkWzBdLmlubmVySFRNTCtcIjwvXCIrZytcIj5cIjoobis9XCI8XCIrYyhlKStcIj5cIixuKz1cIjxsaT5cIitkWzBdLmlubmVySFRNTCtcIjwvbGk+XCIsbis9XCI8L1wiK2MoZSkrXCI+XCIpLGg9YW5ndWxhci5lbGVtZW50KG4pLCFqKVxuLy8gdGhpcyBpcyB0aGUgZmlyc3QgdGhlIGxpc3QsIHNvIHdlIGp1c3QgcmVtb3ZlIGl0Li4uXG5yZXR1cm4gZC5yZW1vdmUoKSxhLmFmdGVyKGFuZ3VsYXIuZWxlbWVudChhWzBdLm91dGVySFRNTCkpLGEuYWZ0ZXIoaCksYS5yZW1vdmUoKSx2b2lkIGIuc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKGhbMF0pO2lmKGspe3ZhciBvPShhLnBhcmVudCgpLFwiXCIpLHA9YVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2ZvcihvKz1cIjxcIitwK1wiPlwiLGk9MDtpPGw7aSsrKW8rPVwiPGxpPlwiK21baV0uaW5uZXJIVE1MK1wiPC9saT5cIjtvKz1cIjwvXCIrcCtcIj5cIjt2YXIgcT1cIlwiO2ZvcihxKz1cIjxcIitwK1wiPlwiLGk9bCsxO2k8bS5sZW5ndGg7aSsrKXErPVwiPGxpPlwiK21baV0uaW5uZXJIVE1MK1wiPC9saT5cIjtxKz1cIjwvXCIrcCtcIj5cIixcbi8vY29uc29sZS5sb2coaHRtbDEsICR0YXJnZXRbMF0sIGh0bWwyKTtcbmEuYWZ0ZXIoYW5ndWxhci5lbGVtZW50KHEpKSxhLmFmdGVyKGgpLGEuYWZ0ZXIoYW5ndWxhci5lbGVtZW50KG8pKSxhLnJlbW92ZSgpLFxuLy9jb25zb2xlLmxvZygncGFyZW50ICoqKioqKlhYWCoqKioqJywgcFswXSk7XG5iLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZChoWzBdKX1lbHNlXG4vLyB0aGlzIGlzIHRoZSBsYXN0IGluIHRoZSBsaXN0LCBzbyB3ZSBqdXN0IHJlbW92ZSBpdC4uXG5kLnJlbW92ZSgpLGEuYWZ0ZXIoaCksYi5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQoaFswXSl9LGc9ZnVuY3Rpb24oYSxkLGUsZixnKXt2YXIgaCxpLGosayxsLG09YS5maW5kKFwibGlcIiksbj1bXTtmb3IoaT0wO2k8bS5sZW5ndGg7aSsrKWZvcihqPTA7ajxkLmxlbmd0aDtqKyspbVtpXS5pc0VxdWFsTm9kZShkW2pdKSYmKFxuLy8gZm91bmQgaXQuLi5cbm5bal09aSk7blswXT4wJiYoaz1tW25bMF0tMV0pLG5bZC5sZW5ndGgtMV0rMTxtLmxlbmd0aCYmKGw9bVtuW2QubGVuZ3RoLTFdKzFdKTtcbi8vY29uc29sZS5sb2coJ2xpc3RFbGVtZW50c1RvU2VsZlRhZycsIGxpc3QsIGxpc3RFbGVtZW50cywgc2VsZlRhZywgYkRlZmF1bHQsICFwcmlvckVsZW1lbnQsICFhZnRlckVsZW1lbnQsIGZvdW5kSW5kZXhlc1tsaXN0RWxlbWVudHMubGVuZ3RoLTFdLCBjaGlsZHJlbi5sZW5ndGgpO1xuLy8gdW4tbGlzdCB0aGUgbGlzdEVsZW1lbnRzXG52YXIgbz1cIlwiO2lmKGYpZm9yKGo9MDtqPGQubGVuZ3RoO2orKylvKz1cIjxcIitnK1wiPlwiK2Rbal0uaW5uZXJIVE1MK1wiPC9cIitnK1wiPlwiLGRbal0ucmVtb3ZlKCk7ZWxzZXtmb3Iobys9XCI8XCIrYyhlKStcIj5cIixqPTA7ajxkLmxlbmd0aDtqKyspbys9ZFtqXS5vdXRlckhUTUwsZFtqXS5yZW1vdmUoKTtvKz1cIjwvXCIrYyhlKStcIj5cIn1pZihoPWFuZ3VsYXIuZWxlbWVudChvKSwhaylcbi8vIHRoaXMgaXMgdGhlIGZpcnN0IHRoZSBsaXN0LCBzbyB3ZSBqdXN0IHJlbW92ZSBpdC4uLlxucmV0dXJuIGEuYWZ0ZXIoYW5ndWxhci5lbGVtZW50KGFbMF0ub3V0ZXJIVE1MKSksYS5hZnRlcihoKSxhLnJlbW92ZSgpLHZvaWQgYi5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQoaFswXSk7aWYoIWwpXG4vLyB0aGlzIGlzIHRoZSBsYXN0IGluIHRoZSBsaXN0LCBzbyB3ZSBqdXN0IHJlbW92ZSBpdC4uXG5yZXR1cm4gYS5hZnRlcihoKSx2b2lkIGIuc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKGhbMF0pO1xuLy8gb2theSBpdCB3YXMgc29tZSB3aGVyZSBpbiB0aGUgbWlkZGxlLi4uIHNvIHdlIG5lZWQgdG8gYnJlYWsgYXBhcnQgdGhlIGxpc3QuLi5cbnZhciBwPVwiXCIscT1hWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7Zm9yKHArPVwiPFwiK3ErXCI+XCIsaT0wO2k8blswXTtpKyspcCs9XCI8bGk+XCIrbVtpXS5pbm5lckhUTUwrXCI8L2xpPlwiO3ArPVwiPC9cIitxK1wiPlwiO3ZhciByPVwiXCI7Zm9yKHIrPVwiPFwiK3ErXCI+XCIsaT1uW2QubGVuZ3RoLTFdKzE7aTxtLmxlbmd0aDtpKyspcis9XCI8bGk+XCIrbVtpXS5pbm5lckhUTUwrXCI8L2xpPlwiO3IrPVwiPC9cIitxK1wiPlwiLGEuYWZ0ZXIoYW5ndWxhci5lbGVtZW50KHIpKSxhLmFmdGVyKGgpLGEuYWZ0ZXIoYW5ndWxhci5lbGVtZW50KHApKSxhLnJlbW92ZSgpLFxuLy9jb25zb2xlLmxvZygncGFyZW50ICoqKioqKllZWSoqKioqJywgbGlzdC5wYXJlbnQoKVswXSk7XG5iLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZChoWzBdKX0saD1mdW5jdGlvbihhKXsvKDxicih8XFwvKT4pJC9pLnRlc3QoYS5pbm5lckhUTUwudHJpbSgpKT9iLnNldFNlbGVjdGlvbkJlZm9yZUVsZW1lbnQoYW5ndWxhci5lbGVtZW50KGEpLmZpbmQoXCJiclwiKVswXSk6Yi5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQoYSl9LGs9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hbmd1bGFyLmVsZW1lbnQoXCI8XCIrYitcIj5cIithWzBdLmlubmVySFRNTCtcIjwvXCIrYitcIj5cIik7YS5hZnRlcihjKSxhLnJlbW92ZSgpLGgoYy5maW5kKFwibGlcIilbMF0pfSxsPWZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGU9XCJcIixmPTA7ZjxhLmxlbmd0aDtmKyspZSs9XCI8XCIrYyhcImxpXCIpK1wiPlwiK2FbZl0uaW5uZXJIVE1MK1wiPC9cIitjKFwibGlcIikrXCI+XCI7dmFyIGc9YW5ndWxhci5lbGVtZW50KFwiPFwiK2QrXCI+XCIrZStcIjwvXCIrZCtcIj5cIik7Yi5hZnRlcihnKSxiLnJlbW92ZSgpLGgoZy5maW5kKFwibGlcIilbMF0pfSxtPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmNoaWxkTm9kZXMubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGlsZE5vZGVzW2NdOy8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gbW9yZSBjb21wbGV4IHRlc3RpbmcqL1xuZC50YWdOYW1lJiZkLnRhZ05hbWUubWF0Y2goaSkmJm0oZCxiKX0vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIHZlcnkgcmFyZSBjb25kaXRpb24gdGhhdCB3ZSBkbyBub3QgdGVzdCovXG5pZihudWxsPT09YS5wYXJlbnROb2RlKVxuLy8gbm90aGluZyBsZWZ0IHRvIGRvLi5cbnJldHVybiBhOy8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gbm90IHN1cmUgaGF2ZSB0byB0ZXN0IHRoaXMgKi9cbmlmKFwiPGJyPlwiPT09YilyZXR1cm4gYTt2YXIgZT1hbmd1bGFyLmVsZW1lbnQoYik7cmV0dXJuIGVbMF0uaW5uZXJIVE1MPWEuaW5uZXJIVE1MLGEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZVswXSxhKSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZX07cmV0dXJuIGZ1bmN0aW9uKGgsbil7XG4vLyBOT1RFOiBoZXJlIHdlIGFyZSBkZWFsaW5nIHdpdGggdGhlIGh0bWwgZGlyZWN0bHkgZnJvbSB0aGUgYnJvd3NlciBhbmQgbm90IHRoZSBodG1sIHRoZSB1c2VyIHNlZXMuXG4vLyBJRiB5b3Ugd2FudCB0byBtb2RpZnkgdGhlIGh0bWwgdGhlIHVzZXIgc2VlcywgZG8gaXQgd2hlbiB0aGUgdXNlciBkb2VzIGEgc3dpdGNoVmlld1xucmV0dXJuIGg9YyhoKSxmdW5jdGlvbihvLHAscSxyKXt2YXIgcyx0LHUsdix3LHgseSx6LEE9YW5ndWxhci5lbGVtZW50KFwiPFwiK2grXCI+XCIpO3RyeXtiLmdldFNlbGVjdGlvbiYmKHo9Yi5nZXRTZWxlY3Rpb24oKSkseT1iLmdldFNlbGVjdGlvbkVsZW1lbnQoKTtcbi8vIHNwZWNpYWwgY2hlY2tzIGFuZCBmaXhlcyB3aGVuIHdlIGFyZSBzZWxlY3RpbmcgdGhlIHdob2xlIGNvbnRhaW5lclxudmFyIEIsQzsvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xudm9pZCAwIT09eS50YWdOYW1lJiYoXCJkaXZcIj09PXkudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYvdGFUZXh0RWxlbWVudC4rLy50ZXN0KHkuaWQpJiZ6JiZ6LnN0YXJ0JiYxPT09ei5zdGFydC5vZmZzZXQmJjE9PT16LmVuZC5vZmZzZXQ/KFxuLy8gb3BwcyB3ZSBhcmUgYWN0dWFsbHkgc2VsZWN0aW5nIHRoZSB3aG9sZSBjb250YWluZXIhXG4vL2NvbnNvbGUubG9nKCdzZWxlY3Rpbmcgd2hvbGUgY29udGFpbmVyIScpO1xuQj15LmlubmVySFRNTCwvPGJyPi9pLnRlc3QoQikmJihcbi8vIEZpcmVmb3ggYWRkcyA8YnI+J3MgYW5kIHNvIHdlIHJlbW92ZSB0aGUgPGJyPlxuQj1CLnJlcGxhY2UoLzxicj4vaSxcIiYjODIwMztcIikpLC88YnJcXC8+L2kudGVzdChCKSYmKFxuLy8gRmlyZWZveCBhZGRzIDxici8+J3MgYW5kIHNvIHdlIHJlbW92ZSB0aGUgPGJyLz5cbkI9Qi5yZXBsYWNlKC88YnJcXC8+L2ksXCImIzgyMDM7XCIpKSxcbi8vIHJlbW92ZSBzdGFja2VkIHVwIDxzcGFuPidzXG4vPHNwYW4+KDxzcGFuPikrL2kudGVzdChCKSYmKEI9X18ucmVwbGFjZSgvPHNwYW4+KDxzcGFuPikrL2ksXCI8c3Bhbj5cIikpLFxuLy8gcmVtb3ZlIHN0YWNrZWQgdXAgPC9zcGFuPidzXG4vPFxcL3NwYW4+KDxcXC9zcGFuPikrL2kudGVzdChCKSYmKEI9X18ucmVwbGFjZSgvPFxcL3NwYW4+KDxcXC9zcGFuPikrL2ksXCI8L3NwYW4+XCIpKSwvPHNwYW4+PFxcL3NwYW4+L2kudGVzdChCKSYmKFxuLy8gaWYgd2UgZW5kIHVwIHdpdGggYSA8c3Bhbj48L3NwYW4+IGhlcmUgd2UgcmVtb3ZlIGl0Li4uXG5CPUIucmVwbGFjZSgvPHNwYW4+PFxcL3NwYW4+L2ksXCJcIikpLFxuLy9jb25zb2xlLmxvZygnaW5uZXIgd2hvbGUgY29udGFpbmVyJywgc2VsZWN0ZWRFbGVtZW50LmNoaWxkTm9kZXMpO1xuQz1cIjxkaXY+XCIrQitcIjwvZGl2PlwiLHkuaW5uZXJIVE1MPUMsYi5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQoeS5jaGlsZE5vZGVzWzBdKSx5PWIuZ2V0U2VsZWN0aW9uRWxlbWVudCgpKTpcInNwYW5cIj09PXkudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ6JiZ6LnN0YXJ0JiYxPT09ei5zdGFydC5vZmZzZXQmJjE9PT16LmVuZC5vZmZzZXQ/KFxuLy8ganVzdCBhIHNwYW4gLS0gdGhpcyBpcyBhIHByb2JsZW0uLi5cbi8vY29uc29sZS5sb2coJ3NlbGVjdGluZyBzcGFuIScpO1xuQj15LmlubmVySFRNTCwvPGJyPi9pLnRlc3QoQikmJihcbi8vIEZpcmVmb3ggYWRkcyA8YnI+J3MgYW5kIHNvIHdlIHJlbW92ZSB0aGUgPGJyPlxuQj1CLnJlcGxhY2UoLzxicj4vaSxcIiYjODIwMztcIikpLC88YnJcXC8+L2kudGVzdChCKSYmKFxuLy8gRmlyZWZveCBhZGRzIDxici8+J3MgYW5kIHNvIHdlIHJlbW92ZSB0aGUgPGJyLz5cbkI9Qi5yZXBsYWNlKC88YnJcXC8+L2ksXCImIzgyMDM7XCIpKSxcbi8vIHJlbW92ZSBzdGFja2VkIHVwIDxzcGFuPidzXG4vPHNwYW4+KDxzcGFuPikrL2kudGVzdChCKSYmKEI9X18ucmVwbGFjZSgvPHNwYW4+KDxzcGFuPikrL2ksXCI8c3Bhbj5cIikpLFxuLy8gcmVtb3ZlIHN0YWNrZWQgdXAgPC9zcGFuPidzXG4vPFxcL3NwYW4+KDxcXC9zcGFuPikrL2kudGVzdChCKSYmKEI9X18ucmVwbGFjZSgvPFxcL3NwYW4+KDxcXC9zcGFuPikrL2ksXCI8L3NwYW4+XCIpKSwvPHNwYW4+PFxcL3NwYW4+L2kudGVzdChCKSYmKFxuLy8gaWYgd2UgZW5kIHVwIHdpdGggYSA8c3Bhbj48L3NwYW4+IGhlcmUgd2UgcmVtb3ZlIGl0Li4uXG5CPUIucmVwbGFjZSgvPHNwYW4+PFxcL3NwYW4+L2ksXCJcIikpLFxuLy9jb25zb2xlLmxvZygnaW5uZXIgc3BhbicsIHNlbGVjdGVkRWxlbWVudC5jaGlsZE5vZGVzKTtcbi8vIHdlIHdyYXAgdGhpcyBpbiBhIDxkaXY+IGJlY2F1c2Ugb3RoZXJ3aXNlIHRoZSBicm93c2VyIGdldCBjb25mdXNlZCB3aGVuIHdlIGF0dGVtcHQgdG8gc2VsZWN0IHRoZSB3aG9sZSBub2RlXG4vLyBhbmQgdGhlIGZvY3VzIGlzIG5vdCBzZXQgY29ycmVjdGx5IG5vIG1hdHRlciB3aGF0IHdlIGRvXG5DPVwiPGRpdj5cIitCK1wiPC9kaXY+XCIseS5pbm5lckhUTUw9QyxiLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZCh5LmNoaWxkTm9kZXNbMF0pLHk9Yi5nZXRTZWxlY3Rpb25FbGVtZW50KCkpOlwicFwiPT09eS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJnomJnouc3RhcnQmJjE9PT16LnN0YXJ0Lm9mZnNldCYmMT09PXouZW5kLm9mZnNldD8oXG4vL2NvbnNvbGUubG9nKCdwIHNwZWNpYWwnKTtcbi8vIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSA8L2JyPiB0aGF0IGZpcmVmb3ggYWRkcyFcbkI9eS5pbm5lckhUTUwsLzxicj4vaS50ZXN0KEIpJiYoXG4vLyBGaXJlZm94IGFkZHMgPGJyPidzIGFuZCBzbyB3ZSByZW1vdmUgdGhlIDxicj5cbkI9Qi5yZXBsYWNlKC88YnI+L2ksXCImIzgyMDM7XCIpLC8vIG5vIHNwYWNlLXNwYWNlXG55LmlubmVySFRNTD1CKSk6XCJsaVwiPT09eS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJnomJnouc3RhcnQmJnouc3RhcnQub2Zmc2V0PT09ei5lbmQub2Zmc2V0JiYoXG4vLyB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgPC9icj4gdGhhdCBmaXJlZm94IGFkZHMhXG5CPXkuaW5uZXJIVE1MLC88YnI+L2kudGVzdChCKSYmKFxuLy8gRmlyZWZveCBhZGRzIDxicj4ncyBhbmQgc28gd2UgcmVtb3ZlIHRoZSA8YnI+XG5CPUIucmVwbGFjZSgvPGJyPi9pLFwiXCIpLC8vIG5vdGhpbmdcbnkuaW5uZXJIVE1MPUIpKSl9Y2F0Y2goYSl7fVxuLy9jb25zb2xlLmxvZygnKioqKioqKioqKioqKiogc2VsZWN0ZWRFbGVtZW50OicsIHNlbGVjdGVkRWxlbWVudCk7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWY6ICovXG5pZih5KXt2YXIgRD1hbmd1bGFyLmVsZW1lbnQoeSksRT15JiZ5LnRhZ05hbWUmJnkudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogKi9cblwiXCI7aWYoXCJpbnNlcnRvcmRlcmVkbGlzdFwiPT09by50b0xvd2VyQ2FzZSgpfHxcImluc2VydHVub3JkZXJlZGxpc3RcIj09PW8udG9Mb3dlckNhc2UoKSl7dmFyIEY9YyhcImluc2VydG9yZGVyZWRsaXN0XCI9PT1vLnRvTG93ZXJDYXNlKCk/XCJvbFwiOlwidWxcIiksRz1iLmdldE9ubHlTZWxlY3RlZEVsZW1lbnRzKCk7XG4vL2NvbnNvbGUubG9nKCdQUFBQUFBQUFBQUFBQJywgdGFnTmFtZSwgc2VsZlRhZywgc2VsZWN0ZWRFbGVtZW50cywgdGFnTmFtZS5tYXRjaChCTE9DS0VMRU1FTlRTKSwgJHNlbGVjdGVkLmhhc0NsYXNzKCd0YS1iaW5kJyksICRzZWxlY3RlZC5wYXJlbnQoKVswXS50YWdOYW1lKTtcbmlmKEcubGVuZ3RoPjEmJihcIm9sXCI9PT1FfHxcInVsXCI9PT1FKSlyZXR1cm4gZyhELEcsRixGPT09RSxoKTtpZihFPT09Rilcbi8vIGlmIGFsbCBzZWxlY3RlZCB0aGVuIHdlIHNob3VsZCByZW1vdmUgdGhlIGxpc3Rcbi8vIGdyYWIgYWxsIGxpIGVsZW1lbnRzIGFuZCBjb252ZXJ0IHRvIHRhRGVmYXVsdFdyYXAgdGFnc1xuLy9jb25zb2xlLmxvZygndGFnTmFtZT09PXNlbGZUYWcnKTtcbi8vIGlmIGFsbCBzZWxlY3RlZCB0aGVuIHdlIHNob3VsZCByZW1vdmUgdGhlIGxpc3Rcbi8vIGdyYWIgYWxsIGxpIGVsZW1lbnRzIGFuZCBjb252ZXJ0IHRvIHRhRGVmYXVsdFdyYXAgdGFnc1xuLy9jb25zb2xlLmxvZygndGFnTmFtZT09PXNlbGZUYWcnKTtcbnJldHVybiBEWzBdLmNoaWxkTm9kZXMubGVuZ3RoIT09Ry5sZW5ndGgmJjE9PT1HLmxlbmd0aD8oRD1hbmd1bGFyLmVsZW1lbnQoR1swXSksZihELnBhcmVudCgpLEQsRiwhMCxoKSk6ZShELGgpO2lmKFwibGlcIj09PUUmJkQucGFyZW50KClbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09RiYmMT09PUQucGFyZW50KCkuY2hpbGRyZW4oKS5sZW5ndGgpXG4vLyBjYXRjaCBmb3IgdGhlIHByZXZpb3VzIHN0YXRlbWVudCBpZiBvbmx5IG9uZSBsaSBleGlzdHNcbnJldHVybiBlKEQucGFyZW50KCksaCk7aWYoXCJsaVwiPT09RSYmRC5wYXJlbnQoKVswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPT1GJiYxPT09RC5wYXJlbnQoKS5jaGlsZHJlbigpLmxlbmd0aClcbi8vIGNhdGNoIGZvciB0aGUgcHJldmlvdXMgc3RhdGVtZW50IGlmIG9ubHkgb25lIGxpIGV4aXN0c1xucmV0dXJuIGsoRC5wYXJlbnQoKSxGKTtpZihFLm1hdGNoKGkpJiYhRC5oYXNDbGFzcyhcInRhLWJpbmRcIikpe1xuLy8gaWYgaXQncyBvbmUgb2YgdGhvc2UgYmxvY2sgZWxlbWVudHMgd2UgaGF2ZSB0byBjaGFuZ2UgdGhlIGNvbnRlbnRzXG4vLyBpZiBpdCdzIGEgb2wvdWwgd2UgYXJlIGNoYW5naW5nIGZyb20gb25lIHRvIHRoZSBvdGhlclxuaWYoRy5sZW5ndGgmJkRbMF0uY2hpbGROb2Rlcy5sZW5ndGghPT1HLmxlbmd0aCYmMT09PUcubGVuZ3RoKVxuLy9jb25zb2xlLmxvZygnJiYmJiYmJiYmJiYmJiYmIC0tLS0tLS0tLSAmJiYmJiYmJiYmJiYmJiYmJywgc2VsZWN0ZWRFbGVtZW50c1swXSwgJHNlbGVjdGVkWzBdLmNoaWxkTm9kZXMpO1xucmV0dXJuIEQ9YW5ndWxhci5lbGVtZW50KEdbMF0pLGYoRC5wYXJlbnQoKSxELEYsRj09PUUsaCk7aWYoXCJvbFwiPT09RXx8XCJ1bFwiPT09RSlcbi8vIG5vdyBpZiB0aGlzIGlzIGEgc2V0IG9mIHNlbGVjdGVkIGVsZW1lbnRzLi4uIGJlaGF2ZSBkaWZlcmVudGx5XG5yZXR1cm4gayhELEYpO3ZhciBIPSExO3JldHVybiBhbmd1bGFyLmZvckVhY2goRC5jaGlsZHJlbigpLGZ1bmN0aW9uKGEpe2EudGFnTmFtZS5tYXRjaChpKSYmKEg9ITApfSksSD9sKEQuY2hpbGRyZW4oKSxELEYpOmwoW2FuZ3VsYXIuZWxlbWVudChcIjxkaXY+XCIreS5pbm5lckhUTUwrXCI8L2Rpdj5cIilbMF1dLEQsRil9aWYoRS5tYXRjaChpKSl7XG4vL2NvbnNvbGUubG9nKCdfbm9kZXMnLCBfbm9kZXMsIHRhZ05hbWUpO1xuaWYoXG4vLyBpZiB3ZSBnZXQgaGVyZSB0aGVuIHRoZSBjb250ZW50cyBvZiB0aGUgdGEtYmluZCBhcmUgc2VsZWN0ZWRcbnY9Yi5nZXRPbmx5U2VsZWN0ZWRFbGVtZW50cygpLDA9PT12Lmxlbmd0aClcbi8vIGhlcmUgaXMgaWYgdGhlcmUgaXMgb25seSB0ZXh0IGluIHRhLWJpbmQgaWUgPGRpdiB0YS1iaW5kPnRlc3QgY29udGVudDwvZGl2PlxudD1hbmd1bGFyLmVsZW1lbnQoXCI8XCIrRitcIj48bGk+XCIreS5pbm5lckhUTUwrXCI8L2xpPjwvXCIrRitcIj5cIiksRC5odG1sKFwiXCIpLEQuYXBwZW5kKHQpO2Vsc2V7aWYoMT09PXYubGVuZ3RoJiYoXCJvbFwiPT09dlswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwidWxcIj09PXZbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpKSlyZXR1cm4gdlswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1GP2UoYW5ndWxhci5lbGVtZW50KHZbMF0pLGgpOmsoYW5ndWxhci5lbGVtZW50KHZbMF0pLEYpO3U9XCJcIjt2YXIgST1bXTtmb3Iocz0wO3M8di5sZW5ndGg7cysrKS8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBjYXRjaCBmb3IgcmVhbC13b3JsZCBjYW4ndCBtYWtlIGl0IG9jY3VyIGluIHRlc3RpbmcgKi9cbmlmKDMhPT12W3NdLm5vZGVUeXBlKXt2YXIgSj1hbmd1bGFyLmVsZW1lbnQodltzXSk7LyogaXN0YW5idWwgaWdub3JlIGlmOiBicm93c2VyIGNoZWNrIG9ubHksIHBoYW50b21qcyBkb2Vzbid0IHJldHVybiBjaGlsZHJlbiBub2RlcyBidXQgY2hyb21lIGF0IGxlYXN0IGRvZXMgKi9cbmlmKFwibGlcIj09PXZbc10udGFnTmFtZS50b0xvd2VyQ2FzZSgpKWNvbnRpbnVlO3UrPVwib2xcIj09PXZbc10udGFnTmFtZS50b0xvd2VyQ2FzZSgpfHxcInVsXCI9PT12W3NdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9KWzBdLmlubmVySFRNTDpcInNwYW5cIiE9PXZbc10udGFnTmFtZS50b0xvd2VyQ2FzZSgpfHxcIm9sXCIhPT12W3NdLmNoaWxkTm9kZXNbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZcInVsXCIhPT12W3NdLmNoaWxkTm9kZXNbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpP1wiPFwiK2MoXCJsaVwiKStcIj5cIitKWzBdLmlubmVySFRNTCtcIjwvXCIrYyhcImxpXCIpK1wiPlwiOkpbMF0uY2hpbGROb2Rlc1swXS5pbm5lckhUTUwsSS51bnNoaWZ0KEopfVxuLy9jb25zb2xlLmxvZygnJG5vZGVzJywgJG5vZGVzKTtcbnQ9YW5ndWxhci5lbGVtZW50KFwiPFwiK0YrXCI+XCIrdStcIjwvXCIrRitcIj5cIiksSS5wb3AoKS5yZXBsYWNlV2l0aCh0KSxhbmd1bGFyLmZvckVhY2goSSxmdW5jdGlvbihhKXthLnJlbW92ZSgpfSl9cmV0dXJuIHZvaWQgYi5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQodFswXSl9fWVsc2V7aWYoXCJmb3JtYXRibG9ja1wiPT09by50b0xvd2VyQ2FzZSgpKXtcbi8vIGZpbmQgdGhlIGZpcnN0IGJsb2NrRWxlbWVudFxuZm9yKHg9cS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1s8Pl0vZ2ksXCJcIiksXCJkZWZhdWx0XCI9PT14LnRyaW0oKSYmKHg9aCxxPVwiPFwiK2grXCI+XCIpLHQ9XCJsaVwiPT09RT9ELnBhcmVudCgpOkQ7IXRbMF0udGFnTmFtZXx8IXRbMF0udGFnTmFtZS5tYXRjaChpKSYmIXQucGFyZW50KCkuYXR0cihcImNvbnRlbnRlZGl0YWJsZVwiKTspdD10LnBhcmVudCgpLC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5FPSh0WzBdLnRhZ05hbWV8fFwiXCIpLnRvTG93ZXJDYXNlKCk7aWYoRT09PXgpe1xuLy8gJHRhcmdldCBpcyB3cmFwIGVsZW1lbnRcbnY9dC5jaGlsZHJlbigpO3ZhciBLPSExO2ZvcihzPTA7czx2Lmxlbmd0aDtzKyspSz1LfHx2W3NdLnRhZ05hbWUubWF0Y2goaSk7Sz8odC5hZnRlcih2KSx3PXQubmV4dCgpLHQucmVtb3ZlKCksdD13KTooQS5hcHBlbmQodFswXS5jaGlsZE5vZGVzKSx0LmFmdGVyKEEpLHQucmVtb3ZlKCksdD1BKX1lbHNlIGlmKHQucGFyZW50KClbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpIT09eHx8dC5wYXJlbnQoKS5oYXNDbGFzcyhcInRhLWJpbmRcIikpaWYoRS5tYXRjaChqKSlcbi8vIHdyYXBwaW5nIGEgbGlzdCBlbGVtZW50XG50LndyYXAocSk7ZWxzZXtcbi8vIGZpbmQgdGhlIHBhcmVudCBibG9jayBlbGVtZW50IGlmIGFueSBvZiB0aGUgbm9kZXMgYXJlIGlubGluZSBvciB0ZXh0XG5mb3IoXG4vLyBkZWZhdWx0IHdyYXAgYmVoYXZpb3VyXG52PWIuZ2V0T25seVNlbGVjdGVkRWxlbWVudHMoKSwwPT09di5sZW5ndGgmJihcbi8vIG5vIG5vZGVzIGF0IGFsbC4uLi5cbnY9W3RbMF1dKSxzPTA7czx2Lmxlbmd0aDtzKyspaWYoMz09PXZbc10ubm9kZVR5cGV8fCF2W3NdLnRhZ05hbWUubWF0Y2goaSkpZm9yKDszPT09dltzXS5ub2RlVHlwZXx8IXZbc10udGFnTmFtZXx8IXZbc10udGFnTmFtZS5tYXRjaChpKTspdltzXT12W3NdLnBhcmVudE5vZGU7aWYoXG4vLyByZW1vdmUgYW55IGR1cGxpY2F0ZXMgZnJvbSB0aGUgYXJyYXkgb2YgX25vZGVzIVxudj12LmZpbHRlcihmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMuaW5kZXhPZihhKT09PWJ9KSxcbi8vIHJlbW92ZSBhbGwgd2hvbGUgdGFUZXh0RWxlbWVudCBpZiBpdCBpcyBoZXJlLi4uIHVubGVzcyBpdCBpcyB0aGUgb25seSBlbGVtZW50IVxudi5sZW5ndGg+MSYmKHY9di5maWx0ZXIoZnVuY3Rpb24oYSxiLGMpe3JldHVybiEoXCJkaXZcIj09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmL150YVRleHRFbGVtZW50Ly50ZXN0KGEuaWQpKX0pKSxhbmd1bGFyLmVsZW1lbnQodlswXSkuaGFzQ2xhc3MoXCJ0YS1iaW5kXCIpKXQ9YW5ndWxhci5lbGVtZW50KHEpLHRbMF0uaW5uZXJIVE1MPXZbMF0uaW5uZXJIVE1MLHZbMF0uaW5uZXJIVE1MPXRbMF0ub3V0ZXJIVE1MO2Vsc2UgaWYoXCJibG9ja3F1b3RlXCI9PT14KXtmb3IoXG4vLyBibG9ja3F1b3RlcyB3cmFwIG90aGVyIGJsb2NrIGVsZW1lbnRzXG51PVwiXCIscz0wO3M8di5sZW5ndGg7cysrKXUrPXZbc10ub3V0ZXJIVE1MO2Zvcih0PWFuZ3VsYXIuZWxlbWVudChxKSx0WzBdLmlubmVySFRNTD11LHZbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodFswXSx2WzBdKSxzPXYubGVuZ3RoLTE7cz49MDtzLS0pLyogaXN0YW5idWwgaWdub3JlIGVsc2U6ICAqL1xudltzXS5wYXJlbnROb2RlJiZ2W3NdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodltzXSl9ZWxzZS8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub3QgdGVzdGVkIHNpbmNlIGlkZW50aWNhbCB0byBibG9ja3F1b3RlICovXG5pZihcInByZVwiPT09eCYmYi5nZXRTdGF0ZVNoaWZ0S2V5KCkpe2Zvcihcbi8vY29uc29sZS5sb2coJ3NoaWZ0IHByZScsIF9ub2Rlcyk7XG4vLyBwcmUgd3JhcCBvdGhlciBibG9jayBlbGVtZW50c1xudT1cIlwiLHM9MDtzPHYubGVuZ3RoO3MrKyl1Kz12W3NdLm91dGVySFRNTDtmb3IodD1hbmd1bGFyLmVsZW1lbnQocSksdFswXS5pbm5lckhUTUw9dSx2WzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRbMF0sdlswXSkscz12Lmxlbmd0aC0xO3M+PTA7cy0tKS8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiAgKi9cbnZbc10ucGFyZW50Tm9kZSYmdltzXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHZbc10pfWVsc2Vcbi8vY29uc29sZS5sb2cob3B0aW9uc1RhZ05hbWUsIF9ub2Rlcyk7XG4vLyByZWd1bGFyIGJsb2NrIGVsZW1lbnRzIHJlcGxhY2Ugb3RoZXIgYmxvY2sgZWxlbWVudHNcbmZvcihzPTA7czx2Lmxlbmd0aDtzKyspe3ZhciBMPW0odltzXSxxKTt2W3NdPT09dFswXSYmKHQ9YW5ndWxhci5lbGVtZW50KEwpKX19ZWxzZXtcbi8vdW53cmFwIGxvZ2ljIGZvciBwYXJlbnRcbnZhciBNPXQucGFyZW50KCksTj1NLmNvbnRlbnRzKCk7Zm9yKHM9MDtzPE4ubGVuZ3RoO3MrKykvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogY2FuJ3QgdGVzdCAtIHNvbWUgd2llcmQgdGhpbmcgd2l0aCBob3cgcGhhbnRvbWpzIHdvcmtzICovXG5NLnBhcmVudCgpLmhhc0NsYXNzKFwidGEtYmluZFwiKSYmMz09PU5bc10ubm9kZVR5cGUmJihBPWFuZ3VsYXIuZWxlbWVudChcIjxcIitoK1wiPlwiKSxBWzBdLmlubmVySFRNTD1OW3NdLm91dGVySFRNTCxOW3NdPUFbMF0pLE0ucGFyZW50KClbMF0uaW5zZXJ0QmVmb3JlKE5bc10sTVswXSk7TS5yZW1vdmUoKX1cbi8vIGxvb3NlcyBmb2N1cyB3aGVuIHdlIGhhdmUgdGhlIHdob2xlIGNvbnRhaW5lciBzZWxlY3RlZCBhbmQgbm8gdGV4dCFcbi8vIHJlZm9jdXMgb24gdGhlIHNob3duIGRpc3BsYXkgZWxlbWVudCwgdGhpcyBmaXhlcyBhIGJ1ZyB3aGVuIHVzaW5nIGZpcmVmb3hcbnJldHVybiBiLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZCh0WzBdKSx2b2lkIHRbMF0uZm9jdXMoKX1pZihcImNyZWF0ZWxpbmtcIj09PW8udG9Mb3dlckNhc2UoKSl7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGZpcmVmb3ggc3BlY2lmaWMgZml4ICovXG5pZihcImFcIj09PUUpXG4vLyBhbHJlYWR5IGEgbGluayEhISB3ZSBhcmUganVzdCByZXBsYWNpbmcgaXQuLi5cbnJldHVybiB2b2lkKGIuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLmhyZWY9cSk7dmFyIE89JzxhIGhyZWY9XCInK3ErJ1wiIHRhcmdldD1cIicrKHIuYS50YXJnZXQ/ci5hLnRhcmdldDpcIlwiKSsnXCI+JyxQPVwiPC9hPlwiLFE9Yi5nZXRTZWxlY3Rpb24oKTtpZihRLmNvbGxhcHNlZClcbi8vY29uc29sZS5sb2coJ2NvbGxhcHNlZCcpO1xuLy8gaW5zZXJ0IHRleHQgYXQgc2VsZWN0aW9uLCB0aGVuIHNlbGVjdCB0aGVuIGp1c3QgbGV0IG5vcm1hbCBleGVjLWNvbW1hbmQgcnVuXG5iLmluc2VydEh0bWwoTytxK1Asbik7ZWxzZSBpZihhLmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkuY2FuU3Vycm91bmRDb250ZW50cygpKXt2YXIgUj1hbmd1bGFyLmVsZW1lbnQoTytQKVswXTthLmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkuc3Vycm91bmRDb250ZW50cyhSKX1yZXR1cm59aWYoXCJpbnNlcnRodG1sXCI9PT1vLnRvTG93ZXJDYXNlKCkpXG4vL2NvbnNvbGUubG9nKCdpbnNlcnRodG1sJyk7XG5yZXR1cm4gdm9pZCBiLmluc2VydEh0bWwocSxuKX10cnl7ZFswXS5leGVjQ29tbWFuZChvLHAscSl9Y2F0Y2goYSl7fX19fX1dKS5zZXJ2aWNlKFwidGFTZWxlY3Rpb25cIixbXCIkZG9jdW1lbnRcIixcInRhRE9NXCIsXCIkbG9nXCIsLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGFsbCBicm93c2VyIHNwZWNpZmljcyBhbmQgUGhhbnRvbUpTIGRvc2VuJ3Qgc2VlbSB0byBzdXBwb3J0IGhhbGYgb2YgaXQgKi9cbmZ1bmN0aW9uKGIsYyxkKXtcbi8vIG5lZWQgdG8gZGVyZWZlcmVuY2UgdGhlIGRvY3VtZW50IGVsc2UgdGhlIGNhbGxzIGRvbid0IHdvcmsgY29ycmVjdGx5XG52YXIgZSxmPWJbMF0sZz1mdW5jdGlvbihhLGIpey8qIGNoZWNrIGlmIHNlbGVjdGlvbiBpcyBhIEJSIGVsZW1lbnQgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGNvbnRhaW5lci4gSWYgc28sIGdldFxuICAgICAgICAqIHRoZSBwYXJlbnROb2RlIGluc3RlYWQuXG4gICAgICAgICogb2Zmc2V0IHNob3VsZCBiZSB6ZXJvIGluIHRoaXMgY2FzZS4gT3RoZXJ3aXNlLCByZXR1cm4gdGhlIG9yaWdpbmFsXG4gICAgICAgICogZWxlbWVudC5cbiAgICAgICAgKi9cbi8qIGNoZWNrIGlmIHNlbGVjdGlvbiBpcyBhIEJSIGVsZW1lbnQgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGNvbnRhaW5lci4gSWYgc28sIGdldFxuICAgICAgICAqIHRoZSBwYXJlbnROb2RlIGluc3RlYWQuXG4gICAgICAgICogb2Zmc2V0IHNob3VsZCBiZSB6ZXJvIGluIHRoaXMgY2FzZS4gT3RoZXJ3aXNlLCByZXR1cm4gdGhlIG9yaWdpbmFsXG4gICAgICAgICogZWxlbWVudC5cbiAgICAgICAgKi9cbnJldHVybiBhLnRhZ05hbWUmJmEudGFnTmFtZS5tYXRjaCgvXmJyJC9pKSYmMD09PWImJiFhLnByZXZpb3VzU2libGluZz97ZWxlbWVudDphLnBhcmVudE5vZGUsb2Zmc2V0OjB9OntlbGVtZW50OmEsb2Zmc2V0OmJ9fSxoPXtnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgYjt0cnl7XG4vLyBjYXRjaCBhbnkgZXJyb3JzIGZyb20gcmFuZ3kgYW5kIGlnbm9yZSB0aGUgaXNzdWVcbmI9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApfWNhdGNoKGEpe1xuLy9jb25zb2xlLmluZm8oZSk7XG5yZXR1cm59dmFyIGM9Yi5jb21tb25BbmNlc3RvckNvbnRhaW5lcixkPXtzdGFydDpnKGIuc3RhcnRDb250YWluZXIsYi5zdGFydE9mZnNldCksZW5kOmcoYi5lbmRDb250YWluZXIsYi5lbmRPZmZzZXQpLGNvbGxhcHNlZDpiLmNvbGxhcHNlZH07XG4vL2NvbnNvbGUubG9nKCcqKipzZWxlY3Rpb24gY29udGFpbmVyOicsIHNlbGVjdGlvbi5jb250YWluZXIubm9kZU5hbWUsIHNlbGVjdGlvbi5zdGFydC5vZmZzZXQsIHNlbGVjdGlvbi5jb250YWluZXIpO1xuLy8gVGhpcyBoYXMgcHJvYmxlbXMgdW5kZXIgRmlyZWZveC5cbi8vIE9uIEZpcmVmb3ggd2l0aFxuLy8gPHA+VHJ5IG1lICE8L3A+XG4vLyA8dWw+XG4vLyA8bGk+bGluZSAxPC9saT5cbi8vIDxsaT5saW5lIDI8L2xpPlxuLy8gPC91bD5cbi8vIDxwPmxpbmUgMzwvcD5cbi8vIDx1bD5cbi8vIDxsaT5saW5lIDQ8L2xpPlxuLy8gPGxpPmxpbmUgNTwvbGk+XG4vLyA8L3VsPlxuLy8gPHA+SGVsbG8gdGV4dEFuZ3VsYXI8L3A+XG4vLyBXSVRIIHRoZSBjdXJzb3IgYWZ0ZXIgdGhlIDMgb24gbGluZSAzLCBpdCBnZXRzIHRoZSBjb21tb25BbmNlc3RvckNvbnRhaW5lciBhczpcbi8vIDxUZXh0Tm9kZSB0ZXh0Q29udGVudD0nbGluZSAzJz5cbi8vIEFORCBDaHJvbWUgZ2V0cyB0aGUgY29tbW9uQW5jZXN0b3JDb250YWluZXIgYXM6XG4vLyA8cD5saW5lIDM8L3A+XG4vL1xuLy8gQ2hlY2sgaWYgdGhlIGNvbnRhaW5lciBpcyBhIHRleHQgbm9kZSBhbmQgcmV0dXJuIGl0cyBwYXJlbnQgaWYgc29cbi8vIHVubGVzcyB0aGlzIGlzIHRoZSB3aG9sZSB0YVRleHRFbGVtZW50LiAgSWYgc28gd2UgcmV0dXJuIHRoZSB0ZXh0Tm9kZVxuLy9jb25zb2xlLmxvZygnKioqKioqKioqdGFUZXh0RWxlbWVudCoqKioqKioqKioqKicpO1xuLy9jb25zb2xlLmxvZygnY29tbW9uQW5jZXN0b3JDb250YWluZXI6JywgY29udGFpbmVyKTtcbnJldHVybiAzPT09Yy5ub2RlVHlwZSYmKFwiZGl2XCI9PT1jLnBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmL150YVRleHRFbGVtZW50Ly50ZXN0KGMucGFyZW50Tm9kZS5pZCl8fChjPWMucGFyZW50Tm9kZSkpLFwiZGl2XCI9PT1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJi9edGFUZXh0RWxlbWVudC8udGVzdChjLmlkKT8oZC5zdGFydC5lbGVtZW50PWMuY2hpbGROb2Rlc1tkLnN0YXJ0Lm9mZnNldF0sZC5lbmQuZWxlbWVudD1jLmNoaWxkTm9kZXNbZC5lbmQub2Zmc2V0XSxkLmNvbnRhaW5lcj1jKTpjLnBhcmVudE5vZGU9PT1kLnN0YXJ0LmVsZW1lbnR8fGMucGFyZW50Tm9kZT09PWQuZW5kLmVsZW1lbnQ/ZC5jb250YWluZXI9Yy5wYXJlbnROb2RlOmQuY29udGFpbmVyPWMsZH0sXG4vLyBpZiB3ZSB1c2UgdGhlIExFRlRfQVJST1cgYW5kIHdlIGFyZSBhdCB0aGUgc3BlY2lhbCBwbGFjZSA8c3Bhbj4mIzY1Mjc5Ozwvc3Bhbj4gd2UgbW92ZSB0aGUgY3Vyc29yIG92ZXIgYnkgb25lLi4uXG4vLyBDaHJvbWUgYW5kIEZpcmVmb3ggYmVoYXZlIGRpZmZlcmVudGx5IHNvIHNvIGZpeCB0aGlzIGZvciBGaXJlZm94IGhlcmUuICBObyBhZGp1c3RtZW50IG5lZWRlZCBmb3IgQ2hyb21lLlxudXBkYXRlTGVmdEFycm93S2V5OmZ1bmN0aW9uKGIpe3ZhciBjPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKTtpZihjJiZjLmNvbGxhcHNlZCl7dmFyIGQ9aC5nZXRGbGF0dGVuZWREb20oYyk7aWYoIWQuZmluZEluZGV4KXJldHVybjt2YXIgZSxmLGc9Yy5zdGFydENvbnRhaW5lcixpPWQuZmluZEluZGV4KGZ1bmN0aW9uKGEsYil7aWYoYS5ub2RlPT09ZylyZXR1cm4hMDt2YXIgYz1hLnBhcmVudHMuaW5kZXhPZihnKTtyZXR1cm4gYyE9PS0xfSk7XG4vL2NvbnNvbGUubG9nKCd1cGRhdGVMZWZ0QXJyb3dLZXknLCByYW5nZS5zdGFydE9mZnNldCwgcmFuZ2Uuc3RhcnRDb250YWluZXIudGV4dENvbnRlbnQpO1xuLy8gdGhpcyBmaXJzdCBzZWN0aW9uIGhhbmRsZXMgdGhlIGNhc2UgZm9yIENocm9tZSBicm93c2VyXG4vLyBpZiB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIHRoZSBuZXh0Tm9kZSBpcyBhIFxcdWZlZmYgd2Uga25vdyB0aGF0IHdlIGFyZSBqdXN0IGJlZm9yZSB0aGUgc3BlY2lhbCBzcGFuLi4uXG4vLyBhbmQgc28gd2UgbW9zdCBsZWZ0IGJ5IG9uZSBjaGFyYWN0ZXJcbmlmKFxuLy9jb25zb2xlLmxvZygnaW5kZXhTdGFydENvbnRhaW5lcicsIGluZGV4U3RhcnRDb250YWluZXIsIF9ub2Rlcy5sZW5ndGgsICdzdGFydENvbnRhaW5lcjonLCBfbm9kZSwgX25vZGUgPT09IF9ub2Rlc1tpbmRleFN0YXJ0Q29udGFpbmVyXS5ub2RlKTtcbmQuZm9yRWFjaChmdW5jdGlvbihhLGIpe1xuLy9jb25zb2xlLmxvZyhpLCBuLm5vZGUpO1xuYS5wYXJlbnRzLmZvckVhY2goZnVuY3Rpb24oYSxiKXt9KX0pLGkrMTxkLmxlbmd0aCYmKFxuLy8gd2UgbmVlZCB0aGUgbm9kZSBqdXN0IGFmdGVyIHRoaXMgc3RhcnRDb250YWluZXJcbi8vIHNvIHdlIGNhbiBjaGVjayBhbmQgc2VlIGl0IHRoaXMgaXMgYSBzcGVjaWFsIHBsYWNlXG5mPWRbaSsxXS5ub2RlKSxmJiZmLnRleHRDb250ZW50JiYoZT0vXlxcdWZlZmYoW15cXHVmZWZmXSopJC8uZXhlYyhmLnRleHRDb250ZW50KSkpXG4vLyB3ZSBhcmUgYmVmb3JlIHRoZSBzcGVjaWFsIG5vZGUgd2l0aCBiZWdpbnMgd2l0aCBhIFxcdWZlZmYgY2hhcmFjdGVyXG4vL2NvbnNvbGUubG9nKCdMRUZUIC4uLmZvdW5kIGl0Li4uJywgJ3N0YXJ0T2Zmc2V0OicsIHJhbmdlLnN0YXJ0T2Zmc2V0LCBtWzBdLmxlbmd0aCwgbVsxXS5sZW5ndGgpO1xuLy8gbm8gbmVlZCB0byBjaGFuZ2UgYW55dGhpbmcgaW4gdGhpcyBjYXNlXG5yZXR1cm47dmFyIGo7aWYoaT4wJiYoXG4vLyB3ZSBuZWVkIHRoZSBub2RlIGp1c3QgYWZ0ZXIgdGhpcyBzdGFydENvbnRhaW5lclxuLy8gc28gd2UgY2FuIGNoZWNrIGFuZCBzZWUgaXQgdGhpcyBpcyBhIHNwZWNpYWwgcGxhY2Vcbmo9ZFtpLTFdLm5vZGUpLDA9PT1jLnN0YXJ0T2Zmc2V0JiZqJiYoXG4vL2NvbnNvbGUubG9nKG5leHROb2RlVG9MZWZ0LCByYW5nZS5zdGFydE9mZnNldCwgbmV4dE5vZGVUb0xlZnQudGV4dENvbnRlbnQpO1xuZT0vXlxcdWZlZmYoW15cXHVmZWZmXSopJC8uZXhlYyhqLnRleHRDb250ZW50KSkpXG4vL2NvbnNvbGUubG9nKCdMRUZUICYmJiYmJiYmJiYmJiYmJiYmJiYuLi5mb3VuZCBpdC4uLiYmJiYmJiYmJiYmJywgbmV4dE5vZGVUb0xlZnQsIG1bMF0ubGVuZ3RoLCBtWzFdLmxlbmd0aCk7XG4vLyBtb3ZlIG92ZXIgdG8gdGhlIGxlZnQgbXkgb25lIC0tIEZpcmVmb3ggdHJpZ2dlcnMgdGhpcyBjYXNlXG5yZXR1cm4gdm9pZCBoLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZChqKX19LFxuLy8gaWYgd2UgdXNlIHRoZSBSSUdIVF9BUlJPVyBhbmQgd2UgYXJlIGF0IHRoZSBzcGVjaWFsIHBsYWNlIDxzcGFuPiYjNjUyNzk7PC9zcGFuPiB3ZSBtb3ZlIHRoZSBjdXJzb3Igb3ZlciBieSBvbmUuLi5cbnVwZGF0ZVJpZ2h0QXJyb3dLZXk6ZnVuY3Rpb24oYSl7fSxnZXRGbGF0dGVuZWREb206ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtpZihhLm5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEubm9kZS5jaGlsZE5vZGVzKTsvLyBjb252ZXJ0cyBOb2RlTGlzdCB0byBBcnJheVxuYy5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPWEucGFyZW50cy5zbGljZSgpO2Quc2xpY2UoLTEpWzBdIT09YS5ub2RlJiZkLnB1c2goYS5ub2RlKSxiKHtwYXJlbnRzOmQsbm9kZTpjfSl9KX1lbHNlIGQucHVzaCh7cGFyZW50czphLnBhcmVudHMsbm9kZTphLm5vZGV9KX12YXIgYz1hLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLnBhcmVudE5vZGU7aWYoIWMpcmV0dXJuIGEuY29tbW9uQW5jZXN0b3JDb250YWluZXIuY2hpbGROb2Rlczt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLmNoaWxkTm9kZXMpLGU9ZC5pbmRleE9mKGEuc3RhcnRDb250YWluZXIpO1xuLy8gbWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSBhIGJpZyBlbm91Z2ggc2V0IG9mIG5vZGVzXG4vLyBub3cgd2FsayB0aGUgcGFyZW50XG5yZXR1cm4gZSsxPGQubGVuZ3RoJiZlPjB8fGMucGFyZW50Tm9kZSYmKGM9Yy5wYXJlbnROb2RlKSxkPVtdLGIoe3BhcmVudHM6W2NdLG5vZGU6Y30pLGR9LGdldE9ubHlTZWxlY3RlZEVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApLGM9Yi5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbi8vIGdldCB0aGUgbm9kZXMgaW4gdGhlIHJhbmdlIHRoYXQgYXJlIEVMRU1FTlRfTk9ERSBhbmQgYXJlIGNoaWxkcmVuIG9mIHRoZSBjb250YWluZXJcbi8vIGluIHRoaXMgcmFuZ2UuLi5cbi8vIE5vZGUuVEVYVF9OT0RFID09PSAzXG4vLyBOb2RlLkVMRU1FTlRfTk9ERSA9PT0gMVxuLy8gTm9kZS5DT01NRU5UX05PREUgPT09IDhcbi8vIENoZWNrIGlmIHRoZSBjb250YWluZXIgaXMgYSB0ZXh0IG5vZGUgYW5kIHJldHVybiBpdHMgcGFyZW50IGlmIHNvXG5yZXR1cm4gYz0zPT09Yy5ub2RlVHlwZT9jLnBhcmVudE5vZGU6YyxiLmdldE5vZGVzKFsxXSxmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlPT09Y30pfSxcbi8vIHRoaXMgaW5jbHVkZXMgdGhlIGNvbnRhaW5lciBlbGVtZW50IGlmIGFsbCBjaGlsZHJlbiBhcmUgc2VsZWN0ZWRcbmdldEFsbFNlbGVjdGVkRWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCksYz1iLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuLy8gTm9kZS5URVhUX05PREUgPT09IDNcbi8vIE5vZGUuRUxFTUVOVF9OT0RFID09PSAxXG4vLyBOb2RlLkNPTU1FTlRfTk9ERSA9PT0gOFxuLy8gQ2hlY2sgaWYgdGhlIGNvbnRhaW5lciBpcyBhIHRleHQgbm9kZSBhbmQgcmV0dXJuIGl0cyBwYXJlbnQgaWYgc29cbmM9Mz09PWMubm9kZVR5cGU/Yy5wYXJlbnROb2RlOmM7XG4vLyBnZXQgdGhlIG5vZGVzIGluIHRoZSByYW5nZSB0aGF0IGFyZSBFTEVNRU5UX05PREUgYW5kIGFyZSBjaGlsZHJlbiBvZiB0aGUgY29udGFpbmVyXG4vLyBpbiB0aGlzIHJhbmdlLi4uXG52YXIgZD1iLmdldE5vZGVzKFsxXSxmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlPT09Y30pLGU9Yy5pbm5lckhUTUw7XG4vL2NvbnNvbGUubG9nKGlubmVySHRtbCk7XG4vL2NvbnNvbGUubG9nKHJhbmdlLnRvSHRtbCgpKTtcbi8vY29uc29sZS5sb2coaW5uZXJIdG1sID09PSByYW5nZS50b0h0bWwoKSk7XG5pZihcbi8vIHJlbW92ZSB0aGUganVuayB0aGF0IHJhbmd5IGhhcyBwdXQgZG93blxuZT1lLnJlcGxhY2UoLzxzcGFuIGlkPS5zZWxlY3Rpb25Cb3VuZGFyeVtePl0rPlxcdWZlZmY/PFxcL3NwYW4+L2dpLFwiXCIpLGU9PT1iLnRvSHRtbCgpJiYoXCJkaXZcIiE9PWMubm9kZU5hbWUudG9Mb3dlckNhc2UoKXx8IS9edGFUZXh0RWxlbWVudC8udGVzdChjLmlkKSkpe2Zvcih2YXIgZj1bXSxnPWQubGVuZ3RoO2ctLTtmLnVuc2hpZnQoZFtnXSkpO2Q9ZixkLnB1c2goYyl9cmV0dXJuIGR9LFxuLy8gU29tZSBiYXNpYyBzZWxlY3Rpb24gZnVuY3Rpb25zXG5nZXRTZWxlY3Rpb25FbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9aC5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gYT9oLmdldFNlbGVjdGlvbigpLmNvbnRhaW5lcjp2b2lkIDB9LHNldFNlbGVjdGlvbjpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZj1hLmNyZWF0ZVJhbmdlKCk7Zi5zZXRTdGFydChiLGQpLGYuc2V0RW5kKGMsZSksYS5nZXRTZWxlY3Rpb24oKS5zZXRTaW5nbGVSYW5nZShmKX0sc2V0U2VsZWN0aW9uQmVmb3JlRWxlbWVudDpmdW5jdGlvbihiKXt2YXIgYz1hLmNyZWF0ZVJhbmdlKCk7Yy5zZWxlY3ROb2RlKGIpLGMuY29sbGFwc2UoITApLGEuZ2V0U2VsZWN0aW9uKCkuc2V0U2luZ2xlUmFuZ2UoYyl9LHNldFNlbGVjdGlvbkFmdGVyRWxlbWVudDpmdW5jdGlvbihiKXt2YXIgYz1hLmNyZWF0ZVJhbmdlKCk7Yy5zZWxlY3ROb2RlKGIpLGMuY29sbGFwc2UoITEpLGEuZ2V0U2VsZWN0aW9uKCkuc2V0U2luZ2xlUmFuZ2UoYyl9LHNldFNlbGVjdGlvblRvRWxlbWVudFN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWEuY3JlYXRlUmFuZ2UoKTtjLnNlbGVjdE5vZGVDb250ZW50cyhiKSxjLmNvbGxhcHNlKCEwKSxhLmdldFNlbGVjdGlvbigpLnNldFNpbmdsZVJhbmdlKGMpfSxzZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5jcmVhdGVSYW5nZSgpO2Muc2VsZWN0Tm9kZUNvbnRlbnRzKGIpLGMuY29sbGFwc2UoITEpLGIuY2hpbGROb2RlcyYmYi5jaGlsZE5vZGVzW2IuY2hpbGROb2Rlcy5sZW5ndGgtMV0mJlwiYnJcIj09PWIuY2hpbGROb2Rlc1tiLmNoaWxkTm9kZXMubGVuZ3RoLTFdLm5vZGVOYW1lJiYoYy5zdGFydE9mZnNldD1jLmVuZE9mZnNldD1jLnN0YXJ0T2Zmc2V0LTEpLGEuZ2V0U2VsZWN0aW9uKCkuc2V0U2luZ2xlUmFuZ2UoYyl9LHNldFN0YXRlU2hpZnRLZXk6ZnVuY3Rpb24oYSl7ZT1hfSxnZXRTdGF0ZVNoaWZ0S2V5OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LFxuLy8gZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzY2OTA3NTIvaW5zZXJ0LWh0bWwtYXQtY2FyZXQtaW4tYS1jb250ZW50ZWRpdGFibGUtZGl2XG4vLyB0b3BOb2RlIGlzIHRoZSBjb250ZW50ZWRpdGFibGUgbm9ybWFsbHksIGFsbCBtYW5pcHVsYXRpb24gTVVTVCBiZSBpbnNpZGUgdGhpcy5cbmluc2VydEh0bWw6ZnVuY3Rpb24oYixkKXt2YXIgZSxnLGosbCxtLG4sbyxwPWFuZ3VsYXIuZWxlbWVudChcIjxkaXY+XCIrYitcIjwvZGl2PlwiKSxxPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKSxyPWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHM9cFswXS5jaGlsZE5vZGVzLHQ9ITA7aWYocy5sZW5ndGg+MCl7Zm9yKFxuLy8gTk9URSEhIFdlIG5lZWQgdG8gZG8gdGhlIGZvbGxvd2luZzpcbi8vIGNoZWNrIGZvciBibG9ja2VsZW1lbnRzIC0gaWYgdGhleSBleGlzdCB0aGVuIHdlIGhhdmUgdG8gc3BsaXQgdGhlIGN1cnJlbnQgZWxlbWVudCBpbiBoYWxmIChhbmQgYWxsIG90aGVycyB1cCB0byB0aGUgY2xvc2VzdCBibG9jayBlbGVtZW50KSBhbmQgaW5zZXJ0IGFsbCBjaGlsZHJlbiBpbi1iZXR3ZWVuLlxuLy8gSWYgdGhlcmUgYXJlIG5vIGJsb2NrIGVsZW1lbnRzLCBvciB0aGVyZSBpcyBhIG1peHR1cmUgd2UgbmVlZCB0byBjcmVhdGUgdGV4dE5vZGVzIGZvciB0aGUgbm9uIHdyYXBwZWQgdGV4dCAod2UgZG9uJ3Qgd2FudCB0aGVtIHNwYW5zIG1lc3NpbmcgdXAgdGhlIHBpY3R1cmUpLlxubD1bXSxqPTA7ajxzLmxlbmd0aDtqKyspe3ZhciB1PXNbal07XCJwXCI9PT11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJlwiXCI9PT11LmlubmVySFRNTC50cmltKCl8fCgvKioqKioqKioqKioqKioqKlxuICAgICAgICAgICAgICAgICAgICAgKiAgYWxsb3cgYW55IHRleHQgdG8gYmUgaW5zZXJ0ZWQuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYoKCAgIF9jbm9kZS5ub2RlVHlwZSA9PT0gMyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nub2RlLm5vZGVWYWx1ZSA9PT0gJ1xcdWZlZmYnWzBdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBfY25vZGUubm9kZVZhbHVlLnRyaW0oKSA9PT0gJycpIC8vIGVtcHR5IG5vLXNwYWNlIHNwYWNlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gY2hhbmdlIHRvIGlzSW5saW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKF9jbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihfY25vZGUubm9kZVR5cGUgPT09IDMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICBfY25vZGUubm9kZVZhbHVlLnRyaW0oKSA9PT0gJycpIHsgLy8gZW1wdHkgdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKi9cbnQ9dCYmIWkudGVzdCh1Lm5vZGVOYW1lKSxsLnB1c2godSkpfWZvcih2YXIgdj0wO3Y8bC5sZW5ndGg7disrKW49ci5hcHBlbmRDaGlsZChsW3ZdKTshdCYmcS5jb2xsYXBzZWQmJi9eKHw8YnIofFxcLyk+KSQvaS50ZXN0KHEuc3RhcnRDb250YWluZXIuaW5uZXJIVE1MKSYmcS5zZWxlY3ROb2RlKHEuc3RhcnRDb250YWluZXIpfWVsc2UgdD0hMCxcbi8vIHBhc3RlIHRleHQgb2Ygc29tZSBzb3J0XG5uPXI9Zi5jcmVhdGVUZXh0Tm9kZShiKTtcbi8vIE90aGVyIEVkZ2UgY2FzZSAtIHNlbGVjdGVkIGRhdGEgc3BhbnMgbXVsdGlwbGUgYmxvY2tzLlxuaWYodClxLmRlbGV0ZUNvbnRlbnRzKCk7ZWxzZS8vIG5vdCBpbmxpbmUgaW5zZXJ0XG5pZihxLmNvbGxhcHNlZCYmcS5zdGFydENvbnRhaW5lciE9PWQpaWYocS5zdGFydENvbnRhaW5lci5pbm5lckhUTUwmJnEuc3RhcnRDb250YWluZXIuaW5uZXJIVE1MLm1hdGNoKC9ePFtePl0qPiQvaSkpXG4vLyB0aGlzIGxvZyBpcyB0byBjYXRjaCB3aGVuIGlubmVySFRNTCBpcyBzb21ldGhpbmcgbGlrZSBgPGltZyAuLi4+YFxuZT1xLnN0YXJ0Q29udGFpbmVyLDE9PT1xLnN0YXJ0T2Zmc2V0Pyhcbi8vIGJlZm9yZSBzaW5nbGUgdGFnXG5xLnNldFN0YXJ0QWZ0ZXIoZSkscS5zZXRFbmRBZnRlcihlKSk6KFxuLy8gYWZ0ZXIgc2luZ2xlIHRhZ1xucS5zZXRTdGFydEJlZm9yZShlKSxxLnNldEVuZEJlZm9yZShlKSk7ZWxzZXtcbi8vIHNwbGl0IGVsZW1lbnQgaW50byAyIGFuZCBpbnNlcnQgYmxvY2sgZWxlbWVudCBpbiBtaWRkbGVcbmlmKDM9PT1xLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlJiZxLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUhPT1kKVxuLy8gRXNjYXBlIG91dCBvZiB0aGUgaW5saW5lIHRhZ3MgbGlrZSBiXG5mb3IoLy8gaWYgdGV4dCBub2RlXG5lPXEuc3RhcnRDb250YWluZXIucGFyZW50Tm9kZSxnPWUuY2xvbmVOb2RlKCksXG4vLyBzcGxpdCB0aGUgbm9kZXMgaW50byB0d28gbGlzdHMgLSBiZWZvcmUgYW5kIGFmdGVyLCBzcGxpdHRpbmcgdGhlIG5vZGUgd2l0aCB0aGUgc2VsZWN0aW9uIGludG8gMiB0ZXh0IG5vZGVzLlxuYy5zcGxpdE5vZGVzKGUuY2hpbGROb2RlcyxlLGcscS5zdGFydENvbnRhaW5lcixxLnN0YXJ0T2Zmc2V0KTshay50ZXN0KGUubm9kZU5hbWUpOyl7YW5ndWxhci5lbGVtZW50KGUpLmFmdGVyKGcpLGU9ZS5wYXJlbnROb2RlO3ZhciB3PWc7Zz1lLmNsb25lTm9kZSgpLFxuLy8gc3BsaXQgdGhlIG5vZGVzIGludG8gdHdvIGxpc3RzIC0gYmVmb3JlIGFuZCBhZnRlciwgc3BsaXR0aW5nIHRoZSBub2RlIHdpdGggdGhlIHNlbGVjdGlvbiBpbnRvIDIgdGV4dCBub2Rlcy5cbmMuc3BsaXROb2RlcyhlLmNoaWxkTm9kZXMsZSxnLHcpfWVsc2UgZT1xLnN0YXJ0Q29udGFpbmVyLGc9ZS5jbG9uZU5vZGUoKSxjLnNwbGl0Tm9kZXMoZS5jaGlsZE5vZGVzLGUsZyx2b2lkIDAsdm9pZCAwLHEuc3RhcnRPZmZzZXQpO2lmKGFuZ3VsYXIuZWxlbWVudChlKS5hZnRlcihnKSxcbi8vIHB1dCBjdXJzb3IgdG8gZW5kIG9mIGluc2VydGVkIGNvbnRlbnRcbi8vY29uc29sZS5sb2coJ3NldFN0YXJ0QWZ0ZXInLCBwYXJlbnQpO1xucS5zZXRTdGFydEFmdGVyKGUpLHEuc2V0RW5kQWZ0ZXIoZSksL14ofDxicih8XFwvKT4pJC9pLnRlc3QoZS5pbm5lckhUTUwudHJpbSgpKSYmKHEuc2V0U3RhcnRCZWZvcmUoZSkscS5zZXRFbmRCZWZvcmUoZSksYW5ndWxhci5lbGVtZW50KGUpLnJlbW92ZSgpKSwvXih8PGJyKHxcXC8pPikkL2kudGVzdChnLmlubmVySFRNTC50cmltKCkpJiZhbmd1bGFyLmVsZW1lbnQoZykucmVtb3ZlKCksXCJsaVwiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtmb3Iobz1mLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtPTA7bTxyLmNoaWxkTm9kZXMubGVuZ3RoO20rKylwPWFuZ3VsYXIuZWxlbWVudChcIjxsaT5cIiksYy50cmFuc2ZlckNoaWxkTm9kZXMoci5jaGlsZE5vZGVzW21dLHBbMF0pLGMudHJhbnNmZXJOb2RlQXR0cmlidXRlcyhyLmNoaWxkTm9kZXNbbV0scFswXSksby5hcHBlbmRDaGlsZChwWzBdKTtyPW8sbiYmKG49ci5jaGlsZE5vZGVzW3IuY2hpbGROb2Rlcy5sZW5ndGgtMV0sbj1uLmNoaWxkTm9kZXNbbi5jaGlsZE5vZGVzLmxlbmd0aC0xXSl9fWVsc2UgcS5kZWxldGVDb250ZW50cygpO3EuaW5zZXJ0Tm9kZShyKSxuJiZoLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZChuKX19O3JldHVybiBofV0pLnNlcnZpY2UoXCJ0YURPTVwiLGZ1bmN0aW9uKCl7dmFyIGE9e1xuLy8gcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBhcnJheSBvZiBhbmd1bGFyLmVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcGFzc2VkIGF0dHJpYnV0ZSBzZXQgb24gdGhlbVxuZ2V0QnlBdHRyaWJ1dGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1bXSxlPWIuY2hpbGRyZW4oKTtyZXR1cm4gZS5sZW5ndGgmJmFuZ3VsYXIuZm9yRWFjaChlLGZ1bmN0aW9uKGIpe2Q9ZC5jb25jYXQoYS5nZXRCeUF0dHJpYnV0ZShhbmd1bGFyLmVsZW1lbnQoYiksYykpfSksdm9pZCAwIT09Yi5hdHRyKGMpJiZkLnB1c2goYiksZH0sdHJhbnNmZXJDaGlsZE5vZGVzOmZ1bmN0aW9uKGEsYil7Zm9yKFxuLy8gY2xlYXIgb3V0IHRhcmdldFxuYi5pbm5lckhUTUw9XCJcIjthLmNoaWxkTm9kZXMubGVuZ3RoPjA7KWIuYXBwZW5kQ2hpbGQoYS5jaGlsZE5vZGVzWzBdKTtyZXR1cm4gYn0sc3BsaXROb2RlczpmdW5jdGlvbihiLGMsZCxlLGYsZyl7aWYoIWUmJmlzTmFOKGcpKXRocm93IG5ldyBFcnJvcihcInRhRE9NLnNwbGl0Tm9kZXMgcmVxdWlyZXMgYSBzcGxpdE5vZGUgb3Igc3BsaXRJbmRleFwiKTtmb3IodmFyIGg9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGo9MDtiLmxlbmd0aD4wJiYoaXNOYU4oZyl8fGchPT1qKSYmYlswXSE9PWU7KWguYXBwZW5kQ2hpbGQoYlswXSksLy8gdGhpcyByZW1vdmVzIGZyb20gdGhlIG5vZGVzIGFycmF5IChpZiBwcm9wZXIgY2hpbGROb2RlcyBvYmplY3QuXG5qKys7Zm9yKCFpc05hTihmKSYmZj49MCYmYlswXSYmKGguYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYlswXS5ub2RlVmFsdWUuc3Vic3RyaW5nKDAsZikpKSxiWzBdLm5vZGVWYWx1ZT1iWzBdLm5vZGVWYWx1ZS5zdWJzdHJpbmcoZikpO2IubGVuZ3RoPjA7KWkuYXBwZW5kQ2hpbGQoYlswXSk7YS50cmFuc2ZlckNoaWxkTm9kZXMoaCxjKSxhLnRyYW5zZmVyQ2hpbGROb2RlcyhpLGQpfSx0cmFuc2Zlck5vZGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmF0dHJpYnV0ZXMubGVuZ3RoO2MrKyliLnNldEF0dHJpYnV0ZShhLmF0dHJpYnV0ZXNbY10ubmFtZSxhLmF0dHJpYnV0ZXNbY10udmFsdWUpO3JldHVybiBifX07cmV0dXJuIGF9KSxhbmd1bGFyLm1vZHVsZShcInRleHRBbmd1bGFyLnZhbGlkYXRvcnNcIixbXSkuZGlyZWN0aXZlKFwidGFNYXhUZXh0XCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXBhcnNlSW50KGEuJGV2YWwoYy50YU1heFRleHQpKTtpZihpc05hTihlKSl0aHJvd1wiTWF4IHRleHQgbXVzdCBiZSBhbiBpbnRlZ2VyXCI7Yy4kb2JzZXJ2ZShcInRhTWF4VGV4dFwiLGZ1bmN0aW9uKGEpe2lmKGU9cGFyc2VJbnQoYSksaXNOYU4oZSkpdGhyb3dcIk1heCB0ZXh0IG11c3QgYmUgYW4gaW50ZWdlclwiO2QuJGRpcnR5JiZkLiR2YWxpZGF0ZSgpfSksZC4kdmFsaWRhdG9ycy50YU1heFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9YW5ndWxhci5lbGVtZW50KFwiPGRpdi8+XCIpO3JldHVybiBiLmh0bWwoYSksYi50ZXh0KCkubGVuZ3RoPD1lfX19fSkuZGlyZWN0aXZlKFwidGFNaW5UZXh0XCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXBhcnNlSW50KGEuJGV2YWwoYy50YU1pblRleHQpKTtpZihpc05hTihlKSl0aHJvd1wiTWluIHRleHQgbXVzdCBiZSBhbiBpbnRlZ2VyXCI7Yy4kb2JzZXJ2ZShcInRhTWluVGV4dFwiLGZ1bmN0aW9uKGEpe2lmKGU9cGFyc2VJbnQoYSksaXNOYU4oZSkpdGhyb3dcIk1pbiB0ZXh0IG11c3QgYmUgYW4gaW50ZWdlclwiO2QuJGRpcnR5JiZkLiR2YWxpZGF0ZSgpfSksZC4kdmFsaWRhdG9ycy50YU1pblRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9YW5ndWxhci5lbGVtZW50KFwiPGRpdi8+XCIpO3JldHVybiBiLmh0bWwoYSksIWIudGV4dCgpLmxlbmd0aHx8Yi50ZXh0KCkubGVuZ3RoPj1lfX19fSksYW5ndWxhci5tb2R1bGUoXCJ0ZXh0QW5ndWxhci50YUJpbmRcIixbXCJ0ZXh0QW5ndWxhci5mYWN0b3JpZXNcIixcInRleHRBbmd1bGFyLkRPTVwiXSkuc2VydmljZShcIl90YUJsYW5rVGVzdFwiLFtmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtcbi8vIHdlIHJhZGljYWxseSByZXN0cnVjdHVyZSB0aGlzIGNvZGUuXG4vLyB3aGF0IHdhcyBoZXJlIGJlZm9yZSB3YXMgaW5jcmVkaWJseSBmcmFnaWxlLlxuLy8gV2hhdCB3ZSBkbyBub3cgaXMgdG8gY2hlY2sgdGhhdCB0aGUgaHRtbCBpcyBub24tYmxhbmsgdmlzdWFsbHlcbi8vIHdoaWNoIHdlIGNoZWNrIGJ5IGxvb2tpbmcgYXQgaHRtbC0+dGV4dFxuaWYoIWEpcmV0dXJuITA7XG4vLyBmaW5kIGZpcnN0IG5vbi10YWcgbWF0Y2ggLSBpZSBzdGFydCBvZiBzdHJpbmcgb3IgYWZ0ZXIgdGFnIHRoYXQgaXMgbm90IHdoaXRlc3BhY2Vcbi8vIHZhciB0MCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuLy8gVGFrZXMgYSBzbWFsbCBmcmFjdGlvbiBvZiBhIG1TZWMgdG8gZG8gdGhpcy4uLlxudmFyIGI9ZChhKTtcbi8vIHZhciB0MSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuLy8gY29uc29sZS5sb2coJ1Rvb2snLCAodDEgLSB0MCkudG9GaXhlZCg0KSwgJ21pbGxpc2Vjb25kcyB0byBnZW5lcmF0ZTonKTtcbi8vIHZhciB0MSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuLy8gY29uc29sZS5sb2coJ1Rvb2snLCAodDEgLSB0MCkudG9GaXhlZCg0KSwgJ21pbGxpc2Vjb25kcyB0byBnZW5lcmF0ZTonKTtcbnJldHVyblwiXCI9PT1iJiYhLzxpbWdbXj5dKz4vLnRlc3QoYSl9fV0pLmRpcmVjdGl2ZShcInRhQnV0dG9uXCIsW2Z1bmN0aW9uKCl7cmV0dXJue2xpbms6ZnVuY3Rpb24oYSxiLGMpe2IuYXR0cihcInVuc2VsZWN0YWJsZVwiLFwib25cIiksYi5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEsYil7LyogaXN0YW5idWwgaWdub3JlIGVsc2U6IHRoaXMgaXMgZm9yIGNhdGNoaW5nIHRoZSBqcUxpdGUgdGVzdGluZyovXG4vLyB0aGlzIHByZXZlbnRzIGZvY3Vzb3V0IGZyb20gZmlyaW5nIG9uIHRoZSBlZGl0b3Igd2hlbiBjbGlja2luZyB0b29sYmFyIGJ1dHRvbnNcbnJldHVybiBiJiZhbmd1bGFyLmV4dGVuZChhLGIpLGEucHJldmVudERlZmF1bHQoKSwhMX0pfX19XSkuZGlyZWN0aXZlKFwidGFCaW5kXCIsW1widGFTYW5pdGl6ZVwiLFwiJHRpbWVvdXRcIixcIiRkb2N1bWVudFwiLFwidGFGaXhDaHJvbWVcIixcInRhQnJvd3NlclRhZ1wiLFwidGFTZWxlY3Rpb25cIixcInRhU2VsZWN0YWJsZUVsZW1lbnRzXCIsXCJ0YUFwcGx5Q3VzdG9tUmVuZGVyZXJzXCIsXCJ0YU9wdGlvbnNcIixcIl90YUJsYW5rVGVzdFwiLFwiJHBhcnNlXCIsXCJ0YURPTVwiLFwidGV4dEFuZ3VsYXJNYW5hZ2VyXCIsZnVuY3Rpb24oYixjLGQsZSxmLGgsaixsLG8scCxxLHIscyl7XG4vLyBVc2VzIGZvciB0aGlzIGFyZSB0ZXh0YXJlYSBvciBpbnB1dCB3aXRoIG5nLW1vZGVsIGFuZCB0YS1iaW5kPSd0ZXh0J1xuLy8gT1IgYW55IG5vbi1mb3JtIGVsZW1lbnQgd2l0aCBjb250ZW50ZWRpdGFibGU9XCJjb250ZW50ZWRpdGFibGVcIiB0YS1iaW5kPVwiaHRtbHx0ZXh0XCIgbmctbW9kZWxcbnJldHVybntwcmlvcml0eToyLC8vIFNvIHdlIG92ZXJyaWRlIHZhbGlkYXRvcnMgY29ycmVjdGx5XG5yZXF1aXJlOltcIm5nTW9kZWxcIixcIj9uZ01vZGVsT3B0aW9uc1wiXSxsaW5rOmZ1bmN0aW9uKGYscix1LHYpe2Z1bmN0aW9uIHcoYSl7dmFyIGI7cmV0dXJuIFYuZm9yRWFjaChmdW5jdGlvbihjKXtpZihjLmtleUNvZGU9PT1hLmtleUNvZGUpe3ZhciBkPShhLm1ldGFLZXk/TjowKSsoYS5jdHJsS2V5P006MCkrKGEuc2hpZnRLZXk/UDowKSsoYS5hbHRLZXk/TzowKTtpZihjLmZvcmJpZGRlbk1vZGlmaWVycyZkKXJldHVybjtjLm11c3RIYXZlTW9kaWZpZXJzLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBkJmF9KSYmKGI9Yy5zcGVjaWFsS2V5KX19KSxifXZhciB4LHkseixBLEI9dlswXSxDPXZbMV18fHt9LEQ9dm9pZCAwIT09ci5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIpJiZyLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIiksRT1EfHxcInRleHRhcmVhXCI9PT1yWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJpbnB1dFwiPT09clswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCksRj0hMSxHPSExLEg9ITEsST11LnRhVW5zYWZlU2FuaXRpemVyfHxvLmRpc2FibGVTYW5pdGl6ZXIsSj11LnRhS2VlcFN0eWxlc3x8by5rZWVwU3R5bGVzLEs9L14oOXwxOXwyMHwyN3wzM3wzNHwzNXwzNnwzN3wzOHwzOXw0MHw0NXwxMTJ8MTEzfDExNHwxMTV8MTE2fDExN3wxMTh8MTE5fDEyMHwxMjF8MTIyfDEyM3wxNDR8MTQ1KSQvaSxMPS9eKDh8MTN8MzJ8NDZ8NTl8NjF8MTA3fDEwOXwxNzN8MTg2fDE4N3wxODh8MTg5fDE5MHwxOTF8MTkyfDIxOXwyMjB8MjIxfDIyMikkL2ksTT0xLE49MixPPTQsUD04LFE9MTMsUj0xNixTPTksVD0zNyxVPTM5LFY9W1xuLy9cdFx0Y3RybC9jb21tYW5kICsgelxue3NwZWNpYWxLZXk6XCJVbmRvS2V5XCIsZm9yYmlkZGVuTW9kaWZpZXJzOk8rUCxtdXN0SGF2ZU1vZGlmaWVyczpbTitNXSxrZXlDb2RlOjkwfSxcbi8vXHRcdGN0cmwvY29tbWFuZCArIHNoaWZ0ICsgelxue3NwZWNpYWxLZXk6XCJSZWRvS2V5XCIsZm9yYmlkZGVuTW9kaWZpZXJzOk8sbXVzdEhhdmVNb2RpZmllcnM6W04rTSxQXSxrZXlDb2RlOjkwfSxcbi8vXHRcdGN0cmwvY29tbWFuZCArIHlcbntzcGVjaWFsS2V5OlwiUmVkb0tleVwiLGZvcmJpZGRlbk1vZGlmaWVyczpPK1AsbXVzdEhhdmVNb2RpZmllcnM6W04rTV0sa2V5Q29kZTo4OX0sXG4vL1x0XHRUYWJLZXlcbntzcGVjaWFsS2V5OlwiVGFiS2V5XCIsZm9yYmlkZGVuTW9kaWZpZXJzOk4rUCtPK00sbXVzdEhhdmVNb2RpZmllcnM6W10sa2V5Q29kZTpTfSxcbi8vXHRcdHNoaWZ0ICsgVGFiS2V5XG57c3BlY2lhbEtleTpcIlNoaWZ0VGFiS2V5XCIsZm9yYmlkZGVuTW9kaWZpZXJzOk4rTytNLG11c3RIYXZlTW9kaWZpZXJzOltQXSxrZXlDb2RlOlN9XTtcbi8vIHNldCB0aGUgZGVmYXVsdCB0byBiZSBhIHBhcmFncmFwaCB2YWx1ZVxudm9pZCAwPT09dS50YURlZmF1bHRXcmFwJiYodS50YURlZmF1bHRXcmFwPVwicFwiKSwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogaWUgc3BlY2lmaWMgdGVzdCAqL1xuXCJcIj09PXUudGFEZWZhdWx0V3JhcD8oej1cIlwiLEE9dm9pZCAwPT09Zy5pZT9cIjxkaXY+PGJyPjwvZGl2PlwiOmcuaWU+PTExP1wiPHA+PGJyPjwvcD5cIjpnLmllPD04P1wiPFA+Jm5ic3A7PC9QPlwiOlwiPHA+Jm5ic3A7PC9wPlwiKTooej12b2lkIDA9PT1nLmllfHxnLmllPj0xMT9cImJyXCI9PT11LnRhRGVmYXVsdFdyYXAudG9Mb3dlckNhc2UoKT9cIjxCUj48QlI+XCI6XCI8XCIrdS50YURlZmF1bHRXcmFwK1wiPjxicj48L1wiK3UudGFEZWZhdWx0V3JhcCtcIj5cIjpnLmllPD04P1wiPFwiK3UudGFEZWZhdWx0V3JhcC50b1VwcGVyQ2FzZSgpK1wiPjwvXCIrdS50YURlZmF1bHRXcmFwLnRvVXBwZXJDYXNlKCkrXCI+XCI6XCI8XCIrdS50YURlZmF1bHRXcmFwK1wiPjwvXCIrdS50YURlZmF1bHRXcmFwK1wiPlwiLEE9dm9pZCAwPT09Zy5pZXx8Zy5pZT49MTE/XCJiclwiPT09dS50YURlZmF1bHRXcmFwLnRvTG93ZXJDYXNlKCk/XCI8YnI+PGJyPlwiOlwiPFwiK3UudGFEZWZhdWx0V3JhcCtcIj48YnI+PC9cIit1LnRhRGVmYXVsdFdyYXArXCI+XCI6Zy5pZTw9OD9cIjxcIit1LnRhRGVmYXVsdFdyYXAudG9VcHBlckNhc2UoKStcIj4mbmJzcDs8L1wiK3UudGFEZWZhdWx0V3JhcC50b1VwcGVyQ2FzZSgpK1wiPlwiOlwiPFwiK3UudGFEZWZhdWx0V3JhcCtcIj4mbmJzcDs8L1wiK3UudGFEZWZhdWx0V3JhcCtcIj5cIiksLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbkMuJG9wdGlvbnN8fChDLiRvcHRpb25zPXt9KTsvLyBuZy1tb2RlbC1vcHRpb25zIHN1cHBvcnRcbnZhciBXPWZ1bmN0aW9uKGEpe2lmKHAoYSkpcmV0dXJuIGE7dmFyIGI9YW5ndWxhci5lbGVtZW50KFwiPGRpdj5cIithK1wiPC9kaXY+XCIpO1xuLy9jb25zb2xlLmxvZygnZG9tVGVzdC5jaGlsZHJlbigpLmxlbmd0aCgpOicsIGRvbVRlc3QuY2hpbGRyZW4oKS5sZW5ndGgpO1xuLy9jb25zb2xlLmxvZygnX2Vuc3VyZUNvbnRlbnRXcmFwcGVkJywgZG9tVGVzdC5jaGlsZHJlbigpKTtcbi8vY29uc29sZS5sb2codmFsdWUsIGF0dHJzLnRhRGVmYXVsdFdyYXApO1xuaWYoMD09PWIuY2hpbGRyZW4oKS5sZW5ndGgpXG4vLyBpZiB3ZSBoYXZlIGEgPGJyPiBhbmQgdGhlIGF0dHJzLnRhRGVmYXVsdFdyYXAgaXMgYSA8cD4gd2UgbmVlZCB0byByZW1vdmUgdGhlIDxicj5cbi8vdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC88YnI+L2ksICcnKTtcbmE9XCI8XCIrdS50YURlZmF1bHRXcmFwK1wiPlwiK2ErXCI8L1wiK3UudGFEZWZhdWx0V3JhcCtcIj5cIjtlbHNle3ZhciBjLGQ9YlswXS5jaGlsZE5vZGVzLGU9ITE7Zm9yKGM9MDtjPGQubGVuZ3RoJiYhKGU9ZFtjXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLm1hdGNoKGkpKTtjKyspO2lmKGUpZm9yKGE9XCJcIixjPTA7YzxkLmxlbmd0aDtjKyspe3ZhciBmPWRbY10sZz1mLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4vL2NvbnNvbGUubG9nKCdub2RlIzonLCBpLCAnbmFtZTonLCBub2RlTmFtZSk7XG5pZihcIiNjb21tZW50XCI9PT1nKWErPVwiPCEtLVwiK2Yubm9kZVZhbHVlK1wiLS0+XCI7ZWxzZSBpZihcIiN0ZXh0XCI9PT1nKXtcbi8vIGRldGVybWluZSBpZiB0aGlzIGlzIGFsbCB3aGl0ZXNwYWNlLCBpZiBzbywgd2Ugd2lsbCBsZWF2ZSBpdCBhcyBpdCBpcy5cbi8vIG90aGVyd2lzZSwgd2Ugd2lsbCB3cmFwIGl0IGFzIGl0IGlzXG52YXIgaD1mLnRleHRDb250ZW50O1xuLy8gbm90IHB1cmUgd2hpdGUgc3BhY2Ugc28gd3JhcCBpbiA8cD4uLi48L3A+IG9yIHdoYXRldmVyIGF0dHJzLnRhRGVmYXVsdFdyYXAgaXMgc2V0IHRvLlxuYSs9aC50cmltKCk/XCI8XCIrdS50YURlZmF1bHRXcmFwK1wiPlwiK2grXCI8L1wiK3UudGFEZWZhdWx0V3JhcCtcIj5cIjpofWVsc2UgaWYoZy5tYXRjaChpKSlhKz1mLm91dGVySFRNTDtlbHNley8qIGlzdGFuYnVsIGlnbm9yZSAgbmV4dDogRG9lc24ndCBzZWVtIHRvIHRyaWdnZXIgb24gdGVzdHMgKi9cbnZhciBqPWYub3V0ZXJIVE1MfHxmLm5vZGVWYWx1ZTsvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogRG9lc24ndCBzZWVtIHRvIHRyaWdnZXIgb24gdGVzdHMsIGlzIHRlc3RlZCB0aG91Z2ggKi9cbmErPVwiXCIhPT1qLnRyaW0oKT9cIjxcIit1LnRhRGVmYXVsdFdyYXArXCI+XCIraitcIjwvXCIrdS50YURlZmF1bHRXcmFwK1wiPlwiOmp9fWVsc2UgYT1cIjxcIit1LnRhRGVmYXVsdFdyYXArXCI+XCIrYStcIjwvXCIrdS50YURlZmF1bHRXcmFwK1wiPlwifVxuLy9jb25zb2xlLmxvZyh2YWx1ZSk7XG5yZXR1cm4gYX07dS50YVBhc3RlJiYoeT1xKHUudGFQYXN0ZSkpLHIuYWRkQ2xhc3MoXCJ0YS1iaW5kXCIpO3ZhciBYO2ZbXCIkdW5kb01hbmFnZXJcIisodS5pZHx8XCJcIildPUIuJHVuZG9NYW5hZ2VyPXtfc3RhY2s6W10sX2luZGV4OjAsX21heDoxZTMscHVzaDpmdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYXx8bnVsbD09PWF8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmN1cnJlbnQoKSYmbnVsbCE9PXRoaXMuY3VycmVudCgpJiZhPT09dGhpcy5jdXJyZW50KCk/YToodGhpcy5faW5kZXg8dGhpcy5fc3RhY2subGVuZ3RoLTEmJih0aGlzLl9zdGFjaz10aGlzLl9zdGFjay5zbGljZSgwLHRoaXMuX2luZGV4KzEpKSx0aGlzLl9zdGFjay5wdXNoKGEpLFgmJmMuY2FuY2VsKFgpLHRoaXMuX3N0YWNrLmxlbmd0aD50aGlzLl9tYXgmJnRoaXMuX3N0YWNrLnNoaWZ0KCksdGhpcy5faW5kZXg9dGhpcy5fc3RhY2subGVuZ3RoLTEsYSl9LHVuZG86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRUb0luZGV4KHRoaXMuX2luZGV4LTEpfSxyZWRvOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0VG9JbmRleCh0aGlzLl9pbmRleCsxKX0sc2V0VG9JbmRleDpmdW5jdGlvbihhKXtpZighKGE8MHx8YT50aGlzLl9zdGFjay5sZW5ndGgtMSkpcmV0dXJuIHRoaXMuX2luZGV4PWEsdGhpcy5jdXJyZW50KCl9LGN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhY2tbdGhpcy5faW5kZXhdfX07XG4vLyBpbiBoZXJlIHdlIGFyZSB1bmRvaW5nIHRoZSBjb252ZXJ0cyB1c2VkIGVsc2V3aGVyZSB0byBwcmV2ZW50IHRoZSA8ID4gYW5kICYgYmVpbmcgZGlzcGxheWVkIHdoZW4gdGhleSBzaG91bGRuJ3QgaW4gdGhlIGNvZGUuXG52YXIgWSxaPWZ1bmN0aW9uKCl7aWYoRClyZXR1cm4gclswXS5pbm5lckhUTUw7aWYoRSlyZXR1cm4gci52YWwoKTt0aHJvd1widGV4dEFuZ3VsYXIgRXJyb3I6IGF0dGVtcHRpbmcgdG8gdXBkYXRlIG5vbi1lZGl0YWJsZSB0YUJpbmRcIn0sJD1mdW5jdGlvbihhKXtcbi8vIGVtaXQgdGhlIGVsZW1lbnQtc2VsZWN0IGV2ZW50LCBwYXNzIHRoZSBlbGVtZW50XG5yZXR1cm4gZi4kZW1pdChcInRhLWVsZW1lbnQtc2VsZWN0XCIsdGhpcyksYS5wcmV2ZW50RGVmYXVsdCgpLCExfSxfPWZbXCJyZUFwcGx5T25TZWxlY3RvckhhbmRsZXJzXCIrKHUuaWR8fFwiXCIpXT1mdW5jdGlvbigpey8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5GfHxhbmd1bGFyLmZvckVhY2goaixmdW5jdGlvbihhKXtcbi8vIGNoZWNrIHdlIGRvbid0IGFwcGx5IHRoZSBoYW5kbGVyIHR3aWNlXG5yLmZpbmQoYSkub2ZmKFwiY2xpY2tcIiwkKS5vbihcImNsaWNrXCIsJCl9KX0sYWE9ZnVuY3Rpb24oYSxiLGMpe0g9Y3x8ITEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGImJm51bGwhPT1ifHwoYj1EKSwvLyBpZiBub3QgY29udGVudEVkaXRhYmxlIHRoZW4gdGhlIG5hdGl2ZSB1bmRvL3JlZG8gaXMgZmluZVxuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEmJm51bGwhPT1hfHwoYT1aKCkpLHAoYSk/KFxuLy8gdGhpcyBhdm9pZHMgdXMgZnJvbSB0cmlwcGluZyB0aGUgbmctcHJpc3RpbmUgZmxhZyBpZiB3ZSBjbGljayBpbiBhbmQgb3V0IHdpdGggb3V0IHR5cGluZ1xuXCJcIiE9PUIuJHZpZXdWYWx1ZSYmQi4kc2V0Vmlld1ZhbHVlKFwiXCIpLGImJlwiXCIhPT1CLiR1bmRvTWFuYWdlci5jdXJyZW50KCkmJkIuJHVuZG9NYW5hZ2VyLnB1c2goXCJcIikpOihfKCksQi4kdmlld1ZhbHVlIT09YSYmKEIuJHNldFZpZXdWYWx1ZShhKSxiJiZCLiR1bmRvTWFuYWdlci5wdXNoKGEpKSksQi4kcmVuZGVyKCl9LGJhPWZ1bmN0aW9uKGEpe3JbMF0uaW5uZXJIVE1MPWF9LGNhPWZbXCIkdW5kb1RhQmluZFwiKyh1LmlkfHxcIlwiKV09ZnVuY3Rpb24oKXsvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogY2FuJ3QgcmVhbGx5IHRlc3QgaXQgZHVlIHRvIGFsbCBjaGFuZ2VzIGJlaW5nIGlnbm9yZWQgYXMgd2VsbCBpbiByZWFkb25seSAqL1xuaWYoIUYmJkQpe3ZhciBhPUIuJHVuZG9NYW5hZ2VyLnVuZG8oKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgYSYmbnVsbCE9PWEmJihiYShhKSxhYShhLCExKSxZJiZjLmNhbmNlbChZKSxZPWMoZnVuY3Rpb24oKXtyWzBdLmZvY3VzKCksaC5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQoclswXSl9LDEpKX19LGRhPWZbXCIkcmVkb1RhQmluZFwiKyh1LmlkfHxcIlwiKV09ZnVuY3Rpb24oKXsvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogY2FuJ3QgcmVhbGx5IHRlc3QgaXQgZHVlIHRvIGFsbCBjaGFuZ2VzIGJlaW5nIGlnbm9yZWQgYXMgd2VsbCBpbiByZWFkb25seSAqL1xuaWYoIUYmJkQpe3ZhciBhPUIuJHVuZG9NYW5hZ2VyLnJlZG8oKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgYSYmbnVsbCE9PWEmJihiYShhKSxhYShhLCExKSwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuWSYmYy5jYW5jZWwoWSksWT1jKGZ1bmN0aW9uKCl7clswXS5mb2N1cygpLGguc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKHJbMF0pfSwxKSl9fTtcbi8vdXNlZCBmb3IgdXBkYXRpbmcgd2hlbiBpbnNlcnRpbmcgd3JhcHBlZCBlbGVtZW50c1xuZltcInVwZGF0ZVRhQmluZFwiKyh1LmlkfHxcIlwiKV09ZnVuY3Rpb24oKXtGfHxhYSh2b2lkIDAsdm9pZCAwLCEwKX07XG4vLyBjYXRjaCBET00gWFNTIHZpYSB0YVNhbml0aXplXG4vLyBTYW5pdGl6aW5nIGJvdGggd2F5cyBpcyBpZGVudGljYWxcbnZhciBlYT1mdW5jdGlvbihhKXtyZXR1cm4gQi4kb2xkVmlld1ZhbHVlPWIoZShhLEopLEIuJG9sZFZpZXdWYWx1ZSxJKX07XG4vL3RoaXMgY29kZSBpcyB1c2VkIHRvIHVwZGF0ZSB0aGUgbW9kZWxzIHdoZW4gZGF0YSBpcyBlbnRlcmVkL2RlbGV0ZWRcbmlmKFxuLy8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvbiBjYWxsc1xuci5hdHRyKFwicmVxdWlyZWRcIikmJihCLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIXAoYXx8Yil9KSxcbi8vIHBhcnNlcnMgdHJpZ2dlciBmcm9tIHRoZSBhYm92ZSBrZXl1cCBmdW5jdGlvbiBvciBhbnkgb3RoZXIgdGltZSB0aGF0IHRoZSB2aWV3VmFsdWUgaXMgdXBkYXRlZCBhbmQgcGFyc2VzIGl0IGZvciBzdG9yYWdlIGluIHRoZSBuZ01vZGVsXG5CLiRwYXJzZXJzLnB1c2goZWEpLEIuJHBhcnNlcnMudW5zaGlmdChXKSxcbi8vIGJlY2F1c2UgdGV4dEFuZ3VsYXIgaXMgYmktZGlyZWN0aW9uYWwgKHdoaWNoIGlzIGF3ZXNvbWUpIHdlIG5lZWQgdG8gYWxzbyBzYW5pdGl6ZSB2YWx1ZXMgZ29pbmcgaW4gZnJvbSB0aGUgc2VydmVyXG5CLiRmb3JtYXR0ZXJzLnB1c2goZWEpLEIuJGZvcm1hdHRlcnMudW5zaGlmdChXKSxCLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24oYSl7cmV0dXJuIEIuJHVuZG9NYW5hZ2VyLnB1c2goYXx8XCJcIil9KSxFKWlmKGYuZXZlbnRzPXt9LEQpe1xuLy8gYWxsIHRoZSBjb2RlIHNwZWNpZmljIHRvIGNvbnRlbnRlZGl0YWJsZSBkaXZzXG52YXIgZmE9ITEsZ2E9ZnVuY3Rpb24oYSl7dmFyIGQ9dm9pZCAwIT09YSYmYS5tYXRjaCgvY29udGVudD1bXCInXSpPbmVOb3RlLkZpbGUvaSk7LyogaXN0YW5idWwgaWdub3JlIGVsc2U6IGRvbid0IGNhcmUgaWYgbm90aGluZyBwYXN0ZWQgKi9cbi8vY29uc29sZS5sb2codGV4dCk7XG5pZihhJiZhLnRyaW0oKS5sZW5ndGgpe1xuLy8gdGVzdCBwYXN0ZSBmcm9tIHdvcmQvbWljcm9zb2Z0IHByb2R1Y3RcbmlmKGEubWF0Y2goL2NsYXNzPVtcIiddKk1zbyhOb3JtYWx8TGlzdCkvaSl8fGEubWF0Y2goL2NvbnRlbnQ9W1wiJ10qV29yZC5Eb2N1bWVudC9pKXx8YS5tYXRjaCgvY29udGVudD1bXCInXSpPbmVOb3RlLkZpbGUvaSkpe3ZhciBlPWEubWF0Y2goLzwhLS1TdGFydEZyYWdtZW50LS0+KFtcXHNcXFNdKj8pPCEtLUVuZEZyYWdtZW50LS0+L2kpO2U9ZT9lWzFdOmEsZT1lLnJlcGxhY2UoLzxvOnA+W1xcc1xcU10qPzxcXC9vOnA+L2dpLFwiXCIpLnJlcGxhY2UoL2NsYXNzPShbXCInXXwpTXNvTm9ybWFsKFtcIiddfCkvZ2ksXCJcIik7dmFyIGc9YW5ndWxhci5lbGVtZW50KFwiPGRpdj5cIitlK1wiPC9kaXY+XCIpLGk9YW5ndWxhci5lbGVtZW50KFwiPGRpdj48L2Rpdj5cIiksaj17ZWxlbWVudDpudWxsLGxhc3RJbmRlbnQ6W10sbGFzdExpOm51bGwsaXNVbDohMX07ai5sYXN0SW5kZW50LnBlZWs9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxlbmd0aDtpZihhPjApcmV0dXJuIHRoaXNbYS0xXX07Zm9yKHZhciBrPWZ1bmN0aW9uKGEpe2ouaXNVbD1hLGouZWxlbWVudD1hbmd1bGFyLmVsZW1lbnQoYT9cIjx1bD5cIjpcIjxvbD5cIiksai5sYXN0SW5kZW50PVtdLGoubGFzdEluZGVudC5wZWVrPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sZW5ndGg7aWYoYT4wKXJldHVybiB0aGlzW2EtMV19LGoubGFzdExldmVsTWF0Y2g9bnVsbH0sbD0wO2w8PWdbMF0uY2hpbGROb2Rlcy5sZW5ndGg7bCsrKWlmKGdbMF0uY2hpbGROb2Rlc1tsXSYmXCIjdGV4dFwiIT09Z1swXS5jaGlsZE5vZGVzW2xdLm5vZGVOYW1lKXt2YXIgbT1nWzBdLmNoaWxkTm9kZXNbbF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwicFwiPT09bXx8XCJ1bFwiPT09bXx8XCJoMVwiPT09bXx8XCJoMlwiPT09bXx8XCJoM1wiPT09bXx8XCJoNFwiPT09bXx8XCJoNVwiPT09bXx8XCJoNlwiPT09bXx8XCJ0YWJsZVwiPT09bSl7dmFyIG49YW5ndWxhci5lbGVtZW50KGdbMF0uY2hpbGROb2Rlc1tsXSksbz0obi5hdHRyKFwiY2xhc3NcIil8fFwiXCIpLm1hdGNoKC9Nc29MaXN0KEJ1bGxldHxOdW1iZXJ8UGFyYWdyYXBoKShDeFNwKEZpcnN0fE1pZGRsZXxMYXN0KXwpL2kpO2lmKG8pe2lmKG5bMF0uY2hpbGROb2Rlcy5sZW5ndGg8Mnx8blswXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXMubGVuZ3RoPDEpY29udGludWU7dmFyIHA9XCJidWxsZXRcIj09PW9bMV0udG9Mb3dlckNhc2UoKXx8XCJudW1iZXJcIiE9PW9bMV0udG9Mb3dlckNhc2UoKSYmISgvXlteMC05YS16PF0qWzAtOWEtel0rW14wLTlhLXo8Pl08L2kudGVzdChuWzBdLmNoaWxkTm9kZXNbMV0uaW5uZXJIVE1MKXx8L15bXjAtOWEtejxdKlswLTlhLXpdK1teMC05YS16PD5dPC9pLnRlc3QoblswXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uaW5uZXJIVE1MKSkscT0obi5hdHRyKFwic3R5bGVcIil8fFwiXCIpLm1hdGNoKC9tYXJnaW4tbGVmdDooW1xcLVxcLjAtOV0qKS9pKSxzPXBhcnNlRmxvYXQocT9xWzFdOjApLHQ9KG4uYXR0cihcInN0eWxlXCIpfHxcIlwiKS5tYXRjaCgvbXNvLWxpc3Q6bChbMC05XSspIGxldmVsKFswLTldKykgbGZvWzAtOStdKCR8OykvaSk7aWYoXG4vLyBwcmVmZXJzIHRoZSBtc28tbGlzdCBzeW50YXhcbnQmJnRbMl0mJihzPXBhcnNlSW50KHRbMl0pKSx0JiYoIWoubGFzdExldmVsTWF0Y2h8fHRbMV0hPT1qLmxhc3RMZXZlbE1hdGNoWzFdKXx8IW9bM118fFwiZmlyc3RcIj09PW9bM10udG9Mb3dlckNhc2UoKXx8bnVsbD09PWoubGFzdEluZGVudC5wZWVrKCl8fGouaXNVbCE9PXAmJmoubGFzdEluZGVudC5wZWVrKCk9PT1zKWsocCksaS5hcHBlbmQoai5lbGVtZW50KTtlbHNlIGlmKG51bGwhPWoubGFzdEluZGVudC5wZWVrKCkmJmoubGFzdEluZGVudC5wZWVrKCk8cylqLmVsZW1lbnQ9YW5ndWxhci5lbGVtZW50KHA/XCI8dWw+XCI6XCI8b2w+XCIpLGoubGFzdExpLmFwcGVuZChqLmVsZW1lbnQpO2Vsc2UgaWYobnVsbCE9ai5sYXN0SW5kZW50LnBlZWsoKSYmai5sYXN0SW5kZW50LnBlZWsoKT5zKXtmb3IoO251bGwhPWoubGFzdEluZGVudC5wZWVrKCkmJmoubGFzdEluZGVudC5wZWVrKCk+czspaWYoXCJsaVwiIT09ai5lbGVtZW50LnBhcmVudCgpWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7aWYoIS9bdW9dbC9pLnRlc3Qoai5lbGVtZW50LnBhcmVudCgpWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpLy8gZWxzZSBpdCdzIGl0IHNob3VsZCBiZSBhIHNpYmxpbmdcbmJyZWFrO2ouZWxlbWVudD1qLmVsZW1lbnQucGFyZW50KCksai5sYXN0SW5kZW50LnBvcCgpfWVsc2Ugai5lbGVtZW50PWouZWxlbWVudC5wYXJlbnQoKTtqLmlzVWw9XCJ1bFwiPT09ai5lbGVtZW50WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxwIT09ai5pc1VsJiYoayhwKSxpLmFwcGVuZChqLmVsZW1lbnQpKX1qLmxhc3RMZXZlbE1hdGNoPXQscyE9PWoubGFzdEluZGVudC5wZWVrKCkmJmoubGFzdEluZGVudC5wdXNoKHMpLGoubGFzdExpPWFuZ3VsYXIuZWxlbWVudChcIjxsaT5cIiksai5lbGVtZW50LmFwcGVuZChqLmxhc3RMaSksai5sYXN0TGkuaHRtbChuLmh0bWwoKS5yZXBsYWNlKC88ISgtLXwpXFxbaWYgIXN1cHBvcnRMaXN0c1xcXSgtLXwpPltcXHNcXFNdKj88ISgtLXwpXFxbZW5kaWZcXF0oLS18KT4vZ2ksXCJcIikpLG4ucmVtb3ZlKCl9ZWxzZSBrKCExKSxpLmFwcGVuZChuKX19dmFyIHU9ZnVuY3Rpb24oYSl7YT1hbmd1bGFyLmVsZW1lbnQoYSk7Zm9yKHZhciBiPWFbMF0uY2hpbGROb2Rlcy5sZW5ndGgtMTtiPj0wO2ItLSlhLmFmdGVyKGFbMF0uY2hpbGROb2Rlc1tiXSk7YS5yZW1vdmUoKX07YW5ndWxhci5mb3JFYWNoKGkuZmluZChcInNwYW5cIiksZnVuY3Rpb24oYSl7YS5yZW1vdmVBdHRyaWJ1dGUoXCJsYW5nXCIpLGEuYXR0cmlidXRlcy5sZW5ndGg8PTAmJnUoYSl9KSxhbmd1bGFyLmZvckVhY2goaS5maW5kKFwiZm9udFwiKSx1KSxhPWkuaHRtbCgpLGQmJihhPWkuaHRtbCgpfHxnLmh0bWwoKSksXG4vLyBMRiBjaGFyYWN0ZXJzIGluc3RlYWQgb2Ygc3BhY2VzIGluIHNvbWUgc3BvdHMgYW5kIHRoZXkgYXJlIHJlcGxhY2VkIGJ5ICcvbicsIHNvIHdlIG5lZWQgdG8ganVzdCBzd2FwIHRoZW0gdG8gc3BhY2VzXG5hPWEucmVwbGFjZSgvXFxuL2csXCIgXCIpfWVsc2V7aWYoXG4vLyByZW1vdmUgdW5uZWNlc3NhcnkgY2hyb21lIGluc2VydFxuYT1hLnJlcGxhY2UoLzwofFxcLyltZXRhW14+XSo/Pi9naSxcIlwiKSxhLm1hdGNoKC88W14+XSo/KHRhLWJpbmQpW14+XSo/Pi8pKXtcbi8vIGVudGlyZSB0ZXh0LWFuZ3VsYXIgb3IgdGEtYmluZCBoYXMgYmVlbiBwYXN0ZWQsIFJFTU9WRSBBVCBPTkNFISFcbmlmKGEubWF0Y2goLzxbXj5dKj8odGV4dC1hbmd1bGFyKVtePl0qPz4vKSl7dmFyIHY9YW5ndWxhci5lbGVtZW50KFwiPGRpdj5cIithK1wiPC9kaXY+XCIpO3YuZmluZChcInRleHRhcmVhXCIpLnJlbW92ZSgpO2Zvcih2YXIgdz0wO3c8YmluZHMubGVuZ3RoO3crKyl7Zm9yKHZhciB4PWJpbmRzW3ddWzBdLnBhcmVudE5vZGUucGFyZW50Tm9kZSx6PTA7ejxiaW5kc1t3XVswXS5jaGlsZE5vZGVzLmxlbmd0aDt6KyspeC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiaW5kc1t3XVswXS5jaGlsZE5vZGVzW3pdLHgpO3gucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh4KX1hPXYuaHRtbCgpLnJlcGxhY2UoJzxiciBjbGFzcz1cIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIj4nLFwiXCIpfX1lbHNlIGEubWF0Y2goL148c3Bhbi8pJiYoXG4vLyBpbiBjYXNlIG9mIHBhc3Rpbmcgb25seSBhIHNwYW4gLSBjaHJvbWUgcGFzdGUsIHJlbW92ZSB0aGVtLiBUSGlzIGlzIGp1c3Qgc29tZSB3aWVyZCBmb3JtYXR0aW5nXG4vLyBpZiB3ZSByZW1vdmUgdGhlICc8c3BhbiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwiPsKgPC9zcGFuPicgaGVyZSB3ZSBkZXN0cm95IHRoZSBzcGFjaW5nXG4vLyBvbiBwYXN0ZSBmcm9tIGV2ZW4gb3Vyc2VsdmVzIVxuYS5tYXRjaCgvPHNwYW4gY2xhc3M9KFxcXCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcXFwifFxcJ0FwcGxlLWNvbnZlcnRlZC1zcGFjZVxcJyk+LjxcXC9zcGFuPi9naSl8fChhPWEucmVwbGFjZSgvPCh8XFwvKXNwYW5bXj5dKj8+L2dpLFwiXCIpKSk7XG4vLyBXZWJraXQgb24gQXBwbGUgdGFnc1xuYT1hLnJlcGxhY2UoLzxiciBjbGFzcz1cIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIltePl0qPz4vZ2ksXCJcIikucmVwbGFjZSgvPHNwYW4gY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcIj4oIHwmbmJzcDspPFxcL3NwYW4+L2dpLFwiJm5ic3A7XCIpfS88bGkoXFxzLiopPz4vaS50ZXN0KGEpJiYvKDx1bChcXHMuKik/Pnw8b2woXFxzLiopPz4pLio8bGkoXFxzLiopPz4vaS50ZXN0KGEpPT09ITEmJihcbi8vIGluc2VydCBtaXNzaW5nIHBhcmVudCBvZiBsaSBlbGVtZW50XG5hPWEucmVwbGFjZSgvPGxpKFxccy4qKT8+Lio8XFwvbGkoXFxzLiopPz4vaSxcIjx1bD4kJjwvdWw+XCIpKSxcbi8vIHBhcnNlIHdoaXRlc3BhY2UgZnJvbSBwbGFpbnRleHQgaW5wdXQsIHN0YXJ0aW5nIHdpdGggcHJlY2VkaW5nIHNwYWNlcyB0aGF0IGdldCBzdHJpcHBlZCBvbiBwYXN0ZVxuYT1hLnJlcGxhY2UoL15bIHxcXHUwMEEwXSsvZ20sZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVwiXCIsYz0wO2M8YS5sZW5ndGg7YysrKWIrPVwiJm5ic3A7XCI7cmV0dXJuIGJ9KS5yZXBsYWNlKC9cXG58XFxyXFxufFxcci9nLFwiPGJyIC8+XCIpLnJlcGxhY2UoL1xcdC9nLFwiJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7XCIpLHkmJihhPXkoZix7JGh0bWw6YX0pfHxhKSxcbi8vIHR1cm4gc3BhbiB2ZXJ0aWNhbC1hbGlnbjpzdXBlciBpbnRvIDxzdXA+PC9zdXA+XG5hPWEucmVwbGFjZSgvPHNwYW4gc3R5bGU9KFwifCcpKFtePF0qPyl2ZXJ0aWNhbC1hbGlnblxccyo6XFxzKnN1cGVyOz8oW14+XSo/KShcInwnKT4oW148XSs/KTxcXC9zcGFuPi9nLFwiPHN1cCBzdHlsZT0nJDIkMyc+JDU8L3N1cD5cIiksYT1iKGEsXCJcIixJKSxcbi8vY29uc29sZS5sb2coJ0RPTkVcXG4nLCB0ZXh0KTtcbmguaW5zZXJ0SHRtbChhLHJbMF0pLGMoZnVuY3Rpb24oKXtCLiRzZXRWaWV3VmFsdWUoWigpKSxmYT0hMSxyLnJlbW92ZUNsYXNzKFwicHJvY2Vzc2luZy1wYXN0ZVwiKX0sMCl9ZWxzZSBmYT0hMSxyLnJlbW92ZUNsYXNzKFwicHJvY2Vzc2luZy1wYXN0ZVwiKX07ci5vbihcInBhc3RlXCIsZi5ldmVudHMucGFzdGU9ZnVuY3Rpb24oYixlKXtpZigvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogdGhpcyBpcyBmb3IgY2F0Y2hpbmcgdGhlIGpxTGl0ZSB0ZXN0aW5nKi9cbmUmJmFuZ3VsYXIuZXh0ZW5kKGIsZSksRnx8ZmEpcmV0dXJuIGIuc3RvcFByb3BhZ2F0aW9uKCksYi5wcmV2ZW50RGVmYXVsdCgpLCExO1xuLy8gQ29kZSBhZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTc2ODYxL2phdmFzY3JpcHQtZ2V0LWNsaXBib2FyZC1kYXRhLW9uLXBhc3RlLWV2ZW50LWNyb3NzLWJyb3dzZXIvNjgwNDcxOCM2ODA0NzE4XG5mYT0hMCxyLmFkZENsYXNzKFwicHJvY2Vzc2luZy1wYXN0ZVwiKTt2YXIgZixnPShiLm9yaWdpbmFsRXZlbnR8fGIpLmNsaXBib2FyZERhdGE7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IEhhbmRsZSBsZWdhY3kgSUUgcGFzdGUgKi9cbmlmKCFnJiZ3aW5kb3cuY2xpcGJvYXJkRGF0YSYmd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSlyZXR1cm4gZj13aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKSxnYShmKSxiLnN0b3BQcm9wYWdhdGlvbigpLGIucHJldmVudERlZmF1bHQoKSwhMTtpZihnJiZnLmdldERhdGEmJmcudHlwZXMubGVuZ3RoPjApe2Zvcih2YXIgaD1cIlwiLGk9MDtpPGcudHlwZXMubGVuZ3RoO2krKyloKz1cIiBcIitnLnR5cGVzW2ldOy8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBicm93c2VyIHRlc3RzICovXG5yZXR1cm4vdGV4dFxcL2h0bWwvaS50ZXN0KGgpP2Y9Zy5nZXREYXRhKFwidGV4dC9odG1sXCIpOi90ZXh0XFwvcGxhaW4vaS50ZXN0KGgpJiYoZj1nLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKSxnYShmKSxiLnN0b3BQcm9wYWdhdGlvbigpLGIucHJldmVudERlZmF1bHQoKSwhMX0vLyBFdmVyeXRoaW5nIGVsc2UgLSBlbXB0eSBlZGl0ZGl2IGFuZCBhbGxvdyBicm93c2VyIHRvIHBhc3RlIGNvbnRlbnQgaW50byBpdCwgdGhlbiBjbGVhbnVwXG52YXIgaj1hLnNhdmVTZWxlY3Rpb24oKSxrPWFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cInRhLWhpZGRlbi1pbnB1dFwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj48L2Rpdj4nKTtkLmZpbmQoXCJib2R5XCIpLmFwcGVuZChrKSxrWzBdLmZvY3VzKCksYyhmdW5jdGlvbigpe1xuLy8gcmVzdG9yZSBzZWxlY3Rpb25cbmEucmVzdG9yZVNlbGVjdGlvbihqKSxnYShrWzBdLmlubmVySFRNTCksclswXS5mb2N1cygpLGsucmVtb3ZlKCl9LDApfSksci5vbihcImN1dFwiLGYuZXZlbnRzLmN1dD1mdW5jdGlvbihhKXtcbi8vIHRpbWVvdXQgdG8gbmV4dCBpcyBuZWVkZWQgYXMgb3RoZXJ3aXNlIHRoZSBwYXN0ZS9jdXQgZXZlbnQgaGFzIG5vdCBmaW5pc2hlZCBhY3R1YWxseSBjaGFuZ2luZyB0aGUgZGlzcGxheVxuRj9hLnByZXZlbnREZWZhdWx0KCk6YyhmdW5jdGlvbigpe0IuJHNldFZpZXdWYWx1ZShaKCkpfSwwKX0pLHIub24oXCJrZXlkb3duXCIsZi5ldmVudHMua2V5ZG93bj1mdW5jdGlvbihhLGIpey8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiB0aGlzIGlzIGZvciBjYXRjaGluZyB0aGUganFMaXRlIHRlc3RpbmcqL1xuYiYmYW5ndWxhci5leHRlbmQoYSxiKSxhLmtleUNvZGU9PT1SP2guc2V0U3RhdGVTaGlmdEtleSghMCk6aC5zZXRTdGF0ZVNoaWZ0S2V5KCExKSxhLnNwZWNpYWxLZXk9dyhhKTt2YXIgYzsvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogcmVhZG9ubHkgY2hlY2sgKi9cbmlmKC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkaWZmaWN1bHQgdG8gdGVzdCAqL1xuby5rZXlNYXBwaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Euc3BlY2lhbEtleT09PWIuY29tbWFuZEtleUNvZGUmJihcbi8vIHRhT3B0aW9ucyBoYXMgcmVtYXBwZWQgdGhpcyBiaW5kaW5nLi4uIHNvXG4vLyB3ZSBkaXNhYmxlIG91ciBvd25cbmEuc3BlY2lhbEtleT12b2lkIDApLGIudGVzdEZvcktleShhKSYmKGM9Yi5jb21tYW5kS2V5Q29kZSksXCJVbmRvS2V5XCIhPT1iLmNvbW1hbmRLZXlDb2RlJiZcIlJlZG9LZXlcIiE9PWIuY29tbWFuZEtleUNvZGV8fGIuZW5hYmxlUHJvcGFnYXRpb258fGEucHJldmVudERlZmF1bHQoKX0pLC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkaWZmaWN1bHQgdG8gdGVzdCAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMmJihhLnNwZWNpYWxLZXk9YyksLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGRpZmZpY3VsdCB0byB0ZXN0IGFzIGNhbid0IHNlZW0gdG8gc2VsZWN0ICovXG5cInVuZGVmaW5lZFwiPT10eXBlb2YgYS5zcGVjaWFsS2V5fHxcIlVuZG9LZXlcIj09PWEuc3BlY2lhbEtleSYmXCJSZWRvS2V5XCI9PT1hLnNwZWNpYWxLZXl8fChhLnByZXZlbnREZWZhdWx0KCkscy5zZW5kS2V5Q29tbWFuZChmLGEpKSwhKEZ8fChcIlVuZG9LZXlcIj09PWEuc3BlY2lhbEtleSYmKGNhKCksYS5wcmV2ZW50RGVmYXVsdCgpKSxcIlJlZG9LZXlcIj09PWEuc3BlY2lhbEtleSYmKGRhKCksYS5wcmV2ZW50RGVmYXVsdCgpKSxhLmtleUNvZGUhPT1RfHxhLnNoaWZ0S2V5fHxhLmN0cmxLZXl8fGEubWV0YUtleXx8YS5hbHRLZXkpKSl7dmFyIGQsZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY109PT1iKXJldHVybiEwO3JldHVybiExfSxnPWguZ2V0U2VsZWN0aW9uRWxlbWVudCgpO1xuLy8gc2hpZnRlZCB0byBub2RlTmFtZSBoZXJlIGZyb20gdGFnTmFtZSBzaW5jZSBpdCBpcyBtb3JlIHdpZGVseSBzdXBwb3J0ZWQgc2VlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ4Nzg0ODQvZGlmZmVyZW5jZS1iZXR3ZWVuLXRhZ25hbWUtYW5kLW5vZGVuYW1lXG5pZighZy5ub2RlTmFtZS5tYXRjaChrKSlyZXR1cm47dmFyIGk9YW5ndWxhci5lbGVtZW50KHopLGo9W1wiYmxvY2txdW90ZVwiLFwidWxcIixcIm9sXCJdO2lmKGUoaixnLnBhcmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSl7aWYoL148YnIofFxcLyk+JC9pLnRlc3QoZy5pbm5lckhUTUwudHJpbSgpKSYmIWcubmV4dFNpYmxpbmcpe1xuLy8gaWYgbGFzdCBlbGVtZW50IGlzIGJsYW5rLCBwdWxsIGVsZW1lbnQgb3V0c2lkZS5cbmQ9YW5ndWxhci5lbGVtZW50KGcpO3ZhciBsPWQucGFyZW50KCk7bC5hZnRlcihpKSxkLnJlbW92ZSgpLDA9PT1sLmNoaWxkcmVuKCkubGVuZ3RoJiZsLnJlbW92ZSgpLGguc2V0U2VsZWN0aW9uVG9FbGVtZW50U3RhcnQoaVswXSksYS5wcmV2ZW50RGVmYXVsdCgpfS9ePFtePl0rPjxicih8XFwvKT48XFwvW14+XSs+JC9pLnRlc3QoZy5pbm5lckhUTUwudHJpbSgpKSYmKGQ9YW5ndWxhci5lbGVtZW50KGcpLGQuYWZ0ZXIoaSksZC5yZW1vdmUoKSxoLnNldFNlbGVjdGlvblRvRWxlbWVudFN0YXJ0KGlbMF0pLGEucHJldmVudERlZmF1bHQoKSl9fX0pO3ZhciBoYTtyLm9uKFwia2V5dXBcIixmLmV2ZW50cy5rZXl1cD1mdW5jdGlvbihhLGIpey8vIGNsZWFyIHRoZSBTaGlmdEtleSBzdGF0ZVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IEZGIHNwZWNpZmljIGJ1ZyBmaXggKi9cbmlmKC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiB0aGlzIGlzIGZvciBjYXRjaGluZyB0aGUganFMaXRlIHRlc3RpbmcqL1xuYiYmYW5ndWxhci5leHRlbmQoYSxiKSxoLnNldFN0YXRlU2hpZnRLZXkoITEpLGEua2V5Q29kZT09PVMpe3ZhciBkPWguZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIHZvaWQoZC5zdGFydC5lbGVtZW50PT09clswXSYmci5jaGlsZHJlbigpLmxlbmd0aCYmaC5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRTdGFydChyLmNoaWxkcmVuKClbMF0pKX1pZihcbi8vIHdlIGRvIHRoaXMgaGVyZSBkdXJpbmcgdGhlICdrZXl1cCcgc28gdGhhdCB0aGUgYnJvd3NlciBoYXMgYWxyZWFkeSBtb3ZlZCB0aGUgc2xlY3Rpb24gYnkgb25lIGNoYXJhY3Rlci4uLlxuYS5rZXlDb2RlIT09VHx8YS5zaGlmdEtleXx8aC51cGRhdGVMZWZ0QXJyb3dLZXkociksXG4vLyB3ZSBkbyB0aGlzIGhlcmUgZHVyaW5nIHRoZSAna2V5dXAnIHNvIHRoYXQgdGhlIGJyb3dzZXIgaGFzIGFscmVhZHkgbW92ZWQgdGhlIHNsZWN0aW9uIGJ5IG9uZSBjaGFyYWN0ZXIuLi5cbmEua2V5Q29kZSE9PVV8fGEuc2hpZnRLZXl8fGgudXBkYXRlUmlnaHRBcnJvd0tleShyKSxYJiZjLmNhbmNlbChYKSwhRiYmIUsudGVzdChhLmtleUNvZGUpKS8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBJZ25vcmUgYW55IF9FTlRFUl9LRVlDT0RFIHRoYXQgaGFzIGN0cmxLZXksIG1ldGFLZXkgb3IgYWxLZXkgKi9cbmlmKGEua2V5Q29kZT09PVEmJihhLmN0cmxLZXl8fGEubWV0YUtleXx8YS5hbHRLZXkpKTtlbHNle1xuLy8gaWYgZW50ZXIgLSBpbnNlcnQgbmV3IHRhRGVmYXVsdFdyYXAsIGlmIHNoaWZ0K2VudGVyIGluc2VydCA8YnIvPlxuaWYoXCJcIiE9PXomJlwiPEJSPjxCUj5cIiE9PXomJmEua2V5Q29kZT09PVEmJiFhLmN0cmxLZXkmJiFhLm1ldGFLZXkmJiFhLmFsdEtleSl7Zm9yKHZhciBlPWguZ2V0U2VsZWN0aW9uRWxlbWVudCgpOyFlLm5vZGVOYW1lLm1hdGNoKGspJiZlIT09clswXTspZT1lLnBhcmVudE5vZGU7aWYoYS5zaGlmdEtleSl7XG4vLyBzaGlmdCArIEVudGVyXG52YXIgZj1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbi8vY29uc29sZS5sb2coJ1NoaWZ0K0VudGVyJywgc2VsZWN0aW9uLnRhZ05hbWUsIGF0dHJzLnRhRGVmYXVsdFdyYXAsIHNlbGVjdGlvbi5pbm5lckhUTUwudHJpbSgpKTtcbi8vIEZvciBhbiBMSTogV2Ugc2VlOiBMSSBwIC4uLi48YnI+PGJyPlxuLy8gRm9yIGEgUDogV2Ugc2VlOiBQIHAgLi4uLjxicj48YnI+XG4vLyBvbiBTYWZhcmksIHRoZSBicm93c2VyIGlnbm9yZXMgdGhlIFNoaWZ0K0VudGVyIGFuZCBhY3RzIGp1c3QgYXMgYW4gRW50ZXIgS2V5XG4vLyBGb3IgYW4gTEk6IFdlIHNlZTogTEkgcCA8YnI+XG4vLyBGb3IgYSBQOiBXZSBzZWU6IFAgcCA8YnI+XG5pZigoZj09PXUudGFEZWZhdWx0V3JhcHx8XCJsaVwiPT09Znx8XCJwcmVcIj09PWZ8fFwiZGl2XCI9PT1mKSYmIS8uKzxicj48YnI+Ly50ZXN0KGUuaW5uZXJIVE1MLnRyaW0oKSkpe3ZhciBnPWUucHJldmlvdXNTaWJsaW5nO1xuLy9jb25zb2xlLmxvZygnd3JvbmcuLi4uJywgcHMpO1xuLy8gd2UgbmVlZCB0byByZW1vdmUgdGhpcyBzZWxlY3Rpb24gYW5kIGZpeCB0aGUgcHJldmlvdXNTaWJsaW5nIHVwLi4uXG5nJiYoZy5pbm5lckhUTUw9Zy5pbm5lckhUTUwrXCI8YnI+PGJyPlwiLGFuZ3VsYXIuZWxlbWVudChlKS5yZW1vdmUoKSxoLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZChnKSl9fWVsc2Vcbi8vIG5ldyBwYXJhZ3JhcGgsIGJyIHNob3VsZCBiZSBjYXVnaHQgY29ycmVjdGx5XG4vLyBzaGlmdGVkIHRvIG5vZGVOYW1lIGhlcmUgZnJvbSB0YWdOYW1lIHNpbmNlIGl0IGlzIG1vcmUgd2lkZWx5IHN1cHBvcnRlZCBzZWU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDg3ODQ4NC9kaWZmZXJlbmNlLWJldHdlZW4tdGFnbmFtZS1hbmQtbm9kZW5hbWVcbi8vY29uc29sZS5sb2coJ0VudGVyJywgc2VsZWN0aW9uLm5vZGVOYW1lLCBhdHRycy50YURlZmF1bHRXcmFwLCBzZWxlY3Rpb24uaW5uZXJIVE1MLnRyaW0oKSk7XG5pZihlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9PXUudGFEZWZhdWx0V3JhcCYmXCJsaVwiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoXCJcIj09PWUuaW5uZXJIVE1MLnRyaW0oKXx8XCI8YnI+XCI9PT1lLmlubmVySFRNTC50cmltKCkpKXtcbi8vIENocm9tZSBzdGFydHMgd2l0aCBhIDxkaXY+PGJyPjwvZGl2PiBhZnRlciBhbiBFbnRlcktleVxuLy8gc28gd2UgcmVwbGFjZSB0aGlzIHdpdGggdGhlIF9kZWZhdWx0VmFsXG52YXIgaT1hbmd1bGFyLmVsZW1lbnQoeik7YW5ndWxhci5lbGVtZW50KGUpLnJlcGxhY2VXaXRoKGkpLGguc2V0U2VsZWN0aW9uVG9FbGVtZW50U3RhcnQoaVswXSl9fXZhciBqPVooKTtcIlwiPT09enx8XCJcIiE9PWoudHJpbSgpJiZcIjxicj5cIiE9PWoudHJpbSgpP1wiPFwiIT09ai5zdWJzdHJpbmcoMCwxKSYmXCJcIiE9PXUudGFEZWZhdWx0V3JhcDooYmEoeiksaC5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRTdGFydChyLmNoaWxkcmVuKClbMF0pKTt2YXIgbD14IT09YS5rZXlDb2RlJiZMLnRlc3QoYS5rZXlDb2RlKTtoYSYmYy5jYW5jZWwoaGEpLGhhPWMoZnVuY3Rpb24oKXthYShqLGwsITApfSxDLiRvcHRpb25zLmRlYm91bmNlfHw0MDApLGx8fChYPWMoZnVuY3Rpb24oKXtCLiR1bmRvTWFuYWdlci5wdXNoKGopfSwyNTApKSx4PWEua2V5Q29kZX19KTtcbi8vIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UgZnJvbSBhIHNwZWxsaW5nIGNvcnJlY3Rpb24gaW4gdGhlIGJyb3dzZXIsIHRoZSBvbmx5XG4vLyBjaGFuZ2UgdGhhdCBpcyBzZWVuIGlzIGEgJ2lucHV0JyBhbmQgdGhlICR3YXRjaCgnaHRtbCcpIHNlZXMgbm90aGluZy4uLiBTb1xuLy8gd2UgYWRkZWQgdGhpcyBlbGVtZW50Lm9uKCdpbnB1dCcpIHRvIGNhdGNoIHRoaXMgY2hhbmdlIGFuZCBjYWxsIHRoZSBfc2V0Vmlld1ZhbHVlKClcbi8vIHNvIHRoZSBuZ01vZGVsIGlzIHVwZGF0ZWQgYW5kIGFsbCB3b3JrcyBhcyBpdCBzaG91bGQuXG52YXIgaWE7XG4vLyBQbGFjZWhvbGRlcnMgbm90IHN1cHBvcnRlZCBvbiBpZSA4IGFuZCBiZWxvd1xuaWYoci5vbihcImlucHV0XCIsZnVuY3Rpb24oKXtaKCkhPT1CLiR2aWV3VmFsdWUmJihcbi8vIHdlIHdhaXQgYSB0aW1lIG5vdyB0byBhbGxvdyB0aGUgbmF0dXJhbCAkd2F0Y2goJ2h0bWwnKSB0byBoYW5kbGUgdGhpcyBjaGFuZ2Vcbi8vIGFuZCB0aGVuIGFmdGVyIGEgMSBzZWNvbmQgZGVsYXksIGlmIHRoZXJlIGlzIHN0aWxsIGEgZGlmZmVyZW5jZSB3ZSB3aWxsIGRvIHRoZVxuLy8gX3NldFZpZXdWYWx1ZSgpIGNhbGwuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWY6IGNhbid0IHRlc3QgKi9cbmlhJiZjLmNhbmNlbChpYSksLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGNhbnQnIHRlc3Q/ICovXG5pYT1jKGZ1bmN0aW9uKCl7dmFyIGI9YS5zYXZlU2VsZWN0aW9uKCksYz1aKCk7YyE9PUIuJHZpZXdWYWx1ZSYmXG4vL2NvbnNvbGUubG9nKCdfc2V0Vmlld1ZhbHVlJyk7XG4vL2NvbnNvbGUubG9nKCdvbGQ6JywgbmdNb2RlbC4kdmlld1ZhbHVlKTtcbi8vY29uc29sZS5sb2coJ25ldzonLCBfdmFsKTtcbmFhKGMsITApLFxuLy8gaWYgdGhlIHNhdmVkU2VsZWN0aW9uIG1hcmtlciBpcyBnb25lIGF0IHRoaXMgcG9pbnQsIHdlIGNhbm5vdCByZXN0b3JlIHRoZSBzZWxlY3Rpb24hISFcbi8vY29uc29sZS5sb2coJ3Jhbmd5LnJlc3RvcmVTZWxlY3Rpb24nLCBuZ01vZGVsLiR2aWV3VmFsdWUubGVuZ3RoLCBfc2F2ZWRTZWxlY3Rpb24pO1xuMCE9PUIuJHZpZXdWYWx1ZS5sZW5ndGgmJmEucmVzdG9yZVNlbGVjdGlvbihiKX0sMWUzKSl9KSxyLm9uKFwiYmx1clwiLGYuZXZlbnRzLmJsdXI9ZnVuY3Rpb24oKXtHPSExLC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBpZiByZWFkb25seSBkb24ndCB1cGRhdGUgbW9kZWwgKi9cbkY/KEg9ITAsLy8gZG9uJ3QgcmVkbyB0aGUgd2hvbGUgdGhpbmcsIGp1c3QgY2hlY2sgdGhlIHBsYWNlaG9sZGVyIGxvZ2ljXG5CLiRyZW5kZXIoKSk6YWEodm9pZCAwLHZvaWQgMCwhMCl9KSx1LnBsYWNlaG9sZGVyJiYoZy5pZT44fHx2b2lkIDA9PT1nLmllKSl7dmFyIGphO2lmKCF1LmlkKXRocm93XCJ0ZXh0QW5ndWxhciBFcnJvcjogQW4gdW5pcXVlIElEIGlzIHJlcXVpcmVkIGZvciBwbGFjZWhvbGRlcnMgdG8gd29ya1wiO2phPW0oXCIjXCIrdS5pZCtcIi5wbGFjZWhvbGRlci10ZXh0OmJlZm9yZVwiLCdjb250ZW50OiBcIicrdS5wbGFjZWhvbGRlcisnXCInKSxmLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtuKGphKX0pfXIub24oXCJmb2N1c1wiLGYuZXZlbnRzLmZvY3VzPWZ1bmN0aW9uKCl7Rz0hMCxyLnJlbW92ZUNsYXNzKFwicGxhY2Vob2xkZXItdGV4dFwiKSxfKCl9KSxyLm9uKFwibW91c2V1cFwiLGYuZXZlbnRzLm1vdXNldXA9ZnVuY3Rpb24oKXt2YXIgYT1oLmdldFNlbGVjdGlvbigpO2EmJmEuc3RhcnQuZWxlbWVudD09PXJbMF0mJnIuY2hpbGRyZW4oKS5sZW5ndGgmJmguc2V0U2VsZWN0aW9uVG9FbGVtZW50U3RhcnQoci5jaGlsZHJlbigpWzBdKX0pLFxuLy8gcHJldmVudCBwcm9wYWdhdGlvbiBvbiBtb3VzZWRvd24gaW4gZWRpdG9yLCBzZWUgIzIwNlxuci5vbihcIm1vdXNlZG93blwiLGYuZXZlbnRzLm1vdXNlZG93bj1mdW5jdGlvbihhLGIpey8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiB0aGlzIGlzIGZvciBjYXRjaGluZyB0aGUganFMaXRlIHRlc3RpbmcqL1xuYiYmYW5ndWxhci5leHRlbmQoYSxiKSxhLnN0b3BQcm9wYWdhdGlvbigpfSl9ZWxzZXtcbi8vIGlmIGEgdGV4dGFyZWEgb3IgaW5wdXQganVzdCBhZGQgaW4gY2hhbmdlIGFuZCBibHVyIGhhbmRsZXJzLCBldmVyeXRoaW5nIGVsc2UgaXMgZG9uZSBieSBhbmd1bGFycyBpbnB1dCBkaXJlY3RpdmVcbnIub24oXCJjaGFuZ2UgYmx1clwiLGYuZXZlbnRzLmNoYW5nZT1mLmV2ZW50cy5ibHVyPWZ1bmN0aW9uKCl7Rnx8Qi4kc2V0Vmlld1ZhbHVlKFooKSl9KSxyLm9uKFwia2V5ZG93blwiLGYuZXZlbnRzLmtleWRvd249ZnVuY3Rpb24oYSxiKXtcbi8vIFJlZmVyZW5jZSB0byBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYxNDA2MzIvaG93LXRvLWhhbmRsZS10YWItaW4tdGV4dGFyZWFcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBvdGhlcndpc2Ugbm9ybWFsIGZ1bmN0aW9uYWxpdHkgKi9cbmlmKC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiB0aGlzIGlzIGZvciBjYXRjaGluZyB0aGUganFMaXRlIHRlc3RpbmcqL1xuYiYmYW5ndWxhci5leHRlbmQoYSxiKSxhLmtleUNvZGU9PT1TKXsvLyB0YWIgd2FzIHByZXNzZWRcbi8vIGdldCBjYXJldCBwb3NpdGlvbi9zZWxlY3Rpb25cbnZhciBjPXRoaXMuc2VsZWN0aW9uU3RhcnQsZD10aGlzLnNlbGVjdGlvbkVuZCxlPXIudmFsKCk7aWYoYS5zaGlmdEtleSl7XG4vLyBmaW5kIFxcdFxudmFyIGY9ZS5sYXN0SW5kZXhPZihcIlxcblwiLGMpLGc9ZS5sYXN0SW5kZXhPZihcIlxcdFwiLGMpO2chPT0tMSYmZz49ZiYmKFxuLy8gc2V0IHRleHRhcmVhIHZhbHVlIHRvOiB0ZXh0IGJlZm9yZSBjYXJldCArIHRhYiArIHRleHQgYWZ0ZXIgY2FyZXRcbnIudmFsKGUuc3Vic3RyaW5nKDAsZykrZS5zdWJzdHJpbmcoZysxKSksXG4vLyBwdXQgY2FyZXQgYXQgcmlnaHQgcG9zaXRpb24gYWdhaW4gKGFkZCBvbmUgZm9yIHRoZSB0YWIpXG50aGlzLnNlbGVjdGlvblN0YXJ0PXRoaXMuc2VsZWN0aW9uRW5kPWMtMSl9ZWxzZVxuLy8gc2V0IHRleHRhcmVhIHZhbHVlIHRvOiB0ZXh0IGJlZm9yZSBjYXJldCArIHRhYiArIHRleHQgYWZ0ZXIgY2FyZXRcbnIudmFsKGUuc3Vic3RyaW5nKDAsYykrXCJcXHRcIitlLnN1YnN0cmluZyhkKSksXG4vLyBwdXQgY2FyZXQgYXQgcmlnaHQgcG9zaXRpb24gYWdhaW4gKGFkZCBvbmUgZm9yIHRoZSB0YWIpXG50aGlzLnNlbGVjdGlvblN0YXJ0PXRoaXMuc2VsZWN0aW9uRW5kPWMrMTtcbi8vIHByZXZlbnQgdGhlIGZvY3VzIGxvc2VcbmEucHJldmVudERlZmF1bHQoKX19KTt2YXIga2E9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9XCJcIixkPTA7ZDxiO2QrKyljKz1hO3JldHVybiBjfSxsYT1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspYi5jYWxsKGMsZCxhW2RdKX0sbWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1cIlwiLGQ9YS5jaGlsZE5vZGVzO1xuLy8gdGFiIG91dCBhbmQgYWRkIHRoZSA8dWw+IG9yIDxvbD4gaHRtbCBwaWVjZVxuLy8gbm93IGFkZCBvbiB0aGUgPC9vbD4gb3IgPC91bD4gcGllY2VcbnJldHVybiBiKyssYys9a2EoXCJcXHRcIixiLTEpK2Eub3V0ZXJIVE1MLnN1YnN0cmluZygwLDQpLGxhKGQsZnVuY3Rpb24oYSxkKXsvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogYnJvd3NlciBjYXRjaCAqL1xudmFyIGU9ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOy8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub3QgdGVzdGVkLCBhbmQgdGhpcyB3YXMgb3JpZ2luYWwgY29kZSAtLSBzbyBub3Qgd2FudGluZyB0byBwb3NzaWJseSBjYXVzZSBhbiBpc3N1ZSwgbGVhdmluZyBpdC4uLiAqL1xucmV0dXJuXCIjY29tbWVudFwiPT09ZT92b2lkKGMrPVwiPCEtLVwiK2Qubm9kZVZhbHVlK1wiLS0+XCIpOlwiI3RleHRcIj09PWU/dm9pZChjKz1kLnRleHRDb250ZW50KTp2b2lkKGQub3V0ZXJIVE1MJiYoYys9XCJ1bFwiPT09ZXx8XCJvbFwiPT09ZT9cIlxcblwiK21hKGQsYik6XCJcXG5cIitrYShcIlxcdFwiLGIpK2Qub3V0ZXJIVE1MKSl9KSxjKz1cIlxcblwiK2thKFwiXFx0XCIsYi0xKSthLm91dGVySFRNTC5zdWJzdHJpbmcoYS5vdXRlckhUTUwubGFzdEluZGV4T2YoXCI8XCIpKX07XG4vLyBoYW5kbGUgZm9ybWF0aW5nIG9mIHNvbWV0aGluZyBsaWtlOlxuLy8gPG9sPjwhLS1GaXJzdCBjb21tZW50LS0+XG4vLyAgPGxpPlRlc3QgTGluZSAxPCEtLWNvbW1lbnQgdGVzdCBsaXN0IDEtLT48L2xpPlxuLy8gICAgPHVsPjwhLS1jb21tZW50IHVsLS0+XG4vLyAgICAgIDxsaT5OZXN0ZWQgTGluZSAxPC9saT5cbi8vICAgICAgICA8IS0tY29tbWVudCBiZXR3ZWVuIG5lc3RlZCBsaW5lcy0tPjxsaT5OZXN0ZWQgTGluZSAyPC9saT5cbi8vICAgIDwvdWw+XG4vLyAgPGxpPlRlc3QgTGluZSAzPC9saT5cbi8vIDwvb2w+XG5CLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24oYSl7XG4vLyB0YWJ1bGF0ZSB0aGUgSFRNTCBzbyBpdCBsb29rcyBuaWNlclxuLy9cbi8vIGZpcnN0IGdldCBhIGxpc3Qgb2YgdGhlIG5vZGVzLi4uXG4vLyB3ZSBkbyB0aGlzIGJ5IHVzaW5nIHRoZSBlbGVtZW50IHBhcnNlci4uLlxuLy9cbi8vIGRvaW5nIHRoaXMgLS0gd2hpY2ggaXMgc2ltcGlsZXIgLS0gYnJlYWtzIG91ciB0ZXN0cy4uLlxuLy92YXIgX25vZGVzPWFuZ3VsYXIuZWxlbWVudChodG1sVmFsdWUpO1xudmFyIGI9YW5ndWxhci5lbGVtZW50KFwiPGRpdj5cIithK1wiPC9kaXY+XCIpWzBdLmNoaWxkTm9kZXM7XG4vLyBkbyB0aGUgcmVmb3JtYXR0aW5nIG9mIHRoZSBsYXlvdXQuLi5cbnJldHVybiBiLmxlbmd0aD4wJiYoYT1cIlwiLGxhKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG5vdCB0ZXN0ZWQsIGFuZCB0aGlzIHdhcyBvcmlnaW5hbCBjb2RlIC0tIHNvIG5vdCB3YW50aW5nIHRvIHBvc3NpYmx5IGNhdXNlIGFuIGlzc3VlLCBsZWF2aW5nIGl0Li4uICovXG4vLyB3ZSBhcmVhZHkgaGF2ZSBzb21lIGNvbnRlbnQsIHNvIGRyb3AgdG8gYSBuZXcgbGluZVxuLy8gb2theSBhIHNldCBvZiBsaXN0IHN0dWZmIHdlIHdhbnQgdG8gcmVmb3JtYXQgaW4gYSBuZXN0ZWQgd2F5XG5yZXR1cm5cIiNjb21tZW50XCI9PT1kP3ZvaWQoYSs9XCI8IS0tXCIrYy5ub2RlVmFsdWUrXCItLT5cIik6XCIjdGV4dFwiPT09ZD92b2lkKGErPWMudGV4dENvbnRlbnQpOnZvaWQoYy5vdXRlckhUTUwmJihhLmxlbmd0aD4wJiYoYSs9XCJcXG5cIiksYSs9XCJ1bFwiPT09ZHx8XCJvbFwiPT09ZD9cIlwiK21hKGMsMCk6XCJcIitjLm91dGVySFRNTCkpfSkpLGF9KX12YXIgbmEsb2E9ZnVuY3Rpb24oYSxiKXtcbi8vIGVtaXQgdGhlIGRyb3AgZXZlbnQsIHBhc3MgdGhlIGVsZW1lbnQsIHByZXZlbnRpbmcgc2hvdWxkIGJlIGRvbmUgZWxzZXdoZXJlXG5pZigvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogdGhpcyBpcyBmb3IgY2F0Y2hpbmcgdGhlIGpxTGl0ZSB0ZXN0aW5nKi9cbmImJmFuZ3VsYXIuZXh0ZW5kKGEsYiksIXQmJiFGKXt0PSEwO3ZhciBkO2Q9YS5vcmlnaW5hbEV2ZW50P2Eub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXI6YS5kYXRhVHJhbnNmZXIsZi4kZW1pdChcInRhLWRyb3AtZXZlbnRcIix0aGlzLGEsZCksYyhmdW5jdGlvbigpe3Q9ITEsYWEodm9pZCAwLHZvaWQgMCwhMCl9LDEwMCl9fSxwYT0hMTtcbi8vIGNoYW5nZXMgdG8gdGhlIG1vZGVsIHZhcmlhYmxlIGZyb20gb3V0c2lkZSB0aGUgaHRtbC90ZXh0IGlucHV0c1xuQi4kcmVuZGVyPWZ1bmN0aW9uKCl7LyogaXN0YW5idWwgaWdub3JlIGlmOiBDYXRjaGVzIHJvZ3VlIHJlbmRlcnMsIGhhcmQgdG8gcmVwbGljYXRlIGluIHRlc3RzICovXG5pZighcGEpe3BhPSEwO1xuLy8gY2F0Y2ggbW9kZWwgYmVpbmcgbnVsbCBvciB1bmRlZmluZWRcbnZhciBhPUIuJHZpZXdWYWx1ZXx8XCJcIjtcbi8vIGlmIHRoZSBlZGl0b3IgaXNuJ3QgZm9jdXNlZCBpdCBuZWVkcyB0byBiZSB1cGRhdGVkLCBvdGhlcndpc2UgaXQncyByZWNlaXZpbmcgdXNlciBpbnB1dFxuSHx8KC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBpbiBvdGhlciBjYXNlcyB3ZSBkb24ndCBjYXJlICovXG5EJiZHJiYoXG4vLyB1cGRhdGUgd2hpbGUgZm9jdXNzZWRcbnIucmVtb3ZlQ2xhc3MoXCJwbGFjZWhvbGRlci10ZXh0XCIpLC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkb24ndCBrbm93IGhvdyB0byB0ZXN0IHRoaXMgKi9cbm5hJiZjLmNhbmNlbChuYSksbmE9YyhmdW5jdGlvbigpey8qIGlzdGFuYnVsIGlnbm9yZSBpZjogQ2FuJ3QgYmUgYm90aGVyZWQgdGVzdGluZyB0aGlzLi4uICovXG5HfHwoclswXS5mb2N1cygpLGguc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKHIuY2hpbGRyZW4oKVtyLmNoaWxkcmVuKCkubGVuZ3RoLTFdKSksbmE9dm9pZCAwfSwxKSksRD8oXG4vLyBibGFua1xuYmEoXG4vLyBXWVNJV1lHIE1vZGVcbnUucGxhY2Vob2xkZXI/XCJcIj09PWE/ejphOlwiXCI9PT1hP3o6YSksXG4vLyBpZiBpbiBXWVNJV1lHIGFuZCByZWFkT25seSB3ZSBraWxsIHRoZSB1c2Ugb2YgbGlua3MgYnkgY2xpY2tpbmdcbkY/ci5vZmYoXCJkcm9wXCIsb2EpOihfKCksci5vbihcImRyb3BcIixvYSkpKTpcInRleHRhcmVhXCIhPT1yWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmXCJpbnB1dFwiIT09clswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/XG4vLyBtYWtlIHN1cmUgdGhlIGVuZCB1c2VyIGNhbiBTRUUgdGhlIGh0bWwgY29kZSBhcyBhIGRpc3BsYXkuIFRoaXMgaXMgYSByZWFkLW9ubHkgZGlzcGxheSBlbGVtZW50XG5iYShsKGEpKTpcbi8vIG9ubHkgZm9yIGlucHV0IGFuZCB0ZXh0YXJlYSBpbnB1dHNcbnIudmFsKGEpKSxEJiZ1LnBsYWNlaG9sZGVyJiYoXCJcIj09PWE/Rz9yLnJlbW92ZUNsYXNzKFwicGxhY2Vob2xkZXItdGV4dFwiKTpyLmFkZENsYXNzKFwicGxhY2Vob2xkZXItdGV4dFwiKTpyLnJlbW92ZUNsYXNzKFwicGxhY2Vob2xkZXItdGV4dFwiKSkscGE9SD0hMX19LHUudGFSZWFkb25seSYmKFxuLy9zZXQgaW5pdGlhbCB2YWx1ZVxuRj1mLiRldmFsKHUudGFSZWFkb25seSksRj8oci5hZGRDbGFzcyhcInRhLXJlYWRvbmx5XCIpLFxuLy8gd2UgY2hhbmdlZCB0byByZWFkT25seSBtb2RlICh0YVJlYWRvbmx5PSd0cnVlJylcblwidGV4dGFyZWFcIiE9PXJbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZcImlucHV0XCIhPT1yWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8ci5hdHRyKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpLHZvaWQgMCE9PXIuYXR0cihcImNvbnRlbnRlZGl0YWJsZVwiKSYmci5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIpJiZyLnJlbW92ZUF0dHIoXCJjb250ZW50ZWRpdGFibGVcIikpOihyLnJlbW92ZUNsYXNzKFwidGEtcmVhZG9ubHlcIiksXG4vLyB3ZSBjaGFuZ2VkIHRvIE5PVCByZWFkT25seSBtb2RlICh0YVJlYWRvbmx5PSdmYWxzZScpXG5cInRleHRhcmVhXCI9PT1yWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJpbnB1dFwiPT09clswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/ci5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik6RCYmci5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIsXCJ0cnVlXCIpKSxcbi8vIHRhUmVhZG9ubHkgb25seSBoYXMgYW4gZWZmZWN0IGlmIHRoZSB0YUJpbmQgZWxlbWVudCBpcyBhbiBpbnB1dCBvciB0ZXh0YXJlYSBvciBoYXMgY29udGVudGVkaXRhYmxlPSd0cnVlJyBvbiBpdC5cbi8vIE90aGVyd2lzZSBpdCBpcyByZWFkb25seSBieSBkZWZhdWx0XG5mLiR3YXRjaCh1LnRhUmVhZG9ubHksZnVuY3Rpb24oYSxiKXtiIT09YSYmKGE/KHIuYWRkQ2xhc3MoXCJ0YS1yZWFkb25seVwiKSxcbi8vIHdlIGNoYW5nZWQgdG8gcmVhZE9ubHkgbW9kZSAodGFSZWFkb25seT0ndHJ1ZScpXG5cInRleHRhcmVhXCIhPT1yWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmXCJpbnB1dFwiIT09clswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fHIuYXR0cihcImRpc2FibGVkXCIsXCJkaXNhYmxlZFwiKSx2b2lkIDAhPT1yLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIikmJnIuYXR0cihcImNvbnRlbnRlZGl0YWJsZVwiKSYmci5yZW1vdmVBdHRyKFwiY29udGVudGVkaXRhYmxlXCIpLFxuLy8gdHVybiBPTiBzZWxlY3RvciBjbGljayBoYW5kbGVyc1xuYW5ndWxhci5mb3JFYWNoKGosZnVuY3Rpb24oYSl7ci5maW5kKGEpLm9uKFwiY2xpY2tcIiwkKX0pLHIub2ZmKFwiZHJvcFwiLG9hKSk6KHIucmVtb3ZlQ2xhc3MoXCJ0YS1yZWFkb25seVwiKSxcbi8vIHdlIGNoYW5nZWQgdG8gTk9UIHJlYWRPbmx5IG1vZGUgKHRhUmVhZG9ubHk9J2ZhbHNlJylcblwidGV4dGFyZWFcIj09PXJbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpfHxcImlucHV0XCI9PT1yWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9yLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTpEJiZyLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIixcInRydWVcIiksXG4vLyByZW1vdmUgdGhlIHNlbGVjdG9yIGNsaWNrIGhhbmRsZXJzXG5hbmd1bGFyLmZvckVhY2goaixmdW5jdGlvbihhKXtyLmZpbmQoYSkub2ZmKFwiY2xpY2tcIiwkKX0pLHIub24oXCJkcm9wXCIsb2EpKSxGPWEpfSkpLFxuLy8gSW5pdGlhbGlzZSB0aGUgc2VsZWN0YWJsZUVsZW1lbnRzXG4vLyBpZiBpbiBXWVNJV1lHIGFuZCByZWFkT25seSB3ZSBraWxsIHRoZSB1c2Ugb2YgbGlua3MgYnkgY2xpY2tpbmdcbkQmJiFGJiYoYW5ndWxhci5mb3JFYWNoKGosZnVuY3Rpb24oYSl7ci5maW5kKGEpLm9uKFwiY2xpY2tcIiwkKX0pLHIub24oXCJkcm9wXCIsb2EpKX19fV0pO1xuLy8gdGhpcyBnbG9iYWwgdmFyIGlzIHVzZWQgdG8gcHJldmVudCBtdWx0aXBsZSBmaXJlcyBvZiB0aGUgZHJvcCBldmVudC4gTmVlZHMgdG8gYmUgZ2xvYmFsIHRvIHRoZSB0ZXh0QW5ndWxhciBmaWxlLlxudmFyIHQ9ITEsdT1hbmd1bGFyLm1vZHVsZShcInRleHRBbmd1bGFyXCIsW1wibmdTYW5pdGl6ZVwiLFwidGV4dEFuZ3VsYXJTZXR1cFwiLFwidGV4dEFuZ3VsYXIuZmFjdG9yaWVzXCIsXCJ0ZXh0QW5ndWxhci5ET01cIixcInRleHRBbmd1bGFyLnZhbGlkYXRvcnNcIixcInRleHRBbmd1bGFyLnRhQmluZFwiXSk7Ly9UaGlzIG1ha2VzIG5nU2FuaXRpemUgcmVxdWlyZWRcbnJldHVybiB1LmNvbmZpZyhbZnVuY3Rpb24oKXtcbi8vIGNsZWFyIHRhVG9vbHMgdmFyaWFibGUuIEp1c3QgY2F0Y2hlcyB0ZXN0aW5nIGFuZCBhbnkgb3RoZXIgdGltZSB0aGF0IHRoaXMgY29uZmlnIG1heSBydW4gbXVsdGlwbGUgdGltZXMuLi5cbmFuZ3VsYXIuZm9yRWFjaChlLGZ1bmN0aW9uKGEsYil7ZGVsZXRlIGVbYl19KX1dKSx1LmRpcmVjdGl2ZShcInRleHRBbmd1bGFyXCIsW1wiJGNvbXBpbGVcIixcIiR0aW1lb3V0XCIsXCJ0YU9wdGlvbnNcIixcInRhU2VsZWN0aW9uXCIsXCJ0YUV4ZWNDb21tYW5kXCIsXCJ0ZXh0QW5ndWxhck1hbmFnZXJcIixcIiRkb2N1bWVudFwiLFwiJGFuaW1hdGVcIixcIiRsb2dcIixcIiRxXCIsXCIkcGFyc2VcIixmdW5jdGlvbihiLGMsZCxlLGYsZyxoLGksaixrLGwpe3JldHVybntyZXF1aXJlOlwiP25nTW9kZWxcIixzY29wZTp7fSxyZXN0cmljdDpcIkVBXCIscHJpb3JpdHk6MiwvLyBTbyB3ZSBvdmVycmlkZSB2YWxpZGF0b3JzIGNvcnJlY3RseVxubGluazpmdW5jdGlvbihtLG4sbyxwKXtcbi8vIGFsbCB0aGVzZSB2YXJzIHNob3VsZCBub3QgYmUgYWNjZXNzYWJsZSBvdXRzaWRlIHRoaXMgZGlyZWN0aXZlXG52YXIgcSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQz1vLnNlcmlhbD9vLnNlcmlhbDpNYXRoLmZsb29yKDFlMTYqTWF0aC5yYW5kb20oKSk7bS5fbmFtZT1vLm5hbWU/by5uYW1lOlwidGV4dEFuZ3VsYXJFZGl0b3JcIitDO3ZhciBEPWZ1bmN0aW9uKGEsYixkKXtjKGZ1bmN0aW9uKCl7YS5vbmUoYixkKX0sMTAwKX07aWYoeT1mKG8udGFEZWZhdWx0V3JhcCksXG4vLyBnZXQgdGhlIHNldHRpbmdzIGZyb20gdGhlIGRlZmF1bHRzIGFuZCBhZGQgb3VyIHNwZWNpZmljIGZ1bmN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgb24gdGhlIHNjb3BlXG5hbmd1bGFyLmV4dGVuZChtLGFuZ3VsYXIuY29weShkKSx7XG4vLyB3cmFwcyB0aGUgc2VsZWN0aW9uIGluIHRoZSBwcm92aWRlZCB0YWcgLyBleGVjQ29tbWFuZCBmdW5jdGlvbi4gU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIFdZU0lXWUcgbW9kZS5cbndyYXBTZWxlY3Rpb246ZnVuY3Rpb24oYSxiLGMpe1xuLy8gd2UgcmVzdG9yZSB0aGUgc2F2ZWQgc2VsZWN0aW9uIHRoYXQgd2FzIHNhdmVkIHdoZW4gZm9jdXMgd2FzIGxvc3Rcbi8qIE5PVCBGVU5DVElPTkFMIFlFVCAqL1xuLyogdGV4dEFuZ3VsYXJNYW5hZ2VyLnJlc3RvcmVGb2N1c1NlbGVjdGlvbihzY29wZS5fbmFtZSwgc2NvcGUpOyAqL1xuXCJ1bmRvXCI9PT1hLnRvTG93ZXJDYXNlKCk/bVtcIiR1bmRvVGFCaW5kdGFUZXh0RWxlbWVudFwiK0NdKCk6XCJyZWRvXCI9PT1hLnRvTG93ZXJDYXNlKCk/bVtcIiRyZWRvVGFCaW5kdGFUZXh0RWxlbWVudFwiK0NdKCk6KFxuLy8gY2F0Y2ggZXJyb3JzIGxpa2UgRkYgZXJyb3Jpbmcgd2hlbiB5b3UgdHJ5IHRvIGZvcmNlIGFuIHVuZG8gd2l0aCBub3RoaW5nIGRvbmVcbnkoYSwhMSxiLG0uZGVmYXVsdFRhZ0F0dHJpYnV0ZXMpLGMmJlxuLy8gcmUtYXBwbHkgdGhlIHNlbGVjdGFibGUgdG9vbCBldmVudHNcbm1bXCJyZUFwcGx5T25TZWxlY3RvckhhbmRsZXJzdGFUZXh0RWxlbWVudFwiK0NdKCksXG4vLyByZWZvY3VzIG9uIHRoZSBzaG93biBkaXNwbGF5IGVsZW1lbnQsIHRoaXMgZml4ZXMgYSBkaXNwbGF5IGJ1ZyB3aGVuIHVzaW5nIDpmb2N1cyBzdHlsZXMgdG8gb3V0bGluZSB0aGUgYm94LlxuLy8gWW91IHN0aWxsIGhhdmUgZm9jdXMgb24gdGhlIHRleHQvaHRtbCBpbnB1dCBpdCBqdXN0IGRvZXNuJ3Qgc2hvdyB1cFxubS5kaXNwbGF5RWxlbWVudHMudGV4dFswXS5mb2N1cygpKX0sc2hvd0h0bWw6bS4kZXZhbChvLnRhU2hvd0h0bWwpfHwhMX0pLFxuLy8gc2V0dXAgdGhlIG9wdGlvbnMgZnJvbSB0aGUgb3B0aW9uYWwgYXR0cmlidXRlc1xuby50YUZvY3Vzc2VkQ2xhc3MmJihtLmNsYXNzZXMuZm9jdXNzZWQ9by50YUZvY3Vzc2VkQ2xhc3MpLG8udGFUZXh0RWRpdG9yQ2xhc3MmJihtLmNsYXNzZXMudGV4dEVkaXRvcj1vLnRhVGV4dEVkaXRvckNsYXNzKSxvLnRhSHRtbEVkaXRvckNsYXNzJiYobS5jbGFzc2VzLmh0bWxFZGl0b3I9by50YUh0bWxFZGl0b3JDbGFzcyksby50YURlZmF1bHRUYWdBdHRyaWJ1dGVzKXRyeXtcbi8vXHRUT0RPOiBUaGlzIHNob3VsZCB1c2UgYW5ndWxhci5tZXJnZSB0byBlbmhhbmNlIGZ1bmN0aW9uYWxpdHkgb25jZSBhbmd1bGFyIDEuNCBpcyByZXF1aXJlZFxuYW5ndWxhci5leHRlbmQobS5kZWZhdWx0VGFnQXR0cmlidXRlcyxhbmd1bGFyLmZyb21Kc29uKG8udGFEZWZhdWx0VGFnQXR0cmlidXRlcykpfWNhdGNoKGEpe2ouZXJyb3IoYSl9XG4vLyBvcHRpb25hbCBzZXR1cCBmdW5jdGlvbnNcbm8udGFUZXh0RWRpdG9yU2V0dXAmJihtLnNldHVwLnRleHRFZGl0b3JTZXR1cD1tLiRwYXJlbnQuJGV2YWwoby50YVRleHRFZGl0b3JTZXR1cCkpLG8udGFIdG1sRWRpdG9yU2V0dXAmJihtLnNldHVwLmh0bWxFZGl0b3JTZXR1cD1tLiRwYXJlbnQuJGV2YWwoby50YUh0bWxFZGl0b3JTZXR1cCkpLFxuLy8gb3B0aW9uYWwgZmlsZURyb3BIYW5kbGVyIGZ1bmN0aW9uXG5vLnRhRmlsZURyb3A/bS5maWxlRHJvcEhhbmRsZXI9bS4kcGFyZW50LiRldmFsKG8udGFGaWxlRHJvcCk6bS5maWxlRHJvcEhhbmRsZXI9bS5kZWZhdWx0RmlsZURyb3BIYW5kbGVyLHc9blswXS5pbm5lckhUTUwsXG4vLyBjbGVhciB0aGUgb3JpZ2luYWwgY29udGVudFxublswXS5pbm5lckhUTUw9XCJcIixcbi8vIFNldHVwIHRoZSBIVE1MIGVsZW1lbnRzIGFzIHZhcmlhYmxlIHJlZmVyZW5jZXMgZm9yIHVzZSBsYXRlclxubS5kaXNwbGF5RWxlbWVudHM9e1xuLy8gd2Ugc3RpbGwgbmVlZCB0aGUgaGlkZGVuIGlucHV0IGV2ZW4gd2l0aCBhIHRleHRhcmVhIGFzIHRoZSB0ZXh0YXJlYSBtYXkgaGF2ZSBpbnZhbGlkL29sZCBpbnB1dCBpbiBpdCxcbi8vIHdoZXJhcyB0aGUgaW5wdXQgd2lsbCBBTExXQVlTIGhhdmUgdGhlIGNvcnJlY3QgdmFsdWUuXG5mb3JtaW5wdXQ6YW5ndWxhci5lbGVtZW50KFwiPGlucHV0IHR5cGU9J2hpZGRlbicgdGFiaW5kZXg9Jy0xJyBzdHlsZT0nZGlzcGxheTogbm9uZTsnPlwiKSxodG1sOmFuZ3VsYXIuZWxlbWVudChcIjx0ZXh0YXJlYT48L3RleHRhcmVhPlwiKSx0ZXh0OmFuZ3VsYXIuZWxlbWVudChcIjxkaXY+PC9kaXY+XCIpLFxuLy8gb3RoZXIgdG9vbGJhc2VkIGVsZW1lbnRzXG5zY3JvbGxXaW5kb3c6YW5ndWxhci5lbGVtZW50KFwiPGRpdiBjbGFzcz0ndGEtc2Nyb2xsLXdpbmRvdyc+PC9kaXY+XCIpLHBvcG92ZXI6YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwicG9wb3ZlciBmYWRlIGJvdHRvbVwiIHN0eWxlPVwibWF4LXdpZHRoOiBub25lOyB3aWR0aDogMzA1cHg7XCI+PC9kaXY+JykscG9wb3ZlckFycm93OmFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+JykscG9wb3ZlckNvbnRhaW5lcjphbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj4nKSxyZXNpemU6e292ZXJsYXk6YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwidGEtcmVzaXplci1oYW5kbGUtb3ZlcmxheVwiPjwvZGl2PicpLGJhY2tncm91bmQ6YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwidGEtcmVzaXplci1oYW5kbGUtYmFja2dyb3VuZFwiPjwvZGl2PicpLGFuY2hvcnM6W2FuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cInRhLXJlc2l6ZXItaGFuZGxlLWNvcm5lciB0YS1yZXNpemVyLWhhbmRsZS1jb3JuZXItdGxcIj48L2Rpdj4nKSxhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJ0YS1yZXNpemVyLWhhbmRsZS1jb3JuZXIgdGEtcmVzaXplci1oYW5kbGUtY29ybmVyLXRyXCI+PC9kaXY+JyksYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwidGEtcmVzaXplci1oYW5kbGUtY29ybmVyIHRhLXJlc2l6ZXItaGFuZGxlLWNvcm5lci1ibFwiPjwvZGl2PicpLGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cInRhLXJlc2l6ZXItaGFuZGxlLWNvcm5lciB0YS1yZXNpemVyLWhhbmRsZS1jb3JuZXItYnJcIj48L2Rpdj4nKV0saW5mbzphbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJ0YS1yZXNpemVyLWhhbmRsZS1pbmZvXCI+PC9kaXY+Jyl9fSxcbi8vIFNldHVwIHRoZSBwb3BvdmVyXG5tLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLmFwcGVuZChtLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyQXJyb3cpLG0uZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuYXBwZW5kKG0uZGlzcGxheUVsZW1lbnRzLnBvcG92ZXJDb250YWluZXIpLG0uZGlzcGxheUVsZW1lbnRzLnNjcm9sbFdpbmRvdy5hcHBlbmQobS5kaXNwbGF5RWxlbWVudHMucG9wb3ZlciksbS5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEsYil7LyogaXN0YW5idWwgaWdub3JlIGVsc2U6IHRoaXMgaXMgZm9yIGNhdGNoaW5nIHRoZSBqcUxpdGUgdGVzdGluZyovXG4vLyB0aGlzIHByZXZlbnRzIGZvY3Vzb3V0IGZyb20gZmlyaW5nIG9uIHRoZSBlZGl0b3Igd2hlbiBjbGlja2luZyBhbnl0aGluZyBpbiB0aGUgcG9wb3ZlclxucmV0dXJuIGImJmFuZ3VsYXIuZXh0ZW5kKGEsYiksYS5wcmV2ZW50RGVmYXVsdCgpLCExfSksLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHBvcG92ZXIgcmVzaXplIGFuZCBzY3JvbGwgZXZlbnRzIGhhbmRsZWQgKi9cbm0uaGFuZGxlUG9wb3ZlckV2ZW50cz1mdW5jdGlvbigpe1wiYmxvY2tcIj09PW0uZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuY3NzKFwiZGlzcGxheVwiKSYmKEImJmMuY2FuY2VsKEIpLEI9YyhmdW5jdGlvbigpe1xuLy9jb25zb2xlLmxvZygncmVzaXplJywgc2NvcGUuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuY3NzKCdkaXNwbGF5JykpO1xubS5yZWZsb3dQb3BvdmVyKG0ucmVzaXplRWxlbWVudCksbS5yZWZsb3dSZXNpemVPdmVybGF5KG0ucmVzaXplRWxlbWVudCl9LDEwMCkpfSwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogYnJvd3NlciByZXNpemUgY2hlY2sgKi9cbmFuZ3VsYXIuZWxlbWVudCh3aW5kb3cpLm9uKFwicmVzaXplXCIsbS5oYW5kbGVQb3BvdmVyRXZlbnRzKSwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogYnJvd3NlciBzY3JvbGwgY2hlY2sgKi9cbmFuZ3VsYXIuZWxlbWVudCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIsbS5oYW5kbGVQb3BvdmVyRXZlbnRzKTtcbi8vIHdlIHdhbnQgdG8ga25vdyBpZiBhIGdpdmVuIG5vZGUgaGFzIGEgc2Nyb2xsYmFyIVxuLy8gY3JlZGl0IHRvIGxvdGlmIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDg4MDM4MS9jaGVjay13aGV0aGVyLWh0bWwtZWxlbWVudC1oYXMtc2Nyb2xsYmFyc1xudmFyIEU9ZnVuY3Rpb24oYSl7dmFyIGIsYz17dmVydGljYWw6ITEsaG9yaXpvbnRhbDohMX07dHJ5e2lmKGI9d2luZG93LmdldENvbXB1dGVkU3R5bGUoYSksbnVsbD09PWIpcmV0dXJuIGN9Y2F0Y2goYSl7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGVycm9yIGhhbmRsZXIgKi9cbnJldHVybiBjfXZhciBkPWJbXCJvdmVyZmxvdy15XCJdLGU9YltcIm92ZXJmbG93LXhcIl07cmV0dXJue3ZlcnRpY2FsOihcInNjcm9sbFwiPT09ZHx8XCJhdXRvXCI9PT1kKSYmLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG5vdCB0ZXN0ZWQgKi9cbmEuc2Nyb2xsSGVpZ2h0PmEuY2xpZW50SGVpZ2h0LGhvcml6b250YWw6KFwic2Nyb2xsXCI9PT1lfHxcImF1dG9cIj09PWUpJiYvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IHRlc3RlZCAqL1xuYS5zY3JvbGxXaWR0aD5hLmNsaWVudFdpZHRofX07XG4vLyBnZXRTY3JvbGxUb3Bcbi8vXG4vLyB3ZSBzdHJ1Y3R1cmUgdGhpcyBzbyB0aGF0IGl0IGNhbiBjbGltYiB0aGUgcGFyZW50cyBvZiB0aGUgX2VsIGFuZCB3aGVuIGl0IGZpbmRzXG4vLyBvbmUgd2l0aCBzY3JvbGxiYXJzLCBpdCBhZGRzIGFuIEV2ZW50TGlzdGVuZXIsIHNvIHRoYXQgbm8gbWF0dGVyIGhvdyB0aGVcbi8vIERPTSBpcyBzdHJ1Y3R1cmVkIGluIHRoZSB1c2VyIEFQUCwgaWYgdGhlcmUgaXMgYSBzY3JvbGxiYXIgbm90IGFzIHBhcnQgb2YgdGhlXG4vLyB0YS1zY3JvbGwtd2luZG93LCB3ZSB3aWxsIHN0aWxsIGNhcHR1cmUgdGhlICdzY3JvbGwnIGV2ZW50cy4uLlxuLy8gYW5kIGhhbmRsZSB0aGUgc2Nyb2xsIGV2ZW50IHByb3Blcmx5IGFuZCBkbyB0aGUgcmVzaXplLCBldGMuXG4vL1xubS5nZXRTY3JvbGxUb3A9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnNjcm9sbFRvcDsvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogdHJpZ2dlcmVkIG9ubHkgaWYgaGFzIHNjcm9sbGJhciBhbmQgc2Nyb2xsZWQgKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiB0cmlnZ2VyZWQgb25seSBpZiBoYXMgc2Nyb2xsYmFyICovXG4vLyByZW1vdmUgZWxlbWVudCBldmVudExpc3RlbmVyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogdHJpZ2dlcmVkIG9ubHkgaWYgaGFzIHNjcm9sbGJhciBhbmQgc2Nyb2xsZWQgKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBjYXRjaGVzIG9ubHkgaWYgbm8gc2Nyb2xsICovXG5yZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYyYmKGM9MCksYiYmRShhKS52ZXJ0aWNhbCYmKGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLG0uX3Njcm9sbExpc3RlbmVyLCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixtLl9zY3JvbGxMaXN0ZW5lciwhMSkpLDAhPT1jP3tub2RlOmEubm9kZU5hbWUsdG9wOmN9OmEucGFyZW50Tm9kZT9tLmdldFNjcm9sbFRvcChhLnBhcmVudE5vZGUsYik6e25vZGU6XCI8bm9uZT5cIix0b3A6MH19LFxuLy8gZGVmaW5lIHRoZSBwb3BvdmVyIHNob3cgYW5kIGhpZGUgZnVuY3Rpb25zXG5tLnNob3dQb3BvdmVyPWZ1bmN0aW9uKGEpe20uZ2V0U2Nyb2xsVG9wKG0uZGlzcGxheUVsZW1lbnRzLnNjcm9sbFdpbmRvd1swXSwhMCksbS5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKSxcbi8vIHdlIG11c3QgdXNlIGEgJHRpbWVvdXQgaGVyZSwgb3IgdGhlIGNzcyBjaGFuZ2UgdG8gdGhlXG4vLyBkaXNwbGF5RWxlbWVudHMucmVzaXplLm92ZXJsYXkgd2lsbCBub3QgdGFrZSEhIVxuLy8gV0hZPz8/XG5jKGZ1bmN0aW9uKCl7bS5kaXNwbGF5RWxlbWVudHMucmVzaXplLm92ZXJsYXkuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIil9KSxtLnJlc2l6ZUVsZW1lbnQ9YSxtLnJlZmxvd1BvcG92ZXIoYSksaS5hZGRDbGFzcyhtLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLFwiaW5cIiksRChoLmZpbmQoXCJib2R5XCIpLFwiY2xpY2sga2V5dXBcIixmdW5jdGlvbigpe20uaGlkZVBvcG92ZXIoKX0pfSwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogYnJvd3NlciBzY3JvbGwgZXZlbnQgaGFuZGxlciAqL1xubS5fc2Nyb2xsTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXttLmhhbmRsZVBvcG92ZXJFdmVudHMoKX0sbS5yZWZsb3dQb3BvdmVyPWZ1bmN0aW9uKGEpe3ZhciBiPW0uZ2V0U2Nyb2xsVG9wKG0uZGlzcGxheUVsZW1lbnRzLnNjcm9sbFdpbmRvd1swXSwhMSksYz1hWzBdLm9mZnNldFRvcC1iLnRvcDtcbi8vdmFyIHNwYWNlQmVsb3dJbWFnZSA9IHNjb3BlLmRpc3BsYXlFbGVtZW50cy50ZXh0WzBdLm9mZnNldEhlaWdodCAtIF9lbFswXS5vZmZzZXRIZWlnaHQgLSBzcGFjZUFib3ZlSW1hZ2U7XG4vL2NvbnNvbGUubG9nKHNwYWNlQWJvdmVJbWFnZSwgc3BhY2VCZWxvd0ltYWdlKTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBpZjogY2F0Y2hlcyBvbmx5IGlmIG5lYXIgYm90dG9tIG9mIGVkaXRvciAqL1xuYzw1MT8obS5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5jc3MoXCJ0b3BcIixhWzBdLm9mZnNldFRvcCthWzBdLm9mZnNldEhlaWdodCttLmRpc3BsYXlFbGVtZW50cy5zY3JvbGxXaW5kb3dbMF0uc2Nyb2xsVG9wK1wicHhcIiksbS5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5yZW1vdmVDbGFzcyhcInRvcFwiKS5hZGRDbGFzcyhcImJvdHRvbVwiKSk6KG0uZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuY3NzKFwidG9wXCIsYVswXS5vZmZzZXRUb3AtNTQrbS5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93WzBdLnNjcm9sbFRvcCtcInB4XCIpLG0uZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIucmVtb3ZlQ2xhc3MoXCJib3R0b21cIikuYWRkQ2xhc3MoXCJ0b3BcIikpO3ZhciBkPW0uZGlzcGxheUVsZW1lbnRzLnRleHRbMF0ub2Zmc2V0V2lkdGgtbS5kaXNwbGF5RWxlbWVudHMucG9wb3ZlclswXS5vZmZzZXRXaWR0aCxlPWFbMF0ub2Zmc2V0TGVmdCthWzBdLm9mZnNldFdpZHRoLzItbS5kaXNwbGF5RWxlbWVudHMucG9wb3ZlclswXS5vZmZzZXRXaWR0aC8yLGY9TWF0aC5tYXgoMCxNYXRoLm1pbihkLGUpKSxnPU1hdGgubWluKGUsTWF0aC5tYXgoMCxlLWQpKS0xMTtmKz13aW5kb3cuc2Nyb2xsWCxnLT13aW5kb3cuc2Nyb2xsWCxtLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLmNzcyhcImxlZnRcIixmK1wicHhcIiksbS5kaXNwbGF5RWxlbWVudHMucG9wb3ZlckFycm93LmNzcyhcIm1hcmdpbi1sZWZ0XCIsZytcInB4XCIpfSxtLmhpZGVQb3BvdmVyPWZ1bmN0aW9uKCl7bS5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLG0uZGlzcGxheUVsZW1lbnRzLnBvcG92ZXJDb250YWluZXIuYXR0cihcInN0eWxlXCIsXCJcIiksbS5kaXNwbGF5RWxlbWVudHMucG9wb3ZlckNvbnRhaW5lci5hdHRyKFwiY2xhc3NcIixcInBvcG92ZXItY29udGVudFwiKSxtLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLnJlbW92ZUNsYXNzKFwiaW5cIiksbS5kaXNwbGF5RWxlbWVudHMucmVzaXplLm92ZXJsYXkuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sXG4vLyBzZXR1cCB0aGUgcmVzaXplIG92ZXJsYXlcbm0uZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5vdmVybGF5LmFwcGVuZChtLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuYmFja2dyb3VuZCksYW5ndWxhci5mb3JFYWNoKG0uZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5hbmNob3JzLGZ1bmN0aW9uKGEpe20uZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5vdmVybGF5LmFwcGVuZChhKX0pLG0uZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5vdmVybGF5LmFwcGVuZChtLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuaW5mbyksbS5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93LmFwcGVuZChtLmRpc3BsYXlFbGVtZW50cy5yZXNpemUub3ZlcmxheSksXG4vLyBBIGNsaWNrIGV2ZW50IG9uIHRoZSByZXNpemUuYmFja2dyb3VuZCB3aWxsIG5vdyBzaGlmdCB0aGUgZm9jdXMgdG8gdGhlIGVkaXRvclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGNsaWNrIG9uIHRoZSByZXNpemUuYmFja2dyb3VuZCB0byBmb2N1cyBiYWNrIHRvIGVkaXRvciAqL1xubS5kaXNwbGF5RWxlbWVudHMucmVzaXplLmJhY2tncm91bmQub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe20uZGlzcGxheUVsZW1lbnRzLnRleHRbMF0uZm9jdXMoKX0pLFxuLy8gZGVmaW5lIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50c1xubS5yZWZsb3dSZXNpemVPdmVybGF5PWZ1bmN0aW9uKGEpe2E9YW5ndWxhci5lbGVtZW50KGEpWzBdLG0uZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5vdmVybGF5LmNzcyh7ZGlzcGxheTpcImJsb2NrXCIsbGVmdDphLm9mZnNldExlZnQtNStcInB4XCIsdG9wOmEub2Zmc2V0VG9wLTUrXCJweFwiLHdpZHRoOmEub2Zmc2V0V2lkdGgrMTArXCJweFwiLGhlaWdodDphLm9mZnNldEhlaWdodCsxMCtcInB4XCJ9KSxtLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuaW5mby50ZXh0KGEub2Zmc2V0V2lkdGgrXCIgeCBcIithLm9mZnNldEhlaWdodCl9LC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBwcmV0dHkgc3VyZSBwaGFudG9tanMgd29uJ3QgdGVzdCB0aGlzICovXG5tLnNob3dSZXNpemVPdmVybGF5PWZ1bmN0aW9uKGEpe3ZhciBiPWguZmluZChcImJvZHlcIik7ej1mdW5jdGlvbihjKXt2YXIgZD17d2lkdGg6cGFyc2VJbnQoYS5hdHRyKFwid2lkdGhcIikpLGhlaWdodDpwYXJzZUludChhLmF0dHIoXCJoZWlnaHRcIikpLHg6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfTsodm9pZCAwPT09ZC53aWR0aHx8aXNOYU4oZC53aWR0aCkpJiYoZC53aWR0aD1hWzBdLm9mZnNldFdpZHRoKSwodm9pZCAwPT09ZC5oZWlnaHR8fGlzTmFOKGQuaGVpZ2h0KSkmJihkLmhlaWdodD1hWzBdLm9mZnNldEhlaWdodCksbS5oaWRlUG9wb3ZlcigpO3ZhciBlPWQuaGVpZ2h0L2Qud2lkdGgsZj1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBNYXRoLnJvdW5kKE1hdGgubWF4KDAsYSkpfVxuLy8gY2FsY3VsYXRlIG5ldyBzaXplXG52YXIgZj17eDpNYXRoLm1heCgwLGQud2lkdGgrKGIuY2xpZW50WC1kLngpKSx5Ok1hdGgubWF4KDAsZC5oZWlnaHQrKGIuY2xpZW50WS1kLnkpKX0sZz12b2lkIDAhPT1vLnRhUmVzaXplRm9yY2VBc3BlY3RSYXRpbyxoPW8udGFSZXNpemVNYWludGFpbkFzcGVjdFJhdGlvLGk9Z3x8aCYmIWIuc2hpZnRLZXk7aWYoaSl7dmFyIGo9Zi55L2YueDtmLng9ZT5qP2YueDpmLnkvZSxmLnk9ZT5qP2YueCplOmYueX12YXIgaz1hbmd1bGFyLmVsZW1lbnQoYSk7ay5jc3MoXCJoZWlnaHRcIixjKGYueSkrXCJweFwiKSxrLmNzcyhcIndpZHRoXCIsYyhmLngpK1wicHhcIiksXG4vLyByZWZsb3cgdGhlIHBvcG92ZXIgdG9vbHRpcFxubS5yZWZsb3dSZXNpemVPdmVybGF5KGEpfTtiLm9uKFwibW91c2Vtb3ZlXCIsZiksRChiLFwibW91c2V1cFwiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpLGIub2ZmKFwibW91c2Vtb3ZlXCIsZiksXG4vLyBhdCB0aGlzIHBvaW50LCB3ZSBuZWVkIHRvIGZvcmNlIHRoZSBtb2RlbCB0byB1cGRhdGUhIHNpbmNlIHRoZSBjc3MgaGFzIGNoYW5nZWQhXG4vLyB0aGlzIGZpeGVzIGJ1ZzogIzg2MiAtIHdlIG5vdyBoaWRlIHRoZSBwb3BvdmVyIC0tIGFzIHRoaXMgc2VlbXMgbW9yZSBjb25zaXRlbnQuXG4vLyB0aGVyZSBhcmUgc3RpbGwgaXNzdWVzIHVuZGVyIGZpcmVmb3gsIHRoZSB3aW5kb3cgZG9lcyBub3QgcmVwYWludC4gLS0gbm90IHN1cmVcbi8vIGhvdyBiZXN0IHRvIHJlc29sdmUgdGhpcywgYnV0IGNsaWNraW5nIGFueXdoZXJlIHdvcmtzLlxubS4kYXBwbHkoZnVuY3Rpb24oKXttLmhpZGVQb3BvdmVyKCksbS51cGRhdGVUYUJpbmR0YVRleHRFbGVtZW50KCl9LDEwMCl9KSxjLnN0b3BQcm9wYWdhdGlvbigpLGMucHJldmVudERlZmF1bHQoKX0sbS5kaXNwbGF5RWxlbWVudHMucmVzaXplLmFuY2hvcnNbM10ub2ZmKFwibW91c2Vkb3duXCIpLG0uZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5hbmNob3JzWzNdLm9uKFwibW91c2Vkb3duXCIseiksbS5yZWZsb3dSZXNpemVPdmVybGF5KGEpLEQoYixcImNsaWNrXCIsZnVuY3Rpb24oKXttLmhpZGVSZXNpemVPdmVybGF5KCl9KX0sLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHByZXR0eSBzdXJlIHBoYW50b21qcyB3b24ndCB0ZXN0IHRoaXMgKi9cbm0uaGlkZVJlc2l6ZU92ZXJsYXk9ZnVuY3Rpb24oKXttLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuYW5jaG9yc1szXS5vZmYoXCJtb3VzZWRvd25cIix6KSxtLmRpc3BsYXlFbGVtZW50cy5yZXNpemUub3ZlcmxheS5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxcbi8vIGFsbG93IGZvciBpbnNlcnRpb24gb2YgY3VzdG9tIGRpcmVjdGl2ZXMgb24gdGhlIHRleHRhcmVhIGFuZCBkaXZcbm0uc2V0dXAuaHRtbEVkaXRvclNldHVwKG0uZGlzcGxheUVsZW1lbnRzLmh0bWwpLG0uc2V0dXAudGV4dEVkaXRvclNldHVwKG0uZGlzcGxheUVsZW1lbnRzLnRleHQpLG0uZGlzcGxheUVsZW1lbnRzLmh0bWwuYXR0cih7aWQ6XCJ0YUh0bWxFbGVtZW50XCIrQyxcIm5nLXNob3dcIjpcInNob3dIdG1sXCIsXCJ0YS1iaW5kXCI6XCJ0YS1iaW5kXCIsXCJuZy1tb2RlbFwiOlwiaHRtbFwiLFwibmctbW9kZWwtb3B0aW9uc1wiOm4uYXR0cihcIm5nLW1vZGVsLW9wdGlvbnNcIil9KSxtLmRpc3BsYXlFbGVtZW50cy50ZXh0LmF0dHIoe2lkOlwidGFUZXh0RWxlbWVudFwiK0MsY29udGVudEVkaXRhYmxlOlwidHJ1ZVwiLFwidGEtYmluZFwiOlwidGEtYmluZFwiLFwibmctbW9kZWxcIjpcImh0bWxcIixcIm5nLW1vZGVsLW9wdGlvbnNcIjpuLmF0dHIoXCJuZy1tb2RlbC1vcHRpb25zXCIpfSksbS5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93LmF0dHIoe1wibmctaGlkZVwiOlwic2hvd0h0bWxcIn0pLG8udGFEZWZhdWx0V3JhcCYmXG4vLyB0YURlZmF1bHRXcmFwIGlzIG9ubHkgYXBwbGllZCB0byB0aGUgdGV4dCBhbmQgbm90IHRoZSBodG1sIHZpZXdcbm0uZGlzcGxheUVsZW1lbnRzLnRleHQuYXR0cihcInRhLWRlZmF1bHQtd3JhcFwiLG8udGFEZWZhdWx0V3JhcCksby50YVVuc2FmZVNhbml0aXplciYmKG0uZGlzcGxheUVsZW1lbnRzLnRleHQuYXR0cihcInRhLXVuc2FmZS1zYW5pdGl6ZXJcIixvLnRhVW5zYWZlU2FuaXRpemVyKSxtLmRpc3BsYXlFbGVtZW50cy5odG1sLmF0dHIoXCJ0YS11bnNhZmUtc2FuaXRpemVyXCIsby50YVVuc2FmZVNhbml0aXplcikpLG8udGFLZWVwU3R5bGVzJiYobS5kaXNwbGF5RWxlbWVudHMudGV4dC5hdHRyKFwidGEta2VlcC1zdHlsZXNcIixvLnRhS2VlcFN0eWxlcyksbS5kaXNwbGF5RWxlbWVudHMuaHRtbC5hdHRyKFwidGEta2VlcC1zdHlsZXNcIixvLnRhS2VlcFN0eWxlcykpLFxuLy8gYWRkIHRoZSBtYWluIGVsZW1lbnRzIHRvIHRoZSBvcmlnaW9uYWwgZWxlbWVudFxubS5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93LmFwcGVuZChtLmRpc3BsYXlFbGVtZW50cy50ZXh0KSxuLmFwcGVuZChtLmRpc3BsYXlFbGVtZW50cy5zY3JvbGxXaW5kb3cpLG4uYXBwZW5kKG0uZGlzcGxheUVsZW1lbnRzLmh0bWwpLG0uZGlzcGxheUVsZW1lbnRzLmZvcm1pbnB1dC5hdHRyKFwibmFtZVwiLG0uX25hbWUpLG4uYXBwZW5kKG0uZGlzcGxheUVsZW1lbnRzLmZvcm1pbnB1dCksby50YWJpbmRleCYmKG4ucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpLG0uZGlzcGxheUVsZW1lbnRzLnRleHQuYXR0cihcInRhYmluZGV4XCIsby50YWJpbmRleCksbS5kaXNwbGF5RWxlbWVudHMuaHRtbC5hdHRyKFwidGFiaW5kZXhcIixvLnRhYmluZGV4KSksby5wbGFjZWhvbGRlciYmKG0uZGlzcGxheUVsZW1lbnRzLnRleHQuYXR0cihcInBsYWNlaG9sZGVyXCIsby5wbGFjZWhvbGRlciksbS5kaXNwbGF5RWxlbWVudHMuaHRtbC5hdHRyKFwicGxhY2Vob2xkZXJcIixvLnBsYWNlaG9sZGVyKSksby50YURpc2FibGVkJiYobS5kaXNwbGF5RWxlbWVudHMudGV4dC5hdHRyKFwidGEtcmVhZG9ubHlcIixcImRpc2FibGVkXCIpLG0uZGlzcGxheUVsZW1lbnRzLmh0bWwuYXR0cihcInRhLXJlYWRvbmx5XCIsXCJkaXNhYmxlZFwiKSxtLmRpc2FibGVkPW0uJHBhcmVudC4kZXZhbChvLnRhRGlzYWJsZWQpLG0uJHBhcmVudC4kd2F0Y2goby50YURpc2FibGVkLGZ1bmN0aW9uKGEpe20uZGlzYWJsZWQ9YSxtLmRpc2FibGVkP24uYWRkQ2xhc3MobS5jbGFzc2VzLmRpc2FibGVkKTpuLnJlbW92ZUNsYXNzKG0uY2xhc3Nlcy5kaXNhYmxlZCl9KSksby50YVBhc3RlJiYobS5fcGFzdGVIYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBsKG8udGFQYXN0ZSkobS4kcGFyZW50LHskaHRtbDphfSl9LG0uZGlzcGxheUVsZW1lbnRzLnRleHQuYXR0cihcInRhLXBhc3RlXCIsXCJfcGFzdGVIYW5kbGVyKCRodG1sKVwiKSksXG4vLyBjb21waWxlIHRoZSBzY29wZSB3aXRoIHRoZSB0ZXh0IGFuZCBodG1sIGVsZW1lbnRzIG9ubHkgLSBpZiB3ZSBkbyB0aGlzIHdpdGggdGhlIG1haW4gZWxlbWVudCBpdCBjYXVzZXMgYSBjb21waWxlIGxvb3BcbmIobS5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93KShtKSxiKG0uZGlzcGxheUVsZW1lbnRzLmh0bWwpKG0pLG0udXBkYXRlVGFCaW5kdGFUZXh0RWxlbWVudD1tW1widXBkYXRlVGFCaW5kdGFUZXh0RWxlbWVudFwiK0NdLG0udXBkYXRlVGFCaW5kdGFIdG1sRWxlbWVudD1tW1widXBkYXRlVGFCaW5kdGFIdG1sRWxlbWVudFwiK0NdLFxuLy8gYWRkIHRoZSBjbGFzc2VzIG1hbnVhbGx5IGxhc3Rcbm4uYWRkQ2xhc3MoXCJ0YS1yb290XCIpLG0uZGlzcGxheUVsZW1lbnRzLnNjcm9sbFdpbmRvdy5hZGRDbGFzcyhcInRhLXRleHQgdGEtZWRpdG9yIFwiK20uY2xhc3Nlcy50ZXh0RWRpdG9yKSxtLmRpc3BsYXlFbGVtZW50cy5odG1sLmFkZENsYXNzKFwidGEtaHRtbCB0YS1lZGl0b3IgXCIrbS5jbGFzc2VzLmh0bWxFZGl0b3IpO3ZhciBGPWZ1bmN0aW9uKGEsYil7LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHRoaXMgaXMgb25seSBoZXJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gcmFuZ3kgd2hlcmUgcmFuZ3kuc2F2ZVNlbGVjdGlvbigpIGhhcyBjbGVhcmVkIHRoZSBzdGF0ZSAqL1xuYiE9PWhbMF0ucXVlcnlDb21tYW5kU3RhdGUoYSkmJmhbMF0uZXhlY0NvbW1hbmQoYSwhMSxudWxsKX07XG4vLyB1c2VkIGluIHRoZSB0b29sYmFyIGFjdGlvbnNcbm0uX2FjdGlvblJ1bm5pbmc9ITE7dmFyIEc9ITE7XG4vLyBjaGFuZ2VzIHRvIHRoZSBtb2RlbCB2YXJpYWJsZSBmcm9tIG91dHNpZGUgdGhlIGh0bWwvdGV4dCBpbnB1dHNcbi8vIGlmIG5vIG5nTW9kZWwsIHRoZW4gdGhlIG9ubHkgaW5wdXQgaXMgZnJvbSBpbnNpZGUgdGV4dC1hbmd1bGFyXG5pZihtLnN0YXJ0QWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGI9ITEsYz0hMSxkPSExLGU9ITE7XG4vL2NvbnNvbGUubG9nKCdCJywgJGRvY3VtZW50WzBdLnF1ZXJ5Q29tbWFuZFN0YXRlKCdib2xkJyksICdJJywgJGRvY3VtZW50WzBdLnF1ZXJ5Q29tbWFuZFN0YXRlKCdpdGFsaWMnKSwgJ18nLCAkZG9jdW1lbnRbMF0ucXVlcnlDb21tYW5kU3RhdGUoJ3VuZGVybGluZScpLCAnUycsICRkb2N1bWVudFswXS5xdWVyeUNvbW1hbmRTdGF0ZSgnc3RyaWtlVGhyb3VnaCcpICk7XG4vL2NvbnNvbGUubG9nKCdCJywgX2JlZm9yZVN0YXRlQm9sZCwgJ0knLCBfYmVmb3JlU3RhdGVJdGFsaWMsICdfJywgX2JlZm9yZVN0YXRlVW5kZXJsaW5lLCAnUycsIF9iZWZvcmVTdGF0ZVN0cmlrZXRob3VnaCk7XG4vLyBpZiByYW5neSBsaWJyYXJ5IGlzIGxvYWRlZCByZXR1cm4gYSBmdW5jdGlvbiB0byByZWxvYWQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4vLyByYW5neS5zYXZlU2VsZWN0aW9uKCkgY2xlYXIgdGhlIHN0YXRlIG9mIGJvbGQsIGl0YWxpYywgdW5kZXJsaW5lLCBzdHJpa2V0aHJvdWdoXG4vLyBzbyB3ZSByZXNldCB0aGVtIGhlcmUuLi4uISEhXG4vLyB0aGlzIGZpeGVzIGJ1Z3MgIzQyMywgIzExMjksICMxMTA1LCAjNjkzIHdoaWNoIGFyZSBhY3R1YWxseSByYW5neSBidWdzIVxucmV0dXJuIG0uX2FjdGlvblJ1bm5pbmc9ITAsYj1oWzBdLnF1ZXJ5Q29tbWFuZFN0YXRlKFwiYm9sZFwiKSxjPWhbMF0ucXVlcnlDb21tYW5kU3RhdGUoXCJpdGFsaWNcIiksZD1oWzBdLnF1ZXJ5Q29tbWFuZFN0YXRlKFwidW5kZXJsaW5lXCIpLGU9aFswXS5xdWVyeUNvbW1hbmRTdGF0ZShcInN0cmlrZVRocm91Z2hcIiksRz1hLnNhdmVTZWxlY3Rpb24oKSxGKFwiYm9sZFwiLGIpLEYoXCJpdGFsaWNcIixjKSxGKFwidW5kZXJsaW5lXCIsZCksRihcInN0cmlrZVRocm91Z2hcIixlKSxmdW5jdGlvbigpe0cmJmEucmVzdG9yZVNlbGVjdGlvbihHKX19LG0uZW5kQWN0aW9uPWZ1bmN0aW9uKCl7bS5fYWN0aW9uUnVubmluZz0hMSxHJiYobS5zaG93SHRtbD9tLmRpc3BsYXlFbGVtZW50cy5odG1sWzBdLmZvY3VzKCk6bS5kaXNwbGF5RWxlbWVudHMudGV4dFswXS5mb2N1cygpLFxuLy8gcmFuZ3kucmVzdG9yZVNlbGVjdGlvbihfc2F2ZWRTZWxlY3Rpb24pO1xuYS5yZW1vdmVNYXJrZXJzKEcpKSxHPSExLG0udXBkYXRlU2VsZWN0ZWRTdHlsZXMoKSxcbi8vIG9ubHkgdXBkYXRlIGlmIGluIHRleHQgb3IgV1lTSVdZRyBtb2RlXG5tLnNob3dIdG1sfHxtW1widXBkYXRlVGFCaW5kdGFUZXh0RWxlbWVudFwiK0NdKCl9LFxuLy8gbm90ZSB0aGF0IGZvY3Vzb3V0ID4gZm9jdXNpbiBpcyBjYWxsZWQgZXZlcnl0aW1lIHdlIGNsaWNrIGEgYnV0dG9uIC0gZXhjZXB0IGJhZCBzdXBwb3J0OiBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2RvbS9ldmVudHMvYmx1cmZvY3VzLmh0bWxcbi8vIGNhc2NhZGVzIHRvIGRpc3BsYXlFbGVtZW50cy50ZXh0IGFuZCBkaXNwbGF5RWxlbWVudHMuaHRtbCBhdXRvbWF0aWNhbGx5LlxudT1mdW5jdGlvbihhKXttLmZvY3Vzc2VkPSEwLG4uYWRkQ2xhc3MobS5jbGFzc2VzLmZvY3Vzc2VkKSwvKioqKioqKiAgTk9UIEZVTkNUSU9OQUwgWUVUXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gJ3RhVGV4dEVsZW1lbnQnICsgX3NlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ19mb2N1c2luIHRhVGV4dEVsZW1lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIG9ubHkgZG8gdGhpcyBpZiBOT1QgZm9jdXNzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmd1bGFyTWFuYWdlci5yZXN0b3JlRm9jdXNTZWxlY3Rpb24oc2NvcGUuX25hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4qKioqKioqL1xueC5mb2N1cygpLG4udHJpZ2dlckhhbmRsZXIoXCJmb2N1c1wiKSxcbi8vIHdlIGNhbGwgZWRpdG9yU2NvcGUudXBkYXRlU2VsZWN0ZWRTdHlsZXMoKSBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0aGUgdG9vbGJhciB0byBiZSBmb2N1c3NlZFxuLy8gYXMgc29vbiBhcyB3ZSBoYXZlIGZvY3VzLiAgT3RoZXJ3aXNlIHRoaXMgb25seSBoYXBwZW5zIG9uIG1vdXNlZG93biBvciBrZXlkb3duIGV0Yy4uLlxuLyogaXN0YW5idWwgaWdub3JlIGVsc2U6IGRvbid0IHJ1biBpZiBhbHJlYWR5IHJ1bm5pbmcgKi9cbm0udXBkYXRlU2VsZWN0ZWRTdHlsZXMmJiFtLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXMmJlxuLy8gd2UgZG9uJ3Qgc2V0IGVkaXRvclNjb3BlLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXMgaGVyZSwgYmVjYXVzZSB3ZSBkbyBub3Qgd2FudCB0aGVcbi8vIHVwZGF0ZVNlbGVjdGVkU3R5bGVzKCkgdG8gcnVuIHR3aWNlIHdoaWNoIGl0IHdpbGwgZG8gYWZ0ZXIgMjAwIG1zZWMgaWYgd2UgaGF2ZVxuLy8gc2V0IGVkaXRvclNjb3BlLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXNcbi8vXG4vLyBXT1csIG5vcm1hbGx5IEkgd291bGQgZG8gYSBzY29wZS4kYXBwbHkgaGVyZSwgYnV0IHRoaXMgY2F1c2VzIEVSUk9ScyB3aGVuIGRvaW5nIHRlc3RzIVxuYyhmdW5jdGlvbigpe20udXBkYXRlU2VsZWN0ZWRTdHlsZXMoKX0sMCl9LG0uZGlzcGxheUVsZW1lbnRzLmh0bWwub24oXCJmb2N1c1wiLHUpLG0uZGlzcGxheUVsZW1lbnRzLnRleHQub24oXCJmb2N1c1wiLHUpLHY9ZnVuY3Rpb24oYSl7LyoqKioqKioqKioqKioqKioqKiBOT1QgRlVOQ1RJT05BTCBZRVRcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcyA9IHJhbmd5LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc2F2ZSB0aGUgc2VsZWN0aW9uIHdoZW4gd2UgbG9vc2UgZm9jdXMgc28gdGhhdCBpZiBkbyBhIHdyYXBTZWxlY3Rpb24sIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFwcm9wcmlhdGUgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgaXMgcmVzdG9yZWQgYmVmb3JlIGFjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3NhdmVkRm9jdXNSYW5nZSA9IHJhbmd5LnNhdmVSYW5nZShfcy5nZXRSYW5nZUF0KDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QW5ndWxhck1hbmFnZXIuc2F2ZUZvY3VzU2VsZWN0aW9uKHNjb3BlLl9uYW1lLCBfc2F2ZWRGb2N1c1JhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlcnJvcikgeyB9XG4gICAgICAgICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqL1xuLy8gaWYgd2UgYXJlIE5PVCBydW5uaWcgYW4gYWN0aW9uIGFuZCBoYXZlIE5PVCBmb2N1c3NlZCBhZ2FpbiBvbiB0aGUgdGV4dCBldGMgdGhlbiBmaXJlIHRoZSBibHVyIGV2ZW50c1xuLy8gdG8gcHJldmVudCBtdWx0aXBsZSBhcHBseSBlcnJvciBkZWZlciB0byBuZXh0IHNlZW1zIHRvIHdvcmsuXG5yZXR1cm4gbS5fYWN0aW9uUnVubmluZ3x8aFswXS5hY3RpdmVFbGVtZW50PT09bS5kaXNwbGF5RWxlbWVudHMuaHRtbFswXXx8aFswXS5hY3RpdmVFbGVtZW50PT09bS5kaXNwbGF5RWxlbWVudHMudGV4dFswXXx8KG4ucmVtb3ZlQ2xhc3MobS5jbGFzc2VzLmZvY3Vzc2VkKSx4LnVuZm9jdXMoKSxjKGZ1bmN0aW9uKCl7bS5fYlVwZGF0ZVNlbGVjdGVkU3R5bGVzPSExLG4udHJpZ2dlckhhbmRsZXIoXCJibHVyXCIpLG0uZm9jdXNzZWQ9ITF9LDApKSxhLnByZXZlbnREZWZhdWx0KCksITF9LG0uZGlzcGxheUVsZW1lbnRzLmh0bWwub24oXCJibHVyXCIsdiksbS5kaXNwbGF5RWxlbWVudHMudGV4dC5vbihcImJsdXJcIix2KSxtLmRpc3BsYXlFbGVtZW50cy50ZXh0Lm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXtuLnRyaWdnZXJIYW5kbGVyKFwicGFzdGVcIixhKX0pLFxuLy8gU2V0dXAgdGhlIGRlZmF1bHQgdG9vbGJhciB0b29scywgdGhpcyB3YXkgYWxsb3dzIHRoZSB1c2VyIHRvIGFkZCBuZXcgdG9vbHMgbGlrZSBwbHVnaW5zLlxuLy8gVGhpcyBpcyBvbiB0aGUgZWRpdG9yIGZvciBmdXR1cmUgcHJvb2ZpbmcgaWYgd2UgZmluZCBhIGJldHRlciB3YXkgdG8gZG8gdGhpcy5cbm0ucXVlcnlGb3JtYXRCbG9ja1N0YXRlPWZ1bmN0aW9uKGEpe1xuLy8gJGRvY3VtZW50WzBdLnF1ZXJ5Q29tbWFuZFZhbHVlKCdmb3JtYXRCbG9jaycpIGVycm9ycyBpbiBGaXJlZm94IGlmIHdlIGNhbGwgdGhpcyB3aGVuIGZvY3Vzc2VkIG9uIHRoZSB0ZXh0YXJlYVxucmV0dXJuIW0uc2hvd0h0bWwmJmEudG9Mb3dlckNhc2UoKT09PWhbMF0ucXVlcnlDb21tYW5kVmFsdWUoXCJmb3JtYXRCbG9ja1wiKS50b0xvd2VyQ2FzZSgpfSxtLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKGEpe1xuLy8gJGRvY3VtZW50WzBdLnF1ZXJ5Q29tbWFuZFZhbHVlKCdmb3JtYXRCbG9jaycpIGVycm9ycyBpbiBGaXJlZm94IGlmIHdlIGNhbGwgdGhpcyB3aGVuIGZvY3Vzc2VkIG9uIHRoZSB0ZXh0YXJlYVxucmV0dXJuIG0uc2hvd0h0bWw/XCJcIjpoWzBdLnF1ZXJ5Q29tbWFuZFN0YXRlKGEpfSxtLnN3aXRjaFZpZXc9ZnVuY3Rpb24oKXttLnNob3dIdG1sPSFtLnNob3dIdG1sLGkuZW5hYmxlZCghMSxtLmRpc3BsYXlFbGVtZW50cy5odG1sKSxpLmVuYWJsZWQoITEsbS5kaXNwbGF5RWxlbWVudHMudGV4dCksXG4vL1Nob3cgdGhlIEhUTUwgdmlld1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG5nTW9kZWwgZXhpc3RzIGNoZWNrICovXG4vKiBUSElTIGlzIG5vdCB0aGUgY29ycmVjdCB0aGluZyB0byBkbywgaGVyZS4uLi5cbiAgIFRoZSBuZ01vZGVsIGlzIGNvcnJlY3QsIGJ1dCBpdCBpcyBub3QgZm9ybWF0dGVkIGFzIHRoZSB1c2VyIGFzIGRvbmUgaXQuLi5cbiAgICAgICAgICAgICAgICAgICAgdmFyIF9tb2RlbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb2RlbCA9IG5nTW9kZWwuJHZpZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb2RlbCA9IHNjb3BlLmh0bWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIF9odG1sID0gc2NvcGUuZGlzcGxheUVsZW1lbnRzLmh0bWxbMF0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXREb21Gcm9tSHRtbChfaHRtbCkuY2hpbGRFbGVtZW50Q291bnQgIT09IGdldERvbUZyb21IdG1sKF9tb2RlbCkuY2hpbGRFbGVtZW50Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBtb2RlbCBhbmQgdGhlIGh0bWwgZG8gbm90IGFncmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGV5IGNhbiBnZXQgb3V0IG9mIHN5bmMgYW5kIHdoZW4gdGhleSBkbywgd2UgY29ycmVjdCB0aGF0IGhlcmUuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmRpc3BsYXlFbGVtZW50cy5odG1sLnZhbChfbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4qL1xubS5zaG93SHRtbD9cbi8vZGVmZXIgdW50aWwgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZVxuYyhmdW5jdGlvbigpe1xuLy8gWzBdIGRlcmVmZXJlbmNlcyB0aGUgRE9NIG9iamVjdCBmcm9tIHRoZSBhbmd1bGFyLmVsZW1lbnRcbnJldHVybiBpLmVuYWJsZWQoITAsbS5kaXNwbGF5RWxlbWVudHMuaHRtbCksaS5lbmFibGVkKCEwLG0uZGlzcGxheUVsZW1lbnRzLnRleHQpLG0uZGlzcGxheUVsZW1lbnRzLmh0bWxbMF0uZm9jdXMoKX0sMTAwKTpcbi8vU2hvdyB0aGUgV1lTSVdZRyB2aWV3XG4vL2RlZmVyIHVudGlsIHRoZSBlbGVtZW50IGlzIHZpc2libGVcbmMoZnVuY3Rpb24oKXtcbi8vIFswXSBkZXJlZmVyZW5jZXMgdGhlIERPTSBvYmplY3QgZnJvbSB0aGUgYW5ndWxhci5lbGVtZW50XG5yZXR1cm4gaS5lbmFibGVkKCEwLG0uZGlzcGxheUVsZW1lbnRzLmh0bWwpLGkuZW5hYmxlZCghMCxtLmRpc3BsYXlFbGVtZW50cy50ZXh0KSxtLmRpc3BsYXlFbGVtZW50cy50ZXh0WzBdLmZvY3VzKCl9LDEwMCl9LG8ubmdNb2RlbCl7dmFyIEg9ITA7cC4kcmVuZGVyPWZ1bmN0aW9uKCl7aWYoSCl7XG4vLyB3ZSBuZWVkIHRoaXMgZmlyc3RSdW4gdG8gc2V0IHRoZSBvcmlnaW5hbENvbnRlbnRzIG90aGVyd2lzZSBpdCBnZXRzIG92ZXJyaWRlZCBieSB0aGUgc2V0dGluZyBvZiBuZ01vZGVsIHRvIHVuZGVmaW5lZCBmcm9tIE5hTlxuSD0hMTtcbi8vIGlmIHZpZXcgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWQgaW5pdGlhbGx5IGFuZCB0aGVyZSB3YXMgb3JpZ2luYWwgY29udGVudCwgc2V0IHRvIHRoZSBvcmlnaW5hbCBjb250ZW50XG52YXIgYT1tLiRwYXJlbnQuJGV2YWwoby5uZ01vZGVsKTt2b2lkIDAhPT1hJiZudWxsIT09YXx8IXd8fFwiXCI9PT13fHxcbi8vIG9uIHBhc3NpbmcgdGhyb3VnaCB0byB0YUJpbmQgaXQgd2lsbCBiZSBzYW5pdGlzZWRcbnAuJHNldFZpZXdWYWx1ZSh3KX1tLmRpc3BsYXlFbGVtZW50cy5mb3JtaW5wdXQudmFsKHAuJHZpZXdWYWx1ZSksXG4vLyBpZiB0aGUgZWRpdG9ycyBhcmVuJ3QgZm9jdXNlZCB0aGV5IG5lZWQgdG8gYmUgdXBkYXRlZCwgb3RoZXJ3aXNlIHRoZXkgYXJlIGRvaW5nIHRoZSB1cGRhdGluZ1xubS5odG1sPXAuJHZpZXdWYWx1ZXx8XCJcIn0sXG4vLyB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uIGNhbGxzXG5uLmF0dHIoXCJyZXF1aXJlZFwiKSYmKHAuJHZhbGlkYXRvcnMucmVxdWlyZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hfHxiO3JldHVybiEoIWN8fFwiXCI9PT1jLnRyaW0oKSl9KX1lbHNlXG4vLyBpZiBubyBuZ01vZGVsIHRoZW4gdXBkYXRlIGZyb20gdGhlIGNvbnRlbnRzIG9mIHRoZSBvcmlnaW9uYWwgaHRtbC5cbm0uZGlzcGxheUVsZW1lbnRzLmZvcm1pbnB1dC52YWwodyksbS5odG1sPXc7aWYoXG4vLyBjaGFuZ2VzIGZyb20gdGFCaW5kIGJhY2sgdXAgdG8gaGVyZVxubS4kd2F0Y2goXCJodG1sXCIsZnVuY3Rpb24oYSxiKXthIT09YiYmKG8ubmdNb2RlbCYmcC4kdmlld1ZhbHVlIT09YSYmcC4kc2V0Vmlld1ZhbHVlKGEpLG0uZGlzcGxheUVsZW1lbnRzLmZvcm1pbnB1dC52YWwoYSkpfSksby50YVRhcmdldFRvb2xiYXJzKXg9Zy5yZWdpc3RlckVkaXRvcihtLl9uYW1lLG0sby50YVRhcmdldFRvb2xiYXJzLnNwbGl0KFwiLFwiKSk7ZWxzZXt2YXIgST1hbmd1bGFyLmVsZW1lbnQoJzxkaXYgdGV4dC1hbmd1bGFyLXRvb2xiYXIgbmFtZT1cInRleHRBbmd1bGFyVG9vbGJhcicrQysnXCI+Jyk7XG4vLyBwYXNzdGhyb3VnaCBpbml0IG9mIHRvb2xiYXIgb3B0aW9uc1xuby50YVRvb2xiYXImJkkuYXR0cihcInRhLXRvb2xiYXJcIixvLnRhVG9vbGJhciksby50YVRvb2xiYXJDbGFzcyYmSS5hdHRyKFwidGEtdG9vbGJhci1jbGFzc1wiLG8udGFUb29sYmFyQ2xhc3MpLG8udGFUb29sYmFyR3JvdXBDbGFzcyYmSS5hdHRyKFwidGEtdG9vbGJhci1ncm91cC1jbGFzc1wiLG8udGFUb29sYmFyR3JvdXBDbGFzcyksby50YVRvb2xiYXJCdXR0b25DbGFzcyYmSS5hdHRyKFwidGEtdG9vbGJhci1idXR0b24tY2xhc3NcIixvLnRhVG9vbGJhckJ1dHRvbkNsYXNzKSxvLnRhVG9vbGJhckFjdGl2ZUJ1dHRvbkNsYXNzJiZJLmF0dHIoXCJ0YS10b29sYmFyLWFjdGl2ZS1idXR0b24tY2xhc3NcIixvLnRhVG9vbGJhckFjdGl2ZUJ1dHRvbkNsYXNzKSxvLnRhRm9jdXNzZWRDbGFzcyYmSS5hdHRyKFwidGEtZm9jdXNzZWQtY2xhc3NcIixvLnRhRm9jdXNzZWRDbGFzcyksbi5wcmVwZW5kKEkpLGIoSSkobS4kcGFyZW50KSx4PWcucmVnaXN0ZXJFZGl0b3IobS5fbmFtZSxtLFtcInRleHRBbmd1bGFyVG9vbGJhclwiK0NdKX1tLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtnLnVucmVnaXN0ZXJFZGl0b3IobS5fbmFtZSksYW5ndWxhci5lbGVtZW50KHdpbmRvdykub2ZmKFwiYmx1clwiKSxhbmd1bGFyLmVsZW1lbnQod2luZG93KS5vZmYoXCJyZXNpemVcIixtLmhhbmRsZVBvcG92ZXJFdmVudHMpLGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cpLm9mZihcInNjcm9sbFwiLG0uaGFuZGxlUG9wb3ZlckV2ZW50cyl9KSxcbi8vIGNhdGNoIGVsZW1lbnQgc2VsZWN0IGV2ZW50IGFuZCBwYXNzIHRvIHRvb2xiYXIgdG9vbHNcbm0uJG9uKFwidGEtZWxlbWVudC1zZWxlY3RcIixmdW5jdGlvbihhLGIpe3gudHJpZ2dlckVsZW1lbnRTZWxlY3QoYSxiKSYmbVtcInJlQXBwbHlPblNlbGVjdG9ySGFuZGxlcnN0YVRleHRFbGVtZW50XCIrQ10oKX0pLC8qKioqKioqKioqKioqKioqKioqIG5vIHdvcmtpbmcgZnVsbHlcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VGcm9tUG9pbnQgPSBmdW5jdGlvbiAocHgsIHB5LCB4LCB5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQoKHB4LXgpKihweC14KSsocHkteSkqKHB5LXkpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgZWFjaCBvYmplY3QgaXMgYSByZWN0YW5nbGUgYW5kIHdlIGhhdmUgYSBzaW5nbGUgcG9pbnQsXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBnaXZlIHByaW9yaXR5IGlmIHRoZSBwb2ludCBpcyBpbnNpZGUgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgICAgICAgIHZhciBnZXRQb3NpdGlvbkRpc3RhbmNlID0gZnVuY3Rpb24oZWwsIHgsIHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShlbCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWN0ID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsLCByZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiY3IgPSByZWN0O1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3AgbGVmdFxuICAgICAgICAgICAgICAgICAgICB2YXIgZDEgPSBkaXN0YW5jZUZyb21Qb2ludChiY3IubGVmdCwgYmNyLnRvcCwgeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJvdHRvbSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIHZhciBkMiA9IGRpc3RhbmNlRnJvbVBvaW50KGJjci5sZWZ0LCBiY3IuYm90dG9tLCB4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9wIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIHZhciBkMyA9IGRpc3RhbmNlRnJvbVBvaW50KGJjci5yaWdodCwgYmNyLnRvcCwgeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJvdHRvbSByaWdodFxuICAgICAgICAgICAgICAgICAgICB2YXIgZDQgPSBkaXN0YW5jZUZyb21Qb2ludChiY3IucmlnaHQsIGJjci5ib3R0b20sIHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oZDEsIGQyLCBkMywgZDQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGZpbmRDbG9zZXN0ID0gZnVuY3Rpb24oZWwsIG1pbkVsZW1lbnQsIG1heERpc3RhbmNlLCB4LCB5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZD0wO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfbiA9IGVsLmNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9uLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QgPSBnZXRQb3NpdGlvbkRpc3RhbmNlKF9uLCB4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKF9uLCBfbi5jaGlsZE5vZGVzLCBfZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kIDwgbWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4RGlzdGFuY2UgPSBfZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRWxlbWVudCA9IF9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSBmaW5kQ2xvc2VzdChfbiwgbWluRWxlbWVudCwgbWF4RGlzdGFuY2UsIHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5tYXggPCBtYXhEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heERpc3RhbmNlID0gcmVzLm1heDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5FbGVtZW50ID0gcmVzLm1pbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBtYXg6IG1heERpc3RhbmNlLCBtaW46IG1pbkVsZW1lbnQgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBnZXRDbG9zZXN0RWxlbWVudCA9IGZ1bmN0aW9uIChlbCwgeCwgeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmluZENsb3Nlc3QoZWwsIG51bGwsIDEyMzQxMjM0MTI0LCB4LCB5KTtcbiAgICAgICAgICAgICAgICB9O1xuKioqKioqKioqKioqKioqKi9cbm0uJG9uKFwidGEtZHJvcC1ldmVudFwiLGZ1bmN0aW9uKGEsYixkLGYpe2YmJmYuZmlsZXMmJmYuZmlsZXMubGVuZ3RoPjA/KG0uZGlzcGxheUVsZW1lbnRzLnRleHRbMF0uZm9jdXMoKSxcbi8vIHdlIG11c3Qgc2V0IHRoZSBsb2NhdGlvbiBvZiB0aGUgZHJvcCFcbi8vY29uc29sZS5sb2coZHJvcEV2ZW50LmNsaWVudFgsIGRyb3BFdmVudC5jbGllbnRZLCBkcm9wRXZlbnQudGFyZ2V0KTtcbmUuc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKGQudGFyZ2V0KSxhbmd1bGFyLmZvckVhY2goZi5maWxlcyxmdW5jdGlvbihhKXtcbi8vIHRha2luZyBhZHZhbnRhZ2Ugb2YgYm9vbGVhbiBleGVjdXRpb24sIGlmIHRoZSBmaWxlRHJvcEhhbmRsZXIgcmV0dXJucyB0cnVlLCBub3RoaW5nIGVsc2UgYWZ0ZXIgaXQgaXMgZXhlY3V0ZWRcbi8vIElmIGl0IGlzIGZhbHNlIHRoZW4gZXhlY3V0ZSB0aGUgZGVmYXVsdEZpbGVEcm9wSGFuZGxlciBpZiB0aGUgZmlsZURyb3BIYW5kbGVyIGlzIE5PVCB0aGUgZGVmYXVsdCBvbmVcbi8vIE9uY2Ugb25lIG9mIHRoZXNlIGhhcyBiZWVuIGV4ZWN1dGVkIHdyYXAgdGhlIHJlc3VsdCBhcyBhIHByb21pc2UsIGlmIHVuZGVmaW5lZCBvciB2YXJpYWJsZSB1cGRhdGUgdGhlIHRhQmluZCwgZWxzZSB3ZSBzaG91bGQgd2FpdCBmb3IgdGhlIHByb21pc2VcbnRyeXtrLndoZW4obS5maWxlRHJvcEhhbmRsZXIoYSxtLndyYXBTZWxlY3Rpb24pfHxtLmZpbGVEcm9wSGFuZGxlciE9PW0uZGVmYXVsdEZpbGVEcm9wSGFuZGxlciYmay53aGVuKG0uZGVmYXVsdEZpbGVEcm9wSGFuZGxlcihhLG0ud3JhcFNlbGVjdGlvbikpKS50aGVuKGZ1bmN0aW9uKCl7bVtcInVwZGF0ZVRhQmluZHRhVGV4dEVsZW1lbnRcIitDXSgpfSl9Y2F0Y2goYSl7ai5lcnJvcihhKX19KSxkLnByZXZlbnREZWZhdWx0KCksZC5zdG9wUHJvcGFnYXRpb24oKSk6YyhmdW5jdGlvbigpe21bXCJ1cGRhdGVUYUJpbmR0YVRleHRFbGVtZW50XCIrQ10oKX0sMCl9KSxcbi8vIHRoZSBmb2xsb3dpbmcgaXMgZm9yIGFwcGx5aW5nIHRoZSBhY3RpdmUgc3RhdGVzIHRvIHRoZSB0b29scyB0aGF0IHN1cHBvcnQgaXRcbm0uX2JVcGRhdGVTZWxlY3RlZFN0eWxlcz0hMSwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogYnJvd3NlciB3aW5kb3cvdGFiIGxlYXZlIGNoZWNrICovXG5hbmd1bGFyLmVsZW1lbnQod2luZG93KS5vbihcImJsdXJcIixmdW5jdGlvbigpe20uX2JVcGRhdGVTZWxlY3RlZFN0eWxlcz0hMSxtLmZvY3Vzc2VkPSExfSksXG4vLyBsb29wIHRocm91Z2ggYWxsIHRoZSB0b29scyBwb2xsaW5nIHRoZWlyIGFjdGl2ZVN0YXRlIGZ1bmN0aW9uIGlmIGl0IGV4aXN0c1xubS51cGRhdGVTZWxlY3RlZFN0eWxlcz1mdW5jdGlvbigpe3ZhciBhOy8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBUaGlzIGNoZWNrIGlzIHRvIGVuc3VyZSBtdWx0aXBsZSB0aW1lb3V0cyBkb24ndCBleGlzdCAqL1xuQSYmYy5jYW5jZWwoQSksXG4vLyB0ZXN0IGlmIHRoZSBjb21tb24gZWxlbWVudCBJU04nVCB0aGUgcm9vdCB0YS10ZXh0IG5vZGVcbnZvaWQgMCE9PShhPWUuZ2V0U2VsZWN0aW9uRWxlbWVudCgpKSYmYS5wYXJlbnROb2RlIT09bS5kaXNwbGF5RWxlbWVudHMudGV4dFswXT94LnVwZGF0ZVNlbGVjdGVkU3R5bGVzKGFuZ3VsYXIuZWxlbWVudChhKSk6eC51cGRhdGVTZWxlY3RlZFN0eWxlcygpLFxuLy8gdXNlZCB0byB1cGRhdGUgdGhlIGFjdGl2ZSBzdGF0ZSB3aGVuIGEga2V5IGlzIGhlbGQgZG93biwgaWUgdGhlIGxlZnQgYXJyb3dcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBicm93c2VyIG9ubHkgY2hlY2sgKi9cbm0uX2JVcGRhdGVTZWxlY3RlZFN0eWxlcyYmKEE9YyhtLnVwZGF0ZVNlbGVjdGVkU3R5bGVzLDIwMCkpfSxcbi8vIHN0YXJ0IHVwZGF0aW5nIG9uIGtleWRvd25cbnE9ZnVuY3Rpb24oKXsvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogaWUgY2F0Y2ggKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBpZSBjYXRjaCAqL1xuLyogaXN0YW5idWwgaWdub3JlIGVsc2U6IGRvbid0IHJ1biBpZiBhbHJlYWR5IHJ1bm5pbmcgKi9cbnJldHVybiBtLmZvY3Vzc2VkP3ZvaWQobS5fYlVwZGF0ZVNlbGVjdGVkU3R5bGVzfHwobS5fYlVwZGF0ZVNlbGVjdGVkU3R5bGVzPSEwLG0uJGFwcGx5KGZ1bmN0aW9uKCl7bS51cGRhdGVTZWxlY3RlZFN0eWxlcygpfSkpKTp2b2lkKG0uX2JVcGRhdGVTZWxlY3RlZFN0eWxlcz0hMSl9LG0uZGlzcGxheUVsZW1lbnRzLmh0bWwub24oXCJrZXlkb3duXCIscSksbS5kaXNwbGF5RWxlbWVudHMudGV4dC5vbihcImtleWRvd25cIixxKSxcbi8vIHN0b3AgdXBkYXRpbmcgb24ga2V5IHVwIGFuZCB1cGRhdGUgdGhlIGRpc3BsYXkvbW9kZWxcbnI9ZnVuY3Rpb24oKXttLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXM9ITF9LG0uZGlzcGxheUVsZW1lbnRzLmh0bWwub24oXCJrZXl1cFwiLHIpLG0uZGlzcGxheUVsZW1lbnRzLnRleHQub24oXCJrZXl1cFwiLHIpLFxuLy8gc3RvcCB1cGRhdGluZyBvbiBrZXkgdXAgYW5kIHVwZGF0ZSB0aGUgZGlzcGxheS9tb2RlbFxucz1mdW5jdGlvbihhLGIpe1xuLy8gYnVnIGZpeCBmb3IgRmlyZWZveC4gIElmIHdlIGFyZSBzZWxlY3RpbmcgYSA8YT4gYWxyZWFkeSwgYW55IGNoYXJhY3RlcnMgd2lsbFxuLy8gYmUgYWRkZWQgd2l0aGluIHRoZSA8YT4gd2hpY2ggaXMgYmFkIVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGRvbid0IHNlZSBob3cgdG8gdGVzdCB0aGlzLi4uICovXG5pZihlLmdldFNlbGVjdGlvbil7dmFyIGM9ZS5nZXRTZWxlY3Rpb24oKTtcbi8vIGluIGEgd2VpcmQgY2FzZSAoY2FuJ3QgcmVwcm9kdWNlKSB0YVNlbGVjdGlvbi5nZXRTZWxlY3Rpb25FbGVtZW50KCkgY2FuIGJlIHVuZGVmaW5lZCEhXG4vLyB0aGlzIGNvbWVzIGZyb20gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4vLyBzbyBJIGNoZWNrIGZvciB0aGlzIGhlcmUgd2hpY2ggZml4ZXMgdGhlIGVycm9yIGNhc2VcbmUuZ2V0U2VsZWN0aW9uRWxlbWVudCgpJiZcImFcIj09PWUuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihcbi8vIGNoZWNrIGFuZCBzZWUgaWYgd2UgYXJlIGF0IHRoZSBlZGdlIG9mIHRoZSA8YT5cbjM9PT1jLnN0YXJ0LmVsZW1lbnQubm9kZVR5cGUmJmMuc3RhcnQuZWxlbWVudC50ZXh0Q29udGVudC5sZW5ndGg9PT1jLmVuZC5vZmZzZXQmJlxuLy8gd2UgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIDxhPiEhIVxuLy8gc28gbW92ZSB0aGUgc2VsZWN0aW9uIHRvIGFmdGVyIHRoZSA8YT4hIVxuZS5zZXRTZWxlY3Rpb25BZnRlckVsZW1lbnQoZS5nZXRTZWxlY3Rpb25FbGVtZW50KCkpLDM9PT1jLnN0YXJ0LmVsZW1lbnQubm9kZVR5cGUmJjA9PT1jLnN0YXJ0Lm9mZnNldCYmXG4vLyB3ZSBhcmUgYXQgdGhlIHN0YXJ0IG9mIHRoZSA8YT4hISFcbi8vIHNvIG1vdmUgdGhlIHNlbGVjdGlvbiBiZWZvcmUgdGhlIDxhPiEhXG5lLnNldFNlbGVjdGlvbkJlZm9yZUVsZW1lbnQoZS5nZXRTZWxlY3Rpb25FbGVtZW50KCkpKX0vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogdGhpcyBpcyBmb3IgY2F0Y2hpbmcgdGhlIGpxTGl0ZSB0ZXN0aW5nKi9cbmImJmFuZ3VsYXIuZXh0ZW5kKGEsYiksbS4kYXBwbHkoZnVuY3Rpb24oKXtpZih4LnNlbmRLZXlDb21tYW5kKGEpKS8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlOiBkb24ndCBydW4gaWYgYWxyZWFkeSBydW5uaW5nICovXG5yZXR1cm4gbS5fYlVwZGF0ZVNlbGVjdGVkU3R5bGVzfHxtLnVwZGF0ZVNlbGVjdGVkU3R5bGVzKCksYS5wcmV2ZW50RGVmYXVsdCgpLCExfSl9LG0uZGlzcGxheUVsZW1lbnRzLmh0bWwub24oXCJrZXlwcmVzc1wiLHMpLG0uZGlzcGxheUVsZW1lbnRzLnRleHQub24oXCJrZXlwcmVzc1wiLHMpLFxuLy8gdXBkYXRlIHRoZSB0b29sYmFyIGFjdGl2ZSBzdGF0ZXMgd2hlbiB3ZSBjbGljayBzb21ld2hlcmUgaW4gdGhlIHRleHQvaHRtbCBib3hlZFxudD1mdW5jdGlvbigpe1xuLy8gZW5zdXJlIG9ubHkgb25lIGV4ZWN1dGlvbiBvZiB1cGRhdGVTZWxlY3RlZFN0eWxlcygpXG5tLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXM9ITEsXG4vLyBmb3Igc29tZSByZWFzb24sIHVubGVzcyB3ZSBkbyBhICR0aW1lb3V0IGhlcmUsIGFmdGVyIGEgX21vdXNldXAgd2hlbiB0aGUgbGluZSBpc1xuLy8gaGlnaGxpZ2h0ZWQsIGFuZCBpbnN0ZWFkIHVzZSBhIHNjb3BlLiRhcHBseShmdW5jdGlvbigpeyBzY29wZS51cGRhdGVTZWxlY3RlZFN0eWxlcygpOyB9KTtcbi8vIGRvZXNuJ3Qgd29yayBwcm9wZXJseSwgc28gd2UgcmVwbGFjZWQgdGhpcyB3aXRoOlxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG5vdCB0ZXN0ZWQgICovXG5jKGZ1bmN0aW9uKCl7bS51cGRhdGVTZWxlY3RlZFN0eWxlcygpfSwwKX0sbS5kaXNwbGF5RWxlbWVudHMuaHRtbC5vbihcIm1vdXNldXBcIix0KSxtLmRpc3BsYXlFbGVtZW50cy50ZXh0Lm9uKFwibW91c2V1cFwiLHQpfX19XSksdS5zZXJ2aWNlKFwidGV4dEFuZ3VsYXJNYW5hZ2VyXCIsW1widGFUb29sRXhlY3V0ZUFjdGlvblwiLFwidGFUb29sc1wiLFwidGFSZWdpc3RlclRvb2xcIixcIiRpbnRlcnZhbFwiLFwiJHJvb3RTY29wZVwiLFwiJGxvZ1wiLGZ1bmN0aW9uKGEsYixjLGQsZSxnKXtcbi8vIHRoaXMgc2VydmljZSBpcyB1c2VkIHRvIG1hbmFnZSBhbGwgdGV4dEFuZ3VsYXIgZWRpdG9ycyBhbmQgdG9vbGJhcnMuXG4vLyBBbGwgcHVibGljbHkgcHVibGlzaGVkIGZ1bmN0aW9ucyB0aGF0IG1vZGlmeS9uZWVkIHRvIGFjY2VzcyB0aGUgdG9vbGJhciBvciBlZGl0b3Igc2NvcGVzIHNob3VsZCBiZSBpbiBoZXJlXG4vLyB0aGVzZSBjb250YWluIHJlZmVyZW5jZXMgdG8gYWxsIHRoZSBlZGl0b3JzIGFuZCB0b29sYmFycyB0aGF0IGhhdmUgYmVlbiBpbml0aWFsaXNlZCBpbiB0aGlzIGFwcFxudmFyIGgsaT17fSxqPXt9LGs9MCxsPWZ1bmN0aW9uKGEpe2FuZ3VsYXIuZm9yRWFjaChqLGZ1bmN0aW9uKGIpe2IuZWRpdG9yRnVuY3Rpb25zLnVwZGF0ZVNlbGVjdGVkU3R5bGVzKGEpfSl9LG09NTAsbj1mdW5jdGlvbigpe2s9RGF0ZS5ub3coKSwvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2V0dXAgYSBvbmUgdGltZSB1cGRhdGVTdHlsZXMoKSAqL1xuaD1kKGZ1bmN0aW9uKCl7bCgpLGg9dm9pZCAwfSxtLDEpfTsvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbWFrZSBzdXJlIGNsZWFuIHVwIG9uIGRlc3Ryb3kgKi9cbmUuJG9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7aCYmKGQuY2FuY2VsKGgpLGg9dm9pZCAwKX0pO3ZhciBvPWZ1bmN0aW9uKCl7TWF0aC5hYnMoRGF0ZS5ub3coKS1rKT5tJiZcbi8vIHdlIGhhdmUgYWxyZWFkeSB0cmlnZ2VyZWQgdGhlIHVwZGF0ZVN0eWxlcyBhIGxvbmcgdGltZSBiYWNrLi4uIHNvIHNldHVwIGl0IGFnYWluLi4uXG5uKCl9O1xuLy8gd2hlbiB3ZSBmb2N1cyBpbnRvIGEgdG9vbGJhciwgd2UgbmVlZCB0byBzZXQgdGhlIFRPT0xCQVIncyAkcGFyZW50IHRvIGJlIHRoZSB0b29sYmFycyBpdCdzIGxpbmtlZCB0by5cbi8vIFdlIGFsc28gbmVlZCB0byBzZXQgdGhlIHRvb2xzIHRvIGJlIHVwZGF0ZWQgdG8gYmUgdGhlIHRvb2xiYXJzLi4uXG5yZXR1cm57XG4vLyByZWdpc3RlciBhbiBlZGl0b3IgYW5kIHRoZSB0b29sYmFycyB0aGF0IGl0IGlzIGFmZmVjdGVkIGJ5XG5yZWdpc3RlckVkaXRvcjpmdW5jdGlvbihjLGQsZSl7XG4vLyBOT1RFOiBuYW1lID09PSBlZGl0b3JTY29wZS5fbmFtZVxuLy8gdGFyZ2V0VG9vbGJhcnMgaXMgYW4gW10gb2YgJ3Rvb2xiYXIgbmFtZSdzXG4vLyB0YXJnZXRUb29sYmFycyBhcmUgb3B0aW9uYWwsIHdlIGRvbid0IHJlcXVpcmUgYSB0b29sYmFyIHRvIGZ1bmN0aW9uXG5pZighY3x8XCJcIj09PWMpdGhyb3dcInRleHRBbmd1bGFyIEVycm9yOiBBbiBlZGl0b3IgcmVxdWlyZXMgYSBuYW1lXCI7aWYoIWQpdGhyb3dcInRleHRBbmd1bGFyIEVycm9yOiBBbiBlZGl0b3IgcmVxdWlyZXMgYSBzY29wZVwiO2lmKGpbY10pdGhyb3cndGV4dEFuZ3VsYXIgRXJyb3I6IEFuIEVkaXRvciB3aXRoIG5hbWUgXCInK2MrJ1wiIGFscmVhZHkgZXhpc3RzJztyZXR1cm4galtjXT17c2NvcGU6ZCx0b29sYmFyczplLFxuLy8gdG9vbGJhclNjb3BlcyB1c2VkIGJ5IHRoaXMgZWRpdG9yXG50b29sYmFyU2NvcGVzOltdLF9yZWdpc3RlclRvb2xiYXJTY29wZTpmdW5jdGlvbihhKXtcbi8vIGFkZCB0byB0aGUgbGlzdCBsYXRlXG50aGlzLnRvb2xiYXJzLmluZGV4T2YoYS5uYW1lKT49MCYmXG4vLyBpZiB0aGlzIHRvb2xiYXJTY29wZSBpcyBiZWluZyB1c2VkIGJ5IHRoaXMgZWRpdG9yIHdlIGFkZCBpdCBhcyBvbmUgb2YgdGhlIHNjb3Blc1xudGhpcy50b29sYmFyU2NvcGVzLnB1c2goYSl9LFxuLy8gdGhpcyBpcyBhIHN1aXRlIG9mIGZ1bmN0aW9ucyB0aGUgZWRpdG9yIHNob3VsZCB1c2UgdG8gdXBkYXRlIGFsbCBpdCdzIGxpbmtlZCB0b29sYmFyc1xuZWRpdG9yRnVuY3Rpb25zOntkaXNhYmxlOmZ1bmN0aW9uKCl7XG4vLyBkaXNhYmxlIGFsbCBsaW5rZWQgdG9vbGJhcnNcbmFuZ3VsYXIuZm9yRWFjaChqW2NdLnRvb2xiYXJTY29wZXMsZnVuY3Rpb24oYSl7YS5kaXNhYmxlZD0hMH0pfSxlbmFibGU6ZnVuY3Rpb24oKXtcbi8vIGVuYWJsZSBhbGwgbGlua2VkIHRvb2xiYXJzXG5hbmd1bGFyLmZvckVhY2goaltjXS50b29sYmFyU2NvcGVzLGZ1bmN0aW9uKGEpe2EuZGlzYWJsZWQ9ITF9KX0sZm9jdXM6ZnVuY3Rpb24oKXtcbi8vIHRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZSBlZGl0b3IgaXMgZm9jdXNzZWRcbmFuZ3VsYXIuZm9yRWFjaChqW2NdLnRvb2xiYXJTY29wZXMsZnVuY3Rpb24oYSl7YS5fcGFyZW50PWQsYS5kaXNhYmxlZD0hMSxhLmZvY3Vzc2VkPSEwfSksZC5mb2N1c3NlZD0hMH0sdW5mb2N1czpmdW5jdGlvbigpe1xuLy8gdGhpcyBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVkaXRvciBiZWNvbWVzIHVuZm9jdXNzZWRcbmFuZ3VsYXIuZm9yRWFjaChqW2NdLnRvb2xiYXJTY29wZXMsZnVuY3Rpb24oYSl7YS5kaXNhYmxlZD0hMCxhLmZvY3Vzc2VkPSExfSksZC5mb2N1c3NlZD0hMX0sdXBkYXRlU2VsZWN0ZWRTdHlsZXM6ZnVuY3Rpb24oYSl7XG4vLyB1cGRhdGUgdGhlIGFjdGl2ZSBzdGF0ZSBvZiBhbGwgYnV0dG9ucyBvbiBsaWtlZCB0b29sYmFyc1xuYW5ndWxhci5mb3JFYWNoKGpbY10udG9vbGJhclNjb3BlcyxmdW5jdGlvbihiKXthbmd1bGFyLmZvckVhY2goYi50b29scyxmdW5jdGlvbihjKXtjLmFjdGl2ZVN0YXRlJiYoYi5fcGFyZW50PWQsXG4vLyBzZWxlY3RlZEVsZW1lbnQgbWF5IGJlIHVuZGVmaW5lZCBpZiBub3RoaW5nIHNlbGVjdGVkXG5jLmFjdGl2ZT1jLmFjdGl2ZVN0YXRlKGEpKX0pfSl9LHNlbmRLZXlDb21tYW5kOmZ1bmN0aW9uKGUpe1xuLy8gd2UgcmV0dXJuIHRydWUgaWYgd2UgYXBwbGllZCBhbiBhY3Rpb24sIGZhbHNlIG90aGVyd2lzZVxudmFyIGY9ITE7cmV0dXJuKGUuY3RybEtleXx8ZS5tZXRhS2V5fHxlLnNwZWNpYWxLZXkpJiZhbmd1bGFyLmZvckVhY2goYixmdW5jdGlvbihiLGcpe2lmKGIuY29tbWFuZEtleUNvZGUmJihiLmNvbW1hbmRLZXlDb2RlPT09ZS53aGljaHx8Yi5jb21tYW5kS2V5Q29kZT09PWUuc3BlY2lhbEtleSkpZm9yKHZhciBoPTA7aDxqW2NdLnRvb2xiYXJTY29wZXMubGVuZ3RoO2grKylpZih2b2lkIDAhPT1qW2NdLnRvb2xiYXJTY29wZXNbaF0udG9vbHNbZ10pe2EuY2FsbChqW2NdLnRvb2xiYXJTY29wZXNbaF0udG9vbHNbZ10sZCksZj0hMDticmVha319KSxmfSx0cmlnZ2VyRWxlbWVudFNlbGVjdDpmdW5jdGlvbihhLGUpe1xuLy8gc2VhcmNoIHRocm91Z2ggdGhlIHRhVG9vbHMgdG8gc2VlIGlmIGEgbWF0Y2ggZm9yIHRoZSB0YWcgaXMgbWFkZS5cbi8vIGlmIHRoZXJlIGlzLCBzZWUgaWYgdGhlIHRvb2wgaXMgb24gYSByZWdpc3RlcmVkIHRvb2xiYXIgYW5kIG5vdCBkaXNhYmxlZC5cbi8vIE5PVEU6IFRoaXMgY2FuIHRyaWdnZXIgb24gTVVMVElQTEUgdG9vbHMgc2ltdWx0YW5lb3VzbHkuXG52YXIgZj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0hMCxkPTA7ZDxiLmxlbmd0aDtkKyspYz1jJiZhLmF0dHIoYltkXSk7cmV0dXJuIGN9LGc9W10saD17fSxpPSExO2U9YW5ndWxhci5lbGVtZW50KGUpO1xuLy8gZ2V0IGFsbCB2YWxpZCB0b29scyBieSBlbGVtZW50IG5hbWUsIGtlZXAgdHJhY2sgaWYgb25lIG1hdGNoZXMgdGhlXG52YXIgaz0hMTtcbi8vIFJ1biB0aGUgYWN0aW9ucyBvbiB0aGUgZmlyc3QgdmlzaWJsZSBmaWx0ZXJlZCB0b29sIG9ubHlcbmlmKGFuZ3VsYXIuZm9yRWFjaChiLGZ1bmN0aW9uKGEsYil7YS5vbkVsZW1lbnRTZWxlY3QmJmEub25FbGVtZW50U2VsZWN0LmVsZW1lbnQmJmEub25FbGVtZW50U2VsZWN0LmVsZW1lbnQudG9Mb3dlckNhc2UoKT09PWVbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYoIWEub25FbGVtZW50U2VsZWN0LmZpbHRlcnx8YS5vbkVsZW1lbnRTZWxlY3QuZmlsdGVyKGUpKSYmKFxuLy8gdGhpcyBzaG91bGQgb25seSBlbmQgdXAgdHJ1ZSBpZiB0aGUgZWxlbWVudCBtYXRjaGVzIHRoZSBvbmx5IGF0dHJpYnV0ZXNcbms9a3x8YW5ndWxhci5pc0FycmF5KGEub25FbGVtZW50U2VsZWN0Lm9ubHlXaXRoQXR0cnMpJiZmKGUsYS5vbkVsZW1lbnRTZWxlY3Qub25seVdpdGhBdHRycyksYS5vbkVsZW1lbnRTZWxlY3Qub25seVdpdGhBdHRycyYmIWYoZSxhLm9uRWxlbWVudFNlbGVjdC5vbmx5V2l0aEF0dHJzKXx8KGhbYl09YSkpfSksXG4vLyBpZiB3ZSBtYXRjaGVkIGF0dHJpYnV0ZXMgdG8gZmlsdGVyIG9uLCB0aGVuIGZpbHRlciwgZWxzZSBjb250aW51ZVxuaz8oYW5ndWxhci5mb3JFYWNoKGgsZnVuY3Rpb24oYSxiKXthLm9uRWxlbWVudFNlbGVjdC5vbmx5V2l0aEF0dHJzJiZmKGUsYS5vbkVsZW1lbnRTZWxlY3Qub25seVdpdGhBdHRycykmJmcucHVzaCh7bmFtZTpiLHRvb2w6YX0pfSksXG4vLyBzb3J0IG1vc3Qgc3BlY2lmaWMgKG1vc3QgYXR0cnMgdG8gZmluZCkgZmlyc3Rcbmcuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvb2wub25FbGVtZW50U2VsZWN0Lm9ubHlXaXRoQXR0cnMubGVuZ3RoLWEudG9vbC5vbkVsZW1lbnRTZWxlY3Qub25seVdpdGhBdHRycy5sZW5ndGh9KSk6YW5ndWxhci5mb3JFYWNoKGgsZnVuY3Rpb24oYSxiKXtnLnB1c2goe25hbWU6Yix0b29sOmF9KX0pLGcubGVuZ3RoPjApZm9yKHZhciBsPTA7bDxnLmxlbmd0aDtsKyspe2Zvcih2YXIgbT1nW2xdLnRvb2wsbj1nW2xdLm5hbWUsbz0wO288altjXS50b29sYmFyU2NvcGVzLmxlbmd0aDtvKyspaWYodm9pZCAwIT09altjXS50b29sYmFyU2NvcGVzW29dLnRvb2xzW25dKXttLm9uRWxlbWVudFNlbGVjdC5hY3Rpb24uY2FsbChqW2NdLnRvb2xiYXJTY29wZXNbb10udG9vbHNbbl0sYSxlLGQpLGk9ITA7YnJlYWt9aWYoaSlicmVha31yZXR1cm4gaX19fSxhbmd1bGFyLmZvckVhY2goZSxmdW5jdGlvbihhKXtpW2FdJiZqW2NdLnRvb2xiYXJTY29wZXMucHVzaChpW2FdKX0pLG8oKSxqW2NdLmVkaXRvckZ1bmN0aW9uc30sXG4vLyByZXRyaWV2ZSBlZGl0b3IgYnkgbmFtZSwgbGFyZ2VseSB1c2VkIGJ5IHRlc3Rpbmcgc3VpdGVzIG9ubHlcbnJldHJpZXZlRWRpdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBqW2FdfSx1bnJlZ2lzdGVyRWRpdG9yOmZ1bmN0aW9uKGEpe2RlbGV0ZSBqW2FdLG8oKX0sXG4vLyByZWdpc3RlcnMgYSB0b29sYmFyIHN1Y2ggdGhhdCBpdCBjYW4gYmUgbGlua2VkIHRvIGVkaXRvcnNcbnJlZ2lzdGVyVG9vbGJhcjpmdW5jdGlvbihhKXtpZighYSl0aHJvd1widGV4dEFuZ3VsYXIgRXJyb3I6IEEgdG9vbGJhciByZXF1aXJlcyBhIHNjb3BlXCI7aWYoIWEubmFtZXx8XCJcIj09PWEubmFtZSl0aHJvd1widGV4dEFuZ3VsYXIgRXJyb3I6IEEgdG9vbGJhciByZXF1aXJlcyBhIG5hbWVcIjtpZihpW2EubmFtZV0pdGhyb3cndGV4dEFuZ3VsYXIgRXJyb3I6IEEgdG9vbGJhciB3aXRoIG5hbWUgXCInK2EubmFtZSsnXCIgYWxyZWFkeSBleGlzdHMnO2lbYS5uYW1lXT1hLFxuLy8gd2FsayBhbGwgdGhlIGVkaXRvcnMgYW5kIGNvbm5lY3QgdGhpcyB0b29sYmFyU2NvcGUgdG8gdGhlIGVkaXRvcnMuLi4uIGlmIHdlIG5lZWQgdG8uICBUaGlzIHdheSwgaXQgZG9lc1xuLy8gbm90IG1hdHRlciBpZiB3ZSByZWdpc3RlciB0aGUgZWRpdG9ycyBhZnRlciB0aGUgdG9vbGJhcnMgb3Igbm90XG4vLyBOb3RlIHRoZSBlZGl0b3Igd2lsbCBpZ25vcmUgdGhpcyB0b29sYmFyU2NvcGUgaWYgaXQgaXMgbm90IGNvbm5lY3RlZCB0byBpdC4uLlxuYW5ndWxhci5mb3JFYWNoKGosZnVuY3Rpb24oYil7Yi5fcmVnaXN0ZXJUb29sYmFyU2NvcGUoYSl9KSxvKCl9LFxuLy8gcmV0cmlldmUgdG9vbGJhciBieSBuYW1lLCBsYXJnZWx5IHVzZWQgYnkgdGVzdGluZyBzdWl0ZXMgb25seVxucmV0cmlldmVUb29sYmFyOmZ1bmN0aW9uKGEpe3JldHVybiBpW2FdfSxcbi8vIHJldHJpZXZlIHRvb2xiYXJzIGJ5IGVkaXRvciBuYW1lLCBsYXJnZWx5IHVzZWQgYnkgdGVzdGluZyBzdWl0ZXMgb25seVxucmV0cmlldmVUb29sYmFyc1ZpYUVkaXRvcjpmdW5jdGlvbihhKXt2YXIgYj1bXSxjPXRoaXM7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLnJldHJpZXZlRWRpdG9yKGEpLnRvb2xiYXJzLGZ1bmN0aW9uKGEpe2IucHVzaChjLnJldHJpZXZlVG9vbGJhcihhKSl9KSxifSx1bnJlZ2lzdGVyVG9vbGJhcjpmdW5jdGlvbihhKXtkZWxldGUgaVthXSxvKCl9LFxuLy8gZnVuY3Rpb25zIGZvciB1cGRhdGluZyB0aGUgdG9vbGJhciBidXR0b25zIGRpc3BsYXlcbnVwZGF0ZVRvb2xzRGlzcGxheTpmdW5jdGlvbihhKXtcbi8vIHBhc3MgYSBwYXJ0aWFsIHN0cnVjdCBvZiB0aGUgdGFUb29scywgdGhpcyBhbGxvd3MgdXMgdG8gdXBkYXRlIHRoZSB0b29scyBvbiB0aGUgZmx5LCB3aWxsIG5vdCBjaGFuZ2UgdGhlIGRlZmF1bHRzLlxudmFyIGI9dGhpczthbmd1bGFyLmZvckVhY2goYSxmdW5jdGlvbihhLGMpe2IudXBkYXRlVG9vbERpc3BsYXkoYyxhKX0pfSxcbi8vIHRoaXMgZnVuY3Rpb24gcmVzZXRzIGFsbCB0b29sYmFycyB0byB0aGVpciBkZWZhdWx0IHRvb2wgZGVmaW5pdGlvbnNcbnJlc2V0VG9vbHNEaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthbmd1bGFyLmZvckVhY2goYixmdW5jdGlvbihiLGMpe2EucmVzZXRUb29sRGlzcGxheShjKX0pLG8oKX0sXG4vLyB1cGRhdGUgYSB0b29sIG9uIGFsbCB0b29sYmFyc1xudXBkYXRlVG9vbERpc3BsYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2FuZ3VsYXIuZm9yRWFjaChpLGZ1bmN0aW9uKGQsZSl7Yy51cGRhdGVUb29sYmFyVG9vbERpc3BsYXkoZSxhLGIpfSksbygpfSxcbi8vIHJlc2V0cyBhIHRvb2wgdG8gdGhlIGRlZmF1bHQvc3RhcnRpbmcgc3RhdGUgb24gYWxsIHRvb2xiYXJzXG5yZXNldFRvb2xEaXNwbGF5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YW5ndWxhci5mb3JFYWNoKGksZnVuY3Rpb24oYyxkKXtiLnJlc2V0VG9vbGJhclRvb2xEaXNwbGF5KGQsYSl9KSxvKCl9LFxuLy8gdXBkYXRlIGEgdG9vbCBvbiBhIHNwZWNpZmljIHRvb2xiYXJcbnVwZGF0ZVRvb2xiYXJUb29sRGlzcGxheTpmdW5jdGlvbihhLGIsYyl7aWYoIWlbYV0pdGhyb3cndGV4dEFuZ3VsYXIgRXJyb3I6IE5vIFRvb2xiYXIgd2l0aCBuYW1lIFwiJythKydcIiBleGlzdHMnO2lbYV0udXBkYXRlVG9vbERpc3BsYXkoYixjKX0sXG4vLyByZXNldCBhIHRvb2wgb24gYSBzcGVjaWZpYyB0b29sYmFyIHRvIGl0J3MgZGVmYXVsdCBzdGFydGluZyB2YWx1ZVxucmVzZXRUb29sYmFyVG9vbERpc3BsYXk6ZnVuY3Rpb24oYSxjKXtpZighaVthXSl0aHJvdyd0ZXh0QW5ndWxhciBFcnJvcjogTm8gVG9vbGJhciB3aXRoIG5hbWUgXCInK2ErJ1wiIGV4aXN0cyc7aVthXS51cGRhdGVUb29sRGlzcGxheShjLGJbY10sITApfSxcbi8vIHJlbW92ZXMgYSB0b29sIGZyb20gYWxsIHRvb2xiYXJzIGFuZCBpdCdzIGRlZmluaXRpb25cbnJlbW92ZVRvb2w6ZnVuY3Rpb24oYSl7ZGVsZXRlIGJbYV0sYW5ndWxhci5mb3JFYWNoKGksZnVuY3Rpb24oYil7ZGVsZXRlIGIudG9vbHNbYV07Zm9yKHZhciBjPTA7YzxiLnRvb2xiYXIubGVuZ3RoO2MrKyl7Zm9yKHZhciBkLGU9MDtlPGIudG9vbGJhcltjXS5sZW5ndGg7ZSsrKXtpZihiLnRvb2xiYXJbY11bZV09PT1hKXtkPXtncm91cDpjLGluZGV4OmV9O2JyZWFrfWlmKHZvaWQgMCE9PWQpYnJlYWt9dm9pZCAwIT09ZCYmKGIudG9vbGJhcltkLmdyb3VwXS5zbGljZShkLmluZGV4LDEpLGIuXyRlbGVtZW50LmNoaWxkcmVuKCkuZXEoZC5ncm91cCkuY2hpbGRyZW4oKS5lcShkLmluZGV4KS5yZW1vdmUoKSl9fSksbygpfSxcbi8vIHRvb2xrZXksIHRvb2xEZWZpbml0aW9uIGFyZSByZXF1aXJlZC4gSWYgZ3JvdXAgaXMgbm90IHNwZWNpZmllZCB3aWxsIHBpY2sgdGhlIGxhc3QgZ3JvdXAsIGlmIGluZGV4IGlzbnQgZGVmaW5lZCB3aWxsIGFwcGVuZCB0byBncm91cFxuYWRkVG9vbDpmdW5jdGlvbihhLGIsZCxlKXtjKGEsYiksYW5ndWxhci5mb3JFYWNoKGksZnVuY3Rpb24oYyl7Yy5hZGRUb29sKGEsYixkLGUpfSksbygpfSxcbi8vIGFkZHMgYSBUb29sIGJ1dCBvbmx5IHRvIG9uZSB0b29sYmFyIG5vdCBhbGxcbmFkZFRvb2xUb1Rvb2xiYXI6ZnVuY3Rpb24oYSxiLGQsZSxmKXtjKGEsYiksaVtkXS5hZGRUb29sKGEsYixlLGYpLG8oKX0sXG4vLyB0aGlzIGlzIHVzZWQgd2hlbiBleHRlcm5hbGx5IHRoZSBodG1sIG9mIGFuIGVkaXRvciBoYXMgYmVlbiBjaGFuZ2VkIGFuZCB0ZXh0QW5ndWxhciBuZWVkcyB0byBiZSBub3RpZmllZCB0byB1cGRhdGUgdGhlIG1vZGVsLlxuLy8gdGhpcyB3aWxsIGNhbGwgYSAkZGlnZXN0IGlmIG5vdCBhbHJlYWR5IGhhcHBlbmluZ1xucmVmcmVzaEVkaXRvcjpmdW5jdGlvbihhKXtpZighalthXSl0aHJvdyd0ZXh0QW5ndWxhciBFcnJvcjogTm8gRWRpdG9yIHdpdGggbmFtZSBcIicrYSsnXCIgZXhpc3RzJztqW2FdLnNjb3BlLnVwZGF0ZVRhQmluZHRhVGV4dEVsZW1lbnQoKSwvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogcGhhc2UgY2F0Y2ggKi9cbmpbYV0uc2NvcGUuJCRwaGFzZXx8althXS5zY29wZS4kZGlnZXN0KCksbygpfSxcbi8vIHRoaXMgaXMgdXNlZCBieSB0YUJpbmQgdG8gc2VuZCBhIGtleSBjb21tYW5kIGluIHJlc3BvbnNlIHRvIGEgc3BlY2lhbCBrZXkgZXZlbnRcbnNlbmRLZXlDb21tYW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9althLl9uYW1lXTsvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogaWYgbm90aGluZyB0byBkbywgZG8gbm90aGluZyAqL1xuaWYoYyYmYy5lZGl0b3JGdW5jdGlvbnMuc2VuZEtleUNvbW1hbmQoYikpLyogaXN0YW5idWwgaWdub3JlIGVsc2U6IGRvbid0IHJ1biBpZiBhbHJlYWR5IHJ1bm5pbmcgKi9cbnJldHVybiBhLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXN8fGEudXBkYXRlU2VsZWN0ZWRTdHlsZXMoKSxiLnByZXZlbnREZWZhdWx0KCksITF9LFxuLy9cbi8vIFdoZW4gYSB0b29sYmFyIGFuZCB0b29scyBhcmUgY3JlYXRlZCwgaXQgaXNuJ3QgdW50aWwgdGhlcmUgaXMgYSBrZXkgZXZlbnQgb3IgbW91c2UgZXZlbnRcbi8vIHRoYXQgdGhlIHVwZGF0ZVNlbGVjdGVkU3R5bGVzKCkgaXMgY2FsbGVkIGJlaGluZCB0aGUgc2NlbmVzLlxuLy8gVGhpcyBmdW5jdGlvbiBmb3JjZXMgYW4gdXBkYXRlIHRocm91Z2ggdGhlIGV4aXN0aW5nIGVkaXRvcnMgdG8gaGVscCB0aGUgYXBwbGljYXRpb24gbWFrZSBzdXJlXG4vLyB0aGUgaW5pdGFsIHN0YXRlIGlzIGNvcnJlY3QuXG4vL1xudXBkYXRlU3R5bGVzOmwsXG4vLyByZXR1cm4gdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0ZXh0QW5ndWxhciBpbiB1c2UgdG8gdGhlIHVzZXJcbmdldFZlcnNpb246ZnVuY3Rpb24oKXtyZXR1cm4gZn0sXG4vLyBmb3IgdGVzdGluZ1xuZ2V0VG9vbGJhclNjb3BlczpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2goaixmdW5jdGlvbihiKXthPWEuY29uY2F0KGIudG9vbGJhclNjb3Blcyl9KSxhfX19XSksdS5kaXJlY3RpdmUoXCJ0ZXh0QW5ndWxhclRvb2xiYXJcIixbXCIkY29tcGlsZVwiLFwidGV4dEFuZ3VsYXJNYW5hZ2VyXCIsXCJ0YU9wdGlvbnNcIixcInRhVG9vbHNcIixcInRhVG9vbEV4ZWN1dGVBY3Rpb25cIixcIiR3aW5kb3dcIixmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJue3Njb3BlOntuYW1lOlwiQFwifSxyZXN0cmljdDpcIkVBXCIsbGluazpmdW5jdGlvbihnLGgsaSl7aWYoIWcubmFtZXx8XCJcIj09PWcubmFtZSl0aHJvd1widGV4dEFuZ3VsYXIgRXJyb3I6IEEgdG9vbGJhciByZXF1aXJlcyBhIG5hbWVcIjthbmd1bGFyLmV4dGVuZChnLGFuZ3VsYXIuY29weShjKSksaS50YVRvb2xiYXImJihnLnRvb2xiYXI9Zy4kcGFyZW50LiRldmFsKGkudGFUb29sYmFyKSksaS50YVRvb2xiYXJDbGFzcyYmKGcuY2xhc3Nlcy50b29sYmFyPWkudGFUb29sYmFyQ2xhc3MpLGkudGFUb29sYmFyR3JvdXBDbGFzcyYmKGcuY2xhc3Nlcy50b29sYmFyR3JvdXA9aS50YVRvb2xiYXJHcm91cENsYXNzKSxpLnRhVG9vbGJhckJ1dHRvbkNsYXNzJiYoZy5jbGFzc2VzLnRvb2xiYXJCdXR0b249aS50YVRvb2xiYXJCdXR0b25DbGFzcyksaS50YVRvb2xiYXJBY3RpdmVCdXR0b25DbGFzcyYmKGcuY2xhc3Nlcy50b29sYmFyQnV0dG9uQWN0aXZlPWkudGFUb29sYmFyQWN0aXZlQnV0dG9uQ2xhc3MpLGkudGFGb2N1c3NlZENsYXNzJiYoZy5jbGFzc2VzLmZvY3Vzc2VkPWkudGFGb2N1c3NlZENsYXNzKSxnLmRpc2FibGVkPSEwLGcuZm9jdXNzZWQ9ITEsZy5fJGVsZW1lbnQ9aCxoWzBdLmlubmVySFRNTD1cIlwiLGguYWRkQ2xhc3MoXCJ0YS10b29sYmFyIFwiK2cuY2xhc3Nlcy50b29sYmFyKSxnLiR3YXRjaChcImZvY3Vzc2VkXCIsZnVuY3Rpb24oKXtnLmZvY3Vzc2VkP2guYWRkQ2xhc3MoZy5jbGFzc2VzLmZvY3Vzc2VkKTpoLnJlbW92ZUNsYXNzKGcuY2xhc3Nlcy5mb2N1c3NlZCl9KTt2YXIgaj1mdW5jdGlvbihiLGMpe3ZhciBkO2lmKGQ9YiYmYi5kaXNwbGF5P2FuZ3VsYXIuZWxlbWVudChiLmRpc3BsYXkpOmFuZ3VsYXIuZWxlbWVudChcIjxidXR0b24gdHlwZT0nYnV0dG9uJz5cIiksYiYmYi5jbGFzcz9kLmFkZENsYXNzKGIuY2xhc3MpOmQuYWRkQ2xhc3MoZy5jbGFzc2VzLnRvb2xiYXJCdXR0b24pLGQuYXR0cihcIm5hbWVcIixjLm5hbWUpLFxuLy8gaW1wb3J0YW50IHRvIG5vdCB0YWtlIGZvY3VzIGZyb20gdGhlIG1haW4gdGV4dC9odG1sIGVudHJ5XG5kLmF0dHIoXCJ0YS1idXR0b25cIixcInRhLWJ1dHRvblwiKSxkLmF0dHIoXCJuZy1kaXNhYmxlZFwiLFwiaXNEaXNhYmxlZCgpXCIpLGQuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKSxkLmF0dHIoXCJuZy1jbGlja1wiLFwiZXhlY3V0ZUFjdGlvbigpXCIpLGQuYXR0cihcIm5nLWNsYXNzXCIsXCJkaXNwbGF5QWN0aXZlVG9vbENsYXNzKGFjdGl2ZSlcIiksYiYmYi50b29sdGlwdGV4dCYmZC5hdHRyKFwidGl0bGVcIixiLnRvb2x0aXB0ZXh0KSxiJiYhYi5kaXNwbGF5JiYhYy5fZGlzcGxheSYmKFxuLy8gZmlyc3QgY2xlYXIgb3V0IHRoZSBjdXJyZW50IGNvbnRlbnRzIGlmIGFueVxuZFswXS5pbm5lckhUTUw9XCJcIixcbi8vIGFkZCB0aGUgYnV0dG9uVGV4dFxuYi5idXR0b250ZXh0JiYoZFswXS5pbm5lckhUTUw9Yi5idXR0b250ZXh0KSxiLmljb25jbGFzcykpe3ZhciBlPWFuZ3VsYXIuZWxlbWVudChcIjxpPlwiKSxmPWRbMF0uaW5uZXJIVE1MO2UuYWRkQ2xhc3MoYi5pY29uY2xhc3MpLGRbMF0uaW5uZXJIVE1MPVwiXCIsZC5hcHBlbmQoZSksZiYmXCJcIiE9PWYmJmQuYXBwZW5kKFwiJm5ic3A7XCIrZil9cmV0dXJuIGMuX2xhc3RUb29sRGVmaW5pdGlvbj1hbmd1bGFyLmNvcHkoYiksYShkKShjKX07XG4vLyBLZWVwIGEgcmVmZXJlbmNlIGZvciB1cGRhdGluZyB0aGUgYWN0aXZlIHN0YXRlcyBsYXRlclxuZy50b29scz17fSxcbi8vIGNyZWF0ZSB0aGUgdG9vbHMgaW4gdGhlIHRvb2xiYXJcbi8vIGRlZmF1bHQgZnVuY3Rpb25zIGFuZCB2YWx1ZXMgdG8gcHJldmVudCBlcnJvcnMgaW4gdGVzdGluZyBhbmQgb24gaW5pdFxuZy5fcGFyZW50PXtkaXNhYmxlZDohMCxzaG93SHRtbDohMSxxdWVyeUZvcm1hdEJsb2NrU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4hMX0scXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19O3ZhciBrPXskd2luZG93OmYsJGVkaXRvcjpmdW5jdGlvbigpe1xuLy8gZHluYW1pY2FsbHkgZ2V0cyB0aGUgZWRpdG9yIGFzIGl0IGlzIHNldFxucmV0dXJuIGcuX3BhcmVudH0saXNEaXNhYmxlZDpmdW5jdGlvbigpe1xuLy8gdmlldyBzZWxlY3Rpb24gYnV0dG9uIGlzIGFsd2F5cyBlbmFibGVkIHNpbmNlIGl0IGRvZXNuIG5vdCBkZXBlbmQgb24gYSBzZWxjdGlvbiFcbi8vIHZpZXcgc2VsZWN0aW9uIGJ1dHRvbiBpcyBhbHdheXMgZW5hYmxlZCBzaW5jZSBpdCBkb2VzbiBub3QgZGVwZW5kIG9uIGEgc2VsY3Rpb24hXG4vLyB0aGlzIGJyYWNrZXQgaXMgaW1wb3J0YW50IGFzIHdpdGhvdXQgaXQgaXQganVzdCByZXR1cm5zIHRoZSBmaXJzdCBicmFja2V0IGFuZCBpZ25vcmVzIHRoZSByZXN0XG4vLyB3aGVuIHRoZSBidXR0b24ncyBkaXNhYmxlZCBmdW5jdGlvbi92YWx1ZSBldmFsdWF0ZXMgdG8gdHJ1ZVxuLy8gYWxsIGJ1dHRvbnMgZXhjZXB0IHRoZSBIVE1MIFN3aXRjaCBidXR0b24gc2hvdWxkIGJlIGRpc2FibGVkIGluIHRoZSBzaG93SHRtbCAoUkFXIGh0bWwpIG1vZGVcbi8vIGlmIHRoZSB0b29sYmFyIGlzIGRpc2FibGVkXG4vLyBpZiB0aGUgY3VycmVudCBlZGl0b3IgaXMgZGlzYWJsZWRcbnJldHVybihcImh0bWxcIiE9PXRoaXMubmFtZXx8IWcuX3BhcmVudC5zdGFydEFjdGlvbikmJihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzLiRldmFsKFwiZGlzYWJsZWRcIikmJnRoaXMuJGV2YWwoXCJkaXNhYmxlZFwiKXx8dGhpcy4kZXZhbChcImRpc2FibGVkKClcIil8fFwiaHRtbFwiIT09dGhpcy5uYW1lJiZ0aGlzLiRlZGl0b3IoKS5zaG93SHRtbHx8dGhpcy4kcGFyZW50LmRpc2FibGVkfHx0aGlzLiRlZGl0b3IoKS5kaXNhYmxlZCl9LGRpc3BsYXlBY3RpdmVUb29sQ2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/Zy5jbGFzc2VzLnRvb2xiYXJCdXR0b25BY3RpdmU6XCJcIn0sZXhlY3V0ZUFjdGlvbjplfTthbmd1bGFyLmZvckVhY2goZy50b29sYmFyLGZ1bmN0aW9uKGEpe1xuLy8gc2V0dXAgdGhlIHRvb2xiYXIgZ3JvdXBcbnZhciBiPWFuZ3VsYXIuZWxlbWVudChcIjxkaXY+XCIpO2IuYWRkQ2xhc3MoZy5jbGFzc2VzLnRvb2xiYXJHcm91cCksYW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7XG4vLyBpbml0IGFuZCBhZGQgdGhlIHRvb2xzIHRvIHRoZSBncm91cFxuLy8gYSB0b29sIG5hbWUgKGtleSBuYW1lIGZyb20gdGFUb29scyBzdHJ1Y3QpXG4vL2NyZWF0ZXMgYSBjaGlsZCBzY29wZSBvZiB0aGUgbWFpbiBhbmd1bGFyVGV4dCBzY29wZSBhbmQgdGhlbiBleHRlbmRzIHRoZSBjaGlsZFNjb3BlIHdpdGggdGhlIGZ1bmN0aW9ucyBvZiB0aGlzIHBhcnRpY3VsYXIgdG9vbFxuLy8gcmVmZXJlbmNlIHRvIHRoZSBzY29wZSBhbmQgZWxlbWVudCBrZXB0XG5nLnRvb2xzW2FdPWFuZ3VsYXIuZXh0ZW5kKGcuJG5ldyghMCksZFthXSxrLHtuYW1lOmF9KSxnLnRvb2xzW2FdLiRlbGVtZW50PWooZFthXSxnLnRvb2xzW2FdKSxcbi8vIGFwcGVuZCB0aGUgdG9vbCBjb21waWxlZCB3aXRoIHRoZSBjaGlsZFNjb3BlIHRvIHRoZSBncm91cCBlbGVtZW50XG5iLmFwcGVuZChnLnRvb2xzW2FdLiRlbGVtZW50KX0pLFxuLy8gYXBwZW5kIHRoZSBncm91cCB0byB0aGUgdG9vbGJhclxuaC5hcHBlbmQoYil9KSxcbi8vIHVwZGF0ZSBhIHRvb2xcbi8vIGlmIGEgdmFsdWUgaXMgc2V0IHRvIG51bGwsIHJlbW92ZSBmcm9tIHRoZSBkaXNwbGF5XG4vLyB3aGVuIGZvcmNlTmV3IGlzIHNldCB0byB0cnVlIGl0IHdpbGwgaWdub3JlIGFsbCBwcmV2aW91cyBzZXR0aW5ncywgdXNlZCB0byByZXNldCB0byB0YVRvb2xzIGRlZmluaXRpb25cbi8vIHRvIHJlc2V0IHRvIGRlZmF1bHRzIHBhc3MgaW4gdGFUb29sc1trZXldIGFzIF9uZXdUb29sIGFuZCBmb3JjZU5ldyBhcyB0cnVlLCBpZSBgdXBkYXRlVG9vbERpc3BsYXkoa2V5LCB0YVRvb2xzW2tleV0sIHRydWUpO2BcbmcudXBkYXRlVG9vbERpc3BsYXk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWcudG9vbHNbYV07aWYoZCl7aWYoXG4vLyBnZXQgdGhlIGxhc3QgdG9vbERlZmluaXRpb24sIHRoZW4gb3ZlcnJpZGUgd2l0aCB0aGUgbmV3IGRlZmluaXRpb25cbmQuX2xhc3RUb29sRGVmaW5pdGlvbiYmIWMmJihiPWFuZ3VsYXIuZXh0ZW5kKHt9LGQuX2xhc3RUb29sRGVmaW5pdGlvbixiKSksbnVsbD09PWIuYnV0dG9udGV4dCYmbnVsbD09PWIuaWNvbmNsYXNzJiZudWxsPT09Yi5kaXNwbGF5KXRocm93J3RleHRBbmd1bGFyIEVycm9yOiBUb29sIERlZmluaXRpb24gZm9yIHVwZGF0aW5nIFwiJythKydcIiBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgZGlzcGxheS9pY29uY2xhc3MvYnV0dG9udGV4dCB2YWx1ZSc7XG4vLyBpZiB0b29sIGlzIGRlZmluZWQgb24gdGhpcyB0b29sYmFyLCB1cGRhdGUvcmVkbyB0aGUgdG9vbFxubnVsbD09PWIuYnV0dG9udGV4dCYmZGVsZXRlIGIuYnV0dG9udGV4dCxudWxsPT09Yi5pY29uY2xhc3MmJmRlbGV0ZSBiLmljb25jbGFzcyxudWxsPT09Yi5kaXNwbGF5JiZkZWxldGUgYi5kaXNwbGF5O3ZhciBlPWooYixkKTtkLiRlbGVtZW50LnJlcGxhY2VXaXRoKGUpLGQuJGVsZW1lbnQ9ZX19LFxuLy8gd2UgYXNzdW1lIGhlcmUgdGhhdCBhbGwgdmFsdWVzIHBhc3NlZCBhcmUgdmFsaWQgYW5kIGNvcnJlY3RcbmcuYWRkVG9vbD1mdW5jdGlvbihhLGIsYyxlKXtnLnRvb2xzW2FdPWFuZ3VsYXIuZXh0ZW5kKGcuJG5ldyghMCksZFthXSxrLHtuYW1lOmF9KSxnLnRvb2xzW2FdLiRlbGVtZW50PWooZFthXSxnLnRvb2xzW2FdKTt2YXIgZjt2b2lkIDA9PT1jJiYoYz1nLnRvb2xiYXIubGVuZ3RoLTEpLGY9YW5ndWxhci5lbGVtZW50KGguY2hpbGRyZW4oKVtjXSksdm9pZCAwPT09ZT8oZi5hcHBlbmQoZy50b29sc1thXS4kZWxlbWVudCksZy50b29sYmFyW2NdW2cudG9vbGJhcltjXS5sZW5ndGgtMV09YSk6KGYuY2hpbGRyZW4oKS5lcShlKS5hZnRlcihnLnRvb2xzW2FdLiRlbGVtZW50KSxnLnRvb2xiYXJbY11bZV09YSl9LGIucmVnaXN0ZXJUb29sYmFyKGcpLGcuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2IudW5yZWdpc3RlclRvb2xiYXIoZy5uYW1lKX0pfX19XSksdS5kaXJlY3RpdmUoXCJ0ZXh0QW5ndWxhclZlcnNpb25cIixbXCJ0ZXh0QW5ndWxhck1hbmFnZXJcIixmdW5jdGlvbihhKXt2YXIgYj1hLmdldFZlcnNpb24oKTtyZXR1cm57cmVzdHJpY3Q6XCJFQVwiLGxpbms6ZnVuY3Rpb24oYSxjLGQpe2MuaHRtbChiKX19fV0pLHUubmFtZX0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvcGx1Z2lucy90ZXh0QW5ndWxhci5taW4uanMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOzs7O0FBSUE7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBDQTs7Ozs7Ozs7QUFRQTtBQUNBOzs7QUFHQTs7Ozs7QUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwQkE7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7Ozs7OztBQU1BOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7OztBQUdBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdGQTs7OztBQUlBOzs7Ozs7Ozs7QUFTQTs7O0FBR0E7O0FBRUE7Ozs7OztBQU1BOzs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7O0FBR0E7Ozs7QUFJQTs7Ozs7QUFLQTs7Ozs7Ozs7Ozs7Ozs7QUFjQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7Ozs7QUFJQTs7OztBQUlBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7OztBQUlBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7Ozs7Ozs7QUFPQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBOzs7Ozs7Ozs7O0FBVUE7O0FBRUE7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCQTs7O0FBR0E7Ozs7O0FBS0E7O0FBRUE7O0FBRUE7OztBQUdBOzs7O0FBSUE7OztBQUdBOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBOzs7QUFHQTs7Ozs7OztBQU9BOztBQUVBOzs7OztBQUtBOzs7QUFHQTs7OztBQUlBOztBQUVBOztBQUVBOzs7QUFHQTs7OztBQUlBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7Ozs7O0FBS0E7Ozs7QUFJQTs7Ozs7QUFLQTs7QUFFQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBOzs7QUFHQTs7QUFFQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7OztBQUlBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7Ozs7QUFPQTs7O0FBR0E7Ozs7QUFJQTs7O0FBR0E7Ozs7O0FBS0E7O0FBRUE7Ozs7O0FBS0E7QUFDQTs7OztBQUlBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBVUE7Ozs7Ozs7O0FBUUE7O0FBRUE7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7OztBQUlBOztBQUVBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTs7Ozs7QUFLQTs7QUFFQTs7OztBQUlBO0FBQ0E7Ozs7QUFJQTs7QUFFQTs7O0FBR0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7Ozs7QUFLQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7OztBQUdBOzs7Ozs7O0FBT0E7O0FBRUE7O0FBRUE7OztBQUdBOzs7Ozs7O0FBT0E7Ozs7QUFJQTs7Ozs7O0FBTUE7Ozs7Ozs7Ozs7Ozs7QUFhQTs7O0FBR0E7O0FBRUE7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBK0NBOzs7QUFHQTs7OztBQUlBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7O0FBR0E7O0FBRUE7OztBQUdBOztBQUVBOztBQUVBOzs7O0FBSUE7Ozs7QUFJQTs7QUFFQTs7O0FBR0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7Ozs7QUFLQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7O0FBRUE7Ozs7QUFJQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7OztBQUlBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOzs7O0FBSUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBOzs7Ozs7OztBQVFBOztBQUVBOzs7OztBQUtBOztBQUVBOztBQUVBOzs7OztBQUtBOztBQUVBOztBQUVBOztBQUVBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 14 */
/***/ function(module, exports) {

eval("app.config(function($stateProvider, $urlRouterProvider, $locationProvider) {\r\n  $locationProvider.html5Mode({\r\n  enabled: true,\r\n  requireBase: false\r\n  });\r\n\r\n  $urlRouterProvider.otherwise('/');\r\n\r\n  $stateProvider\r\n    // HOME\r\n    .state('/',{\r\n      url: '/',\r\n      views: {\r\n        'navbar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/navbar.html'\r\n        },\r\n        'body': {\r\n          templateUrl: '/angular/views/home.html'\r\n        },\r\n        'footer': {\r\n          templateUrl: '/angular/views/footer.html'\r\n        }\r\n      }\r\n    })\r\n    // SOLUTIONS\r\n    .state('solutions',{\r\n      url: '/solutions',\r\n      views: {\r\n        'navbar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/navbar.html'\r\n        },\r\n        'body': {\r\n          controller: 'solutionController',\r\n          templateUrl: '/angular/views/solutions.html'\r\n        },\r\n        'footer': {\r\n          templateUrl: '/angular/views/footer.html'\r\n        }\r\n      }\r\n    })\r\n    // SOLUTION\r\n    .state('solution',{\r\n      url: '/solution/{slug}',\r\n      views: {\r\n        'navbar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/navbar.html'\r\n        },\r\n        'body': {\r\n          controller: 'solutionController',\r\n          templateUrl: '/angular/views/show_solution.html'\r\n        },\r\n        'footer': {\r\n          templateUrl: '/angular/views/footer.html'\r\n        }\r\n      }\r\n    })\r\n    // POST\r\n    .state('post',{\r\n      url: '/post/{slug}',\r\n      views: {\r\n        'navbar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/navbar.html'\r\n        },\r\n        'body': {\r\n          controller: 'postController',\r\n          templateUrl: '/angular/views/show_post.html'\r\n        },\r\n        'footer': {\r\n          templateUrl: '/angular/views/footer.html'\r\n        }\r\n      }\r\n    })\r\n    // BLOG\r\n    .state('blog',{\r\n      url: '/blog',\r\n      views: {\r\n        'navbar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/navbar.html'\r\n        },\r\n        'body': {\r\n          controller: 'blogController',\r\n          templateUrl: '/angular/views/blog.html'\r\n        },\r\n        'footer': {\r\n          templateUrl: '/angular/views/footer.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - LAYOUT\r\n    .state('dashboard',{\r\n      views: {\r\n        'navbar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/navbar.html'\r\n        },\r\n        'body': {\r\n          templateUrl: '/angular/views/dashboard/layout.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - PROFILE\r\n    .state('dashboard.profile',{\r\n      url: '/dashboard/profile',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'profileController',\r\n          templateUrl: '/angular/views/dashboard/profile.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - GOOGLE MAPS\r\n    .state('dashboard.gmaps',{\r\n      url: '/dashboard/gmaps',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'googleMapController',\r\n          templateUrl: '/angular/views/dashboard/googleMaps.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - ANNOUNCES\r\n    .state('dashboard.announces',{\r\n      url: '/dashboard/announces',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'announceController',\r\n          templateUrl: '/angular/views/dashboard/announces.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - CREATE ANNOUNCE\r\n    .state('dashboard.createannounce',{\r\n      url: '/dashboard/announces/create',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'announceController',\r\n          templateUrl: '/angular/views/dashboard/announce_create.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - EDIT ANNOUNCE\r\n    .state('dashboard.editannounce',{\r\n      url: '/dashboard/announces/{slug}/edit',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'announceController',\r\n          templateUrl: '/angular/views/dashboard/announce_edit.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - POSTS\r\n    .state('dashboard.posts',{\r\n      url: '/dashboard/posts',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'postController',\r\n          templateUrl: '/angular/views/dashboard/posts.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - CREATE POST\r\n    .state('dashboard.createpost',{\r\n      url: '/dashboard/posts/create',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'postController',\r\n          templateUrl: '/angular/views/dashboard/post_create.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - EDIT POST\r\n    .state('dashboard.editpost',{\r\n      url: '/dashboard/posts/{slug}/edit',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'postController',\r\n          templateUrl: '/angular/views/dashboard/post_edit.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - TAGS\r\n    .state('dashboard.tags',{\r\n      url: '/dashboard/tags',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'tagController',\r\n          templateUrl: '/angular/views/dashboard/tags.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - INVENTORY\r\n    .state('dashboard.inventory',{\r\n      url: '/dashboard/inventory',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'inventoryController',\r\n          templateUrl: '/angular/views/dashboard/inventory.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - CREATE SOLUTION\r\n    .state('dashboard.createsolution',{\r\n      url: '/dashboard/solutions/create',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'inventoryController',\r\n          templateUrl: '/angular/views/dashboard/solution_create.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - EDIT SOLUTION\r\n    .state('dashboard.editsolution',{\r\n      url: '/dashboard/solutions/{slug}/edit',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'inventoryController',\r\n          templateUrl: '/angular/views/dashboard/solution_edit.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - CATEGORIES\r\n    .state('dashboard.categories',{\r\n      url: '/dashboard/categories',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'tagController',\r\n          templateUrl: '/angular/views/dashboard/categories.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - TESTIMONIALS\r\n    .state('dashboard.testimonials',{\r\n      url: '/dashboard/testimonials',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'testimonialRequestController',\r\n          templateUrl: '/angular/views/dashboard/testimonials.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - TOOLS\r\n    .state('dashboard.tools',{\r\n      url: '/dashboard/tools',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'toolController',\r\n          templateUrl: '/angular/views/dashboard/tools.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - CREATE ANNOUNCE\r\n    .state('dashboard.createtool',{\r\n      url: '/dashboard/tools/create',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'toolController',\r\n          templateUrl: '/angular/views/dashboard/tool_create.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - EDIT TOOL\r\n    .state('dashboard.edittool',{\r\n      url: '/dashboard/tools/{slug}/edit',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'toolController',\r\n          templateUrl: '/angular/views/dashboard/tool_edit.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - PROJECTS\r\n    .state('dashboard.projects',{\r\n      url: '/dashboard/projects',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'projectController',\r\n          templateUrl: '/angular/views/dashboard/projects.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - CREATE PROJECT\r\n    .state('dashboard.createproject',{\r\n      url: '/dashboard/projects/create',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'projectController',\r\n          templateUrl: '/angular/views/dashboard/project_create.html'\r\n        }\r\n      }\r\n    })\r\n    // DASHBOARD - EDIT PROJECT\r\n    .state('dashboard.editproject',{\r\n      url: '/dashboard/projects/{slug}/edit',\r\n      parent: 'dashboard',\r\n      views: {\r\n        'sidebar': {\r\n          controller: 'generalController',\r\n          templateUrl: '/angular/views/dashboard/sidebar.html'\r\n        },\r\n        'body': {\r\n          controller: 'projectController',\r\n          templateUrl: '/angular/views/dashboard/project_edit.html'\r\n        }\r\n      }\r\n    });\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3JvdXRlcy5qcz9lNWM1Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xyXG4gIGVuYWJsZWQ6IHRydWUsXHJcbiAgcmVxdWlyZUJhc2U6IGZhbHNlXHJcbiAgfSk7XHJcblxyXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXJcclxuICAgIC8vIEhPTUVcclxuICAgIC5zdGF0ZSgnLycse1xyXG4gICAgICB1cmw6ICcvJyxcclxuICAgICAgdmlld3M6IHtcclxuICAgICAgICAnbmF2YmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvbmF2YmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvaG9tZS5odG1sJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2Zvb3Rlcic6IHtcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZm9vdGVyLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gU09MVVRJT05TXHJcbiAgICAuc3RhdGUoJ3NvbHV0aW9ucycse1xyXG4gICAgICB1cmw6ICcvc29sdXRpb25zJyxcclxuICAgICAgdmlld3M6IHtcclxuICAgICAgICAnbmF2YmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvbmF2YmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdzb2x1dGlvbkNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9zb2x1dGlvbnMuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdmb290ZXInOiB7XHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Zvb3Rlci5odG1sJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIFNPTFVUSU9OXHJcbiAgICAuc3RhdGUoJ3NvbHV0aW9uJyx7XHJcbiAgICAgIHVybDogJy9zb2x1dGlvbi97c2x1Z30nLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICduYXZiYXInOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAnZ2VuZXJhbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9uYXZiYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ3NvbHV0aW9uQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL3Nob3dfc29sdXRpb24uaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdmb290ZXInOiB7XHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Zvb3Rlci5odG1sJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIFBPU1RcclxuICAgIC5zdGF0ZSgncG9zdCcse1xyXG4gICAgICB1cmw6ICcvcG9zdC97c2x1Z30nLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICduYXZiYXInOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAnZ2VuZXJhbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9uYXZiYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ3Bvc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3Mvc2hvd19wb3N0Lmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZm9vdGVyJzoge1xyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9mb290ZXIuaHRtbCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyBCTE9HXHJcbiAgICAuc3RhdGUoJ2Jsb2cnLHtcclxuICAgICAgdXJsOiAnL2Jsb2cnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICduYXZiYXInOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAnZ2VuZXJhbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9uYXZiYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2Jsb2dDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvYmxvZy5odG1sJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2Zvb3Rlcic6IHtcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZm9vdGVyLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gTEFZT1VUXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZCcse1xyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICduYXZiYXInOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAnZ2VuZXJhbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvbmF2YmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL2xheW91dC5odG1sJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIERBU0hCT0FSRCAtIFBST0ZJTEVcclxuICAgIC5zdGF0ZSgnZGFzaGJvYXJkLnByb2ZpbGUnLHtcclxuICAgICAgdXJsOiAnL2Rhc2hib2FyZC9wcm9maWxlJyxcclxuICAgICAgcGFyZW50OiAnZGFzaGJvYXJkJyxcclxuICAgICAgdmlld3M6IHtcclxuICAgICAgICAnc2lkZWJhcic6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZW5lcmFsQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9zaWRlYmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9maWxlQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9wcm9maWxlLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gR09PR0xFIE1BUFNcclxuICAgIC5zdGF0ZSgnZGFzaGJvYXJkLmdtYXBzJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvZ21hcHMnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dvb2dsZU1hcENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvZ29vZ2xlTWFwcy5odG1sJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIERBU0hCT0FSRCAtIEFOTk9VTkNFU1xyXG4gICAgLnN0YXRlKCdkYXNoYm9hcmQuYW5ub3VuY2VzJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvYW5ub3VuY2VzJyxcclxuICAgICAgcGFyZW50OiAnZGFzaGJvYXJkJyxcclxuICAgICAgdmlld3M6IHtcclxuICAgICAgICAnc2lkZWJhcic6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZW5lcmFsQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9zaWRlYmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdhbm5vdW5jZUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvYW5ub3VuY2VzLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gQ1JFQVRFIEFOTk9VTkNFXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC5jcmVhdGVhbm5vdW5jZScse1xyXG4gICAgICB1cmw6ICcvZGFzaGJvYXJkL2Fubm91bmNlcy9jcmVhdGUnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2Fubm91bmNlQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9hbm5vdW5jZV9jcmVhdGUuaHRtbCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyBEQVNIQk9BUkQgLSBFRElUIEFOTk9VTkNFXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC5lZGl0YW5ub3VuY2UnLHtcclxuICAgICAgdXJsOiAnL2Rhc2hib2FyZC9hbm5vdW5jZXMve3NsdWd9L2VkaXQnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2Fubm91bmNlQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9hbm5vdW5jZV9lZGl0Lmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gUE9TVFNcclxuICAgIC5zdGF0ZSgnZGFzaGJvYXJkLnBvc3RzJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvcG9zdHMnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ3Bvc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3Bvc3RzLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gQ1JFQVRFIFBPU1RcclxuICAgIC5zdGF0ZSgnZGFzaGJvYXJkLmNyZWF0ZXBvc3QnLHtcclxuICAgICAgdXJsOiAnL2Rhc2hib2FyZC9wb3N0cy9jcmVhdGUnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ3Bvc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3Bvc3RfY3JlYXRlLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gRURJVCBQT1NUXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC5lZGl0cG9zdCcse1xyXG4gICAgICB1cmw6ICcvZGFzaGJvYXJkL3Bvc3RzL3tzbHVnfS9lZGl0JyxcclxuICAgICAgcGFyZW50OiAnZGFzaGJvYXJkJyxcclxuICAgICAgdmlld3M6IHtcclxuICAgICAgICAnc2lkZWJhcic6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZW5lcmFsQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9zaWRlYmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdwb3N0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9wb3N0X2VkaXQuaHRtbCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyBEQVNIQk9BUkQgLSBUQUdTXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC50YWdzJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvdGFncycsXHJcbiAgICAgIHBhcmVudDogJ2Rhc2hib2FyZCcsXHJcbiAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgJ3NpZGViYXInOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAnZ2VuZXJhbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvc2lkZWJhci5odG1sJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2JvZHknOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAndGFnQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC90YWdzLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gSU5WRU5UT1JZXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC5pbnZlbnRvcnknLHtcclxuICAgICAgdXJsOiAnL2Rhc2hib2FyZC9pbnZlbnRvcnknLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2ludmVudG9yeUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvaW52ZW50b3J5Lmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gQ1JFQVRFIFNPTFVUSU9OXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC5jcmVhdGVzb2x1dGlvbicse1xyXG4gICAgICB1cmw6ICcvZGFzaGJvYXJkL3NvbHV0aW9ucy9jcmVhdGUnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2ludmVudG9yeUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvc29sdXRpb25fY3JlYXRlLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gRURJVCBTT0xVVElPTlxyXG4gICAgLnN0YXRlKCdkYXNoYm9hcmQuZWRpdHNvbHV0aW9uJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvc29sdXRpb25zL3tzbHVnfS9lZGl0JyxcclxuICAgICAgcGFyZW50OiAnZGFzaGJvYXJkJyxcclxuICAgICAgdmlld3M6IHtcclxuICAgICAgICAnc2lkZWJhcic6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZW5lcmFsQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9zaWRlYmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdpbnZlbnRvcnlDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NvbHV0aW9uX2VkaXQuaHRtbCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyBEQVNIQk9BUkQgLSBDQVRFR09SSUVTXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC5jYXRlZ29yaWVzJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvY2F0ZWdvcmllcycsXHJcbiAgICAgIHBhcmVudDogJ2Rhc2hib2FyZCcsXHJcbiAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgJ3NpZGViYXInOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAnZ2VuZXJhbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvc2lkZWJhci5odG1sJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2JvZHknOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAndGFnQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9jYXRlZ29yaWVzLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gVEVTVElNT05JQUxTXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC50ZXN0aW1vbmlhbHMnLHtcclxuICAgICAgdXJsOiAnL2Rhc2hib2FyZC90ZXN0aW1vbmlhbHMnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ3Rlc3RpbW9uaWFsUmVxdWVzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvdGVzdGltb25pYWxzLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gVE9PTFNcclxuICAgIC5zdGF0ZSgnZGFzaGJvYXJkLnRvb2xzJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvdG9vbHMnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ3Rvb2xDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3Rvb2xzLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gQ1JFQVRFIEFOTk9VTkNFXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC5jcmVhdGV0b29sJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvdG9vbHMvY3JlYXRlJyxcclxuICAgICAgcGFyZW50OiAnZGFzaGJvYXJkJyxcclxuICAgICAgdmlld3M6IHtcclxuICAgICAgICAnc2lkZWJhcic6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZW5lcmFsQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9zaWRlYmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICd0b29sQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC90b29sX2NyZWF0ZS5odG1sJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIERBU0hCT0FSRCAtIEVESVQgVE9PTFxyXG4gICAgLnN0YXRlKCdkYXNoYm9hcmQuZWRpdHRvb2wnLHtcclxuICAgICAgdXJsOiAnL2Rhc2hib2FyZC90b29scy97c2x1Z30vZWRpdCcsXHJcbiAgICAgIHBhcmVudDogJ2Rhc2hib2FyZCcsXHJcbiAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgJ3NpZGViYXInOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAnZ2VuZXJhbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvc2lkZWJhci5odG1sJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2JvZHknOiB7XHJcbiAgICAgICAgICBjb250cm9sbGVyOiAndG9vbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYW5ndWxhci92aWV3cy9kYXNoYm9hcmQvdG9vbF9lZGl0Lmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gUFJPSkVDVFNcclxuICAgIC5zdGF0ZSgnZGFzaGJvYXJkLnByb2plY3RzJyx7XHJcbiAgICAgIHVybDogJy9kYXNoYm9hcmQvcHJvamVjdHMnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ3Byb2plY3RDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3Byb2plY3RzLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gQ1JFQVRFIFBST0pFQ1RcclxuICAgIC5zdGF0ZSgnZGFzaGJvYXJkLmNyZWF0ZXByb2plY3QnLHtcclxuICAgICAgdXJsOiAnL2Rhc2hib2FyZC9wcm9qZWN0cy9jcmVhdGUnLFxyXG4gICAgICBwYXJlbnQ6ICdkYXNoYm9hcmQnLFxyXG4gICAgICB2aWV3czoge1xyXG4gICAgICAgICdzaWRlYmFyJzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ2dlbmVyYWxDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3NpZGViYXIuaHRtbCdcclxuICAgICAgICB9LFxyXG4gICAgICAgICdib2R5Jzoge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogJ3Byb2plY3RDb250cm9sbGVyJyxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2FuZ3VsYXIvdmlld3MvZGFzaGJvYXJkL3Byb2plY3RfY3JlYXRlLmh0bWwnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gREFTSEJPQVJEIC0gRURJVCBQUk9KRUNUXHJcbiAgICAuc3RhdGUoJ2Rhc2hib2FyZC5lZGl0cHJvamVjdCcse1xyXG4gICAgICB1cmw6ICcvZGFzaGJvYXJkL3Byb2plY3RzL3tzbHVnfS9lZGl0JyxcclxuICAgICAgcGFyZW50OiAnZGFzaGJvYXJkJyxcclxuICAgICAgdmlld3M6IHtcclxuICAgICAgICAnc2lkZWJhcic6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZW5lcmFsQ29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9zaWRlYmFyLmh0bWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnYm9keSc6IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9qZWN0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hbmd1bGFyL3ZpZXdzL2Rhc2hib2FyZC9wcm9qZWN0X2VkaXQuaHRtbCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9yb3V0ZXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

eval("// Import all services\r\n\r\n// -> Authenticate\r\n__webpack_require__(75);\r\n\r\n// -> Plugins\r\n__webpack_require__(82);\r\n__webpack_require__(91);\r\n\r\n// -> Navbar & sidebar\r\n__webpack_require__(80);\r\n\r\n// -> Chat\r\n__webpack_require__(78);\r\n__webpack_require__(77);\r\n\r\n// -> Google Maps\r\n__webpack_require__(81);\r\n\r\n// -> Articles\r\n__webpack_require__(83);\r\n__webpack_require__(79);\r\n__webpack_require__(87);\r\n\r\n// -> Solutions\r\n__webpack_require__(86);\r\n__webpack_require__(76);\r\n__webpack_require__(89);\r\n__webpack_require__(88);\r\n__webpack_require__(85);\r\n__webpack_require__(90);\r\n\r\n// -> User dashboard\r\n__webpack_require__(84);\r\n\r\n// -> Admin dashboard\r\n__webpack_require__(74);\r\n\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzLmpzPzE3ODciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0IGFsbCBzZXJ2aWNlc1xyXG5cclxuLy8gLT4gQXV0aGVudGljYXRlXHJcbnJlcXVpcmUoJy4vc2VydmljZXMvYXV0aFNlcnZpY2UnKTtcclxuXHJcbi8vIC0+IFBsdWdpbnNcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9ub3RpZnlTZXJ2aWNlJyk7XHJcbnJlcXVpcmUoJy4vc2VydmljZXMvdXNlclN0YXR1c1NlcnZpY2UnKTtcclxuXHJcbi8vIC0+IE5hdmJhciAmIHNpZGViYXJcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9jb250YWN0U2VydmljZScpO1xyXG5cclxuLy8gLT4gQ2hhdFxyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL2NoYXRTZXJ2aWNlJyk7XHJcbnJlcXVpcmUoJy4vc2VydmljZXMvY2hhdFJlcXVlc3RTZXJ2aWNlJyk7XHJcblxyXG4vLyAtPiBHb29nbGUgTWFwc1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL2dvb2dsZU1hcFNlcnZpY2UnKTtcclxuXHJcbi8vIC0+IEFydGljbGVzXHJcbnJlcXVpcmUoJy4vc2VydmljZXMvcG9zdFNlcnZpY2UnKTtcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9jb21tZW50U2VydmljZScpO1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3RhZ1NlcnZpY2UnKTtcclxuXHJcbi8vIC0+IFNvbHV0aW9uc1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3NvbHV0aW9uU2VydmljZScpO1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL2NhdGVnb3J5U2VydmljZScpO1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3Rlc3RpbW9uaWFsU2VydmljZScpO1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3Rlc3RpbW9uaWFsUmVxdWVzdFNlcnZpY2UnKTtcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9wcm9qZWN0U2VydmljZScpO1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3Rvb2xTZXJ2aWNlJyk7XHJcblxyXG4vLyAtPiBVc2VyIGRhc2hib2FyZFxyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3Byb2ZpbGVTZXJ2aWNlJyk7XHJcblxyXG4vLyAtPiBBZG1pbiBkYXNoYm9hcmRcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9hbm5vdW5jZVNlcnZpY2UnKTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvc2VydmljZXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 16 */
/***/ function(module, exports) {

eval("/*\r\n * ngComboDatePicker v1.3.1\r\n * http://github.com/jfmdev/ngComboDatePicker\r\n * Copyright 2015 Jose F. Maldonado\r\n * This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n */\r\nangular.module(\"ngComboDatePicker\",[]).directive(\"ngComboDatePicker\",function(){function maxDate(a,b){var c=31;return null!=a&&(4!=a&&6!=a&&9!=a&&11!=a||(c=30),null!=b&&2==a&&(c=b%4==0&&b%100!=0?29:28)),c}function adjustTimezone(a,b){var c=isNaN(b)?(new Date).getTimezoneOffset():60*parseFloat(b);return new Date(a.getTime()+60*c*1e3)}function parseDate(a,b){var c=null;return void 0!==a&&null!==a&&(a instanceof Date?c=a:\"number\"!=typeof a&&\"string\"!=typeof a||(c=new Date(isNaN(a)?a:parseInt(a,10)),c=adjustTimezone(c,b))),c}function parseIntStrict(a){return null!==a&&\"\"!==a&&NaN!=parseInt(a)?parseInt(a):null}function parseJsonPlus(a){var b=null;if(null!=a){try{b=JSON.parse(a)}catch(a){}if(null==b)try{b=JSON.parse(a.replace(/'/g,'\"'))}catch(a){}}return b}return{restrict:\"AEC\",scope:{ngModel:\"=\",ngDate:\"@\",ngMinDate:\"@\",ngMaxDate:\"@\",ngMonths:\"@\",ngOrder:\"@\",ngAttrsDate:\"@\",ngAttrsMonth:\"@\",ngAttrsYear:\"@\",ngYearOrder:\"@\",ngTimezone:\"@\",ngPlaceholder:\"@\",ngRequired:\"@\"},require:\"ngModel\",controller:[\"$scope\",function(a){a.ngModel=parseDate(a.ngModel,a.ngTimezone),a.ngAttrsDate=parseJsonPlus(a.ngAttrsDate),a.ngAttrsMonth=parseJsonPlus(a.ngAttrsMonth),a.ngAttrsYear=parseJsonPlus(a.ngAttrsYear);var b=parseDate(a.ngDate,a.ngTimezone);if(null!=b&&(a.ngModel=b),\"string\"!=typeof a.ngOrder?a.ngOrder=\"dmy\":a.ngOrder=a.ngOrder.toLowerCase(),a.minDate=parseDate(a.ngMinDate,a.ngTimezone),null==a.ngMinDate){var c=new Date;a.minDate=new Date(c.getFullYear()-100,c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())}if(a.maxDate=parseDate(a.ngMaxDate,a.ngTimezone),null==a.maxDate&&(a.maxDate=new Date),a.ngModel<a.minDate&&(a.ngModel=a.minDate),a.ngModel>a.maxDate&&(a.ngModel=a.maxDate),a.placeHolders=null,void 0!==a.ngPlaceholder&&null!==a.ngPlaceholder&&(\"string\"==typeof a.ngPlaceholder||Array.isArray(a.ngPlaceholder))){var d=\"string\"==typeof a.ngPlaceholder?a.ngPlaceholder.split(\",\"):a.ngPlaceholder;if(3==d.length){a.placeHolders=[];for(var e=0;e<d.length;e++)a.placeHolders.push({value:\"\",name:d[e],disabled:!1})}}a.years=[];for(var f=a.minDate.getFullYear();f<=a.maxDate.getFullYear();f++)a.years.push({value:f,name:f});\"string\"==typeof a.ngYearOrder&&0==a.ngYearOrder.indexOf(\"des\")&&a.years.reverse(),a.placeHolders&&a.years.unshift(a.placeHolders[0]);var g=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];if(void 0!==a.ngMonths&&null!==a.ngMonths){if(\"string\"==typeof a.ngMonths){var h=a.ngMonths.split(\",\");12==h.length&&(g=h)}Array.isArray(a.ngMonths)&&12==a.ngMonths.length&&(g=a.ngMonths)}a.updateMonthList=function(b){b=parseIntStrict(b);var c=null!==b&&b==a.minDate.getFullYear()?a.minDate.getMonth():0,d=null!==b&&b==a.maxDate.getFullYear()?a.maxDate.getMonth():11;a.months=[],a.placeHolders&&a.months.push(a.placeHolders[1]);for(var e=c;e<=d;e++)a.months.push({value:e,name:g[e]})},a.updateDateList=function(b,c){b=parseIntStrict(b),c=parseIntStrict(c);var d=1;null!==b&&b==a.minDate.getMonth()&&null!==c&&c==a.minDate.getFullYear()&&(d=a.minDate.getDate());var e=maxDate(null!==b?b+1:null,c);null!==b&&b==a.maxDate.getMonth()&&null!==c&&c==a.maxDate.getFullYear()&&(e=a.maxDate.getDate()),a.dates=[],a.placeHolders&&a.dates.push(a.placeHolders[2]);for(var f=d;f<=e;f++)a.dates.push({value:f,name:f})}}],link:function(a,b,c,d){for(var e=angular.element,f=e(b[0]).children(),g=a.ngOrder.split(\"\"),h=0;h<g.length;h++)\"d\"==g[h]&&e(b[0]).append(f[0]),\"m\"==g[h]&&e(b[0]).append(f[1]),\"y\"==g[h]&&e(b[0]).append(f[2]);d.$formatters.push(function(b){var c={date:null,month:null,year:null};return b?(c.date=b.getDate(),c.month=b.getMonth(),c.year=b.getFullYear()):(c.date=\"\",c.month=\"\",c.year=\"\",a.placeHolders&&(a.placeHolders[0].disabled=!1,a.placeHolders[1].disabled=!1,a.placeHolders[2].disabled=!1)),a.updateMonthList(c.year),a.updateDateList(c.month,c.year),c}),d.$render=function(){a.date=d.$viewValue.date,a.month=d.$viewValue.month,a.year=d.$viewValue.year},a.$watch('date + \"-\" + month + \"-\" + year',function(b,c){b!=c&&d.$setViewValue({date:a.date,month:a.month,year:a.year})}),d.$isEmpty=function(a){return null==a.date||\"\"==a.date||isNaN(parseInt(a.month))||null==a.year||\"\"==a.year},d.$parsers.push(function(b){var c=null;if(null!=b.date&&\"\"!=b.date&&!isNaN(parseInt(b.month))&&null!=b.year&&\"\"!=b.year){var d=maxDate(b.month+1,b.year),e=0,f=0,g=0,h=0;null!=a.ngModel&&(e=a.ngModel.getHours(),f=a.ngModel.getMinutes(),g=a.ngModel.getSeconds(),h=a.ngModel.getMilliseconds()),c=new Date(b.year,b.month,b.date>d?d:b.date,e,f,g,h)}return a.placeHolders&&(\"\"!=a.year&&(a.placeHolders[0].disabled=!0),\"\"!=a.month&&(a.placeHolders[1].disabled=!0),\"\"!=a.date&&(a.placeHolders[2].disabled=!0)),a.updateMonthList(b.year),a.updateDateList(b.month,b.year),c})},template:function(element,attrs){for(var strAttrs=[\"\",\"\",\"\"],attrNames=[\"ngAttrsDate\",\"ngAttrsMonth\",\"ngAttrsYear\"],i=0;i<3;i++)try{if(attrs&&attrs[attrNames[i]]){eval(\"var attrsAux= \"+attrs[attrNames[i]]);for(var key in attrsAux){var value=attrsAux[key];\"boolean\"==typeof value?value&&(strAttrs[i]+=key+\" \"):(\"string\"==typeof value&&value.indexOf('\"')>0&&(value=value.replace(/\"/g,\"&quot;\")),strAttrs[i]+=key+'=\"'+value+'\" ')}}}catch(a){console.log(a)}var html='<select ng-model=\"date\" '+strAttrs[0]+' ng-options=\"date.value as date.name disable when date.disabled for date in dates\"></select><select ng-model=\"month\" '+strAttrs[1]+' ng-options=\"month.value as month.name disable when month.disabled for month in months\"></select><select ng-model=\"year\" '+strAttrs[2]+' ng-options=\"year.value as year.name disable when year.disabled for year in years\"></select>';return html}}});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L25nLWNvbWJvLWRhdGUtcGlja2VyL3NvdXJjZS9uZ0NvbWJvRGF0ZVBpY2tlci5taW4uanM/ZGMzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBuZ0NvbWJvRGF0ZVBpY2tlciB2MS4zLjFcclxuICogaHR0cDovL2dpdGh1Yi5jb20vamZtZGV2L25nQ29tYm9EYXRlUGlja2VyXHJcbiAqIMKrQ29weXJpZ2h0IDIwMTUgSm9zZSBGLiBNYWxkb25hZG/Cu1xyXG4gKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cclxuICovXHJcbmFuZ3VsYXIubW9kdWxlKFwibmdDb21ib0RhdGVQaWNrZXJcIixbXSkuZGlyZWN0aXZlKFwibmdDb21ib0RhdGVQaWNrZXJcIixmdW5jdGlvbigpe2Z1bmN0aW9uIG1heERhdGUoYSxiKXt2YXIgYz0zMTtyZXR1cm4gbnVsbCE9YSYmKDQhPWEmJjYhPWEmJjkhPWEmJjExIT1hfHwoYz0zMCksbnVsbCE9YiYmMj09YSYmKGM9YiU0PT0wJiZiJTEwMCE9MD8yOToyOCkpLGN9ZnVuY3Rpb24gYWRqdXN0VGltZXpvbmUoYSxiKXt2YXIgYz1pc05hTihiKT8obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCk6NjAqcGFyc2VGbG9hdChiKTtyZXR1cm4gbmV3IERhdGUoYS5nZXRUaW1lKCkrNjAqYyoxZTMpfWZ1bmN0aW9uIHBhcnNlRGF0ZShhLGIpe3ZhciBjPW51bGw7cmV0dXJuIHZvaWQgMCE9PWEmJm51bGwhPT1hJiYoYSBpbnN0YW5jZW9mIERhdGU/Yz1hOlwibnVtYmVyXCIhPXR5cGVvZiBhJiZcInN0cmluZ1wiIT10eXBlb2YgYXx8KGM9bmV3IERhdGUoaXNOYU4oYSk/YTpwYXJzZUludChhLDEwKSksYz1hZGp1c3RUaW1lem9uZShjLGIpKSksY31mdW5jdGlvbiBwYXJzZUludFN0cmljdChhKXtyZXR1cm4gbnVsbCE9PWEmJlwiXCIhPT1hJiZOYU4hPXBhcnNlSW50KGEpP3BhcnNlSW50KGEpOm51bGx9ZnVuY3Rpb24gcGFyc2VKc29uUGx1cyhhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEpe3RyeXtiPUpTT04ucGFyc2UoYSl9Y2F0Y2goYSl7fWlmKG51bGw9PWIpdHJ5e2I9SlNPTi5wYXJzZShhLnJlcGxhY2UoLycvZywnXCInKSl9Y2F0Y2goYSl7fX1yZXR1cm4gYn1yZXR1cm57cmVzdHJpY3Q6XCJBRUNcIixzY29wZTp7bmdNb2RlbDpcIj1cIixuZ0RhdGU6XCJAXCIsbmdNaW5EYXRlOlwiQFwiLG5nTWF4RGF0ZTpcIkBcIixuZ01vbnRoczpcIkBcIixuZ09yZGVyOlwiQFwiLG5nQXR0cnNEYXRlOlwiQFwiLG5nQXR0cnNNb250aDpcIkBcIixuZ0F0dHJzWWVhcjpcIkBcIixuZ1llYXJPcmRlcjpcIkBcIixuZ1RpbWV6b25lOlwiQFwiLG5nUGxhY2Vob2xkZXI6XCJAXCIsbmdSZXF1aXJlZDpcIkBcIn0scmVxdWlyZTpcIm5nTW9kZWxcIixjb250cm9sbGVyOltcIiRzY29wZVwiLGZ1bmN0aW9uKGEpe2EubmdNb2RlbD1wYXJzZURhdGUoYS5uZ01vZGVsLGEubmdUaW1lem9uZSksYS5uZ0F0dHJzRGF0ZT1wYXJzZUpzb25QbHVzKGEubmdBdHRyc0RhdGUpLGEubmdBdHRyc01vbnRoPXBhcnNlSnNvblBsdXMoYS5uZ0F0dHJzTW9udGgpLGEubmdBdHRyc1llYXI9cGFyc2VKc29uUGx1cyhhLm5nQXR0cnNZZWFyKTt2YXIgYj1wYXJzZURhdGUoYS5uZ0RhdGUsYS5uZ1RpbWV6b25lKTtpZihudWxsIT1iJiYoYS5uZ01vZGVsPWIpLFwic3RyaW5nXCIhPXR5cGVvZiBhLm5nT3JkZXI/YS5uZ09yZGVyPVwiZG15XCI6YS5uZ09yZGVyPWEubmdPcmRlci50b0xvd2VyQ2FzZSgpLGEubWluRGF0ZT1wYXJzZURhdGUoYS5uZ01pbkRhdGUsYS5uZ1RpbWV6b25lKSxudWxsPT1hLm5nTWluRGF0ZSl7dmFyIGM9bmV3IERhdGU7YS5taW5EYXRlPW5ldyBEYXRlKGMuZ2V0RnVsbFllYXIoKS0xMDAsYy5nZXRNb250aCgpLGMuZ2V0RGF0ZSgpLGMuZ2V0SG91cnMoKSxjLmdldE1pbnV0ZXMoKSxjLmdldFNlY29uZHMoKSxjLmdldE1pbGxpc2Vjb25kcygpKX1pZihhLm1heERhdGU9cGFyc2VEYXRlKGEubmdNYXhEYXRlLGEubmdUaW1lem9uZSksbnVsbD09YS5tYXhEYXRlJiYoYS5tYXhEYXRlPW5ldyBEYXRlKSxhLm5nTW9kZWw8YS5taW5EYXRlJiYoYS5uZ01vZGVsPWEubWluRGF0ZSksYS5uZ01vZGVsPmEubWF4RGF0ZSYmKGEubmdNb2RlbD1hLm1heERhdGUpLGEucGxhY2VIb2xkZXJzPW51bGwsdm9pZCAwIT09YS5uZ1BsYWNlaG9sZGVyJiZudWxsIT09YS5uZ1BsYWNlaG9sZGVyJiYoXCJzdHJpbmdcIj09dHlwZW9mIGEubmdQbGFjZWhvbGRlcnx8QXJyYXkuaXNBcnJheShhLm5nUGxhY2Vob2xkZXIpKSl7dmFyIGQ9XCJzdHJpbmdcIj09dHlwZW9mIGEubmdQbGFjZWhvbGRlcj9hLm5nUGxhY2Vob2xkZXIuc3BsaXQoXCIsXCIpOmEubmdQbGFjZWhvbGRlcjtpZigzPT1kLmxlbmd0aCl7YS5wbGFjZUhvbGRlcnM9W107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspYS5wbGFjZUhvbGRlcnMucHVzaCh7dmFsdWU6XCJcIixuYW1lOmRbZV0sZGlzYWJsZWQ6ITF9KX19YS55ZWFycz1bXTtmb3IodmFyIGY9YS5taW5EYXRlLmdldEZ1bGxZZWFyKCk7Zjw9YS5tYXhEYXRlLmdldEZ1bGxZZWFyKCk7ZisrKWEueWVhcnMucHVzaCh7dmFsdWU6ZixuYW1lOmZ9KTtcInN0cmluZ1wiPT10eXBlb2YgYS5uZ1llYXJPcmRlciYmMD09YS5uZ1llYXJPcmRlci5pbmRleE9mKFwiZGVzXCIpJiZhLnllYXJzLnJldmVyc2UoKSxhLnBsYWNlSG9sZGVycyYmYS55ZWFycy51bnNoaWZ0KGEucGxhY2VIb2xkZXJzWzBdKTt2YXIgZz1bXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdO2lmKHZvaWQgMCE9PWEubmdNb250aHMmJm51bGwhPT1hLm5nTW9udGhzKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYS5uZ01vbnRocyl7dmFyIGg9YS5uZ01vbnRocy5zcGxpdChcIixcIik7MTI9PWgubGVuZ3RoJiYoZz1oKX1BcnJheS5pc0FycmF5KGEubmdNb250aHMpJiYxMj09YS5uZ01vbnRocy5sZW5ndGgmJihnPWEubmdNb250aHMpfWEudXBkYXRlTW9udGhMaXN0PWZ1bmN0aW9uKGIpe2I9cGFyc2VJbnRTdHJpY3QoYik7dmFyIGM9bnVsbCE9PWImJmI9PWEubWluRGF0ZS5nZXRGdWxsWWVhcigpP2EubWluRGF0ZS5nZXRNb250aCgpOjAsZD1udWxsIT09YiYmYj09YS5tYXhEYXRlLmdldEZ1bGxZZWFyKCk/YS5tYXhEYXRlLmdldE1vbnRoKCk6MTE7YS5tb250aHM9W10sYS5wbGFjZUhvbGRlcnMmJmEubW9udGhzLnB1c2goYS5wbGFjZUhvbGRlcnNbMV0pO2Zvcih2YXIgZT1jO2U8PWQ7ZSsrKWEubW9udGhzLnB1c2goe3ZhbHVlOmUsbmFtZTpnW2VdfSl9LGEudXBkYXRlRGF0ZUxpc3Q9ZnVuY3Rpb24oYixjKXtiPXBhcnNlSW50U3RyaWN0KGIpLGM9cGFyc2VJbnRTdHJpY3QoYyk7dmFyIGQ9MTtudWxsIT09YiYmYj09YS5taW5EYXRlLmdldE1vbnRoKCkmJm51bGwhPT1jJiZjPT1hLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSYmKGQ9YS5taW5EYXRlLmdldERhdGUoKSk7dmFyIGU9bWF4RGF0ZShudWxsIT09Yj9iKzE6bnVsbCxjKTtudWxsIT09YiYmYj09YS5tYXhEYXRlLmdldE1vbnRoKCkmJm51bGwhPT1jJiZjPT1hLm1heERhdGUuZ2V0RnVsbFllYXIoKSYmKGU9YS5tYXhEYXRlLmdldERhdGUoKSksYS5kYXRlcz1bXSxhLnBsYWNlSG9sZGVycyYmYS5kYXRlcy5wdXNoKGEucGxhY2VIb2xkZXJzWzJdKTtmb3IodmFyIGY9ZDtmPD1lO2YrKylhLmRhdGVzLnB1c2goe3ZhbHVlOmYsbmFtZTpmfSl9fV0sbGluazpmdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9YW5ndWxhci5lbGVtZW50LGY9ZShiWzBdKS5jaGlsZHJlbigpLGc9YS5uZ09yZGVyLnNwbGl0KFwiXCIpLGg9MDtoPGcubGVuZ3RoO2grKylcImRcIj09Z1toXSYmZShiWzBdKS5hcHBlbmQoZlswXSksXCJtXCI9PWdbaF0mJmUoYlswXSkuYXBwZW5kKGZbMV0pLFwieVwiPT1nW2hdJiZlKGJbMF0pLmFwcGVuZChmWzJdKTtkLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYil7dmFyIGM9e2RhdGU6bnVsbCxtb250aDpudWxsLHllYXI6bnVsbH07cmV0dXJuIGI/KGMuZGF0ZT1iLmdldERhdGUoKSxjLm1vbnRoPWIuZ2V0TW9udGgoKSxjLnllYXI9Yi5nZXRGdWxsWWVhcigpKTooYy5kYXRlPVwiXCIsYy5tb250aD1cIlwiLGMueWVhcj1cIlwiLGEucGxhY2VIb2xkZXJzJiYoYS5wbGFjZUhvbGRlcnNbMF0uZGlzYWJsZWQ9ITEsYS5wbGFjZUhvbGRlcnNbMV0uZGlzYWJsZWQ9ITEsYS5wbGFjZUhvbGRlcnNbMl0uZGlzYWJsZWQ9ITEpKSxhLnVwZGF0ZU1vbnRoTGlzdChjLnllYXIpLGEudXBkYXRlRGF0ZUxpc3QoYy5tb250aCxjLnllYXIpLGN9KSxkLiRyZW5kZXI9ZnVuY3Rpb24oKXthLmRhdGU9ZC4kdmlld1ZhbHVlLmRhdGUsYS5tb250aD1kLiR2aWV3VmFsdWUubW9udGgsYS55ZWFyPWQuJHZpZXdWYWx1ZS55ZWFyfSxhLiR3YXRjaCgnZGF0ZSArIFwiLVwiICsgbW9udGggKyBcIi1cIiArIHllYXInLGZ1bmN0aW9uKGIsYyl7YiE9YyYmZC4kc2V0Vmlld1ZhbHVlKHtkYXRlOmEuZGF0ZSxtb250aDphLm1vbnRoLHllYXI6YS55ZWFyfSl9KSxkLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmRhdGV8fFwiXCI9PWEuZGF0ZXx8aXNOYU4ocGFyc2VJbnQoYS5tb250aCkpfHxudWxsPT1hLnllYXJ8fFwiXCI9PWEueWVhcn0sZC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGIpe3ZhciBjPW51bGw7aWYobnVsbCE9Yi5kYXRlJiZcIlwiIT1iLmRhdGUmJiFpc05hTihwYXJzZUludChiLm1vbnRoKSkmJm51bGwhPWIueWVhciYmXCJcIiE9Yi55ZWFyKXt2YXIgZD1tYXhEYXRlKGIubW9udGgrMSxiLnllYXIpLGU9MCxmPTAsZz0wLGg9MDtudWxsIT1hLm5nTW9kZWwmJihlPWEubmdNb2RlbC5nZXRIb3VycygpLGY9YS5uZ01vZGVsLmdldE1pbnV0ZXMoKSxnPWEubmdNb2RlbC5nZXRTZWNvbmRzKCksaD1hLm5nTW9kZWwuZ2V0TWlsbGlzZWNvbmRzKCkpLGM9bmV3IERhdGUoYi55ZWFyLGIubW9udGgsYi5kYXRlPmQ/ZDpiLmRhdGUsZSxmLGcsaCl9cmV0dXJuIGEucGxhY2VIb2xkZXJzJiYoXCJcIiE9YS55ZWFyJiYoYS5wbGFjZUhvbGRlcnNbMF0uZGlzYWJsZWQ9ITApLFwiXCIhPWEubW9udGgmJihhLnBsYWNlSG9sZGVyc1sxXS5kaXNhYmxlZD0hMCksXCJcIiE9YS5kYXRlJiYoYS5wbGFjZUhvbGRlcnNbMl0uZGlzYWJsZWQ9ITApKSxhLnVwZGF0ZU1vbnRoTGlzdChiLnllYXIpLGEudXBkYXRlRGF0ZUxpc3QoYi5tb250aCxiLnllYXIpLGN9KX0sdGVtcGxhdGU6ZnVuY3Rpb24oZWxlbWVudCxhdHRycyl7Zm9yKHZhciBzdHJBdHRycz1bXCJcIixcIlwiLFwiXCJdLGF0dHJOYW1lcz1bXCJuZ0F0dHJzRGF0ZVwiLFwibmdBdHRyc01vbnRoXCIsXCJuZ0F0dHJzWWVhclwiXSxpPTA7aTwzO2krKyl0cnl7aWYoYXR0cnMmJmF0dHJzW2F0dHJOYW1lc1tpXV0pe2V2YWwoXCJ2YXIgYXR0cnNBdXg9IFwiK2F0dHJzW2F0dHJOYW1lc1tpXV0pO2Zvcih2YXIga2V5IGluIGF0dHJzQXV4KXt2YXIgdmFsdWU9YXR0cnNBdXhba2V5XTtcImJvb2xlYW5cIj09dHlwZW9mIHZhbHVlP3ZhbHVlJiYoc3RyQXR0cnNbaV0rPWtleStcIiBcIik6KFwic3RyaW5nXCI9PXR5cGVvZiB2YWx1ZSYmdmFsdWUuaW5kZXhPZignXCInKT4wJiYodmFsdWU9dmFsdWUucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKSksc3RyQXR0cnNbaV0rPWtleSsnPVwiJyt2YWx1ZSsnXCIgJyl9fX1jYXRjaChhKXtjb25zb2xlLmxvZyhhKX12YXIgaHRtbD0nPHNlbGVjdCBuZy1tb2RlbD1cImRhdGVcIiAnK3N0ckF0dHJzWzBdKycgbmctb3B0aW9ucz1cImRhdGUudmFsdWUgYXMgZGF0ZS5uYW1lIGRpc2FibGUgd2hlbiBkYXRlLmRpc2FibGVkIGZvciBkYXRlIGluIGRhdGVzXCI+PC9zZWxlY3Q+PHNlbGVjdCBuZy1tb2RlbD1cIm1vbnRoXCIgJytzdHJBdHRyc1sxXSsnIG5nLW9wdGlvbnM9XCJtb250aC52YWx1ZSBhcyBtb250aC5uYW1lIGRpc2FibGUgd2hlbiBtb250aC5kaXNhYmxlZCBmb3IgbW9udGggaW4gbW9udGhzXCI+PC9zZWxlY3Q+PHNlbGVjdCBuZy1tb2RlbD1cInllYXJcIiAnK3N0ckF0dHJzWzJdKycgbmctb3B0aW9ucz1cInllYXIudmFsdWUgYXMgeWVhci5uYW1lIGRpc2FibGUgd2hlbiB5ZWFyLmRpc2FibGVkIGZvciB5ZWFyIGluIHllYXJzXCI+PC9zZWxlY3Q+JztyZXR1cm4gaHRtbH19fSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9uZy1jb21iby1kYXRlLXBpY2tlci9zb3VyY2UvbmdDb21ib0RhdGVQaWNrZXIubWluLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 17 */
/***/ function(module, exports) {

eval("/* ng-infinite-scroll - v1.3.0 - 2016-06-30 */\nangular.module('infinite-scroll', []).value('THROTTLE_MILLISECONDS', null).directive('infiniteScroll', [\n  '$rootScope', '$window', '$interval', 'THROTTLE_MILLISECONDS', function($rootScope, $window, $interval, THROTTLE_MILLISECONDS) {\n    return {\n      scope: {\n        infiniteScroll: '&',\n        infiniteScrollContainer: '=',\n        infiniteScrollDistance: '=',\n        infiniteScrollDisabled: '=',\n        infiniteScrollUseDocumentBottom: '=',\n        infiniteScrollListenForEvent: '@'\n      },\n      link: function(scope, elem, attrs) {\n        var changeContainer, checkInterval, checkWhenEnabled, container, handleInfiniteScrollContainer, handleInfiniteScrollDisabled, handleInfiniteScrollDistance, handleInfiniteScrollUseDocumentBottom, handler, height, immediateCheck, offsetTop, pageYOffset, scrollDistance, scrollEnabled, throttle, unregisterEventListener, useDocumentBottom, windowElement;\n        windowElement = angular.element($window);\n        scrollDistance = null;\n        scrollEnabled = null;\n        checkWhenEnabled = null;\n        container = null;\n        immediateCheck = true;\n        useDocumentBottom = false;\n        unregisterEventListener = null;\n        checkInterval = false;\n        height = function(elem) {\n          elem = elem[0] || elem;\n          if (isNaN(elem.offsetHeight)) {\n            return elem.document.documentElement.clientHeight;\n          } else {\n            return elem.offsetHeight;\n          }\n        };\n        offsetTop = function(elem) {\n          if (!elem[0].getBoundingClientRect || elem.css('none')) {\n            return;\n          }\n          return elem[0].getBoundingClientRect().top + pageYOffset(elem);\n        };\n        pageYOffset = function(elem) {\n          elem = elem[0] || elem;\n          if (isNaN(window.pageYOffset)) {\n            return elem.document.documentElement.scrollTop;\n          } else {\n            return elem.ownerDocument.defaultView.pageYOffset;\n          }\n        };\n        handler = function() {\n          var containerBottom, containerTopOffset, elementBottom, remaining, shouldScroll;\n          if (container === windowElement) {\n            containerBottom = height(container) + pageYOffset(container[0].document.documentElement);\n            elementBottom = offsetTop(elem) + height(elem);\n          } else {\n            containerBottom = height(container);\n            containerTopOffset = 0;\n            if (offsetTop(container) !== void 0) {\n              containerTopOffset = offsetTop(container);\n            }\n            elementBottom = offsetTop(elem) - containerTopOffset + height(elem);\n          }\n          if (useDocumentBottom) {\n            elementBottom = height((elem[0].ownerDocument || elem[0].document).documentElement);\n          }\n          remaining = elementBottom - containerBottom;\n          shouldScroll = remaining <= height(container) * scrollDistance + 1;\n          if (shouldScroll) {\n            checkWhenEnabled = true;\n            if (scrollEnabled) {\n              if (scope.$$phase || $rootScope.$$phase) {\n                return scope.infiniteScroll();\n              } else {\n                return scope.$apply(scope.infiniteScroll);\n              }\n            }\n          } else {\n            if (checkInterval) {\n              $interval.cancel(checkInterval);\n            }\n            return checkWhenEnabled = false;\n          }\n        };\n        throttle = function(func, wait) {\n          var later, previous, timeout;\n          timeout = null;\n          previous = 0;\n          later = function() {\n            previous = new Date().getTime();\n            $interval.cancel(timeout);\n            timeout = null;\n            return func.call();\n          };\n          return function() {\n            var now, remaining;\n            now = new Date().getTime();\n            remaining = wait - (now - previous);\n            if (remaining <= 0) {\n              $interval.cancel(timeout);\n              timeout = null;\n              previous = now;\n              return func.call();\n            } else {\n              if (!timeout) {\n                return timeout = $interval(later, remaining, 1);\n              }\n            }\n          };\n        };\n        if (THROTTLE_MILLISECONDS != null) {\n          handler = throttle(handler, THROTTLE_MILLISECONDS);\n        }\n        scope.$on('$destroy', function() {\n          container.unbind('scroll', handler);\n          if (unregisterEventListener != null) {\n            unregisterEventListener();\n            unregisterEventListener = null;\n          }\n          if (checkInterval) {\n            return $interval.cancel(checkInterval);\n          }\n        });\n        handleInfiniteScrollDistance = function(v) {\n          return scrollDistance = parseFloat(v) || 0;\n        };\n        scope.$watch('infiniteScrollDistance', handleInfiniteScrollDistance);\n        handleInfiniteScrollDistance(scope.infiniteScrollDistance);\n        handleInfiniteScrollDisabled = function(v) {\n          scrollEnabled = !v;\n          if (scrollEnabled && checkWhenEnabled) {\n            checkWhenEnabled = false;\n            return handler();\n          }\n        };\n        scope.$watch('infiniteScrollDisabled', handleInfiniteScrollDisabled);\n        handleInfiniteScrollDisabled(scope.infiniteScrollDisabled);\n        handleInfiniteScrollUseDocumentBottom = function(v) {\n          return useDocumentBottom = v;\n        };\n        scope.$watch('infiniteScrollUseDocumentBottom', handleInfiniteScrollUseDocumentBottom);\n        handleInfiniteScrollUseDocumentBottom(scope.infiniteScrollUseDocumentBottom);\n        changeContainer = function(newContainer) {\n          if (container != null) {\n            container.unbind('scroll', handler);\n          }\n          container = newContainer;\n          if (newContainer != null) {\n            return container.bind('scroll', handler);\n          }\n        };\n        changeContainer(windowElement);\n        if (scope.infiniteScrollListenForEvent) {\n          unregisterEventListener = $rootScope.$on(scope.infiniteScrollListenForEvent, handler);\n        }\n        handleInfiniteScrollContainer = function(newContainer) {\n          if ((newContainer == null) || newContainer.length === 0) {\n            return;\n          }\n          if (newContainer.nodeType && newContainer.nodeType === 1) {\n            newContainer = angular.element(newContainer);\n          } else if (typeof newContainer.append === 'function') {\n            newContainer = angular.element(newContainer[newContainer.length - 1]);\n          } else if (typeof newContainer === 'string') {\n            newContainer = angular.element(document.querySelector(newContainer));\n          }\n          if (newContainer != null) {\n            return changeContainer(newContainer);\n          } else {\n            throw new Error(\"invalid infinite-scroll-container attribute.\");\n          }\n        };\n        scope.$watch('infiniteScrollContainer', handleInfiniteScrollContainer);\n        handleInfiniteScrollContainer(scope.infiniteScrollContainer || []);\n        if (attrs.infiniteScrollParent != null) {\n          changeContainer(angular.element(elem.parent()));\n        }\n        if (attrs.infiniteScrollImmediateCheck != null) {\n          immediateCheck = scope.$eval(attrs.infiniteScrollImmediateCheck);\n        }\n        return checkInterval = $interval((function() {\n          if (immediateCheck) {\n            handler();\n          }\n          return $interval.cancel(checkInterval);\n        }));\n      }\n    };\n  }\n]);\n\nif (typeof module !== \"undefined\" && typeof exports !== \"undefined\" && module.exports === exports) {\n  module.exports = 'infinite-scroll';\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L25nLWluZmluaXRlLXNjcm9sbC9idWlsZC9uZy1pbmZpbml0ZS1zY3JvbGwuanM/NjQxOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBuZy1pbmZpbml0ZS1zY3JvbGwgLSB2MS4zLjAgLSAyMDE2LTA2LTMwICovXG5hbmd1bGFyLm1vZHVsZSgnaW5maW5pdGUtc2Nyb2xsJywgW10pLnZhbHVlKCdUSFJPVFRMRV9NSUxMSVNFQ09ORFMnLCBudWxsKS5kaXJlY3RpdmUoJ2luZmluaXRlU2Nyb2xsJywgW1xuICAnJHJvb3RTY29wZScsICckd2luZG93JywgJyRpbnRlcnZhbCcsICdUSFJPVFRMRV9NSUxMSVNFQ09ORFMnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkd2luZG93LCAkaW50ZXJ2YWwsIFRIUk9UVExFX01JTExJU0VDT05EUykge1xuICAgIHJldHVybiB7XG4gICAgICBzY29wZToge1xuICAgICAgICBpbmZpbml0ZVNjcm9sbDogJyYnLFxuICAgICAgICBpbmZpbml0ZVNjcm9sbENvbnRhaW5lcjogJz0nLFxuICAgICAgICBpbmZpbml0ZVNjcm9sbERpc3RhbmNlOiAnPScsXG4gICAgICAgIGluZmluaXRlU2Nyb2xsRGlzYWJsZWQ6ICc9JyxcbiAgICAgICAgaW5maW5pdGVTY3JvbGxVc2VEb2N1bWVudEJvdHRvbTogJz0nLFxuICAgICAgICBpbmZpbml0ZVNjcm9sbExpc3RlbkZvckV2ZW50OiAnQCdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgdmFyIGNoYW5nZUNvbnRhaW5lciwgY2hlY2tJbnRlcnZhbCwgY2hlY2tXaGVuRW5hYmxlZCwgY29udGFpbmVyLCBoYW5kbGVJbmZpbml0ZVNjcm9sbENvbnRhaW5lciwgaGFuZGxlSW5maW5pdGVTY3JvbGxEaXNhYmxlZCwgaGFuZGxlSW5maW5pdGVTY3JvbGxEaXN0YW5jZSwgaGFuZGxlSW5maW5pdGVTY3JvbGxVc2VEb2N1bWVudEJvdHRvbSwgaGFuZGxlciwgaGVpZ2h0LCBpbW1lZGlhdGVDaGVjaywgb2Zmc2V0VG9wLCBwYWdlWU9mZnNldCwgc2Nyb2xsRGlzdGFuY2UsIHNjcm9sbEVuYWJsZWQsIHRocm90dGxlLCB1bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lciwgdXNlRG9jdW1lbnRCb3R0b20sIHdpbmRvd0VsZW1lbnQ7XG4gICAgICAgIHdpbmRvd0VsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdyk7XG4gICAgICAgIHNjcm9sbERpc3RhbmNlID0gbnVsbDtcbiAgICAgICAgc2Nyb2xsRW5hYmxlZCA9IG51bGw7XG4gICAgICAgIGNoZWNrV2hlbkVuYWJsZWQgPSBudWxsO1xuICAgICAgICBjb250YWluZXIgPSBudWxsO1xuICAgICAgICBpbW1lZGlhdGVDaGVjayA9IHRydWU7XG4gICAgICAgIHVzZURvY3VtZW50Qm90dG9tID0gZmFsc2U7XG4gICAgICAgIHVucmVnaXN0ZXJFdmVudExpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgY2hlY2tJbnRlcnZhbCA9IGZhbHNlO1xuICAgICAgICBoZWlnaHQgPSBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgZWxlbSA9IGVsZW1bMF0gfHwgZWxlbTtcbiAgICAgICAgICBpZiAoaXNOYU4oZWxlbS5vZmZzZXRIZWlnaHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBvZmZzZXRUb3AgPSBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgaWYgKCFlbGVtWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCB8fCBlbGVtLmNzcygnbm9uZScpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbGVtWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHBhZ2VZT2Zmc2V0KGVsZW0pO1xuICAgICAgICB9O1xuICAgICAgICBwYWdlWU9mZnNldCA9IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICBlbGVtID0gZWxlbVswXSB8fCBlbGVtO1xuICAgICAgICAgIGlmIChpc05hTih3aW5kb3cucGFnZVlPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjb250YWluZXJCb3R0b20sIGNvbnRhaW5lclRvcE9mZnNldCwgZWxlbWVudEJvdHRvbSwgcmVtYWluaW5nLCBzaG91bGRTY3JvbGw7XG4gICAgICAgICAgaWYgKGNvbnRhaW5lciA9PT0gd2luZG93RWxlbWVudCkge1xuICAgICAgICAgICAgY29udGFpbmVyQm90dG9tID0gaGVpZ2h0KGNvbnRhaW5lcikgKyBwYWdlWU9mZnNldChjb250YWluZXJbMF0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnRCb3R0b20gPSBvZmZzZXRUb3AoZWxlbSkgKyBoZWlnaHQoZWxlbSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckJvdHRvbSA9IGhlaWdodChjb250YWluZXIpO1xuICAgICAgICAgICAgY29udGFpbmVyVG9wT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGlmIChvZmZzZXRUb3AoY29udGFpbmVyKSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIGNvbnRhaW5lclRvcE9mZnNldCA9IG9mZnNldFRvcChjb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudEJvdHRvbSA9IG9mZnNldFRvcChlbGVtKSAtIGNvbnRhaW5lclRvcE9mZnNldCArIGhlaWdodChlbGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVzZURvY3VtZW50Qm90dG9tKSB7XG4gICAgICAgICAgICBlbGVtZW50Qm90dG9tID0gaGVpZ2h0KChlbGVtWzBdLm93bmVyRG9jdW1lbnQgfHwgZWxlbVswXS5kb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVtYWluaW5nID0gZWxlbWVudEJvdHRvbSAtIGNvbnRhaW5lckJvdHRvbTtcbiAgICAgICAgICBzaG91bGRTY3JvbGwgPSByZW1haW5pbmcgPD0gaGVpZ2h0KGNvbnRhaW5lcikgKiBzY3JvbGxEaXN0YW5jZSArIDE7XG4gICAgICAgICAgaWYgKHNob3VsZFNjcm9sbCkge1xuICAgICAgICAgICAgY2hlY2tXaGVuRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRwaGFzZSB8fCAkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuaW5maW5pdGVTY3JvbGwoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuJGFwcGx5KHNjb3BlLmluZmluaXRlU2Nyb2xsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGNoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrV2hlbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgICAgIHZhciBsYXRlciwgcHJldmlvdXMsIHRpbWVvdXQ7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgcHJldmlvdXMgPSAwO1xuICAgICAgICAgIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwcmV2aW91cyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbCh0aW1lb3V0KTtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbCgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG5vdywgcmVtYWluaW5nO1xuICAgICAgICAgICAgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRpbWVvdXQpO1xuICAgICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aW1lb3V0ID0gJGludGVydmFsKGxhdGVyLCByZW1haW5pbmcsIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFRIUk9UVExFX01JTExJU0VDT05EUyAhPSBudWxsKSB7XG4gICAgICAgICAgaGFuZGxlciA9IHRocm90dGxlKGhhbmRsZXIsIFRIUk9UVExFX01JTExJU0VDT05EUyk7XG4gICAgICAgIH1cbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnRhaW5lci51bmJpbmQoJ3Njcm9sbCcsIGhhbmRsZXIpO1xuICAgICAgICAgIGlmICh1bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lciAhPSBudWxsKSB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICAgICAgdW5yZWdpc3RlckV2ZW50TGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2hlY2tJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuICRpbnRlcnZhbC5jYW5jZWwoY2hlY2tJbnRlcnZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlSW5maW5pdGVTY3JvbGxEaXN0YW5jZSA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4gc2Nyb2xsRGlzdGFuY2UgPSBwYXJzZUZsb2F0KHYpIHx8IDA7XG4gICAgICAgIH07XG4gICAgICAgIHNjb3BlLiR3YXRjaCgnaW5maW5pdGVTY3JvbGxEaXN0YW5jZScsIGhhbmRsZUluZmluaXRlU2Nyb2xsRGlzdGFuY2UpO1xuICAgICAgICBoYW5kbGVJbmZpbml0ZVNjcm9sbERpc3RhbmNlKHNjb3BlLmluZmluaXRlU2Nyb2xsRGlzdGFuY2UpO1xuICAgICAgICBoYW5kbGVJbmZpbml0ZVNjcm9sbERpc2FibGVkID0gZnVuY3Rpb24odikge1xuICAgICAgICAgIHNjcm9sbEVuYWJsZWQgPSAhdjtcbiAgICAgICAgICBpZiAoc2Nyb2xsRW5hYmxlZCAmJiBjaGVja1doZW5FbmFibGVkKSB7XG4gICAgICAgICAgICBjaGVja1doZW5FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJHdhdGNoKCdpbmZpbml0ZVNjcm9sbERpc2FibGVkJywgaGFuZGxlSW5maW5pdGVTY3JvbGxEaXNhYmxlZCk7XG4gICAgICAgIGhhbmRsZUluZmluaXRlU2Nyb2xsRGlzYWJsZWQoc2NvcGUuaW5maW5pdGVTY3JvbGxEaXNhYmxlZCk7XG4gICAgICAgIGhhbmRsZUluZmluaXRlU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b20gPSBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIHVzZURvY3VtZW50Qm90dG9tID0gdjtcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJHdhdGNoKCdpbmZpbml0ZVNjcm9sbFVzZURvY3VtZW50Qm90dG9tJywgaGFuZGxlSW5maW5pdGVTY3JvbGxVc2VEb2N1bWVudEJvdHRvbSk7XG4gICAgICAgIGhhbmRsZUluZmluaXRlU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b20oc2NvcGUuaW5maW5pdGVTY3JvbGxVc2VEb2N1bWVudEJvdHRvbSk7XG4gICAgICAgIGNoYW5nZUNvbnRhaW5lciA9IGZ1bmN0aW9uKG5ld0NvbnRhaW5lcikge1xuICAgICAgICAgIGlmIChjb250YWluZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnVuYmluZCgnc2Nyb2xsJywgaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRhaW5lciA9IG5ld0NvbnRhaW5lcjtcbiAgICAgICAgICBpZiAobmV3Q29udGFpbmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuYmluZCgnc2Nyb2xsJywgaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjaGFuZ2VDb250YWluZXIod2luZG93RWxlbWVudCk7XG4gICAgICAgIGlmIChzY29wZS5pbmZpbml0ZVNjcm9sbExpc3RlbkZvckV2ZW50KSB7XG4gICAgICAgICAgdW5yZWdpc3RlckV2ZW50TGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbihzY29wZS5pbmZpbml0ZVNjcm9sbExpc3RlbkZvckV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVJbmZpbml0ZVNjcm9sbENvbnRhaW5lciA9IGZ1bmN0aW9uKG5ld0NvbnRhaW5lcikge1xuICAgICAgICAgIGlmICgobmV3Q29udGFpbmVyID09IG51bGwpIHx8IG5ld0NvbnRhaW5lci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5ld0NvbnRhaW5lci5ub2RlVHlwZSAmJiBuZXdDb250YWluZXIubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIG5ld0NvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChuZXdDb250YWluZXIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5ld0NvbnRhaW5lci5hcHBlbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5ld0NvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChuZXdDb250YWluZXJbbmV3Q29udGFpbmVyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBuZXdDb250YWluZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBuZXdDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuZXdDb250YWluZXIpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5ld0NvbnRhaW5lciAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlQ29udGFpbmVyKG5ld0NvbnRhaW5lcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgaW5maW5pdGUtc2Nyb2xsLWNvbnRhaW5lciBhdHRyaWJ1dGUuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJHdhdGNoKCdpbmZpbml0ZVNjcm9sbENvbnRhaW5lcicsIGhhbmRsZUluZmluaXRlU2Nyb2xsQ29udGFpbmVyKTtcbiAgICAgICAgaGFuZGxlSW5maW5pdGVTY3JvbGxDb250YWluZXIoc2NvcGUuaW5maW5pdGVTY3JvbGxDb250YWluZXIgfHwgW10pO1xuICAgICAgICBpZiAoYXR0cnMuaW5maW5pdGVTY3JvbGxQYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgIGNoYW5nZUNvbnRhaW5lcihhbmd1bGFyLmVsZW1lbnQoZWxlbS5wYXJlbnQoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRycy5pbmZpbml0ZVNjcm9sbEltbWVkaWF0ZUNoZWNrICE9IG51bGwpIHtcbiAgICAgICAgICBpbW1lZGlhdGVDaGVjayA9IHNjb3BlLiRldmFsKGF0dHJzLmluZmluaXRlU2Nyb2xsSW1tZWRpYXRlQ2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja0ludGVydmFsID0gJGludGVydmFsKChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoaW1tZWRpYXRlQ2hlY2spIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICRpbnRlcnZhbC5jYW5jZWwoY2hlY2tJbnRlcnZhbCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5dKTtcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMgPT09IGV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSAnaW5maW5pdGUtc2Nyb2xsJztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9uZy1pbmZpbml0ZS1zY3JvbGwvYnVpbGQvbmctaW5maW5pdGUtc2Nyb2xsLmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

eval("!function(e,t){ true?module.exports=t(__webpack_require__(21)):\"function\"==typeof define&&define.amd?define([\"angular\"],t):t(e.angular)}(this,function(angular){/**\n * AngularJS Google Maps Ver. 1.17.7\n *\n * The MIT License (MIT)\n * \n * Copyright (c) 2014, 2015, 1016 Allen Kim\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nreturn angular.module(\"ngMap\",[]),function(){\"use strict\";var e,t=function(t,n,o,i,a,r,s){e=a;var p=this;p.mapOptions,p.mapEvents,p.eventListeners,p.addObject=function(e,t){if(p.map){p.map[e]=p.map[e]||{};var n=Object.keys(p.map[e]).length;p.map[e][t.id||n]=t,p.map instanceof google.maps.Map&&(\"infoWindows\"!=e&&t.setMap&&t.setMap&&t.setMap(p.map),t.centered&&t.position&&p.map.setCenter(t.position),\"markers\"==e&&p.objectChanged(\"markers\"),\"customMarkers\"==e&&p.objectChanged(\"customMarkers\"))}},p.deleteObject=function(e,t){if(t.map){var n=t.map[e];for(var o in n)n[o]===t&&(google.maps.event.clearInstanceListeners(t),delete n[o]);t.map&&t.setMap&&t.setMap(null),\"markers\"==e&&p.objectChanged(\"markers\"),\"customMarkers\"==e&&p.objectChanged(\"customMarkers\")}},p.observeAttrSetObj=function(t,n,o){if(n.noWatcher)return!1;for(var i=e.getAttrsToObserve(t),a=0;a<i.length;a++){var s=i[a];n.$observe(s,r.observeAndSet(s,o))}},p.zoomToIncludeMarkers=function(){if(null!=p.map.markers&&Object.keys(p.map.markers).length>0||null!=p.map.customMarkers&&Object.keys(p.map.customMarkers).length>0){var e=new google.maps.LatLngBounds;for(var t in p.map.markers)e.extend(p.map.markers[t].getPosition());for(var n in p.map.customMarkers)e.extend(p.map.customMarkers[n].getPosition());p.mapOptions.maximumZoom&&(p.enableMaximumZoomCheck=!0),p.map.fitBounds(e)}},p.objectChanged=function(e){!p.map||\"markers\"!=e&&\"customMarkers\"!=e||\"auto\"!=p.map.zoomToIncludeMarkers||p.zoomToIncludeMarkers()},p.initializeMap=function(){var a=p.mapOptions,u=p.mapEvents,l=p.map;if(p.map=s.getMapInstance(n[0]),r.setStyle(n[0]),l){var g=e.filter(o),d=e.getOptions(g),m=e.getControlOptions(g);a=angular.extend(d,m);for(var f in l){var v=l[f];if(\"object\"==typeof v)for(var y in v)p.addObject(f,v[y])}p.map.showInfoWindow=p.showInfoWindow,p.map.hideInfoWindow=p.hideInfoWindow}a.zoom=a.zoom||15;var h=a.center;if(!a.center||\"string\"==typeof h&&h.match(/\\{\\{.*\\}\\}/))a.center=new google.maps.LatLng(0,0);else if(\"string\"==typeof h&&h.match(/[0-9.-]*,[0-9.-]*/))a.center=new google.maps.LatLng(h);else if(!(h instanceof google.maps.LatLng)){var M=a.center;delete a.center,r.getGeoLocation(M,a.geoLocationOptions).then(function(e){p.map.setCenter(e);var n=a.geoCallback;n&&i(n)(t)},function(){a.geoFallbackCenter&&p.map.setCenter(a.geoFallbackCenter)})}p.map.setOptions(a);for(var b in u){var O=u[b],w=google.maps.event.addListener(p.map,b,O);p.eventListeners[b]=w}p.observeAttrSetObj(c,o,p.map),p.singleInfoWindow=a.singleInfoWindow,google.maps.event.trigger(p.map,\"resize\"),google.maps.event.addListenerOnce(p.map,\"idle\",function(){r.addMap(p),a.zoomToIncludeMarkers&&p.zoomToIncludeMarkers(),t.map=p.map,t.$emit(\"mapInitialized\",p.map),o.mapInitialized&&i(o.mapInitialized)(t,{map:p.map})}),a.zoomToIncludeMarkers&&a.maximumZoom&&google.maps.event.addListener(p.map,\"zoom_changed\",function(){1==p.enableMaximumZoomCheck&&(p.enableMaximumZoomCheck=!1,google.maps.event.addListenerOnce(p.map,\"bounds_changed\",function(){p.map.setZoom(Math.min(a.maximumZoom,p.map.getZoom()))}))})},t.google=google;var c=e.orgAttributes(n),u=e.filter(o),l=e.getOptions(u,{scope:t}),g=e.getControlOptions(u),d=angular.extend(l,g),m=e.getEvents(t,u);if(Object.keys(m).length&&void 0,p.mapOptions=d,p.mapEvents=m,p.eventListeners={},l.lazyInit){if(o.id&&0===o.id.indexOf(\"{{\",0)&&-1!==o.id.indexOf(\"}}\",o.id.length-\"}}\".length))var f=o.id.slice(2,-2),v=i(f)(t);else var v=o.id;p.map={id:v},r.addMap(p)}else p.initializeMap();l.triggerResize&&google.maps.event.trigger(p.map,\"resize\"),n.bind(\"$destroy\",function(){s.returnMapInstance(p.map),r.deleteMap(p)})};t.$inject=[\"$scope\",\"$element\",\"$attrs\",\"$parse\",\"Attr2MapOptions\",\"NgMap\",\"NgMapPool\"],angular.module(\"ngMap\").controller(\"__MapController\",t)}(),function(){\"use strict\";var e,t=function(t,o,i,a){a=a[0]||a[1];var r=e.orgAttributes(o),s=e.filter(i),p=e.getOptions(s,{scope:t}),c=e.getEvents(t,s),u=n(p,c);a.addObject(\"bicyclingLayers\",u),a.observeAttrSetObj(r,i,u),o.bind(\"$destroy\",function(){a.deleteObject(\"bicyclingLayers\",u)})},n=function(e,t){var n=new google.maps.BicyclingLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n},o=function(n){return e=n,{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:t}};o.$inject=[\"Attr2MapOptions\"],angular.module(\"ngMap\").directive(\"bicyclingLayer\",o)}(),function(){\"use strict\";var e,t,n,o=function(n,o,i,a){a=a[0]||a[1];var r=e.filter(i),s=e.getOptions(r,{scope:n}),p=e.getEvents(n,r),c=o[0].parentElement.removeChild(o[0]);t(c.innerHTML.trim())(n);for(var u in p)google.maps.event.addDomListener(c,u,p[u]);a.addObject(\"customControls\",c);var l=s.position;a.map.controls[google.maps.ControlPosition[l]].push(c),o.bind(\"$destroy\",function(){a.deleteObject(\"customControls\",c)})},i=function(i,a,r){return e=i,t=a,n=r,{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:o}};i.$inject=[\"Attr2MapOptions\",\"$compile\",\"NgMap\"],angular.module(\"ngMap\").directive(\"customControl\",i)}(),function(){\"use strict\";var e,t,n,o,i=function(e){e=e||{},this.el=document.createElement(\"div\"),this.el.style.display=\"inline-block\",this.el.style.visibility=\"hidden\",this.visible=!0;for(var t in e)this[t]=e[t]},a=function(){i.prototype=new google.maps.OverlayView,i.prototype.setContent=function(e,t){this.el.innerHTML=e,this.el.style.position=\"absolute\",t&&n(angular.element(this.el).contents())(t)},i.prototype.getDraggable=function(){return this.draggable},i.prototype.setDraggable=function(e){this.draggable=e},i.prototype.getPosition=function(){return this.position},i.prototype.setPosition=function(e){if(e&&(this.position=e),this.getProjection()&&\"function\"==typeof this.position.lng){var n=this,o=function(){var e=n.getProjection().fromLatLngToDivPixel(n.position),t=Math.round(e.x-n.el.offsetWidth/2),o=Math.round(e.y-n.el.offsetHeight-10);n.el.style.left=t+\"px\",n.el.style.top=o+\"px\",n.el.style.visibility=\"visible\"};n.el.offsetWidth&&n.el.offsetHeight?o():t(o,300)}},i.prototype.setZIndex=function(e){e&&(this.zIndex=e),this.el.style.zIndex=this.zIndex},i.prototype.getVisible=function(){return this.visible},i.prototype.setVisible=function(e){this.el.style.display=e?\"inline-block\":\"none\",this.visible=e},i.prototype.addClass=function(e){var t=this.el.className.trim().split(\" \");-1==t.indexOf(e)&&t.push(e),this.el.className=t.join(\" \")},i.prototype.removeClass=function(e){var t=this.el.className.split(\" \"),n=t.indexOf(e);n>-1&&t.splice(n,1),this.el.className=t.join(\" \")},i.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},i.prototype.draw=function(){this.setPosition(),this.setZIndex(this.zIndex),this.setVisible(this.visible)},i.prototype.onRemove=function(){this.el.parentNode.removeChild(this.el)}},r=function(n,a){return function(r,s,p,c){c=c[0]||c[1];var u=e.orgAttributes(s),l=e.filter(p),g=e.getOptions(l,{scope:r}),d=e.getEvents(r,l);s[0].style.display=\"none\";var m=new i(g);t(function(){r.$watch(\"[\"+a.join(\",\")+\"]\",function(){m.setContent(n,r)},!0),m.setContent(s[0].innerHTML,r);var e=s[0].firstElementChild.className;m.addClass(\"custom-marker\"),m.addClass(e),g.position instanceof google.maps.LatLng||o.getGeoLocation(g.position).then(function(e){m.setPosition(e)})});for(var f in d)google.maps.event.addDomListener(m.el,f,d[f]);c.addObject(\"customMarkers\",m),c.observeAttrSetObj(u,p,m),s.bind(\"$destroy\",function(){c.deleteObject(\"customMarkers\",m)})}},s=function(i,s,p,c){return e=p,t=i,n=s,o=c,{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],compile:function(e){a(),e[0].style.display=\"none\";var t=e.html(),n=t.match(/{{([^}]+)}}/g),o=[];return(n||[]).forEach(function(e){var t=e.replace(\"{{\",\"\").replace(\"}}\",\"\");-1==e.indexOf(\"::\")&&-1==e.indexOf(\"this.\")&&-1==o.indexOf(t)&&o.push(e.replace(\"{{\",\"\").replace(\"}}\",\"\"))}),r(t,o)}}};s.$inject=[\"$timeout\",\"$compile\",\"Attr2MapOptions\",\"NgMap\"],angular.module(\"ngMap\").directive(\"customMarker\",s)}(),function(){\"use strict\";var e,t,n,o=function(e,t){e.panel&&(e.panel=document.getElementById(e.panel)||document.querySelector(e.panel));var n=new google.maps.DirectionsRenderer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n},i=function(e,o){var i=new google.maps.DirectionsService,a=o;a.travelMode=a.travelMode||\"DRIVING\";var r=[\"origin\",\"destination\",\"travelMode\",\"transitOptions\",\"unitSystem\",\"durationInTraffic\",\"waypoints\",\"optimizeWaypoints\",\"provideRouteAlternatives\",\"avoidHighways\",\"avoidTolls\",\"region\"];for(var s in a)-1===r.indexOf(s)&&delete a[s];a.waypoints&&(\"[]\"==a.waypoints||\"\"===a.waypoints)&&delete a.waypoints;var p=function(n){i.route(n,function(n,o){o==google.maps.DirectionsStatus.OK&&t(function(){e.setDirections(n)})})};a.origin&&a.destination&&(\"current-location\"==a.origin?n.getCurrentPosition().then(function(e){a.origin=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),p(a)}):\"current-location\"==a.destination?n.getCurrentPosition().then(function(e){a.destination=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),p(a)}):p(a))},a=function(a,r,s,p){var c=a;e=p,t=r,n=s;var u=function(n,a,r,s){s=s[0]||s[1];var p=c.orgAttributes(a),u=c.filter(r),l=c.getOptions(u,{scope:n}),g=c.getEvents(n,u),d=c.getAttrsToObserve(p),m=o(l,g);s.addObject(\"directionsRenderers\",m),d.forEach(function(e){!function(e){r.$observe(e,function(n){if(\"panel\"==e)t(function(){var e=document.getElementById(n)||document.querySelector(n);e&&m.setPanel(e)});else if(l[e]!==n){var o=c.toOptionValue(n,{key:e});l[e]=o,i(m,l)}})}(e)}),e.getMap().then(function(){i(m,l)}),a.bind(\"$destroy\",function(){s.deleteObject(\"directionsRenderers\",m)})};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:u}};a.$inject=[\"Attr2MapOptions\",\"$timeout\",\"NavigatorGeolocation\",\"NgMap\"],angular.module(\"ngMap\").directive(\"directions\",a)}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"drawingManager\",[\"Attr2MapOptions\",function(e){var t=e;return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,n,o,i){i=i[0]||i[1];var a=t.filter(o),r=t.getOptions(a,{scope:e}),s=t.getControlOptions(a),p=t.getEvents(e,a),c=new google.maps.drawing.DrawingManager({drawingMode:r.drawingmode,drawingControl:r.drawingcontrol,drawingControlOptions:s.drawingControlOptions,circleOptions:r.circleoptions,markerOptions:r.markeroptions,polygonOptions:r.polygonoptions,polylineOptions:r.polylineoptions,rectangleOptions:r.rectangleoptions});o.$observe(\"drawingControlOptions\",function(e){c.drawingControlOptions=t.getControlOptions({drawingControlOptions:e}).drawingControlOptions,c.setDrawingMode(null),c.setMap(i.map)});for(var u in p)google.maps.event.addListener(c,u,p[u]);i.addObject(\"mapDrawingManager\",c),n.bind(\"$destroy\",function(){i.deleteObject(\"mapDrawingManager\",c)})}}}])}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"dynamicMapsEngineLayer\",[\"Attr2MapOptions\",function(e){var t=e,n=function(e,t){var n=new google.maps.visualization.DynamicMapsEngineLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,o,i,a){a=a[0]||a[1];var r=t.filter(i),s=t.getOptions(r,{scope:e}),p=t.getEvents(e,r,p),c=n(s,p);a.addObject(\"mapsEngineLayers\",c)}}}])}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"fusionTablesLayer\",[\"Attr2MapOptions\",function(e){var t=e,n=function(e,t){var n=new google.maps.FusionTablesLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,o,i,a){a=a[0]||a[1];var r=t.filter(i),s=t.getOptions(r,{scope:e}),p=t.getEvents(e,r,p),c=n(s,p);a.addObject(\"fusionTablesLayers\",c)}}}])}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"heatmapLayer\",[\"Attr2MapOptions\",\"$window\",function(e,t){var n=e;return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,o,i,a){a=a[0]||a[1];var r=n.filter(i),s=n.getOptions(r,{scope:e});if(s.data=t[i.data]||e[i.data],!(s.data instanceof Array))throw\"invalid heatmap data\";s.data=new google.maps.MVCArray(s.data);{var p=new google.maps.visualization.HeatmapLayer(s);n.getEvents(e,r)}a.addObject(\"heatmapLayers\",p)}}}])}(),function(){\"use strict\";var e=function(e,t,n,o,i,a,r){var s=e,p=function(e,a,r){var s;!e.position||e.position instanceof google.maps.LatLng||delete e.position,s=new google.maps.InfoWindow(e);for(var p in a)p&&google.maps.event.addListener(s,p,a[p]);var c=n(function(e){angular.isString(r)?o(r).then(function(t){e(angular.element(t).wrap(\"<div>\").parent())},function(e){throw\"info-window template request failed: \"+e}):e(r)}).then(function(e){var t=e.html().trim();if(1!=angular.element(t).length)throw\"info-window working as a template must have a container\";s.__template=t.replace(/\\s?ng-non-bindable[='\"]+/,\"\")});return s.__open=function(e,n,o){c.then(function(){i(function(){o&&(n.anchor=o);var i=t(s.__template)(n);s.setContent(i[0]),n.$apply(),o&&o.getPosition?s.open(e,o):o&&o instanceof google.maps.LatLng?(s.open(e),s.setPosition(o)):s.open(e);var a=s.content.parentElement.parentElement.parentElement;a.className=\"ng-map-info-window\"})})},s},c=function(e,t,n,o){o=o[0]||o[1],t.css(\"display\",\"none\");var i,c=s.orgAttributes(t),u=s.filter(n),l=s.getOptions(u,{scope:e}),g=s.getEvents(e,u),d=p(l,g,l.template||t);!l.position||l.position instanceof google.maps.LatLng||(i=l.position),i&&r.getGeoLocation(i).then(function(t){d.setPosition(t),d.__open(o.map,e,t);var i=n.geoCallback;i&&a(i)(e)}),o.addObject(\"infoWindows\",d),o.observeAttrSetObj(c,n,d),o.showInfoWindow=o.map.showInfoWindow=o.showInfoWindow||function(t,n,i){var a=\"string\"==typeof t?t:n,r=\"string\"==typeof t?n:i;if(\"string\"==typeof r)if(\"undefined\"!=typeof o.map.markers&&\"undefined\"!=typeof o.map.markers[r])r=o.map.markers[r];else{if(\"undefined\"==typeof o.map.customMarkers[r])throw new Error(\"Cant open info window for id \"+r+\". Marker or CustomMarker is not defined\");r=o.map.customMarkers[r]}var s=o.map.infoWindows[a],p=r?r:this.getPosition?this:null;s.__open(o.map,e,p),o.singleInfoWindow&&(o.lastInfoWindow&&e.hideInfoWindow(o.lastInfoWindow),o.lastInfoWindow=a)},o.hideInfoWindow=o.map.hideInfoWindow=o.hideInfoWindow||function(e,t){var n=\"string\"==typeof e?e:t,i=o.map.infoWindows[n];i.close()},e.showInfoWindow=o.map.showInfoWindow,e.hideInfoWindow=o.map.hideInfoWindow;var m=d.mapId?{id:d.mapId}:0;r.getMap(m).then(function(t){if(d.visible&&d.__open(t,e),d.visibleOnMarker){var n=d.visibleOnMarker;d.__open(t,e,t.markers[n])}})};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:c}};e.$inject=[\"Attr2MapOptions\",\"$compile\",\"$q\",\"$templateRequest\",\"$timeout\",\"$parse\",\"NgMap\"],angular.module(\"ngMap\").directive(\"infoWindow\",e)}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"kmlLayer\",[\"Attr2MapOptions\",function(e){var t=e,n=function(e,t){var n=new google.maps.KmlLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,o,i,a){a=a[0]||a[1];var r=t.orgAttributes(o),s=t.filter(i),p=t.getOptions(s,{scope:e}),c=t.getEvents(e,s),u=n(p,c);a.addObject(\"kmlLayers\",u),a.observeAttrSetObj(r,i,u),o.bind(\"$destroy\",function(){a.deleteObject(\"kmlLayers\",u)})}}}])}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"mapData\",[\"Attr2MapOptions\",\"NgMap\",function(e,t){var n=e;return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,o,i){var a=n.filter(i),r=n.getOptions(a,{scope:e}),s=n.getEvents(e,a,s);t.getMap().then(function(t){for(var n in r){var o=r[n];\"function\"==typeof e[o]?t.data[n](e[o]):t.data[n](o)}for(var i in s)t.data.addListener(i,s[i])})}}}])}(),function(){\"use strict\";var e,t,n,o=[],i=[],a=function(n,a,r){var s=r.mapLazyLoadParams||r.mapLazyLoad;if(void 0===window.google||void 0===window.google.maps){i.push({scope:n,element:a,savedHtml:o[i.length]}),window.lazyLoadCallback=function(){e(function(){i.forEach(function(e){e.element.html(e.savedHtml),t(e.element.contents())(e.scope)})},100)};var p=document.createElement(\"script\");p.src=s+(s.indexOf(\"?\")>-1?\"&\":\"?\")+\"callback=lazyLoadCallback\",document.querySelector('script[src=\"'+p.src+'\"]')||document.body.appendChild(p)}else a.html(o),t(a.contents())(n)},r=function(e,t){return!t.mapLazyLoad&&void 0,o.push(e.html()),n=t.mapLazyLoad,void 0!==window.google&&void 0!==window.google.maps?!1:(e.html(\"\"),{pre:a})},s=function(n,o){return t=n,e=o,{compile:r}};s.$inject=[\"$compile\",\"$timeout\"],angular.module(\"ngMap\").directive(\"mapLazyLoad\",s)}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"mapType\",[\"$parse\",\"NgMap\",function(e,t){return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(n,o,i,a){a=a[0]||a[1];var r,s=i.name;if(!s)throw\"invalid map-type name\";if(r=e(i.object)(n),!r)throw\"invalid map-type object\";t.getMap().then(function(e){e.mapTypes.set(s,r)}),a.addObject(\"mapTypes\",r)}}}])}(),function(){\"use strict\";var e=function(){return{restrict:\"AE\",controller:\"__MapController\",controllerAs:\"ngmap\"}};angular.module(\"ngMap\").directive(\"map\",[e]),angular.module(\"ngMap\").directive(\"ngMap\",[e])}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"mapsEngineLayer\",[\"Attr2MapOptions\",function(e){var t=e,n=function(e,t){var n=new google.maps.visualization.MapsEngineLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,o,i,a){a=a[0]||a[1];var r=t.filter(i),s=t.getOptions(r,{scope:e}),p=t.getEvents(e,r,p),c=n(s,p);a.addObject(\"mapsEngineLayers\",c)}}}])}(),function(){\"use strict\";var e,t,n,o=function(e,t){var o;if(n.defaultOptions.marker)for(var i in n.defaultOptions.marker)\"undefined\"==typeof e[i]&&(e[i]=n.defaultOptions.marker[i]);e.position instanceof google.maps.LatLng||(e.position=new google.maps.LatLng(0,0)),o=new google.maps.Marker(e),Object.keys(t).length>0;for(var a in t)a&&google.maps.event.addListener(o,a,t[a]);return o},i=function(i,a,r,s){s=s[0]||s[1];var p,c=e.orgAttributes(a),u=e.filter(r),l=e.getOptions(u,i,{scope:i}),g=e.getEvents(i,u);l.position instanceof google.maps.LatLng||(p=l.position);var d=o(l,g);s.addObject(\"markers\",d),p&&n.getGeoLocation(p).then(function(e){d.setPosition(e),l.centered&&d.map.setCenter(e);var n=r.geoCallback;n&&t(n)(i)}),s.observeAttrSetObj(c,r,d),a.bind(\"$destroy\",function(){s.deleteObject(\"markers\",d)})},a=function(o,a,r){return e=o,t=a,n=r,{restrict:\"E\",require:[\"^?map\",\"?^ngMap\"],link:i}};a.$inject=[\"Attr2MapOptions\",\"$parse\",\"NgMap\"],angular.module(\"ngMap\").directive(\"marker\",a)}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"overlayMapType\",[\"NgMap\",function(e){return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(t,n,o,i){i=i[0]||i[1];var a=o.initMethod||\"insertAt\",r=t[o.object];e.getMap().then(function(e){if(\"insertAt\"==a){var t=parseInt(o.index,10);e.overlayMapTypes.insertAt(t,r)}else\"push\"==a&&e.overlayMapTypes.push(r)}),i.addObject(\"overlayMapTypes\",r)}}}])}(),function(){\"use strict\";var e=function(e,t){var n=e,o=function(e,o,i,a){if(\"false\"===i.placesAutoComplete)return!1;var r=n.filter(i),s=n.getOptions(r,{scope:e}),p=n.getEvents(e,r),c=new google.maps.places.Autocomplete(o[0],s);for(var u in p)google.maps.event.addListener(c,u,p[u]);var l=function(){t(function(){a&&a.$setViewValue(o.val())},100)};google.maps.event.addListener(c,\"place_changed\",l),o[0].addEventListener(\"change\",l),i.$observe(\"types\",function(e){if(e){var t=n.toOptionValue(e,{key:\"types\"});c.setTypes(t)}}),i.$observe(\"componentRestrictions\",function(t){t&&c.setComponentRestrictions(e.$eval(t))})};return{restrict:\"A\",require:\"?ngModel\",link:o}};e.$inject=[\"Attr2MapOptions\",\"$timeout\"],angular.module(\"ngMap\").directive(\"placesAutoComplete\",e)}(),function(){\"use strict\";var e=function(e,t){var n,o=e.name;switch(delete e.name,o){case\"circle\":e.center instanceof google.maps.LatLng||(e.center=new google.maps.LatLng(0,0)),n=new google.maps.Circle(e);break;case\"polygon\":n=new google.maps.Polygon(e);break;case\"polyline\":n=new google.maps.Polyline(e);break;case\"rectangle\":n=new google.maps.Rectangle(e);break;case\"groundOverlay\":case\"image\":var i=e.url,a={opacity:e.opacity,clickable:e.clickable,id:e.id};n=new google.maps.GroundOverlay(i,e.bounds,a)}for(var r in t)t[r]&&google.maps.event.addListener(n,r,t[r]);return n},t=function(t,n,o){var i=t,a=function(t,a,r,s){s=s[0]||s[1];var p,c,u=i.orgAttributes(a),l=i.filter(r),g=i.getOptions(l,{scope:t}),d=i.getEvents(t,l);c=g.name,g.center instanceof google.maps.LatLng||(p=g.center);var m=e(g,d);s.addObject(\"shapes\",m),p&&\"circle\"==c&&o.getGeoLocation(p).then(function(e){m.setCenter(e),m.centered&&m.map.setCenter(e);var o=r.geoCallback;o&&n(o)(t)}),s.observeAttrSetObj(u,r,m),a.bind(\"$destroy\",function(){s.deleteObject(\"shapes\",m)})};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:a}};t.$inject=[\"Attr2MapOptions\",\"$parse\",\"NgMap\"],angular.module(\"ngMap\").directive(\"shape\",t)}(),function(){\"use strict\";var e=function(e,t){var n=e,o=function(e,t,n){var o,i;t.container&&(i=document.getElementById(t.container),i=i||document.querySelector(t.container)),i?o=new google.maps.StreetViewPanorama(i,t):(o=e.getStreetView(),o.setOptions(t));for(var a in n)a&&google.maps.event.addListener(o,a,n[a]);return o},i=function(e,i,a){var r=n.filter(a),s=n.getOptions(r,{scope:e}),p=n.getControlOptions(r),c=angular.extend(s,p),u=n.getEvents(e,r);t.getMap().then(function(e){var t=o(e,c,u);e.setStreetView(t),!t.getPosition()&&t.setPosition(e.getCenter()),google.maps.event.addListener(t,\"position_changed\",function(){t.getPosition()!==e.getCenter()&&e.setCenter(t.getPosition())});var n=google.maps.event.addListener(e,\"center_changed\",function(){t.setPosition(e.getCenter()),google.maps.event.removeListener(n)})})};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:i}};e.$inject=[\"Attr2MapOptions\",\"NgMap\"],angular.module(\"ngMap\").directive(\"streetViewPanorama\",e)}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"trafficLayer\",[\"Attr2MapOptions\",function(e){var t=e,n=function(e,t){var n=new google.maps.TrafficLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,o,i,a){a=a[0]||a[1];var r=t.orgAttributes(o),s=t.filter(i),p=t.getOptions(s,{scope:e}),c=t.getEvents(e,s),u=n(p,c);a.addObject(\"trafficLayers\",u),a.observeAttrSetObj(r,i,u),o.bind(\"$destroy\",function(){a.deleteObject(\"trafficLayers\",u)})}}}])}(),function(){\"use strict\";angular.module(\"ngMap\").directive(\"transitLayer\",[\"Attr2MapOptions\",function(e){var t=e,n=function(e,t){var n=new google.maps.TransitLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:\"E\",require:[\"?^map\",\"?^ngMap\"],link:function(e,o,i,a){a=a[0]||a[1];var r=t.orgAttributes(o),s=t.filter(i),p=t.getOptions(s,{scope:e}),c=t.getEvents(e,s),u=n(p,c);a.addObject(\"transitLayers\",u),a.observeAttrSetObj(r,i,u),o.bind(\"$destroy\",function(){a.deleteObject(\"transitLayers\",u)})}}}])}(),function(){\"use strict\";var e=/([\\:\\-\\_]+(.))/g,t=/^moz([A-Z])/,n=function(){return function(n){return n.replace(e,function(e,t,n,o){return o?n.toUpperCase():n}).replace(t,\"Moz$1\")}};angular.module(\"ngMap\").filter(\"camelCase\",n)}(),function(){\"use strict\";var e=function(){return function(e){try{return JSON.parse(e),e}catch(t){return e.replace(/([\\$\\w]+)\\s*:/g,function(e,t){return'\"'+t+'\":'}).replace(/'([^']+)'/g,function(e,t){return'\"'+t+'\"'})}}};angular.module(\"ngMap\").filter(\"jsonize\",e)}(),function(){\"use strict\";var isoDateRE=/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*)?)([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/,Attr2MapOptions=function($parse,$timeout,$log,NavigatorGeolocation,GeoCoder,camelCaseFilter,jsonizeFilter){var orgAttributes=function(e){e.length>0&&(e=e[0]);for(var t={},n=0;n<e.attributes.length;n++){var o=e.attributes[n];t[o.name]=o.value}return t},getJSON=function(e){var t=/^[\\+\\-]?[0-9\\.]+,[ ]*\\ ?[\\+\\-]?[0-9\\.]+$/;return e.match(t)&&(e=\"[\"+e+\"]\"),JSON.parse(jsonizeFilter(e))},getLatLng=function(e){var t=e;return e[0].constructor==Array?t=e.map(function(e){return new google.maps.LatLng(e[0],e[1])}):!isNaN(parseFloat(e[0]))&&isFinite(e[0])&&(t=new google.maps.LatLng(t[0],t[1])),t},toOptionValue=function(input,options){var output;try{output=getNumber(input)}catch(err){try{var output=getJSON(input);if(output instanceof Array)output=output[0].constructor==Object?output:getLatLng(output);else if(output===Object(output)){var newOptions=options;newOptions.doNotConverStringToNumber=!0,output=getOptions(output,newOptions)}}catch(err2){if(input.match(/^[A-Z][a-zA-Z0-9]+\\(.*\\)$/))try{var exp=\"new google.maps.\"+input;output=eval(exp)}catch(e){output=input}else if(input.match(/^([A-Z][a-zA-Z0-9]+)\\.([A-Z]+)$/))try{var matches=input.match(/^([A-Z][a-zA-Z0-9]+)\\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(e){output=input}else if(input.match(/^[A-Z]+$/))try{var capitalizedKey=options.key.charAt(0).toUpperCase()+options.key.slice(1);options.key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,\"\"),output=google.maps.weather[capitalizedKey][input]):output=google.maps[capitalizedKey][input]}catch(e){output=input}else if(input.match(isoDateRE))try{output=new Date(input)}catch(e){output=input}else if(input.match(/^{/)&&options.scope)try{var expr=input.replace(/{{/,\"\").replace(/}}/g,\"\");output=options.scope.$eval(expr)}catch(err){output=input}else output=input}}if((\"center\"==options.key||\"position\"==options.key)&&output instanceof Array&&(output=new google.maps.LatLng(output[0],output[1])),\"bounds\"==options.key&&output instanceof Array&&(output=new google.maps.LatLngBounds(output[0],output[1])),\"icons\"==options.key&&output instanceof Array)for(var i=0;i<output.length;i++){var el=output[i];el.icon.path.match(/^[A-Z_]+$/)&&(el.icon.path=google.maps.SymbolPath[el.icon.path])}if(\"icon\"==options.key&&output instanceof Object){(\"\"+output.path).match(/^[A-Z_]+$/)&&(output.path=google.maps.SymbolPath[output.path]);for(var key in output){var arr=output[key];\"anchor\"==key||\"origin\"==key||\"labelOrigin\"==key?output[key]=new google.maps.Point(arr[0],arr[1]):(\"size\"==key||\"scaledSize\"==key)&&(output[key]=new google.maps.Size(arr[0],arr[1]))}}return output},getAttrsToObserve=function(e){var t=[];if(!e.noWatcher)for(var n in e){var o=e[n];o&&o.match(/\\{\\{.*\\}\\}/)&&t.push(camelCaseFilter(n))}return t},filter=function(e){var t={};for(var n in e)n.match(/^\\$/)||n.match(/^ng[A-Z]/)||(t[n]=e[n]);return t},getOptions=function(e,t){t=t||{};var n={};for(var o in e)if(e[o]||0===e[o]){if(o.match(/^on[A-Z]/))continue;if(o.match(/ControlOptions$/))continue;n[o]=\"string\"!=typeof e[o]?e[o]:t.doNotConverStringToNumber&&e[o].match(/^[0-9]+$/)?e[o]:toOptionValue(e[o],{key:o,scope:t.scope})}return n},getEvents=function(e,t){var n={},o=function(e){return\"_\"+e.toLowerCase()},i=function(t){var n=t.match(/([^\\(]+)\\(([^\\)]*)\\)/),o=n[1],i=n[2].replace(/event[ ,]*/,\"\"),a=$parse(\"[\"+i+\"]\");return function(t){function n(e,t){return e[t]}var i=a(e),r=o.split(\".\").reduce(n,e);r&&r.apply(this,[t].concat(i)),$timeout(function(){e.$apply()})}};for(var a in t)if(t[a]){if(!a.match(/^on[A-Z]/))continue;var r=a.replace(/^on/,\"\");r=r.charAt(0).toLowerCase()+r.slice(1),r=r.replace(/([A-Z])/g,o);var s=t[a];n[r]=new i(s)}return n},getControlOptions=function(e){var t={};if(\"object\"!=typeof e)return!1;for(var n in e)if(e[n]){if(!n.match(/(.*)ControlOptions$/))continue;var o=e[n],i=o.replace(/'/g,'\"');i=i.replace(/([^\"]+)|(\"[^\"]+\")/g,function(e,t,n){return t?t.replace(/([a-zA-Z0-9]+?):/g,'\"$1\":'):n});try{var a=JSON.parse(i);for(var r in a)if(a[r]){var s=a[r];if(\"string\"==typeof s?s=s.toUpperCase():\"mapTypeIds\"===r&&(s=s.map(function(e){return e.match(/^[A-Z]+$/)?google.maps.MapTypeId[e.toUpperCase()]:e})),\"style\"===r){var p=n.charAt(0).toUpperCase()+n.slice(1),c=p.replace(/Options$/,\"\")+\"Style\";a[r]=google.maps[c][s]}else a[r]=\"position\"===r?google.maps.ControlPosition[s]:s}t[n]=a}catch(u){}}return t};return{filter:filter,getOptions:getOptions,getEvents:getEvents,getControlOptions:getControlOptions,toOptionValue:toOptionValue,getAttrsToObserve:getAttrsToObserve,orgAttributes:orgAttributes}};Attr2MapOptions.$inject=[\"$parse\",\"$timeout\",\"$log\",\"NavigatorGeolocation\",\"GeoCoder\",\"camelCaseFilter\",\"jsonizeFilter\"],angular.module(\"ngMap\").service(\"Attr2MapOptions\",Attr2MapOptions)}(),function(){\"use strict\";var e,t=function(t){var n=e.defer(),o=new google.maps.Geocoder;return o.geocode(t,function(e,t){t==google.maps.GeocoderStatus.OK?n.resolve(e):n.reject(t)}),n.promise},n=function(n){return e=n,{geocode:t}};n.$inject=[\"$q\"],angular.module(\"ngMap\").service(\"GeoCoder\",n)}(),function(){\"use strict\";var e,t=function(t){var n=e.defer();return navigator.geolocation?(void 0===t?t={timeout:5e3}:void 0===t.timeout&&(t.timeout=5e3),navigator.geolocation.getCurrentPosition(function(e){n.resolve(e)},function(e){n.reject(e)},t)):n.reject(\"Browser Geolocation service failed.\"),n.promise},n=function(n){return e=n,{getCurrentPosition:t}};n.$inject=[\"$q\"],angular.module(\"ngMap\").service(\"NavigatorGeolocation\",n)}(),function(){\"use strict\";var e,t,n,o=[],i=function(n){var i=t.createElement(\"div\");i.style.width=\"100%\",i.style.height=\"100%\",n.appendChild(i);var a=new e.google.maps.Map(i,{});return o.push(a),a},a=function(e,t){for(var n,i=0;i<o.length;i++){var a=o[i];if(a.id==t&&!a.inUse){var r=a.getDiv();e.appendChild(r),n=a;break}}return n},r=function(e){for(var t,n=0;n<o.length;n++){var i=o[n];if(!i.id&&!i.inUse){var a=i.getDiv();e.appendChild(a),t=i;break}}return t},s=function(e){var t=a(e,e.id)||r(e);return t?n(function(){google.maps.event.trigger(t,\"idle\")},100):t=i(e),t.inUse=!0,t},p=function(e){e.inUse=!1},c=function(){for(var e=0;e<o.length;e++)o[e]=null;o=[]},u=function(i,a,r){return t=i[0],e=a,n=r,{mapInstances:o,resetMapInstances:c,getMapInstance:s,returnMapInstance:p}};u.$inject=[\"$document\",\"$window\",\"$timeout\"],angular.module(\"ngMap\").factory(\"NgMapPool\",u)}(),function(){\"use strict\";var e,t,n,o,i,a,r,s={},p=function(n,o){var i;return n.currentStyle?i=n.currentStyle[o]:e.getComputedStyle&&(i=t.defaultView.getComputedStyle(n,null).getPropertyValue(o)),i},c=function(e){var t=s[e||0];return t.map instanceof google.maps.Map?void 0:(t.initializeMap(),t.map)},u=function(t){function o(n){s[t]?i.resolve(s[t].map):n>a?i.reject(\"could not find map\"):e.setTimeout(function(){o(n+100)},100)}t=\"object\"==typeof t?t.id:t,t=t||0;var i=n.defer(),a=2e3;return o(0),i.promise},l=function(e){if(e.map){var t=Object.keys(s).length;s[e.map.id||t]=e}},g=function(e){var t=Object.keys(s).length-1,n=e.map.id||t;if(e.map){for(var o in e.eventListeners){var i=e.eventListeners[o];google.maps.event.removeListener(i)}e.map.controls&&e.map.controls.forEach(function(e){e.clear()})}e.map.heatmapLayers&&Object.keys(e.map.heatmapLayers).forEach(function(t){e.deleteObject(\"heatmapLayers\",e.map.heatmapLayers[t])}),delete s[n]},d=function(e,t){var i=n.defer();return!e||e.match(/^current/i)?o.getCurrentPosition(t).then(function(e){var t=e.coords.latitude,n=e.coords.longitude,o=new google.maps.LatLng(t,n);i.resolve(o)},function(e){i.reject(e)}):a.geocode({address:e}).then(function(e){i.resolve(e[0].geometry.location)},function(e){i.reject(e)}),i.promise},m=function(e,t){return function(n){if(n){var o=r(\"set-\"+e),a=i.toOptionValue(n,{key:e});t[o]&&(e.match(/center|position/)&&\"string\"==typeof a?d(a).then(function(e){t[o](e)}):t[o](a))}}},f=function(e){var t=e.getAttribute(\"default-style\");\"true\"==t?(e.style.display=\"block\",e.style.height=\"300px\"):(\"block\"!=p(e,\"display\")&&(e.style.display=\"block\"),p(e,\"height\").match(/^(0|auto)/)&&(e.style.height=\"300px\"))};angular.module(\"ngMap\").provider(\"NgMap\",function(){var s={};this.setDefaultOptions=function(e){s=e};var p=function(p,v,y,h,M,b,O){return e=p,t=v[0],n=y,o=h,i=M,a=b,r=O,{defaultOptions:s,addMap:l,deleteMap:g,getMap:u,initMap:c,setStyle:f,getGeoLocation:d,observeAndSet:m}};p.$inject=[\"$window\",\"$document\",\"$q\",\"NavigatorGeolocation\",\"Attr2MapOptions\",\"GeoCoder\",\"camelCaseFilter\"],this.$get=p})}(),function(){\"use strict\";var e,t=function(t,n){n=n||t.getCenter();var o=e.defer(),i=new google.maps.StreetViewService;return i.getPanoramaByLocation(n||t.getCenter,100,function(e,t){t===google.maps.StreetViewStatus.OK?o.resolve(e.location.pano):o.resolve(!1)\n}),o.promise},n=function(e,t){var n=new google.maps.StreetViewPanorama(e.getDiv(),{enableCloseButton:!0});n.setPano(t)},o=function(o){return e=o,{getPanorama:t,setPanorama:n}};o.$inject=[\"$q\"],angular.module(\"ngMap\").service(\"StreetView\",o)}(),\"ngMap\"});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L25nbWFwL2J1aWxkL3NjcmlwdHMvbmctbWFwLm1pbi5qcz80ODgyIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXQocmVxdWlyZShcImFuZ3VsYXJcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiYW5ndWxhclwiXSx0KTp0KGUuYW5ndWxhcil9KHRoaXMsZnVuY3Rpb24oYW5ndWxhcil7LyoqXG4gKiBBbmd1bGFySlMgR29vZ2xlIE1hcHMgVmVyLiAxLjE3LjdcbiAqXG4gKiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDE0LCAyMDE1LCAxMDE2IEFsbGVuIEtpbVxuICogXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mXG4gKiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluXG4gKiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvXG4gKiB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZlxuICogdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKiBcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqIFxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1NcbiAqIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUlxuICogQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSXG4gKiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICogQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xucmV0dXJuIGFuZ3VsYXIubW9kdWxlKFwibmdNYXBcIixbXSksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZSx0PWZ1bmN0aW9uKHQsbixvLGksYSxyLHMpe2U9YTt2YXIgcD10aGlzO3AubWFwT3B0aW9ucyxwLm1hcEV2ZW50cyxwLmV2ZW50TGlzdGVuZXJzLHAuYWRkT2JqZWN0PWZ1bmN0aW9uKGUsdCl7aWYocC5tYXApe3AubWFwW2VdPXAubWFwW2VdfHx7fTt2YXIgbj1PYmplY3Qua2V5cyhwLm1hcFtlXSkubGVuZ3RoO3AubWFwW2VdW3QuaWR8fG5dPXQscC5tYXAgaW5zdGFuY2VvZiBnb29nbGUubWFwcy5NYXAmJihcImluZm9XaW5kb3dzXCIhPWUmJnQuc2V0TWFwJiZ0LnNldE1hcCYmdC5zZXRNYXAocC5tYXApLHQuY2VudGVyZWQmJnQucG9zaXRpb24mJnAubWFwLnNldENlbnRlcih0LnBvc2l0aW9uKSxcIm1hcmtlcnNcIj09ZSYmcC5vYmplY3RDaGFuZ2VkKFwibWFya2Vyc1wiKSxcImN1c3RvbU1hcmtlcnNcIj09ZSYmcC5vYmplY3RDaGFuZ2VkKFwiY3VzdG9tTWFya2Vyc1wiKSl9fSxwLmRlbGV0ZU9iamVjdD1mdW5jdGlvbihlLHQpe2lmKHQubWFwKXt2YXIgbj10Lm1hcFtlXTtmb3IodmFyIG8gaW4gbiluW29dPT09dCYmKGdvb2dsZS5tYXBzLmV2ZW50LmNsZWFySW5zdGFuY2VMaXN0ZW5lcnModCksZGVsZXRlIG5bb10pO3QubWFwJiZ0LnNldE1hcCYmdC5zZXRNYXAobnVsbCksXCJtYXJrZXJzXCI9PWUmJnAub2JqZWN0Q2hhbmdlZChcIm1hcmtlcnNcIiksXCJjdXN0b21NYXJrZXJzXCI9PWUmJnAub2JqZWN0Q2hhbmdlZChcImN1c3RvbU1hcmtlcnNcIil9fSxwLm9ic2VydmVBdHRyU2V0T2JqPWZ1bmN0aW9uKHQsbixvKXtpZihuLm5vV2F0Y2hlcilyZXR1cm4hMTtmb3IodmFyIGk9ZS5nZXRBdHRyc1RvT2JzZXJ2ZSh0KSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBzPWlbYV07bi4kb2JzZXJ2ZShzLHIub2JzZXJ2ZUFuZFNldChzLG8pKX19LHAuem9vbVRvSW5jbHVkZU1hcmtlcnM9ZnVuY3Rpb24oKXtpZihudWxsIT1wLm1hcC5tYXJrZXJzJiZPYmplY3Qua2V5cyhwLm1hcC5tYXJrZXJzKS5sZW5ndGg+MHx8bnVsbCE9cC5tYXAuY3VzdG9tTWFya2VycyYmT2JqZWN0LmtleXMocC5tYXAuY3VzdG9tTWFya2VycykubGVuZ3RoPjApe3ZhciBlPW5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHM7Zm9yKHZhciB0IGluIHAubWFwLm1hcmtlcnMpZS5leHRlbmQocC5tYXAubWFya2Vyc1t0XS5nZXRQb3NpdGlvbigpKTtmb3IodmFyIG4gaW4gcC5tYXAuY3VzdG9tTWFya2VycyllLmV4dGVuZChwLm1hcC5jdXN0b21NYXJrZXJzW25dLmdldFBvc2l0aW9uKCkpO3AubWFwT3B0aW9ucy5tYXhpbXVtWm9vbSYmKHAuZW5hYmxlTWF4aW11bVpvb21DaGVjaz0hMCkscC5tYXAuZml0Qm91bmRzKGUpfX0scC5vYmplY3RDaGFuZ2VkPWZ1bmN0aW9uKGUpeyFwLm1hcHx8XCJtYXJrZXJzXCIhPWUmJlwiY3VzdG9tTWFya2Vyc1wiIT1lfHxcImF1dG9cIiE9cC5tYXAuem9vbVRvSW5jbHVkZU1hcmtlcnN8fHAuem9vbVRvSW5jbHVkZU1hcmtlcnMoKX0scC5pbml0aWFsaXplTWFwPWZ1bmN0aW9uKCl7dmFyIGE9cC5tYXBPcHRpb25zLHU9cC5tYXBFdmVudHMsbD1wLm1hcDtpZihwLm1hcD1zLmdldE1hcEluc3RhbmNlKG5bMF0pLHIuc2V0U3R5bGUoblswXSksbCl7dmFyIGc9ZS5maWx0ZXIobyksZD1lLmdldE9wdGlvbnMoZyksbT1lLmdldENvbnRyb2xPcHRpb25zKGcpO2E9YW5ndWxhci5leHRlbmQoZCxtKTtmb3IodmFyIGYgaW4gbCl7dmFyIHY9bFtmXTtpZihcIm9iamVjdFwiPT10eXBlb2Ygdilmb3IodmFyIHkgaW4gdilwLmFkZE9iamVjdChmLHZbeV0pfXAubWFwLnNob3dJbmZvV2luZG93PXAuc2hvd0luZm9XaW5kb3cscC5tYXAuaGlkZUluZm9XaW5kb3c9cC5oaWRlSW5mb1dpbmRvd31hLnpvb209YS56b29tfHwxNTt2YXIgaD1hLmNlbnRlcjtpZighYS5jZW50ZXJ8fFwic3RyaW5nXCI9PXR5cGVvZiBoJiZoLm1hdGNoKC9cXHtcXHsuKlxcfVxcfS8pKWEuY2VudGVyPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoMCwwKTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBoJiZoLm1hdGNoKC9bMC05Li1dKixbMC05Li1dKi8pKWEuY2VudGVyPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoaCk7ZWxzZSBpZighKGggaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmcpKXt2YXIgTT1hLmNlbnRlcjtkZWxldGUgYS5jZW50ZXIsci5nZXRHZW9Mb2NhdGlvbihNLGEuZ2VvTG9jYXRpb25PcHRpb25zKS50aGVuKGZ1bmN0aW9uKGUpe3AubWFwLnNldENlbnRlcihlKTt2YXIgbj1hLmdlb0NhbGxiYWNrO24mJmkobikodCl9LGZ1bmN0aW9uKCl7YS5nZW9GYWxsYmFja0NlbnRlciYmcC5tYXAuc2V0Q2VudGVyKGEuZ2VvRmFsbGJhY2tDZW50ZXIpfSl9cC5tYXAuc2V0T3B0aW9ucyhhKTtmb3IodmFyIGIgaW4gdSl7dmFyIE89dVtiXSx3PWdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHAubWFwLGIsTyk7cC5ldmVudExpc3RlbmVyc1tiXT13fXAub2JzZXJ2ZUF0dHJTZXRPYmooYyxvLHAubWFwKSxwLnNpbmdsZUluZm9XaW5kb3c9YS5zaW5nbGVJbmZvV2luZG93LGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIocC5tYXAsXCJyZXNpemVcIiksZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXJPbmNlKHAubWFwLFwiaWRsZVwiLGZ1bmN0aW9uKCl7ci5hZGRNYXAocCksYS56b29tVG9JbmNsdWRlTWFya2VycyYmcC56b29tVG9JbmNsdWRlTWFya2VycygpLHQubWFwPXAubWFwLHQuJGVtaXQoXCJtYXBJbml0aWFsaXplZFwiLHAubWFwKSxvLm1hcEluaXRpYWxpemVkJiZpKG8ubWFwSW5pdGlhbGl6ZWQpKHQse21hcDpwLm1hcH0pfSksYS56b29tVG9JbmNsdWRlTWFya2VycyYmYS5tYXhpbXVtWm9vbSYmZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIocC5tYXAsXCJ6b29tX2NoYW5nZWRcIixmdW5jdGlvbigpezE9PXAuZW5hYmxlTWF4aW11bVpvb21DaGVjayYmKHAuZW5hYmxlTWF4aW11bVpvb21DaGVjaz0hMSxnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lck9uY2UocC5tYXAsXCJib3VuZHNfY2hhbmdlZFwiLGZ1bmN0aW9uKCl7cC5tYXAuc2V0Wm9vbShNYXRoLm1pbihhLm1heGltdW1ab29tLHAubWFwLmdldFpvb20oKSkpfSkpfSl9LHQuZ29vZ2xlPWdvb2dsZTt2YXIgYz1lLm9yZ0F0dHJpYnV0ZXMobiksdT1lLmZpbHRlcihvKSxsPWUuZ2V0T3B0aW9ucyh1LHtzY29wZTp0fSksZz1lLmdldENvbnRyb2xPcHRpb25zKHUpLGQ9YW5ndWxhci5leHRlbmQobCxnKSxtPWUuZ2V0RXZlbnRzKHQsdSk7aWYoT2JqZWN0LmtleXMobSkubGVuZ3RoJiZ2b2lkIDAscC5tYXBPcHRpb25zPWQscC5tYXBFdmVudHM9bSxwLmV2ZW50TGlzdGVuZXJzPXt9LGwubGF6eUluaXQpe2lmKG8uaWQmJjA9PT1vLmlkLmluZGV4T2YoXCJ7e1wiLDApJiYtMSE9PW8uaWQuaW5kZXhPZihcIn19XCIsby5pZC5sZW5ndGgtXCJ9fVwiLmxlbmd0aCkpdmFyIGY9by5pZC5zbGljZSgyLC0yKSx2PWkoZikodCk7ZWxzZSB2YXIgdj1vLmlkO3AubWFwPXtpZDp2fSxyLmFkZE1hcChwKX1lbHNlIHAuaW5pdGlhbGl6ZU1hcCgpO2wudHJpZ2dlclJlc2l6ZSYmZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihwLm1hcCxcInJlc2l6ZVwiKSxuLmJpbmQoXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7cy5yZXR1cm5NYXBJbnN0YW5jZShwLm1hcCksci5kZWxldGVNYXAocCl9KX07dC4kaW5qZWN0PVtcIiRzY29wZVwiLFwiJGVsZW1lbnRcIixcIiRhdHRyc1wiLFwiJHBhcnNlXCIsXCJBdHRyMk1hcE9wdGlvbnNcIixcIk5nTWFwXCIsXCJOZ01hcFBvb2xcIl0sYW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5jb250cm9sbGVyKFwiX19NYXBDb250cm9sbGVyXCIsdCl9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZSx0PWZ1bmN0aW9uKHQsbyxpLGEpe2E9YVswXXx8YVsxXTt2YXIgcj1lLm9yZ0F0dHJpYnV0ZXMobykscz1lLmZpbHRlcihpKSxwPWUuZ2V0T3B0aW9ucyhzLHtzY29wZTp0fSksYz1lLmdldEV2ZW50cyh0LHMpLHU9bihwLGMpO2EuYWRkT2JqZWN0KFwiYmljeWNsaW5nTGF5ZXJzXCIsdSksYS5vYnNlcnZlQXR0clNldE9iaihyLGksdSksby5iaW5kKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2EuZGVsZXRlT2JqZWN0KFwiYmljeWNsaW5nTGF5ZXJzXCIsdSl9KX0sbj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBnb29nbGUubWFwcy5CaWN5Y2xpbmdMYXllcihlKTtmb3IodmFyIG8gaW4gdClnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihuLG8sdFtvXSk7cmV0dXJuIG59LG89ZnVuY3Rpb24obil7cmV0dXJuIGU9bix7cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/Xm1hcFwiLFwiP15uZ01hcFwiXSxsaW5rOnR9fTtvLiRpbmplY3Q9W1wiQXR0cjJNYXBPcHRpb25zXCJdLGFuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwiYmljeWNsaW5nTGF5ZXJcIixvKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQsbixvPWZ1bmN0aW9uKG4sbyxpLGEpe2E9YVswXXx8YVsxXTt2YXIgcj1lLmZpbHRlcihpKSxzPWUuZ2V0T3B0aW9ucyhyLHtzY29wZTpufSkscD1lLmdldEV2ZW50cyhuLHIpLGM9b1swXS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKG9bMF0pO3QoYy5pbm5lckhUTUwudHJpbSgpKShuKTtmb3IodmFyIHUgaW4gcClnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcihjLHUscFt1XSk7YS5hZGRPYmplY3QoXCJjdXN0b21Db250cm9sc1wiLGMpO3ZhciBsPXMucG9zaXRpb247YS5tYXAuY29udHJvbHNbZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uW2xdXS5wdXNoKGMpLG8uYmluZChcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXthLmRlbGV0ZU9iamVjdChcImN1c3RvbUNvbnRyb2xzXCIsYyl9KX0saT1mdW5jdGlvbihpLGEscil7cmV0dXJuIGU9aSx0PWEsbj1yLHtyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9ebWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6b319O2kuJGluamVjdD1bXCJBdHRyMk1hcE9wdGlvbnNcIixcIiRjb21waWxlXCIsXCJOZ01hcFwiXSxhbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLmRpcmVjdGl2ZShcImN1c3RvbUNvbnRyb2xcIixpKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQsbixvLGk9ZnVuY3Rpb24oZSl7ZT1lfHx7fSx0aGlzLmVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5lbC5zdHlsZS5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCIsdGhpcy5lbC5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy52aXNpYmxlPSEwO2Zvcih2YXIgdCBpbiBlKXRoaXNbdF09ZVt0XX0sYT1mdW5jdGlvbigpe2kucHJvdG90eXBlPW5ldyBnb29nbGUubWFwcy5PdmVybGF5VmlldyxpLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKGUsdCl7dGhpcy5lbC5pbm5lckhUTUw9ZSx0aGlzLmVsLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0JiZuKGFuZ3VsYXIuZWxlbWVudCh0aGlzLmVsKS5jb250ZW50cygpKSh0KX0saS5wcm90b3R5cGUuZ2V0RHJhZ2dhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ2dhYmxlfSxpLnByb3RvdHlwZS5zZXREcmFnZ2FibGU9ZnVuY3Rpb24oZSl7dGhpcy5kcmFnZ2FibGU9ZX0saS5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbn0saS5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24oZSl7aWYoZSYmKHRoaXMucG9zaXRpb249ZSksdGhpcy5nZXRQcm9qZWN0aW9uKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucG9zaXRpb24ubG5nKXt2YXIgbj10aGlzLG89ZnVuY3Rpb24oKXt2YXIgZT1uLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9EaXZQaXhlbChuLnBvc2l0aW9uKSx0PU1hdGgucm91bmQoZS54LW4uZWwub2Zmc2V0V2lkdGgvMiksbz1NYXRoLnJvdW5kKGUueS1uLmVsLm9mZnNldEhlaWdodC0xMCk7bi5lbC5zdHlsZS5sZWZ0PXQrXCJweFwiLG4uZWwuc3R5bGUudG9wPW8rXCJweFwiLG4uZWwuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIn07bi5lbC5vZmZzZXRXaWR0aCYmbi5lbC5vZmZzZXRIZWlnaHQ/bygpOnQobywzMDApfX0saS5wcm90b3R5cGUuc2V0WkluZGV4PWZ1bmN0aW9uKGUpe2UmJih0aGlzLnpJbmRleD1lKSx0aGlzLmVsLnN0eWxlLnpJbmRleD10aGlzLnpJbmRleH0saS5wcm90b3R5cGUuZ2V0VmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpc2libGV9LGkucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oZSl7dGhpcy5lbC5zdHlsZS5kaXNwbGF5PWU/XCJpbmxpbmUtYmxvY2tcIjpcIm5vbmVcIix0aGlzLnZpc2libGU9ZX0saS5wcm90b3R5cGUuYWRkQ2xhc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbC5jbGFzc05hbWUudHJpbSgpLnNwbGl0KFwiIFwiKTstMT09dC5pbmRleE9mKGUpJiZ0LnB1c2goZSksdGhpcy5lbC5jbGFzc05hbWU9dC5qb2luKFwiIFwiKX0saS5wcm90b3R5cGUucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLG49dC5pbmRleE9mKGUpO24+LTEmJnQuc3BsaWNlKG4sMSksdGhpcy5lbC5jbGFzc05hbWU9dC5qb2luKFwiIFwiKX0saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24oKXt0aGlzLmdldFBhbmVzKCkub3ZlcmxheU1vdXNlVGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuZWwpfSxpLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKCl7dGhpcy5zZXRQb3NpdGlvbigpLHRoaXMuc2V0WkluZGV4KHRoaXMuekluZGV4KSx0aGlzLnNldFZpc2libGUodGhpcy52aXNpYmxlKX0saS5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbCl9fSxyPWZ1bmN0aW9uKG4sYSl7cmV0dXJuIGZ1bmN0aW9uKHIscyxwLGMpe2M9Y1swXXx8Y1sxXTt2YXIgdT1lLm9yZ0F0dHJpYnV0ZXMocyksbD1lLmZpbHRlcihwKSxnPWUuZ2V0T3B0aW9ucyhsLHtzY29wZTpyfSksZD1lLmdldEV2ZW50cyhyLGwpO3NbMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt2YXIgbT1uZXcgaShnKTt0KGZ1bmN0aW9uKCl7ci4kd2F0Y2goXCJbXCIrYS5qb2luKFwiLFwiKStcIl1cIixmdW5jdGlvbigpe20uc2V0Q29udGVudChuLHIpfSwhMCksbS5zZXRDb250ZW50KHNbMF0uaW5uZXJIVE1MLHIpO3ZhciBlPXNbMF0uZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NOYW1lO20uYWRkQ2xhc3MoXCJjdXN0b20tbWFya2VyXCIpLG0uYWRkQ2xhc3MoZSksZy5wb3NpdGlvbiBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLkxhdExuZ3x8by5nZXRHZW9Mb2NhdGlvbihnLnBvc2l0aW9uKS50aGVuKGZ1bmN0aW9uKGUpe20uc2V0UG9zaXRpb24oZSl9KX0pO2Zvcih2YXIgZiBpbiBkKWdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKG0uZWwsZixkW2ZdKTtjLmFkZE9iamVjdChcImN1c3RvbU1hcmtlcnNcIixtKSxjLm9ic2VydmVBdHRyU2V0T2JqKHUscCxtKSxzLmJpbmQoXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7Yy5kZWxldGVPYmplY3QoXCJjdXN0b21NYXJrZXJzXCIsbSl9KX19LHM9ZnVuY3Rpb24oaSxzLHAsYyl7cmV0dXJuIGU9cCx0PWksbj1zLG89Yyx7cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/Xm1hcFwiLFwiP15uZ01hcFwiXSxjb21waWxlOmZ1bmN0aW9uKGUpe2EoKSxlWzBdLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIHQ9ZS5odG1sKCksbj10Lm1hdGNoKC97eyhbXn1dKyl9fS9nKSxvPVtdO3JldHVybihufHxbXSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoXCJ7e1wiLFwiXCIpLnJlcGxhY2UoXCJ9fVwiLFwiXCIpOy0xPT1lLmluZGV4T2YoXCI6OlwiKSYmLTE9PWUuaW5kZXhPZihcInRoaXMuXCIpJiYtMT09by5pbmRleE9mKHQpJiZvLnB1c2goZS5yZXBsYWNlKFwie3tcIixcIlwiKS5yZXBsYWNlKFwifX1cIixcIlwiKSl9KSxyKHQsbyl9fX07cy4kaW5qZWN0PVtcIiR0aW1lb3V0XCIsXCIkY29tcGlsZVwiLFwiQXR0cjJNYXBPcHRpb25zXCIsXCJOZ01hcFwiXSxhbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLmRpcmVjdGl2ZShcImN1c3RvbU1hcmtlclwiLHMpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGUsdCxuLG89ZnVuY3Rpb24oZSx0KXtlLnBhbmVsJiYoZS5wYW5lbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLnBhbmVsKXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlLnBhbmVsKSk7dmFyIG49bmV3IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNSZW5kZXJlcihlKTtmb3IodmFyIG8gaW4gdClnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihuLG8sdFtvXSk7cmV0dXJuIG59LGk9ZnVuY3Rpb24oZSxvKXt2YXIgaT1uZXcgZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1NlcnZpY2UsYT1vO2EudHJhdmVsTW9kZT1hLnRyYXZlbE1vZGV8fFwiRFJJVklOR1wiO3ZhciByPVtcIm9yaWdpblwiLFwiZGVzdGluYXRpb25cIixcInRyYXZlbE1vZGVcIixcInRyYW5zaXRPcHRpb25zXCIsXCJ1bml0U3lzdGVtXCIsXCJkdXJhdGlvbkluVHJhZmZpY1wiLFwid2F5cG9pbnRzXCIsXCJvcHRpbWl6ZVdheXBvaW50c1wiLFwicHJvdmlkZVJvdXRlQWx0ZXJuYXRpdmVzXCIsXCJhdm9pZEhpZ2h3YXlzXCIsXCJhdm9pZFRvbGxzXCIsXCJyZWdpb25cIl07Zm9yKHZhciBzIGluIGEpLTE9PT1yLmluZGV4T2YocykmJmRlbGV0ZSBhW3NdO2Eud2F5cG9pbnRzJiYoXCJbXVwiPT1hLndheXBvaW50c3x8XCJcIj09PWEud2F5cG9pbnRzKSYmZGVsZXRlIGEud2F5cG9pbnRzO3ZhciBwPWZ1bmN0aW9uKG4pe2kucm91dGUobixmdW5jdGlvbihuLG8pe289PWdvb2dsZS5tYXBzLkRpcmVjdGlvbnNTdGF0dXMuT0smJnQoZnVuY3Rpb24oKXtlLnNldERpcmVjdGlvbnMobil9KX0pfTthLm9yaWdpbiYmYS5kZXN0aW5hdGlvbiYmKFwiY3VycmVudC1sb2NhdGlvblwiPT1hLm9yaWdpbj9uLmdldEN1cnJlbnRQb3NpdGlvbigpLnRoZW4oZnVuY3Rpb24oZSl7YS5vcmlnaW49bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhlLmNvb3Jkcy5sYXRpdHVkZSxlLmNvb3Jkcy5sb25naXR1ZGUpLHAoYSl9KTpcImN1cnJlbnQtbG9jYXRpb25cIj09YS5kZXN0aW5hdGlvbj9uLmdldEN1cnJlbnRQb3NpdGlvbigpLnRoZW4oZnVuY3Rpb24oZSl7YS5kZXN0aW5hdGlvbj1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGUuY29vcmRzLmxhdGl0dWRlLGUuY29vcmRzLmxvbmdpdHVkZSkscChhKX0pOnAoYSkpfSxhPWZ1bmN0aW9uKGEscixzLHApe3ZhciBjPWE7ZT1wLHQ9cixuPXM7dmFyIHU9ZnVuY3Rpb24obixhLHIscyl7cz1zWzBdfHxzWzFdO3ZhciBwPWMub3JnQXR0cmlidXRlcyhhKSx1PWMuZmlsdGVyKHIpLGw9Yy5nZXRPcHRpb25zKHUse3Njb3BlOm59KSxnPWMuZ2V0RXZlbnRzKG4sdSksZD1jLmdldEF0dHJzVG9PYnNlcnZlKHApLG09byhsLGcpO3MuYWRkT2JqZWN0KFwiZGlyZWN0aW9uc1JlbmRlcmVyc1wiLG0pLGQuZm9yRWFjaChmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ci4kb2JzZXJ2ZShlLGZ1bmN0aW9uKG4pe2lmKFwicGFuZWxcIj09ZSl0KGZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobil8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobik7ZSYmbS5zZXRQYW5lbChlKX0pO2Vsc2UgaWYobFtlXSE9PW4pe3ZhciBvPWMudG9PcHRpb25WYWx1ZShuLHtrZXk6ZX0pO2xbZV09byxpKG0sbCl9fSl9KGUpfSksZS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKCl7aShtLGwpfSksYS5iaW5kKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe3MuZGVsZXRlT2JqZWN0KFwiZGlyZWN0aW9uc1JlbmRlcmVyc1wiLG0pfSl9O3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9ebWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6dX19O2EuJGluamVjdD1bXCJBdHRyMk1hcE9wdGlvbnNcIixcIiR0aW1lb3V0XCIsXCJOYXZpZ2F0b3JHZW9sb2NhdGlvblwiLFwiTmdNYXBcIl0sYW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5kaXJlY3RpdmUoXCJkaXJlY3Rpb25zXCIsYSl9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjthbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLmRpcmVjdGl2ZShcImRyYXdpbmdNYW5hZ2VyXCIsW1wiQXR0cjJNYXBPcHRpb25zXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/Xm1hcFwiLFwiP15uZ01hcFwiXSxsaW5rOmZ1bmN0aW9uKGUsbixvLGkpe2k9aVswXXx8aVsxXTt2YXIgYT10LmZpbHRlcihvKSxyPXQuZ2V0T3B0aW9ucyhhLHtzY29wZTplfSkscz10LmdldENvbnRyb2xPcHRpb25zKGEpLHA9dC5nZXRFdmVudHMoZSxhKSxjPW5ldyBnb29nbGUubWFwcy5kcmF3aW5nLkRyYXdpbmdNYW5hZ2VyKHtkcmF3aW5nTW9kZTpyLmRyYXdpbmdtb2RlLGRyYXdpbmdDb250cm9sOnIuZHJhd2luZ2NvbnRyb2wsZHJhd2luZ0NvbnRyb2xPcHRpb25zOnMuZHJhd2luZ0NvbnRyb2xPcHRpb25zLGNpcmNsZU9wdGlvbnM6ci5jaXJjbGVvcHRpb25zLG1hcmtlck9wdGlvbnM6ci5tYXJrZXJvcHRpb25zLHBvbHlnb25PcHRpb25zOnIucG9seWdvbm9wdGlvbnMscG9seWxpbmVPcHRpb25zOnIucG9seWxpbmVvcHRpb25zLHJlY3RhbmdsZU9wdGlvbnM6ci5yZWN0YW5nbGVvcHRpb25zfSk7by4kb2JzZXJ2ZShcImRyYXdpbmdDb250cm9sT3B0aW9uc1wiLGZ1bmN0aW9uKGUpe2MuZHJhd2luZ0NvbnRyb2xPcHRpb25zPXQuZ2V0Q29udHJvbE9wdGlvbnMoe2RyYXdpbmdDb250cm9sT3B0aW9uczplfSkuZHJhd2luZ0NvbnRyb2xPcHRpb25zLGMuc2V0RHJhd2luZ01vZGUobnVsbCksYy5zZXRNYXAoaS5tYXApfSk7Zm9yKHZhciB1IGluIHApZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYyx1LHBbdV0pO2kuYWRkT2JqZWN0KFwibWFwRHJhd2luZ01hbmFnZXJcIixjKSxuLmJpbmQoXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7aS5kZWxldGVPYmplY3QoXCJtYXBEcmF3aW5nTWFuYWdlclwiLGMpfSl9fX1dKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2FuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwiZHluYW1pY01hcHNFbmdpbmVMYXllclwiLFtcIkF0dHIyTWFwT3B0aW9uc1wiLGZ1bmN0aW9uKGUpe3ZhciB0PWUsbj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBnb29nbGUubWFwcy52aXN1YWxpemF0aW9uLkR5bmFtaWNNYXBzRW5naW5lTGF5ZXIoZSk7Zm9yKHZhciBvIGluIHQpZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobixvLHRbb10pO3JldHVybiBufTtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/Xm1hcFwiLFwiP15uZ01hcFwiXSxsaW5rOmZ1bmN0aW9uKGUsbyxpLGEpe2E9YVswXXx8YVsxXTt2YXIgcj10LmZpbHRlcihpKSxzPXQuZ2V0T3B0aW9ucyhyLHtzY29wZTplfSkscD10LmdldEV2ZW50cyhlLHIscCksYz1uKHMscCk7YS5hZGRPYmplY3QoXCJtYXBzRW5naW5lTGF5ZXJzXCIsYyl9fX1dKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2FuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwiZnVzaW9uVGFibGVzTGF5ZXJcIixbXCJBdHRyMk1hcE9wdGlvbnNcIixmdW5jdGlvbihlKXt2YXIgdD1lLG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgZ29vZ2xlLm1hcHMuRnVzaW9uVGFibGVzTGF5ZXIoZSk7Zm9yKHZhciBvIGluIHQpZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobixvLHRbb10pO3JldHVybiBufTtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/Xm1hcFwiLFwiP15uZ01hcFwiXSxsaW5rOmZ1bmN0aW9uKGUsbyxpLGEpe2E9YVswXXx8YVsxXTt2YXIgcj10LmZpbHRlcihpKSxzPXQuZ2V0T3B0aW9ucyhyLHtzY29wZTplfSkscD10LmdldEV2ZW50cyhlLHIscCksYz1uKHMscCk7YS5hZGRPYmplY3QoXCJmdXNpb25UYWJsZXNMYXllcnNcIixjKX19fV0pfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5kaXJlY3RpdmUoXCJoZWF0bWFwTGF5ZXJcIixbXCJBdHRyMk1hcE9wdGlvbnNcIixcIiR3aW5kb3dcIixmdW5jdGlvbihlLHQpe3ZhciBuPWU7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHJlcXVpcmU6W1wiP15tYXBcIixcIj9ebmdNYXBcIl0sbGluazpmdW5jdGlvbihlLG8saSxhKXthPWFbMF18fGFbMV07dmFyIHI9bi5maWx0ZXIoaSkscz1uLmdldE9wdGlvbnMocix7c2NvcGU6ZX0pO2lmKHMuZGF0YT10W2kuZGF0YV18fGVbaS5kYXRhXSwhKHMuZGF0YSBpbnN0YW5jZW9mIEFycmF5KSl0aHJvd1wiaW52YWxpZCBoZWF0bWFwIGRhdGFcIjtzLmRhdGE9bmV3IGdvb2dsZS5tYXBzLk1WQ0FycmF5KHMuZGF0YSk7e3ZhciBwPW5ldyBnb29nbGUubWFwcy52aXN1YWxpemF0aW9uLkhlYXRtYXBMYXllcihzKTtuLmdldEV2ZW50cyhlLHIpfWEuYWRkT2JqZWN0KFwiaGVhdG1hcExheWVyc1wiLHApfX19XSl9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1mdW5jdGlvbihlLHQsbixvLGksYSxyKXt2YXIgcz1lLHA9ZnVuY3Rpb24oZSxhLHIpe3ZhciBzOyFlLnBvc2l0aW9ufHxlLnBvc2l0aW9uIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMuTGF0TG5nfHxkZWxldGUgZS5wb3NpdGlvbixzPW5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KGUpO2Zvcih2YXIgcCBpbiBhKXAmJmdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHMscCxhW3BdKTt2YXIgYz1uKGZ1bmN0aW9uKGUpe2FuZ3VsYXIuaXNTdHJpbmcocik/byhyKS50aGVuKGZ1bmN0aW9uKHQpe2UoYW5ndWxhci5lbGVtZW50KHQpLndyYXAoXCI8ZGl2PlwiKS5wYXJlbnQoKSl9LGZ1bmN0aW9uKGUpe3Rocm93XCJpbmZvLXdpbmRvdyB0ZW1wbGF0ZSByZXF1ZXN0IGZhaWxlZDogXCIrZX0pOmUocil9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PWUuaHRtbCgpLnRyaW0oKTtpZigxIT1hbmd1bGFyLmVsZW1lbnQodCkubGVuZ3RoKXRocm93XCJpbmZvLXdpbmRvdyB3b3JraW5nIGFzIGEgdGVtcGxhdGUgbXVzdCBoYXZlIGEgY29udGFpbmVyXCI7cy5fX3RlbXBsYXRlPXQucmVwbGFjZSgvXFxzP25nLW5vbi1iaW5kYWJsZVs9J1wiXSsvLFwiXCIpfSk7cmV0dXJuIHMuX19vcGVuPWZ1bmN0aW9uKGUsbixvKXtjLnRoZW4oZnVuY3Rpb24oKXtpKGZ1bmN0aW9uKCl7byYmKG4uYW5jaG9yPW8pO3ZhciBpPXQocy5fX3RlbXBsYXRlKShuKTtzLnNldENvbnRlbnQoaVswXSksbi4kYXBwbHkoKSxvJiZvLmdldFBvc2l0aW9uP3Mub3BlbihlLG8pOm8mJm8gaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmc/KHMub3BlbihlKSxzLnNldFBvc2l0aW9uKG8pKTpzLm9wZW4oZSk7dmFyIGE9cy5jb250ZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O2EuY2xhc3NOYW1lPVwibmctbWFwLWluZm8td2luZG93XCJ9KX0pfSxzfSxjPWZ1bmN0aW9uKGUsdCxuLG8pe289b1swXXx8b1sxXSx0LmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIik7dmFyIGksYz1zLm9yZ0F0dHJpYnV0ZXModCksdT1zLmZpbHRlcihuKSxsPXMuZ2V0T3B0aW9ucyh1LHtzY29wZTplfSksZz1zLmdldEV2ZW50cyhlLHUpLGQ9cChsLGcsbC50ZW1wbGF0ZXx8dCk7IWwucG9zaXRpb258fGwucG9zaXRpb24gaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmd8fChpPWwucG9zaXRpb24pLGkmJnIuZ2V0R2VvTG9jYXRpb24oaSkudGhlbihmdW5jdGlvbih0KXtkLnNldFBvc2l0aW9uKHQpLGQuX19vcGVuKG8ubWFwLGUsdCk7dmFyIGk9bi5nZW9DYWxsYmFjaztpJiZhKGkpKGUpfSksby5hZGRPYmplY3QoXCJpbmZvV2luZG93c1wiLGQpLG8ub2JzZXJ2ZUF0dHJTZXRPYmooYyxuLGQpLG8uc2hvd0luZm9XaW5kb3c9by5tYXAuc2hvd0luZm9XaW5kb3c9by5zaG93SW5mb1dpbmRvd3x8ZnVuY3Rpb24odCxuLGkpe3ZhciBhPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6bixyPVwic3RyaW5nXCI9PXR5cGVvZiB0P246aTtpZihcInN0cmluZ1wiPT10eXBlb2YgcilpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygby5tYXAubWFya2VycyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG8ubWFwLm1hcmtlcnNbcl0pcj1vLm1hcC5tYXJrZXJzW3JdO2Vsc2V7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIG8ubWFwLmN1c3RvbU1hcmtlcnNbcl0pdGhyb3cgbmV3IEVycm9yKFwiQ2FudCBvcGVuIGluZm8gd2luZG93IGZvciBpZCBcIityK1wiLiBNYXJrZXIgb3IgQ3VzdG9tTWFya2VyIGlzIG5vdCBkZWZpbmVkXCIpO3I9by5tYXAuY3VzdG9tTWFya2Vyc1tyXX12YXIgcz1vLm1hcC5pbmZvV2luZG93c1thXSxwPXI/cjp0aGlzLmdldFBvc2l0aW9uP3RoaXM6bnVsbDtzLl9fb3BlbihvLm1hcCxlLHApLG8uc2luZ2xlSW5mb1dpbmRvdyYmKG8ubGFzdEluZm9XaW5kb3cmJmUuaGlkZUluZm9XaW5kb3coby5sYXN0SW5mb1dpbmRvdyksby5sYXN0SW5mb1dpbmRvdz1hKX0sby5oaWRlSW5mb1dpbmRvdz1vLm1hcC5oaWRlSW5mb1dpbmRvdz1vLmhpZGVJbmZvV2luZG93fHxmdW5jdGlvbihlLHQpe3ZhciBuPVwic3RyaW5nXCI9PXR5cGVvZiBlP2U6dCxpPW8ubWFwLmluZm9XaW5kb3dzW25dO2kuY2xvc2UoKX0sZS5zaG93SW5mb1dpbmRvdz1vLm1hcC5zaG93SW5mb1dpbmRvdyxlLmhpZGVJbmZvV2luZG93PW8ubWFwLmhpZGVJbmZvV2luZG93O3ZhciBtPWQubWFwSWQ/e2lkOmQubWFwSWR9OjA7ci5nZXRNYXAobSkudGhlbihmdW5jdGlvbih0KXtpZihkLnZpc2libGUmJmQuX19vcGVuKHQsZSksZC52aXNpYmxlT25NYXJrZXIpe3ZhciBuPWQudmlzaWJsZU9uTWFya2VyO2QuX19vcGVuKHQsZSx0Lm1hcmtlcnNbbl0pfX0pfTtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/Xm1hcFwiLFwiP15uZ01hcFwiXSxsaW5rOmN9fTtlLiRpbmplY3Q9W1wiQXR0cjJNYXBPcHRpb25zXCIsXCIkY29tcGlsZVwiLFwiJHFcIixcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiR0aW1lb3V0XCIsXCIkcGFyc2VcIixcIk5nTWFwXCJdLGFuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwiaW5mb1dpbmRvd1wiLGUpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5kaXJlY3RpdmUoXCJrbWxMYXllclwiLFtcIkF0dHIyTWFwT3B0aW9uc1wiLGZ1bmN0aW9uKGUpe3ZhciB0PWUsbj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBnb29nbGUubWFwcy5LbWxMYXllcihlKTtmb3IodmFyIG8gaW4gdClnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihuLG8sdFtvXSk7cmV0dXJuIG59O3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9ebWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6ZnVuY3Rpb24oZSxvLGksYSl7YT1hWzBdfHxhWzFdO3ZhciByPXQub3JnQXR0cmlidXRlcyhvKSxzPXQuZmlsdGVyKGkpLHA9dC5nZXRPcHRpb25zKHMse3Njb3BlOmV9KSxjPXQuZ2V0RXZlbnRzKGUscyksdT1uKHAsYyk7YS5hZGRPYmplY3QoXCJrbWxMYXllcnNcIix1KSxhLm9ic2VydmVBdHRyU2V0T2JqKHIsaSx1KSxvLmJpbmQoXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7YS5kZWxldGVPYmplY3QoXCJrbWxMYXllcnNcIix1KX0pfX19XSl9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjthbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLmRpcmVjdGl2ZShcIm1hcERhdGFcIixbXCJBdHRyMk1hcE9wdGlvbnNcIixcIk5nTWFwXCIsZnVuY3Rpb24oZSx0KXt2YXIgbj1lO3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9ebWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6ZnVuY3Rpb24oZSxvLGkpe3ZhciBhPW4uZmlsdGVyKGkpLHI9bi5nZXRPcHRpb25zKGEse3Njb3BlOmV9KSxzPW4uZ2V0RXZlbnRzKGUsYSxzKTt0LmdldE1hcCgpLnRoZW4oZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHIpe3ZhciBvPXJbbl07XCJmdW5jdGlvblwiPT10eXBlb2YgZVtvXT90LmRhdGFbbl0oZVtvXSk6dC5kYXRhW25dKG8pfWZvcih2YXIgaSBpbiBzKXQuZGF0YS5hZGRMaXN0ZW5lcihpLHNbaV0pfSl9fX1dKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQsbixvPVtdLGk9W10sYT1mdW5jdGlvbihuLGEscil7dmFyIHM9ci5tYXBMYXp5TG9hZFBhcmFtc3x8ci5tYXBMYXp5TG9hZDtpZih2b2lkIDA9PT13aW5kb3cuZ29vZ2xlfHx2b2lkIDA9PT13aW5kb3cuZ29vZ2xlLm1hcHMpe2kucHVzaCh7c2NvcGU6bixlbGVtZW50OmEsc2F2ZWRIdG1sOm9baS5sZW5ndGhdfSksd2luZG93LmxhenlMb2FkQ2FsbGJhY2s9ZnVuY3Rpb24oKXtlKGZ1bmN0aW9uKCl7aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZWxlbWVudC5odG1sKGUuc2F2ZWRIdG1sKSx0KGUuZWxlbWVudC5jb250ZW50cygpKShlLnNjb3BlKX0pfSwxMDApfTt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3Auc3JjPXMrKHMuaW5kZXhPZihcIj9cIik+LTE/XCImXCI6XCI/XCIpK1wiY2FsbGJhY2s9bGF6eUxvYWRDYWxsYmFja1wiLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmM9XCInK3Auc3JjKydcIl0nKXx8ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwKX1lbHNlIGEuaHRtbChvKSx0KGEuY29udGVudHMoKSkobil9LHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hdC5tYXBMYXp5TG9hZCYmdm9pZCAwLG8ucHVzaChlLmh0bWwoKSksbj10Lm1hcExhenlMb2FkLHZvaWQgMCE9PXdpbmRvdy5nb29nbGUmJnZvaWQgMCE9PXdpbmRvdy5nb29nbGUubWFwcz8hMTooZS5odG1sKFwiXCIpLHtwcmU6YX0pfSxzPWZ1bmN0aW9uKG4sbyl7cmV0dXJuIHQ9bixlPW8se2NvbXBpbGU6cn19O3MuJGluamVjdD1bXCIkY29tcGlsZVwiLFwiJHRpbWVvdXRcIl0sYW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5kaXJlY3RpdmUoXCJtYXBMYXp5TG9hZFwiLHMpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5kaXJlY3RpdmUoXCJtYXBUeXBlXCIsW1wiJHBhcnNlXCIsXCJOZ01hcFwiLGZ1bmN0aW9uKGUsdCl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHJlcXVpcmU6W1wiP15tYXBcIixcIj9ebmdNYXBcIl0sbGluazpmdW5jdGlvbihuLG8saSxhKXthPWFbMF18fGFbMV07dmFyIHIscz1pLm5hbWU7aWYoIXMpdGhyb3dcImludmFsaWQgbWFwLXR5cGUgbmFtZVwiO2lmKHI9ZShpLm9iamVjdCkobiksIXIpdGhyb3dcImludmFsaWQgbWFwLXR5cGUgb2JqZWN0XCI7dC5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKGUpe2UubWFwVHlwZXMuc2V0KHMscil9KSxhLmFkZE9iamVjdChcIm1hcFR5cGVzXCIscil9fX1dKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQUVcIixjb250cm9sbGVyOlwiX19NYXBDb250cm9sbGVyXCIsY29udHJvbGxlckFzOlwibmdtYXBcIn19O2FuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwibWFwXCIsW2VdKSxhbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLmRpcmVjdGl2ZShcIm5nTWFwXCIsW2VdKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2FuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwibWFwc0VuZ2luZUxheWVyXCIsW1wiQXR0cjJNYXBPcHRpb25zXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZSxuPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IGdvb2dsZS5tYXBzLnZpc3VhbGl6YXRpb24uTWFwc0VuZ2luZUxheWVyKGUpO2Zvcih2YXIgbyBpbiB0KWdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG4sbyx0W29dKTtyZXR1cm4gbn07cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHJlcXVpcmU6W1wiP15tYXBcIixcIj9ebmdNYXBcIl0sbGluazpmdW5jdGlvbihlLG8saSxhKXthPWFbMF18fGFbMV07dmFyIHI9dC5maWx0ZXIoaSkscz10LmdldE9wdGlvbnMocix7c2NvcGU6ZX0pLHA9dC5nZXRFdmVudHMoZSxyLHApLGM9bihzLHApO2EuYWRkT2JqZWN0KFwibWFwc0VuZ2luZUxheWVyc1wiLGMpfX19XSl9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZSx0LG4sbz1mdW5jdGlvbihlLHQpe3ZhciBvO2lmKG4uZGVmYXVsdE9wdGlvbnMubWFya2VyKWZvcih2YXIgaSBpbiBuLmRlZmF1bHRPcHRpb25zLm1hcmtlcilcInVuZGVmaW5lZFwiPT10eXBlb2YgZVtpXSYmKGVbaV09bi5kZWZhdWx0T3B0aW9ucy5tYXJrZXJbaV0pO2UucG9zaXRpb24gaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmd8fChlLnBvc2l0aW9uPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoMCwwKSksbz1uZXcgZ29vZ2xlLm1hcHMuTWFya2VyKGUpLE9iamVjdC5rZXlzKHQpLmxlbmd0aD4wO2Zvcih2YXIgYSBpbiB0KWEmJmdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG8sYSx0W2FdKTtyZXR1cm4gb30saT1mdW5jdGlvbihpLGEscixzKXtzPXNbMF18fHNbMV07dmFyIHAsYz1lLm9yZ0F0dHJpYnV0ZXMoYSksdT1lLmZpbHRlcihyKSxsPWUuZ2V0T3B0aW9ucyh1LGkse3Njb3BlOml9KSxnPWUuZ2V0RXZlbnRzKGksdSk7bC5wb3NpdGlvbiBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLkxhdExuZ3x8KHA9bC5wb3NpdGlvbik7dmFyIGQ9byhsLGcpO3MuYWRkT2JqZWN0KFwibWFya2Vyc1wiLGQpLHAmJm4uZ2V0R2VvTG9jYXRpb24ocCkudGhlbihmdW5jdGlvbihlKXtkLnNldFBvc2l0aW9uKGUpLGwuY2VudGVyZWQmJmQubWFwLnNldENlbnRlcihlKTt2YXIgbj1yLmdlb0NhbGxiYWNrO24mJnQobikoaSl9KSxzLm9ic2VydmVBdHRyU2V0T2JqKGMscixkKSxhLmJpbmQoXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7cy5kZWxldGVPYmplY3QoXCJtYXJrZXJzXCIsZCl9KX0sYT1mdW5jdGlvbihvLGEscil7cmV0dXJuIGU9byx0PWEsbj1yLHtyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIl4/bWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6aX19O2EuJGluamVjdD1bXCJBdHRyMk1hcE9wdGlvbnNcIixcIiRwYXJzZVwiLFwiTmdNYXBcIl0sYW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5kaXJlY3RpdmUoXCJtYXJrZXJcIixhKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2FuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwib3ZlcmxheU1hcFR5cGVcIixbXCJOZ01hcFwiLGZ1bmN0aW9uKGUpe3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9ebWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6ZnVuY3Rpb24odCxuLG8saSl7aT1pWzBdfHxpWzFdO3ZhciBhPW8uaW5pdE1ldGhvZHx8XCJpbnNlcnRBdFwiLHI9dFtvLm9iamVjdF07ZS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKGUpe2lmKFwiaW5zZXJ0QXRcIj09YSl7dmFyIHQ9cGFyc2VJbnQoby5pbmRleCwxMCk7ZS5vdmVybGF5TWFwVHlwZXMuaW5zZXJ0QXQodCxyKX1lbHNlXCJwdXNoXCI9PWEmJmUub3ZlcmxheU1hcFR5cGVzLnB1c2gocil9KSxpLmFkZE9iamVjdChcIm92ZXJsYXlNYXBUeXBlc1wiLHIpfX19XSl9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1mdW5jdGlvbihlLHQpe3ZhciBuPWUsbz1mdW5jdGlvbihlLG8saSxhKXtpZihcImZhbHNlXCI9PT1pLnBsYWNlc0F1dG9Db21wbGV0ZSlyZXR1cm4hMTt2YXIgcj1uLmZpbHRlcihpKSxzPW4uZ2V0T3B0aW9ucyhyLHtzY29wZTplfSkscD1uLmdldEV2ZW50cyhlLHIpLGM9bmV3IGdvb2dsZS5tYXBzLnBsYWNlcy5BdXRvY29tcGxldGUob1swXSxzKTtmb3IodmFyIHUgaW4gcClnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihjLHUscFt1XSk7dmFyIGw9ZnVuY3Rpb24oKXt0KGZ1bmN0aW9uKCl7YSYmYS4kc2V0Vmlld1ZhbHVlKG8udmFsKCkpfSwxMDApfTtnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihjLFwicGxhY2VfY2hhbmdlZFwiLGwpLG9bMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGwpLGkuJG9ic2VydmUoXCJ0eXBlc1wiLGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PW4udG9PcHRpb25WYWx1ZShlLHtrZXk6XCJ0eXBlc1wifSk7Yy5zZXRUeXBlcyh0KX19KSxpLiRvYnNlcnZlKFwiY29tcG9uZW50UmVzdHJpY3Rpb25zXCIsZnVuY3Rpb24odCl7dCYmYy5zZXRDb21wb25lbnRSZXN0cmljdGlvbnMoZS4kZXZhbCh0KSl9KX07cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6b319O2UuJGluamVjdD1bXCJBdHRyMk1hcE9wdGlvbnNcIixcIiR0aW1lb3V0XCJdLGFuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwicGxhY2VzQXV0b0NvbXBsZXRlXCIsZSl9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1mdW5jdGlvbihlLHQpe3ZhciBuLG89ZS5uYW1lO3N3aXRjaChkZWxldGUgZS5uYW1lLG8pe2Nhc2VcImNpcmNsZVwiOmUuY2VudGVyIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMuTGF0TG5nfHwoZS5jZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZygwLDApKSxuPW5ldyBnb29nbGUubWFwcy5DaXJjbGUoZSk7YnJlYWs7Y2FzZVwicG9seWdvblwiOm49bmV3IGdvb2dsZS5tYXBzLlBvbHlnb24oZSk7YnJlYWs7Y2FzZVwicG9seWxpbmVcIjpuPW5ldyBnb29nbGUubWFwcy5Qb2x5bGluZShlKTticmVhaztjYXNlXCJyZWN0YW5nbGVcIjpuPW5ldyBnb29nbGUubWFwcy5SZWN0YW5nbGUoZSk7YnJlYWs7Y2FzZVwiZ3JvdW5kT3ZlcmxheVwiOmNhc2VcImltYWdlXCI6dmFyIGk9ZS51cmwsYT17b3BhY2l0eTplLm9wYWNpdHksY2xpY2thYmxlOmUuY2xpY2thYmxlLGlkOmUuaWR9O249bmV3IGdvb2dsZS5tYXBzLkdyb3VuZE92ZXJsYXkoaSxlLmJvdW5kcyxhKX1mb3IodmFyIHIgaW4gdCl0W3JdJiZnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihuLHIsdFtyXSk7cmV0dXJuIG59LHQ9ZnVuY3Rpb24odCxuLG8pe3ZhciBpPXQsYT1mdW5jdGlvbih0LGEscixzKXtzPXNbMF18fHNbMV07dmFyIHAsYyx1PWkub3JnQXR0cmlidXRlcyhhKSxsPWkuZmlsdGVyKHIpLGc9aS5nZXRPcHRpb25zKGwse3Njb3BlOnR9KSxkPWkuZ2V0RXZlbnRzKHQsbCk7Yz1nLm5hbWUsZy5jZW50ZXIgaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmd8fChwPWcuY2VudGVyKTt2YXIgbT1lKGcsZCk7cy5hZGRPYmplY3QoXCJzaGFwZXNcIixtKSxwJiZcImNpcmNsZVwiPT1jJiZvLmdldEdlb0xvY2F0aW9uKHApLnRoZW4oZnVuY3Rpb24oZSl7bS5zZXRDZW50ZXIoZSksbS5jZW50ZXJlZCYmbS5tYXAuc2V0Q2VudGVyKGUpO3ZhciBvPXIuZ2VvQ2FsbGJhY2s7byYmbihvKSh0KX0pLHMub2JzZXJ2ZUF0dHJTZXRPYmoodSxyLG0pLGEuYmluZChcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtzLmRlbGV0ZU9iamVjdChcInNoYXBlc1wiLG0pfSl9O3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9ebWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6YX19O3QuJGluamVjdD1bXCJBdHRyMk1hcE9wdGlvbnNcIixcIiRwYXJzZVwiLFwiTmdNYXBcIl0sYW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5kaXJlY3RpdmUoXCJzaGFwZVwiLHQpfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLG89ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLGk7dC5jb250YWluZXImJihpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuY29udGFpbmVyKSxpPWl8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodC5jb250YWluZXIpKSxpP289bmV3IGdvb2dsZS5tYXBzLlN0cmVldFZpZXdQYW5vcmFtYShpLHQpOihvPWUuZ2V0U3RyZWV0VmlldygpLG8uc2V0T3B0aW9ucyh0KSk7Zm9yKHZhciBhIGluIG4pYSYmZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobyxhLG5bYV0pO3JldHVybiBvfSxpPWZ1bmN0aW9uKGUsaSxhKXt2YXIgcj1uLmZpbHRlcihhKSxzPW4uZ2V0T3B0aW9ucyhyLHtzY29wZTplfSkscD1uLmdldENvbnRyb2xPcHRpb25zKHIpLGM9YW5ndWxhci5leHRlbmQocyxwKSx1PW4uZ2V0RXZlbnRzKGUscik7dC5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PW8oZSxjLHUpO2Uuc2V0U3RyZWV0Vmlldyh0KSwhdC5nZXRQb3NpdGlvbigpJiZ0LnNldFBvc2l0aW9uKGUuZ2V0Q2VudGVyKCkpLGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHQsXCJwb3NpdGlvbl9jaGFuZ2VkXCIsZnVuY3Rpb24oKXt0LmdldFBvc2l0aW9uKCkhPT1lLmdldENlbnRlcigpJiZlLnNldENlbnRlcih0LmdldFBvc2l0aW9uKCkpfSk7dmFyIG49Z29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoZSxcImNlbnRlcl9jaGFuZ2VkXCIsZnVuY3Rpb24oKXt0LnNldFBvc2l0aW9uKGUuZ2V0Q2VudGVyKCkpLGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKG4pfSl9KX07cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHJlcXVpcmU6W1wiP15tYXBcIixcIj9ebmdNYXBcIl0sbGluazppfX07ZS4kaW5qZWN0PVtcIkF0dHIyTWFwT3B0aW9uc1wiLFwiTmdNYXBcIl0sYW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5kaXJlY3RpdmUoXCJzdHJlZXRWaWV3UGFub3JhbWFcIixlKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2FuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwidHJhZmZpY0xheWVyXCIsW1wiQXR0cjJNYXBPcHRpb25zXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZSxuPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IGdvb2dsZS5tYXBzLlRyYWZmaWNMYXllcihlKTtmb3IodmFyIG8gaW4gdClnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihuLG8sdFtvXSk7cmV0dXJuIG59O3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9ebWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6ZnVuY3Rpb24oZSxvLGksYSl7YT1hWzBdfHxhWzFdO3ZhciByPXQub3JnQXR0cmlidXRlcyhvKSxzPXQuZmlsdGVyKGkpLHA9dC5nZXRPcHRpb25zKHMse3Njb3BlOmV9KSxjPXQuZ2V0RXZlbnRzKGUscyksdT1uKHAsYyk7YS5hZGRPYmplY3QoXCJ0cmFmZmljTGF5ZXJzXCIsdSksYS5vYnNlcnZlQXR0clNldE9iaihyLGksdSksby5iaW5kKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2EuZGVsZXRlT2JqZWN0KFwidHJhZmZpY0xheWVyc1wiLHUpfSl9fX1dKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2FuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuZGlyZWN0aXZlKFwidHJhbnNpdExheWVyXCIsW1wiQXR0cjJNYXBPcHRpb25zXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZSxuPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IGdvb2dsZS5tYXBzLlRyYW5zaXRMYXllcihlKTtmb3IodmFyIG8gaW4gdClnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihuLG8sdFtvXSk7cmV0dXJuIG59O3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9ebWFwXCIsXCI/Xm5nTWFwXCJdLGxpbms6ZnVuY3Rpb24oZSxvLGksYSl7YT1hWzBdfHxhWzFdO3ZhciByPXQub3JnQXR0cmlidXRlcyhvKSxzPXQuZmlsdGVyKGkpLHA9dC5nZXRPcHRpb25zKHMse3Njb3BlOmV9KSxjPXQuZ2V0RXZlbnRzKGUscyksdT1uKHAsYyk7YS5hZGRPYmplY3QoXCJ0cmFuc2l0TGF5ZXJzXCIsdSksYS5vYnNlcnZlQXR0clNldE9iaihyLGksdSksby5iaW5kKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2EuZGVsZXRlT2JqZWN0KFwidHJhbnNpdExheWVyc1wiLHUpfSl9fX1dKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPS8oW1xcOlxcLVxcX10rKC4pKS9nLHQ9L15tb3ooW0EtWl0pLyxuPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoZSxmdW5jdGlvbihlLHQsbixvKXtyZXR1cm4gbz9uLnRvVXBwZXJDYXNlKCk6bn0pLnJlcGxhY2UodCxcIk1veiQxXCIpfX07YW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5maWx0ZXIoXCJjYW1lbENhc2VcIixuKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKSxlfWNhdGNoKHQpe3JldHVybiBlLnJlcGxhY2UoLyhbXFwkXFx3XSspXFxzKjovZyxmdW5jdGlvbihlLHQpe3JldHVybidcIicrdCsnXCI6J30pLnJlcGxhY2UoLycoW14nXSspJy9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuJ1wiJyt0KydcIid9KX19fTthbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLmZpbHRlcihcImpzb25pemVcIixlKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBpc29EYXRlUkU9L14oXFxkezR9XFwtXFxkXFxkXFwtXFxkXFxkKFt0VF1bXFxkOlxcLl0qKT8pKFt6Wl18KFsrXFwtXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyQvLEF0dHIyTWFwT3B0aW9ucz1mdW5jdGlvbigkcGFyc2UsJHRpbWVvdXQsJGxvZyxOYXZpZ2F0b3JHZW9sb2NhdGlvbixHZW9Db2RlcixjYW1lbENhc2VGaWx0ZXIsanNvbml6ZUZpbHRlcil7dmFyIG9yZ0F0dHJpYnV0ZXM9ZnVuY3Rpb24oZSl7ZS5sZW5ndGg+MCYmKGU9ZVswXSk7Zm9yKHZhciB0PXt9LG49MDtuPGUuYXR0cmlidXRlcy5sZW5ndGg7bisrKXt2YXIgbz1lLmF0dHJpYnV0ZXNbbl07dFtvLm5hbWVdPW8udmFsdWV9cmV0dXJuIHR9LGdldEpTT049ZnVuY3Rpb24oZSl7dmFyIHQ9L15bXFwrXFwtXT9bMC05XFwuXSssWyBdKlxcID9bXFwrXFwtXT9bMC05XFwuXSskLztyZXR1cm4gZS5tYXRjaCh0KSYmKGU9XCJbXCIrZStcIl1cIiksSlNPTi5wYXJzZShqc29uaXplRmlsdGVyKGUpKX0sZ2V0TGF0TG5nPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJuIGVbMF0uY29uc3RydWN0b3I9PUFycmF5P3Q9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBnb29nbGUubWFwcy5MYXRMbmcoZVswXSxlWzFdKX0pOiFpc05hTihwYXJzZUZsb2F0KGVbMF0pKSYmaXNGaW5pdGUoZVswXSkmJih0PW5ldyBnb29nbGUubWFwcy5MYXRMbmcodFswXSx0WzFdKSksdH0sdG9PcHRpb25WYWx1ZT1mdW5jdGlvbihpbnB1dCxvcHRpb25zKXt2YXIgb3V0cHV0O3RyeXtvdXRwdXQ9Z2V0TnVtYmVyKGlucHV0KX1jYXRjaChlcnIpe3RyeXt2YXIgb3V0cHV0PWdldEpTT04oaW5wdXQpO2lmKG91dHB1dCBpbnN0YW5jZW9mIEFycmF5KW91dHB1dD1vdXRwdXRbMF0uY29uc3RydWN0b3I9PU9iamVjdD9vdXRwdXQ6Z2V0TGF0TG5nKG91dHB1dCk7ZWxzZSBpZihvdXRwdXQ9PT1PYmplY3Qob3V0cHV0KSl7dmFyIG5ld09wdGlvbnM9b3B0aW9ucztuZXdPcHRpb25zLmRvTm90Q29udmVyU3RyaW5nVG9OdW1iZXI9ITAsb3V0cHV0PWdldE9wdGlvbnMob3V0cHV0LG5ld09wdGlvbnMpfX1jYXRjaChlcnIyKXtpZihpbnB1dC5tYXRjaCgvXltBLVpdW2EtekEtWjAtOV0rXFwoLipcXCkkLykpdHJ5e3ZhciBleHA9XCJuZXcgZ29vZ2xlLm1hcHMuXCIraW5wdXQ7b3V0cHV0PWV2YWwoZXhwKX1jYXRjaChlKXtvdXRwdXQ9aW5wdXR9ZWxzZSBpZihpbnB1dC5tYXRjaCgvXihbQS1aXVthLXpBLVowLTldKylcXC4oW0EtWl0rKSQvKSl0cnl7dmFyIG1hdGNoZXM9aW5wdXQubWF0Y2goL14oW0EtWl1bYS16QS1aMC05XSspXFwuKFtBLVpdKykkLyk7b3V0cHV0PWdvb2dsZS5tYXBzW21hdGNoZXNbMV1dW21hdGNoZXNbMl1dfWNhdGNoKGUpe291dHB1dD1pbnB1dH1lbHNlIGlmKGlucHV0Lm1hdGNoKC9eW0EtWl0rJC8pKXRyeXt2YXIgY2FwaXRhbGl6ZWRLZXk9b3B0aW9ucy5rZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrb3B0aW9ucy5rZXkuc2xpY2UoMSk7b3B0aW9ucy5rZXkubWF0Y2goL3RlbXBlcmF0dXJlVW5pdHx3aW5kU3BlZWRVbml0fGxhYmVsQ29sb3IvKT8oY2FwaXRhbGl6ZWRLZXk9Y2FwaXRhbGl6ZWRLZXkucmVwbGFjZSgvcyQvLFwiXCIpLG91dHB1dD1nb29nbGUubWFwcy53ZWF0aGVyW2NhcGl0YWxpemVkS2V5XVtpbnB1dF0pOm91dHB1dD1nb29nbGUubWFwc1tjYXBpdGFsaXplZEtleV1baW5wdXRdfWNhdGNoKGUpe291dHB1dD1pbnB1dH1lbHNlIGlmKGlucHV0Lm1hdGNoKGlzb0RhdGVSRSkpdHJ5e291dHB1dD1uZXcgRGF0ZShpbnB1dCl9Y2F0Y2goZSl7b3V0cHV0PWlucHV0fWVsc2UgaWYoaW5wdXQubWF0Y2goL157LykmJm9wdGlvbnMuc2NvcGUpdHJ5e3ZhciBleHByPWlucHV0LnJlcGxhY2UoL3t7LyxcIlwiKS5yZXBsYWNlKC99fS9nLFwiXCIpO291dHB1dD1vcHRpb25zLnNjb3BlLiRldmFsKGV4cHIpfWNhdGNoKGVycil7b3V0cHV0PWlucHV0fWVsc2Ugb3V0cHV0PWlucHV0fX1pZigoXCJjZW50ZXJcIj09b3B0aW9ucy5rZXl8fFwicG9zaXRpb25cIj09b3B0aW9ucy5rZXkpJiZvdXRwdXQgaW5zdGFuY2VvZiBBcnJheSYmKG91dHB1dD1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG91dHB1dFswXSxvdXRwdXRbMV0pKSxcImJvdW5kc1wiPT1vcHRpb25zLmtleSYmb3V0cHV0IGluc3RhbmNlb2YgQXJyYXkmJihvdXRwdXQ9bmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyhvdXRwdXRbMF0sb3V0cHV0WzFdKSksXCJpY29uc1wiPT1vcHRpb25zLmtleSYmb3V0cHV0IGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBpPTA7aTxvdXRwdXQubGVuZ3RoO2krKyl7dmFyIGVsPW91dHB1dFtpXTtlbC5pY29uLnBhdGgubWF0Y2goL15bQS1aX10rJC8pJiYoZWwuaWNvbi5wYXRoPWdvb2dsZS5tYXBzLlN5bWJvbFBhdGhbZWwuaWNvbi5wYXRoXSl9aWYoXCJpY29uXCI9PW9wdGlvbnMua2V5JiZvdXRwdXQgaW5zdGFuY2VvZiBPYmplY3QpeyhcIlwiK291dHB1dC5wYXRoKS5tYXRjaCgvXltBLVpfXSskLykmJihvdXRwdXQucGF0aD1nb29nbGUubWFwcy5TeW1ib2xQYXRoW291dHB1dC5wYXRoXSk7Zm9yKHZhciBrZXkgaW4gb3V0cHV0KXt2YXIgYXJyPW91dHB1dFtrZXldO1wiYW5jaG9yXCI9PWtleXx8XCJvcmlnaW5cIj09a2V5fHxcImxhYmVsT3JpZ2luXCI9PWtleT9vdXRwdXRba2V5XT1uZXcgZ29vZ2xlLm1hcHMuUG9pbnQoYXJyWzBdLGFyclsxXSk6KFwic2l6ZVwiPT1rZXl8fFwic2NhbGVkU2l6ZVwiPT1rZXkpJiYob3V0cHV0W2tleV09bmV3IGdvb2dsZS5tYXBzLlNpemUoYXJyWzBdLGFyclsxXSkpfX1yZXR1cm4gb3V0cHV0fSxnZXRBdHRyc1RvT2JzZXJ2ZT1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZighZS5ub1dhdGNoZXIpZm9yKHZhciBuIGluIGUpe3ZhciBvPWVbbl07byYmby5tYXRjaCgvXFx7XFx7LipcXH1cXH0vKSYmdC5wdXNoKGNhbWVsQ2FzZUZpbHRlcihuKSl9cmV0dXJuIHR9LGZpbHRlcj1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSluLm1hdGNoKC9eXFwkLyl8fG4ubWF0Y2goL15uZ1tBLVpdLyl8fCh0W25dPWVbbl0pO3JldHVybiB0fSxnZXRPcHRpb25zPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgbj17fTtmb3IodmFyIG8gaW4gZSlpZihlW29dfHwwPT09ZVtvXSl7aWYoby5tYXRjaCgvXm9uW0EtWl0vKSljb250aW51ZTtpZihvLm1hdGNoKC9Db250cm9sT3B0aW9ucyQvKSljb250aW51ZTtuW29dPVwic3RyaW5nXCIhPXR5cGVvZiBlW29dP2Vbb106dC5kb05vdENvbnZlclN0cmluZ1RvTnVtYmVyJiZlW29dLm1hdGNoKC9eWzAtOV0rJC8pP2Vbb106dG9PcHRpb25WYWx1ZShlW29dLHtrZXk6byxzY29wZTp0LnNjb3BlfSl9cmV0dXJuIG59LGdldEV2ZW50cz1mdW5jdGlvbihlLHQpe3ZhciBuPXt9LG89ZnVuY3Rpb24oZSl7cmV0dXJuXCJfXCIrZS50b0xvd2VyQ2FzZSgpfSxpPWZ1bmN0aW9uKHQpe3ZhciBuPXQubWF0Y2goLyhbXlxcKF0rKVxcKChbXlxcKV0qKVxcKS8pLG89blsxXSxpPW5bMl0ucmVwbGFjZSgvZXZlbnRbICxdKi8sXCJcIiksYT0kcGFyc2UoXCJbXCIraStcIl1cIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZVt0XX12YXIgaT1hKGUpLHI9by5zcGxpdChcIi5cIikucmVkdWNlKG4sZSk7ciYmci5hcHBseSh0aGlzLFt0XS5jb25jYXQoaSkpLCR0aW1lb3V0KGZ1bmN0aW9uKCl7ZS4kYXBwbHkoKX0pfX07Zm9yKHZhciBhIGluIHQpaWYodFthXSl7aWYoIWEubWF0Y2goL15vbltBLVpdLykpY29udGludWU7dmFyIHI9YS5yZXBsYWNlKC9eb24vLFwiXCIpO3I9ci5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKStyLnNsaWNlKDEpLHI9ci5yZXBsYWNlKC8oW0EtWl0pL2csbyk7dmFyIHM9dFthXTtuW3JdPW5ldyBpKHMpfXJldHVybiBufSxnZXRDb250cm9sT3B0aW9ucz1mdW5jdGlvbihlKXt2YXIgdD17fTtpZihcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm4hMTtmb3IodmFyIG4gaW4gZSlpZihlW25dKXtpZighbi5tYXRjaCgvKC4qKUNvbnRyb2xPcHRpb25zJC8pKWNvbnRpbnVlO3ZhciBvPWVbbl0saT1vLnJlcGxhY2UoLycvZywnXCInKTtpPWkucmVwbGFjZSgvKFteXCJdKyl8KFwiW15cIl0rXCIpL2csZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0P3QucmVwbGFjZSgvKFthLXpBLVowLTldKz8pOi9nLCdcIiQxXCI6Jyk6bn0pO3RyeXt2YXIgYT1KU09OLnBhcnNlKGkpO2Zvcih2YXIgciBpbiBhKWlmKGFbcl0pe3ZhciBzPWFbcl07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHM/cz1zLnRvVXBwZXJDYXNlKCk6XCJtYXBUeXBlSWRzXCI9PT1yJiYocz1zLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvXltBLVpdKyQvKT9nb29nbGUubWFwcy5NYXBUeXBlSWRbZS50b1VwcGVyQ2FzZSgpXTplfSkpLFwic3R5bGVcIj09PXIpe3ZhciBwPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxjPXAucmVwbGFjZSgvT3B0aW9ucyQvLFwiXCIpK1wiU3R5bGVcIjthW3JdPWdvb2dsZS5tYXBzW2NdW3NdfWVsc2UgYVtyXT1cInBvc2l0aW9uXCI9PT1yP2dvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbltzXTpzfXRbbl09YX1jYXRjaCh1KXt9fXJldHVybiB0fTtyZXR1cm57ZmlsdGVyOmZpbHRlcixnZXRPcHRpb25zOmdldE9wdGlvbnMsZ2V0RXZlbnRzOmdldEV2ZW50cyxnZXRDb250cm9sT3B0aW9uczpnZXRDb250cm9sT3B0aW9ucyx0b09wdGlvblZhbHVlOnRvT3B0aW9uVmFsdWUsZ2V0QXR0cnNUb09ic2VydmU6Z2V0QXR0cnNUb09ic2VydmUsb3JnQXR0cmlidXRlczpvcmdBdHRyaWJ1dGVzfX07QXR0cjJNYXBPcHRpb25zLiRpbmplY3Q9W1wiJHBhcnNlXCIsXCIkdGltZW91dFwiLFwiJGxvZ1wiLFwiTmF2aWdhdG9yR2VvbG9jYXRpb25cIixcIkdlb0NvZGVyXCIsXCJjYW1lbENhc2VGaWx0ZXJcIixcImpzb25pemVGaWx0ZXJcIl0sYW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5zZXJ2aWNlKFwiQXR0cjJNYXBPcHRpb25zXCIsQXR0cjJNYXBPcHRpb25zKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQ9ZnVuY3Rpb24odCl7dmFyIG49ZS5kZWZlcigpLG89bmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyO3JldHVybiBvLmdlb2NvZGUodCxmdW5jdGlvbihlLHQpe3Q9PWdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLk9LP24ucmVzb2x2ZShlKTpuLnJlamVjdCh0KX0pLG4ucHJvbWlzZX0sbj1mdW5jdGlvbihuKXtyZXR1cm4gZT1uLHtnZW9jb2RlOnR9fTtuLiRpbmplY3Q9W1wiJHFcIl0sYW5ndWxhci5tb2R1bGUoXCJuZ01hcFwiKS5zZXJ2aWNlKFwiR2VvQ29kZXJcIixuKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQ9ZnVuY3Rpb24odCl7dmFyIG49ZS5kZWZlcigpO3JldHVybiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24/KHZvaWQgMD09PXQ/dD17dGltZW91dDo1ZTN9OnZvaWQgMD09PXQudGltZW91dCYmKHQudGltZW91dD01ZTMpLG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24oZSl7bi5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtuLnJlamVjdChlKX0sdCkpOm4ucmVqZWN0KFwiQnJvd3NlciBHZW9sb2NhdGlvbiBzZXJ2aWNlIGZhaWxlZC5cIiksbi5wcm9taXNlfSxuPWZ1bmN0aW9uKG4pe3JldHVybiBlPW4se2dldEN1cnJlbnRQb3NpdGlvbjp0fX07bi4kaW5qZWN0PVtcIiRxXCJdLGFuZ3VsYXIubW9kdWxlKFwibmdNYXBcIikuc2VydmljZShcIk5hdmlnYXRvckdlb2xvY2F0aW9uXCIsbil9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZSx0LG4sbz1bXSxpPWZ1bmN0aW9uKG4pe3ZhciBpPXQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLnN0eWxlLndpZHRoPVwiMTAwJVwiLGkuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLG4uYXBwZW5kQ2hpbGQoaSk7dmFyIGE9bmV3IGUuZ29vZ2xlLm1hcHMuTWFwKGkse30pO3JldHVybiBvLnB1c2goYSksYX0sYT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBhPW9baV07aWYoYS5pZD09dCYmIWEuaW5Vc2Upe3ZhciByPWEuZ2V0RGl2KCk7ZS5hcHBlbmRDaGlsZChyKSxuPWE7YnJlYWt9fXJldHVybiBufSxyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTA7bjxvLmxlbmd0aDtuKyspe3ZhciBpPW9bbl07aWYoIWkuaWQmJiFpLmluVXNlKXt2YXIgYT1pLmdldERpdigpO2UuYXBwZW5kQ2hpbGQoYSksdD1pO2JyZWFrfX1yZXR1cm4gdH0scz1mdW5jdGlvbihlKXt2YXIgdD1hKGUsZS5pZCl8fHIoZSk7cmV0dXJuIHQ/bihmdW5jdGlvbigpe2dvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodCxcImlkbGVcIil9LDEwMCk6dD1pKGUpLHQuaW5Vc2U9ITAsdH0scD1mdW5jdGlvbihlKXtlLmluVXNlPSExfSxjPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxvLmxlbmd0aDtlKyspb1tlXT1udWxsO289W119LHU9ZnVuY3Rpb24oaSxhLHIpe3JldHVybiB0PWlbMF0sZT1hLG49cix7bWFwSW5zdGFuY2VzOm8scmVzZXRNYXBJbnN0YW5jZXM6YyxnZXRNYXBJbnN0YW5jZTpzLHJldHVybk1hcEluc3RhbmNlOnB9fTt1LiRpbmplY3Q9W1wiJGRvY3VtZW50XCIsXCIkd2luZG93XCIsXCIkdGltZW91dFwiXSxhbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLmZhY3RvcnkoXCJOZ01hcFBvb2xcIix1KX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQsbixvLGksYSxyLHM9e30scD1mdW5jdGlvbihuLG8pe3ZhciBpO3JldHVybiBuLmN1cnJlbnRTdHlsZT9pPW4uY3VycmVudFN0eWxlW29dOmUuZ2V0Q29tcHV0ZWRTdHlsZSYmKGk9dC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG4sbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShvKSksaX0sYz1mdW5jdGlvbihlKXt2YXIgdD1zW2V8fDBdO3JldHVybiB0Lm1hcCBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLk1hcD92b2lkIDA6KHQuaW5pdGlhbGl6ZU1hcCgpLHQubWFwKX0sdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKG4pe3NbdF0/aS5yZXNvbHZlKHNbdF0ubWFwKTpuPmE/aS5yZWplY3QoXCJjb3VsZCBub3QgZmluZCBtYXBcIik6ZS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byhuKzEwMCl9LDEwMCl9dD1cIm9iamVjdFwiPT10eXBlb2YgdD90LmlkOnQsdD10fHwwO3ZhciBpPW4uZGVmZXIoKSxhPTJlMztyZXR1cm4gbygwKSxpLnByb21pc2V9LGw9ZnVuY3Rpb24oZSl7aWYoZS5tYXApe3ZhciB0PU9iamVjdC5rZXlzKHMpLmxlbmd0aDtzW2UubWFwLmlkfHx0XT1lfX0sZz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhzKS5sZW5ndGgtMSxuPWUubWFwLmlkfHx0O2lmKGUubWFwKXtmb3IodmFyIG8gaW4gZS5ldmVudExpc3RlbmVycyl7dmFyIGk9ZS5ldmVudExpc3RlbmVyc1tvXTtnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcihpKX1lLm1hcC5jb250cm9scyYmZS5tYXAuY29udHJvbHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNsZWFyKCl9KX1lLm1hcC5oZWF0bWFwTGF5ZXJzJiZPYmplY3Qua2V5cyhlLm1hcC5oZWF0bWFwTGF5ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZGVsZXRlT2JqZWN0KFwiaGVhdG1hcExheWVyc1wiLGUubWFwLmhlYXRtYXBMYXllcnNbdF0pfSksZGVsZXRlIHNbbl19LGQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1uLmRlZmVyKCk7cmV0dXJuIWV8fGUubWF0Y2goL15jdXJyZW50L2kpP28uZ2V0Q3VycmVudFBvc2l0aW9uKHQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb29yZHMubGF0aXR1ZGUsbj1lLmNvb3Jkcy5sb25naXR1ZGUsbz1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHQsbik7aS5yZXNvbHZlKG8pfSxmdW5jdGlvbihlKXtpLnJlamVjdChlKX0pOmEuZ2VvY29kZSh7YWRkcmVzczplfSkudGhlbihmdW5jdGlvbihlKXtpLnJlc29sdmUoZVswXS5nZW9tZXRyeS5sb2NhdGlvbil9LGZ1bmN0aW9uKGUpe2kucmVqZWN0KGUpfSksaS5wcm9taXNlfSxtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKG4pe3ZhciBvPXIoXCJzZXQtXCIrZSksYT1pLnRvT3B0aW9uVmFsdWUobix7a2V5OmV9KTt0W29dJiYoZS5tYXRjaCgvY2VudGVyfHBvc2l0aW9uLykmJlwic3RyaW5nXCI9PXR5cGVvZiBhP2QoYSkudGhlbihmdW5jdGlvbihlKXt0W29dKGUpfSk6dFtvXShhKSl9fX0sZj1mdW5jdGlvbihlKXt2YXIgdD1lLmdldEF0dHJpYnV0ZShcImRlZmF1bHQtc3R5bGVcIik7XCJ0cnVlXCI9PXQ/KGUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsZS5zdHlsZS5oZWlnaHQ9XCIzMDBweFwiKTooXCJibG9ja1wiIT1wKGUsXCJkaXNwbGF5XCIpJiYoZS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIikscChlLFwiaGVpZ2h0XCIpLm1hdGNoKC9eKDB8YXV0bykvKSYmKGUuc3R5bGUuaGVpZ2h0PVwiMzAwcHhcIikpfTthbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLnByb3ZpZGVyKFwiTmdNYXBcIixmdW5jdGlvbigpe3ZhciBzPXt9O3RoaXMuc2V0RGVmYXVsdE9wdGlvbnM9ZnVuY3Rpb24oZSl7cz1lfTt2YXIgcD1mdW5jdGlvbihwLHYseSxoLE0sYixPKXtyZXR1cm4gZT1wLHQ9dlswXSxuPXksbz1oLGk9TSxhPWIscj1PLHtkZWZhdWx0T3B0aW9uczpzLGFkZE1hcDpsLGRlbGV0ZU1hcDpnLGdldE1hcDp1LGluaXRNYXA6YyxzZXRTdHlsZTpmLGdldEdlb0xvY2F0aW9uOmQsb2JzZXJ2ZUFuZFNldDptfX07cC4kaW5qZWN0PVtcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLFwiJHFcIixcIk5hdmlnYXRvckdlb2xvY2F0aW9uXCIsXCJBdHRyMk1hcE9wdGlvbnNcIixcIkdlb0NvZGVyXCIsXCJjYW1lbENhc2VGaWx0ZXJcIl0sdGhpcy4kZ2V0PXB9KX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQ9ZnVuY3Rpb24odCxuKXtuPW58fHQuZ2V0Q2VudGVyKCk7dmFyIG89ZS5kZWZlcigpLGk9bmV3IGdvb2dsZS5tYXBzLlN0cmVldFZpZXdTZXJ2aWNlO3JldHVybiBpLmdldFBhbm9yYW1hQnlMb2NhdGlvbihufHx0LmdldENlbnRlciwxMDAsZnVuY3Rpb24oZSx0KXt0PT09Z29vZ2xlLm1hcHMuU3RyZWV0Vmlld1N0YXR1cy5PSz9vLnJlc29sdmUoZS5sb2NhdGlvbi5wYW5vKTpvLnJlc29sdmUoITEpXG59KSxvLnByb21pc2V9LG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgZ29vZ2xlLm1hcHMuU3RyZWV0Vmlld1Bhbm9yYW1hKGUuZ2V0RGl2KCkse2VuYWJsZUNsb3NlQnV0dG9uOiEwfSk7bi5zZXRQYW5vKHQpfSxvPWZ1bmN0aW9uKG8pe3JldHVybiBlPW8se2dldFBhbm9yYW1hOnQsc2V0UGFub3JhbWE6bn19O28uJGluamVjdD1bXCIkcVwiXSxhbmd1bGFyLm1vZHVsZShcIm5nTWFwXCIpLnNlcnZpY2UoXCJTdHJlZXRWaWV3XCIsbyl9KCksXCJuZ01hcFwifSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L25nbWFwL2J1aWxkL3NjcmlwdHMvbmctbWFwLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 19 */
/***/ function(module, exports) {

"use strict";
eval("\"use strict\";angular.module(\"pusher-angular\",[]).factory(\"$pusher\",[\"$rootScope\",\"$channel\",\"$connection\",function(n,e,i){function t(n){if(!(this instanceof t)){return new t(n)}this._assertValidClient(n);this.client=n;this.connection=i(n.connection,n);this.channels={}}t.prototype={subscribe:function(n){var i=this.client.channel(n);if(i===undefined){i=this.client.subscribe(n)}i=e(i,this);this.channels[n]=i;return i},unsubscribe:function(n){if(this.client.channel(n)){this.client.unsubscribe(n);if(this.channels[n]){delete this.channels[n]}}},bind:function(e,i,t,s){var r=angular.isDefined(s)&&!s,c=function(e){i(e);if(!r)n.$digest()};this.client.bind(e,c,t);return c},bind_all:function(e,i){var t=angular.isDefined(i)&&!i;this.client.bind_all(function(i,s){e(i,s);if(!t)n.$digest()})},unbind:function(n,e,i){this.client.unbind(n,e,i)},disconnect:function(){this.client.disconnect()},channel:function(n){return this.channels[n]},allChannels:function(){return this.channels},_assertValidClient:function(n){if(!angular.isObject(n)||!angular.isObject(n.connection)||typeof n.channel!==\"function\"){throw new Error(\"Invalid Pusher client object\")}}};return t}]).factory(\"$channel\",[\"$rootScope\",\"$members\",function(n,e){function i(n){if(n.indexOf(\"presence-\")==-1&&n.indexOf(\"private-\")==-1){throw new Error(\"Presence or private channel required\")}}function t(n,i){if(!(this instanceof t)){return new t(n,i)}this._assertValidChannel(n);this.baseChannel=n;this.client=i;this.name=n.name;if(n.name.indexOf(\"presence\")==-1){this.members=function(){throw new Error(\"Members object only exists for presence channels\")}}else{this.members=e(n.members,n)}}t.prototype={bind:function(e,i,t,s){var r=angular.isDefined(s)&&!s,c=function(e){i(e);if(!r)n.$digest()};this.baseChannel.bind(e,c,t);return c},unbind:function(n,e,i){this.baseChannel.unbind(n,e,i)},bind_all:function(e,i){var t=angular.isDefined(i)&&!i;this.baseChannel.bind_all(function(i,s){e(i,s);if(!t)n.$digest()})},trigger:function(n,e){i(this.name);if(n.indexOf(\"client-\")==-1){throw new Error(\"Event name requires 'client-' prefix\")}return this.baseChannel.trigger(n,e)},_assertValidChannel:function(n){if(!angular.isObject(n)||typeof n.name!==\"string\"){throw new Error(\"Invalid Pusher channel object\")}}};return t}]).factory(\"$members\",[\"$rootScope\",function(n){function e(i,t){if(!(this instanceof e)){return new e(i,t)}var s=this;this._assertValidMembers(i);this.baseMembers=i;this.baseChannel=t;this.me={};this.count=0;this.members={};t.bind(\"pusher:subscription_succeeded\",function(e){s.me=e.me;s.count=e.count;s.members=e.members;n.$digest()});t.bind(\"pusher:member_added\",function(e){s.count++;if(e.info){s.members[e.id.toString()]=e.info}else{s.members[e.id.toString()]=null}n.$digest()});t.bind(\"pusher:member_removed\",function(e){s.count--;delete s.members[e.id.toString()];n.$digest()})}e.prototype={get:function(n){return this.baseMembers.get(n)},each:function(e){this.baseMembers.each(function(i){e(i);n.$digest()})},_assertValidMembers:function(n){if(!angular.isObject(n)||typeof n.me!==\"object\"){throw new Error(\"Invalid Pusher channel members object\")}}};return e}]).factory(\"$connection\",[\"$rootScope\",function(n){function e(n,i){if(!(this instanceof e)){return new e(n,i)}this._assertValidConnection(n);this.baseConnection=n;this.baseClient=i}e.prototype={bind:function(e,i,t,s){var r=angular.isDefined(s)&&!s;this.baseConnection.bind(e,function(e){i(e);if(!r)n.$digest()},t)},bind_all:function(e,i){var t=angular.isDefined(i)&&!i;this.baseConnection.bind_all(function(i,s){e(i,s);if(!t)n.$digest()})},_assertValidConnection:function(n){if(!angular.isObject(n)){throw new Error(\"Invalid Pusher connection object\")}}};return e}]);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3B1c2hlci1hbmd1bGFyL2xpYi9wdXNoZXItYW5ndWxhci5taW4uanM/ZTgxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjthbmd1bGFyLm1vZHVsZShcInB1c2hlci1hbmd1bGFyXCIsW10pLmZhY3RvcnkoXCIkcHVzaGVyXCIsW1wiJHJvb3RTY29wZVwiLFwiJGNoYW5uZWxcIixcIiRjb25uZWN0aW9uXCIsZnVuY3Rpb24obixlLGkpe2Z1bmN0aW9uIHQobil7aWYoISh0aGlzIGluc3RhbmNlb2YgdCkpe3JldHVybiBuZXcgdChuKX10aGlzLl9hc3NlcnRWYWxpZENsaWVudChuKTt0aGlzLmNsaWVudD1uO3RoaXMuY29ubmVjdGlvbj1pKG4uY29ubmVjdGlvbixuKTt0aGlzLmNoYW5uZWxzPXt9fXQucHJvdG90eXBlPXtzdWJzY3JpYmU6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5jbGllbnQuY2hhbm5lbChuKTtpZihpPT09dW5kZWZpbmVkKXtpPXRoaXMuY2xpZW50LnN1YnNjcmliZShuKX1pPWUoaSx0aGlzKTt0aGlzLmNoYW5uZWxzW25dPWk7cmV0dXJuIGl9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKG4pe2lmKHRoaXMuY2xpZW50LmNoYW5uZWwobikpe3RoaXMuY2xpZW50LnVuc3Vic2NyaWJlKG4pO2lmKHRoaXMuY2hhbm5lbHNbbl0pe2RlbGV0ZSB0aGlzLmNoYW5uZWxzW25dfX19LGJpbmQ6ZnVuY3Rpb24oZSxpLHQscyl7dmFyIHI9YW5ndWxhci5pc0RlZmluZWQocykmJiFzLGM9ZnVuY3Rpb24oZSl7aShlKTtpZighciluLiRkaWdlc3QoKX07dGhpcy5jbGllbnQuYmluZChlLGMsdCk7cmV0dXJuIGN9LGJpbmRfYWxsOmZ1bmN0aW9uKGUsaSl7dmFyIHQ9YW5ndWxhci5pc0RlZmluZWQoaSkmJiFpO3RoaXMuY2xpZW50LmJpbmRfYWxsKGZ1bmN0aW9uKGkscyl7ZShpLHMpO2lmKCF0KW4uJGRpZ2VzdCgpfSl9LHVuYmluZDpmdW5jdGlvbihuLGUsaSl7dGhpcy5jbGllbnQudW5iaW5kKG4sZSxpKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMuY2xpZW50LmRpc2Nvbm5lY3QoKX0sY2hhbm5lbDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jaGFubmVsc1tuXX0sYWxsQ2hhbm5lbHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFubmVsc30sX2Fzc2VydFZhbGlkQ2xpZW50OmZ1bmN0aW9uKG4pe2lmKCFhbmd1bGFyLmlzT2JqZWN0KG4pfHwhYW5ndWxhci5pc09iamVjdChuLmNvbm5lY3Rpb24pfHx0eXBlb2Ygbi5jaGFubmVsIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFB1c2hlciBjbGllbnQgb2JqZWN0XCIpfX19O3JldHVybiB0fV0pLmZhY3RvcnkoXCIkY2hhbm5lbFwiLFtcIiRyb290U2NvcGVcIixcIiRtZW1iZXJzXCIsZnVuY3Rpb24obixlKXtmdW5jdGlvbiBpKG4pe2lmKG4uaW5kZXhPZihcInByZXNlbmNlLVwiKT09LTEmJm4uaW5kZXhPZihcInByaXZhdGUtXCIpPT0tMSl7dGhyb3cgbmV3IEVycm9yKFwiUHJlc2VuY2Ugb3IgcHJpdmF0ZSBjaGFubmVsIHJlcXVpcmVkXCIpfX1mdW5jdGlvbiB0KG4saSl7aWYoISh0aGlzIGluc3RhbmNlb2YgdCkpe3JldHVybiBuZXcgdChuLGkpfXRoaXMuX2Fzc2VydFZhbGlkQ2hhbm5lbChuKTt0aGlzLmJhc2VDaGFubmVsPW47dGhpcy5jbGllbnQ9aTt0aGlzLm5hbWU9bi5uYW1lO2lmKG4ubmFtZS5pbmRleE9mKFwicHJlc2VuY2VcIik9PS0xKXt0aGlzLm1lbWJlcnM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXJzIG9iamVjdCBvbmx5IGV4aXN0cyBmb3IgcHJlc2VuY2UgY2hhbm5lbHNcIil9fWVsc2V7dGhpcy5tZW1iZXJzPWUobi5tZW1iZXJzLG4pfX10LnByb3RvdHlwZT17YmluZDpmdW5jdGlvbihlLGksdCxzKXt2YXIgcj1hbmd1bGFyLmlzRGVmaW5lZChzKSYmIXMsYz1mdW5jdGlvbihlKXtpKGUpO2lmKCFyKW4uJGRpZ2VzdCgpfTt0aGlzLmJhc2VDaGFubmVsLmJpbmQoZSxjLHQpO3JldHVybiBjfSx1bmJpbmQ6ZnVuY3Rpb24obixlLGkpe3RoaXMuYmFzZUNoYW5uZWwudW5iaW5kKG4sZSxpKX0sYmluZF9hbGw6ZnVuY3Rpb24oZSxpKXt2YXIgdD1hbmd1bGFyLmlzRGVmaW5lZChpKSYmIWk7dGhpcy5iYXNlQ2hhbm5lbC5iaW5kX2FsbChmdW5jdGlvbihpLHMpe2UoaSxzKTtpZighdCluLiRkaWdlc3QoKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKG4sZSl7aSh0aGlzLm5hbWUpO2lmKG4uaW5kZXhPZihcImNsaWVudC1cIik9PS0xKXt0aHJvdyBuZXcgRXJyb3IoXCJFdmVudCBuYW1lIHJlcXVpcmVzICdjbGllbnQtJyBwcmVmaXhcIil9cmV0dXJuIHRoaXMuYmFzZUNoYW5uZWwudHJpZ2dlcihuLGUpfSxfYXNzZXJ0VmFsaWRDaGFubmVsOmZ1bmN0aW9uKG4pe2lmKCFhbmd1bGFyLmlzT2JqZWN0KG4pfHx0eXBlb2Ygbi5uYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQdXNoZXIgY2hhbm5lbCBvYmplY3RcIil9fX07cmV0dXJuIHR9XSkuZmFjdG9yeShcIiRtZW1iZXJzXCIsW1wiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoaSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBlKSl7cmV0dXJuIG5ldyBlKGksdCl9dmFyIHM9dGhpczt0aGlzLl9hc3NlcnRWYWxpZE1lbWJlcnMoaSk7dGhpcy5iYXNlTWVtYmVycz1pO3RoaXMuYmFzZUNoYW5uZWw9dDt0aGlzLm1lPXt9O3RoaXMuY291bnQ9MDt0aGlzLm1lbWJlcnM9e307dC5iaW5kKFwicHVzaGVyOnN1YnNjcmlwdGlvbl9zdWNjZWVkZWRcIixmdW5jdGlvbihlKXtzLm1lPWUubWU7cy5jb3VudD1lLmNvdW50O3MubWVtYmVycz1lLm1lbWJlcnM7bi4kZGlnZXN0KCl9KTt0LmJpbmQoXCJwdXNoZXI6bWVtYmVyX2FkZGVkXCIsZnVuY3Rpb24oZSl7cy5jb3VudCsrO2lmKGUuaW5mbyl7cy5tZW1iZXJzW2UuaWQudG9TdHJpbmcoKV09ZS5pbmZvfWVsc2V7cy5tZW1iZXJzW2UuaWQudG9TdHJpbmcoKV09bnVsbH1uLiRkaWdlc3QoKX0pO3QuYmluZChcInB1c2hlcjptZW1iZXJfcmVtb3ZlZFwiLGZ1bmN0aW9uKGUpe3MuY291bnQtLTtkZWxldGUgcy5tZW1iZXJzW2UuaWQudG9TdHJpbmcoKV07bi4kZGlnZXN0KCl9KX1lLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmJhc2VNZW1iZXJzLmdldChuKX0sZWFjaDpmdW5jdGlvbihlKXt0aGlzLmJhc2VNZW1iZXJzLmVhY2goZnVuY3Rpb24oaSl7ZShpKTtuLiRkaWdlc3QoKX0pfSxfYXNzZXJ0VmFsaWRNZW1iZXJzOmZ1bmN0aW9uKG4pe2lmKCFhbmd1bGFyLmlzT2JqZWN0KG4pfHx0eXBlb2Ygbi5tZSE9PVwib2JqZWN0XCIpe3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgUHVzaGVyIGNoYW5uZWwgbWVtYmVycyBvYmplY3RcIil9fX07cmV0dXJuIGV9XSkuZmFjdG9yeShcIiRjb25uZWN0aW9uXCIsW1wiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUobixpKXtpZighKHRoaXMgaW5zdGFuY2VvZiBlKSl7cmV0dXJuIG5ldyBlKG4saSl9dGhpcy5fYXNzZXJ0VmFsaWRDb25uZWN0aW9uKG4pO3RoaXMuYmFzZUNvbm5lY3Rpb249bjt0aGlzLmJhc2VDbGllbnQ9aX1lLnByb3RvdHlwZT17YmluZDpmdW5jdGlvbihlLGksdCxzKXt2YXIgcj1hbmd1bGFyLmlzRGVmaW5lZChzKSYmIXM7dGhpcy5iYXNlQ29ubmVjdGlvbi5iaW5kKGUsZnVuY3Rpb24oZSl7aShlKTtpZighciluLiRkaWdlc3QoKX0sdCl9LGJpbmRfYWxsOmZ1bmN0aW9uKGUsaSl7dmFyIHQ9YW5ndWxhci5pc0RlZmluZWQoaSkmJiFpO3RoaXMuYmFzZUNvbm5lY3Rpb24uYmluZF9hbGwoZnVuY3Rpb24oaSxzKXtlKGkscyk7aWYoIXQpbi4kZGlnZXN0KCl9KX0sX2Fzc2VydFZhbGlkQ29ubmVjdGlvbjpmdW5jdGlvbihuKXtpZighYW5ndWxhci5pc09iamVjdChuKSl7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQdXNoZXIgY29ubmVjdGlvbiBvYmplY3RcIil9fX07cmV0dXJuIGV9XSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3B1c2hlci1hbmd1bGFyL2xpYi9wdXNoZXItYW5ndWxhci5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 20 */
/***/ function(module, exports) {

eval("/*\n AngularJS v1.5.9\n (c) 2010-2016 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function(B){'use strict';function N(a){return function(){var b=arguments[0],d;d=\"[\"+(a?a+\":\":\"\")+b+\"] http://errors.angularjs.org/1.5.9/\"+(a?a+\"/\":\"\")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?\"?\":\"&\")+\"p\"+(b-1)+\"=\";var c=encodeURIComponent,e;e=arguments[b];e=\"function\"==typeof e?e.toString().replace(/ \\{[\\s\\S]*$/,\"\"):\"undefined\"==typeof e?\"undefined\":\"string\"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function ra(a){if(null==a||Xa(a))return!1;if(K(a)||H(a)||E&&a instanceof E)return!0;\nvar b=\"length\"in Object(a)&&a.length;return Z(b)&&(0<=b&&(b-1 in a||a instanceof Array)||\"function\"===typeof a.item)}function q(a,b,d){var c,e;if(a)if(F(a))for(c in a)\"prototype\"===c||\"length\"===c||\"name\"===c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(K(a)||ra(a)){var f=\"object\"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(zc(a))for(c in a)b.call(d,a[c],c,a);else if(\"function\"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&\nb.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function Ac(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Bc(a){return function(b,d){a(d,b)}}function me(){return++sb}function Sb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(I(g)||F(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&I(n)?ba(n)?a[m]=new Date(n.valueOf()):Ya(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):\nTb(n)?a[m]=n.clone():(I(a[m])||(a[m]=K(n)?[]:{}),Sb(a[m],[n],!0)):a[m]=n}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function R(a){return Sb(a,ta.call(arguments,1),!1)}function ne(a){return Sb(a,ta.call(arguments,1),!0)}function aa(a){return parseInt(a,10)}function Ub(a,b){return R(Object.create(a),b)}function C(){}function Za(a){return a}function ma(a){return function(){return a}}function Cc(a){return F(a.toString)&&a.toString!==na}function z(a){return\"undefined\"===typeof a}function u(a){return\"undefined\"!==\ntypeof a}function I(a){return null!==a&&\"object\"===typeof a}function zc(a){return null!==a&&\"object\"===typeof a&&!Dc(a)}function H(a){return\"string\"===typeof a}function Z(a){return\"number\"===typeof a}function ba(a){return\"[object Date]\"===na.call(a)}function F(a){return\"function\"===typeof a}function Ya(a){return\"[object RegExp]\"===na.call(a)}function Xa(a){return a&&a.window===a}function $a(a){return a&&a.$evalAsync&&a.$watch}function Ia(a){return\"boolean\"===typeof a}function oe(a){return a&&Z(a.length)&&\npe.test(na.call(a))}function Tb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function qe(a){var b={};a=a.split(\",\");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ua(a){return P(a.nodeName||a[0]&&a[0].nodeName)}function ab(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function pa(a,b){function d(a,b){var d=b.$$hashKey,e;if(K(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(zc(a))for(e in a)b[e]=c(a[e]);else if(a&&\"function\"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&\n(b[e]=c(a[e]));else for(e in a)sa.call(a,e)&&(b[e]=c(a[e]));d?b.$$hashKey=d:delete b.$$hashKey;return b}function c(a){if(!I(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Xa(a)||$a(a))throw va(\"cpws\");var b=!1,c=e(a);void 0===c&&(c=K(a)?[]:Object.create(Dc(a)),b=!0);f.push(a);g.push(c);return b?d(a,c):c}function e(a){switch(na.call(a)){case \"[object Int8Array]\":case \"[object Int16Array]\":case \"[object Int32Array]\":case \"[object Float32Array]\":case \"[object Float64Array]\":case \"[object Uint8Array]\":case \"[object Uint8ClampedArray]\":case \"[object Uint16Array]\":case \"[object Uint32Array]\":return new a.constructor(c(a.buffer),\na.byteOffset,a.length);case \"[object ArrayBuffer]\":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case \"[object Boolean]\":case \"[object Number]\":case \"[object String]\":case \"[object Date]\":return new a.constructor(a.valueOf());case \"[object RegExp]\":return b=new RegExp(a.source,a.toString().match(/[^\\/]*$/)[0]),b.lastIndex=a.lastIndex,b;case \"[object Blob]\":return new a.constructor([a],{type:a.type})}if(F(a.cloneNode))return a.cloneNode(!0)}\nvar f=[],g=[];if(b){if(oe(b)||\"[object ArrayBuffer]\"===na.call(b))throw va(\"cpta\");if(a===b)throw va(\"cpi\");K(b)?b.length=0:q(b,function(a,d){\"$$hashKey\"!==d&&delete b[d]});f.push(a);g.push(b);return d(a,b)}return c(a)}function oa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d===typeof b&&\"object\"===d)if(K(a)){if(!K(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!oa(a[c],b[c]))return!1;return!0}}else{if(ba(a))return ba(b)?oa(a.getTime(),\nb.getTime()):!1;if(Ya(a))return Ya(b)?a.toString()===b.toString():!1;if($a(a)||$a(b)||Xa(a)||Xa(b)||K(b)||ba(b)||Ya(b))return!1;d=S();for(c in a)if(\"$\"!==c.charAt(0)&&!F(a[c])){if(!oa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&\"$\"!==c.charAt(0)&&u(b[c])&&!F(b[c]))return!1;return!0}return!1}function bb(a,b,d){return a.concat(ta.call(b,d))}function cb(a,b){var d=2<arguments.length?ta.call(arguments,2):[];return!F(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,\nbb(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function re(a,b){var d=b;\"string\"===typeof a&&\"$\"===a.charAt(0)&&\"$\"===a.charAt(1)?d=void 0:Xa(b)?d=\"$WINDOW\":b&&B.document===b?d=\"$DOCUMENT\":$a(b)&&(d=\"$SCOPE\");return d}function db(a,b){if(!z(a))return Z(b)||(b=b?2:null),JSON.stringify(a,re,b)}function Ec(a){return H(a)?JSON.parse(a):a}function Fc(a,b){a=a.replace(se,\"\");var d=Date.parse(\"Jan 01, 1970 00:00:00 \"+a)/6E4;return X(d)?b:d}function Vb(a,\nb,d){d=d?-1:1;var c=a.getTimezoneOffset();b=Fc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function wa(a){a=E(a).clone();try{a.empty()}catch(b){}var d=E(\"<div>\").append(a).html();try{return a[0].nodeType===Ma?P(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\\w\\-]+)/,function(a,b){return\"<\"+P(b)})}catch(c){return P(d)}}function Gc(a){try{return decodeURIComponent(a)}catch(b){}}function Hc(a){var b={};q((a||\"\").split(\"&\"),function(a){var c,e,f;a&&(e=a=a.replace(/\\+/g,\"%20\"),\nc=a.indexOf(\"=\"),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=Gc(e),u(e)&&(f=u(f)?Gc(f):!0,sa.call(b,e)?K(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Wb(a){var b=[];q(a,function(a,c){K(a)?q(a,function(a){b.push(ca(c,!0)+(!0===a?\"\":\"=\"+ca(a,!0)))}):b.push(ca(c,!0)+(!0===a?\"\":\"=\"+ca(a,!0)))});return b.length?b.join(\"&\"):\"\"}function tb(a){return ca(a,!0).replace(/%26/gi,\"&\").replace(/%3D/gi,\"=\").replace(/%2B/gi,\"+\")}function ca(a,b){return encodeURIComponent(a).replace(/%40/gi,\n\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%3B/gi,\";\").replace(/%20/g,b?\"%20\":\"+\")}function te(a,b){var d,c,e=Na.length;for(c=0;c<e;++c)if(d=Na[c]+b,H(d=a.getAttribute(d)))return d;return null}function ue(a,b){var d,c,e={};q(Na,function(b){b+=\"app\";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});q(Na,function(b){b+=\"app\";var e;!d&&(e=a.querySelector(\"[\"+b.replace(\":\",\"\\\\:\")+\"]\"))&&(d=e,c=e.getAttribute(b))});d&&(ve?(e.strictDi=null!==te(d,\"strict-di\"),\nb(d,c?[c]:[],e)):B.console.error(\"Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.\"))}function Ic(a,b,d){I(d)||(d={});d=R({strictDi:!1},d);var c=function(){a=E(a);if(a.injector()){var c=a[0]===B.document?\"document\":wa(a);throw va(\"btstrpd\",c.replace(/</,\"&lt;\").replace(/>/,\"&gt;\"));}b=b||[];b.unshift([\"$provide\",function(b){b.value(\"$rootElement\",a)}]);d.debugInfoEnabled&&b.push([\"$compileProvider\",function(a){a.debugInfoEnabled(!0)}]);\nb.unshift(\"ng\");c=eb(b,d.strictDi);c.invoke([\"$rootScope\",\"$rootElement\",\"$compile\",\"$injector\",function(a,b,c,d){a.$apply(function(){b.data(\"$injector\",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;B&&e.test(B.name)&&(d.debugInfoEnabled=!0,B.name=B.name.replace(e,\"\"));if(B&&!f.test(B.name))return c();B.name=B.name.replace(f,\"\");ga.resumeBootstrap=function(a){q(a,function(a){b.push(a)});return c()};F(ga.resumeDeferredBootstrap)&&ga.resumeDeferredBootstrap()}function we(){B.name=\n\"NG_ENABLE_DEBUG_INFO!\"+B.name;B.location.reload()}function xe(a){a=ga.element(a).injector();if(!a)throw va(\"test\");return a.get(\"$$testability\")}function Jc(a,b){b=b||\"_\";return a.replace(ye,function(a,c){return(c?b:\"\")+a.toLowerCase()})}function ze(){var a;if(!Kc){var b=ub();(xa=z(b)?B.jQuery:b?B[b]:void 0)&&xa.fn.on?(E=xa,R(xa.fn,{scope:Oa.scope,isolateScope:Oa.isolateScope,controller:Oa.controller,injector:Oa.injector,inheritedData:Oa.inheritedData}),a=xa.cleanData,xa.cleanData=function(b){for(var c,\ne=0,f;null!=(f=b[e]);e++)(c=xa._data(f,\"events\"))&&c.$destroy&&xa(f).triggerHandler(\"$destroy\");a(b)}):E=T;ga.element=E;Kc=!0}}function vb(a,b,d){if(!a)throw va(\"areq\",b||\"?\",d||\"required\");return a}function Pa(a,b,d){d&&K(a)&&(a=a[a.length-1]);vb(F(a),b,\"not a function, got \"+(a&&\"object\"===typeof a?a.constructor.name||\"Object\":typeof a));return a}function Qa(a,b){if(\"hasOwnProperty\"===a)throw va(\"badname\",b);}function Lc(a,b,d){if(!b)return a;b=b.split(\".\");for(var c,e=a,f=b.length,g=0;g<f;g++)c=\nb[g],a&&(a=(e=a)[c]);return!d&&F(a)?cb(e,a):a}function wb(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=E(ta.call(a,0,e))),c.push(b);return c||a}function S(){return Object.create(null)}function Ae(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=N(\"$injector\"),c=N(\"ng\");a=b(a,\"angular\",Object);a.$$minErr=a.$$minErr||N;return b(a,\"module\",function(){var a={};return function(f,g,h){if(\"hasOwnProperty\"===f)throw c(\"badname\",\"module\");g&&a.hasOwnProperty(f)&&\n(a[f]=null);return b(a,f,function(){function a(b,d,e,f){f||(f=c);return function(){f[e||\"push\"]([b,d,arguments]);return J}}function b(a,d){return function(b,e){e&&F(e)&&(e.$$moduleName=f);c.push([a,d,arguments]);return J}}if(!g)throw d(\"nomod\",f);var c=[],e=[],p=[],x=a(\"$injector\",\"invoke\",\"push\",e),J={_invokeQueue:c,_configBlocks:e,_runBlocks:p,requires:g,name:f,provider:b(\"$provide\",\"provider\"),factory:b(\"$provide\",\"factory\"),service:b(\"$provide\",\"service\"),value:a(\"$provide\",\"value\"),constant:a(\"$provide\",\n\"constant\",\"unshift\"),decorator:b(\"$provide\",\"decorator\"),animation:b(\"$animateProvider\",\"register\"),filter:b(\"$filterProvider\",\"register\"),controller:b(\"$controllerProvider\",\"register\"),directive:b(\"$compileProvider\",\"directive\"),component:b(\"$compileProvider\",\"component\"),config:x,run:function(a){p.push(a);return this}};h&&x(h);return J})}})}function ia(a,b){if(K(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(I(a))for(d in b=b||{},a)if(\"$\"!==d.charAt(0)||\"$\"!==d.charAt(1))b[d]=a[d];\nreturn b||a}function Be(a){R(a,{bootstrap:Ic,copy:pa,extend:R,merge:ne,equals:oa,element:E,forEach:q,injector:eb,noop:C,bind:cb,toJson:db,fromJson:Ec,identity:Za,isUndefined:z,isDefined:u,isString:H,isFunction:F,isObject:I,isNumber:Z,isElement:Tb,isArray:K,version:Ce,isDate:ba,lowercase:P,uppercase:xb,callbacks:{$$counter:0},getTestability:xe,$$minErr:N,$$csp:ya,reloadWithDebugInfo:we});Xb=Ae(B);Xb(\"ng\",[\"ngLocale\"],[\"$provide\",function(a){a.provider({$$sanitizeUri:De});a.provider(\"$compile\",Mc).directive({a:Ee,\ninput:Nc,textarea:Nc,form:Fe,script:Ge,select:He,option:Ie,ngBind:Je,ngBindHtml:Ke,ngBindTemplate:Le,ngClass:Me,ngClassEven:Ne,ngClassOdd:Oe,ngCloak:Pe,ngController:Qe,ngForm:Re,ngHide:Se,ngIf:Te,ngInclude:Ue,ngInit:Ve,ngNonBindable:We,ngPluralize:Xe,ngRepeat:Ye,ngShow:Ze,ngStyle:$e,ngSwitch:af,ngSwitchWhen:bf,ngSwitchDefault:cf,ngOptions:df,ngTransclude:ef,ngModel:ff,ngList:gf,ngChange:hf,pattern:Oc,ngPattern:Oc,required:Pc,ngRequired:Pc,minlength:Qc,ngMinlength:Qc,maxlength:Rc,ngMaxlength:Rc,ngValue:jf,\nngModelOptions:kf}).directive({ngInclude:lf}).directive(yb).directive(Sc);a.provider({$anchorScroll:mf,$animate:nf,$animateCss:of,$$animateJs:pf,$$animateQueue:qf,$$AnimateRunner:rf,$$animateAsyncRun:sf,$browser:tf,$cacheFactory:uf,$controller:vf,$document:wf,$exceptionHandler:xf,$filter:Tc,$$forceReflow:yf,$interpolate:zf,$interval:Af,$http:Bf,$httpParamSerializer:Cf,$httpParamSerializerJQLike:Df,$httpBackend:Ef,$xhrFactory:Ff,$jsonpCallbacks:Gf,$location:Hf,$log:If,$parse:Jf,$rootScope:Kf,$q:Lf,\n$$q:Mf,$sce:Nf,$sceDelegate:Of,$sniffer:Pf,$templateCache:Qf,$templateRequest:Rf,$$testability:Sf,$timeout:Tf,$window:Uf,$$rAF:Vf,$$jqLite:Wf,$$HashMap:Xf,$$cookieReader:Yf})}])}function fb(a){return a.replace(Zf,function(a,d,c,e){return e?c.toUpperCase():c}).replace($f,\"Moz$1\")}function Uc(a){a=a.nodeType;return 1===a||!a||9===a}function Vc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Yb.test(a)){d=e.appendChild(b.createElement(\"div\"));c=(ag.exec(a)||[\"\",\"\"])[1].toLowerCase();c=ja[c]||ja._default;\nd.innerHTML=c[1]+a.replace(bg,\"<$1></$2>\")+c[2];for(c=c[0];c--;)d=d.lastChild;f=bb(f,d.childNodes);d=e.firstChild;d.textContent=\"\"}else f.push(b.createTextNode(a));e.textContent=\"\";e.innerHTML=\"\";q(f,function(a){e.appendChild(a)});return e}function Wc(a,b){var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)}function T(a){if(a instanceof T)return a;var b;H(a)&&(a=U(a),b=!0);if(!(this instanceof T)){if(b&&\"<\"!==a.charAt(0))throw Zb(\"nosel\");return new T(a)}if(b){b=B.document;var d;a=(d=cg.exec(a))?\n[b.createElement(d[1])]:(d=Vc(a,b))?d.childNodes:[]}Xc(this,a)}function $b(a){return a.cloneNode(!0)}function zb(a,b){b||gb(a);if(a.querySelectorAll)for(var d=a.querySelectorAll(\"*\"),c=0,e=d.length;c<e;c++)gb(d[c])}function Yc(a,b,d,c){if(u(c))throw Zb(\"offargs\");var e=(c=Ab(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];u(d)&&ab(c||[],d);u(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};q(b.split(\" \"),function(a){g(a);Bb[a]&&g(Bb[a])})}else for(b in e)\"$destroy\"!==\nb&&a.removeEventListener(b,f,!1),delete e[b]}function gb(a,b){var d=a.ng339,c=d&&hb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},\"$destroy\"),Yc(a)),delete hb[d],a.ng339=void 0))}function Ab(a,b){var d=a.ng339,d=d&&hb[d];b&&!d&&(a.ng339=d=++dg,d=hb[d]={events:{},data:{},handle:void 0});return d}function ac(a,b,d){if(Uc(a)){var c=u(d),e=!c&&b&&!I(b),f=!b;a=(a=Ab(a,!e))&&a.data;if(c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];R(a,b)}}}function Cb(a,b){return a.getAttribute?\n-1<(\" \"+(a.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" \"+b+\" \"):!1}function Db(a,b){b&&a.setAttribute&&q(b.split(\" \"),function(b){a.setAttribute(\"class\",U((\" \"+(a.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\" \").replace(\" \"+U(b)+\" \",\" \")))})}function Eb(a,b){if(b&&a.setAttribute){var d=(\" \"+(a.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\" \");q(b.split(\" \"),function(a){a=U(a);-1===d.indexOf(\" \"+a+\" \")&&(d+=a+\" \")});a.setAttribute(\"class\",U(d))}}function Xc(a,b){if(b)if(b.nodeType)a[a.length++]=\nb;else{var d=b.length;if(\"number\"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Zc(a,b){return Fb(a,\"$\"+(b||\"ngController\")+\"Controller\")}function Fb(a,b,d){9===a.nodeType&&(a=a.documentElement);for(b=K(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(u(d=E.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function $c(a){for(zb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Gb(a,b){b||zb(a);var d=a.parentNode;d&&d.removeChild(a)}\nfunction eg(a,b){b=b||B;if(\"complete\"===b.document.readyState)b.setTimeout(a);else E(b).on(\"load\",a)}function ad(a,b){var d=Hb[b.toLowerCase()];return d&&bd[ua(a)]&&d}function fg(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(z(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=\nfunction(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||gg;1<g&&(f=ia(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};d.elem=a;return d}function gg(a,b,d){d.call(a,b)}function hg(a,b,d){var c=b.relatedTarget;c&&(c===a||ig.call(a,c))||d.call(a,b)}function Wf(){this.$get=function(){return R(T,{hasClass:function(a,b){a.attr&&(a=a[0]);return Cb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Eb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);\nreturn Db(a,b)}})}}function za(a,b){var d=a&&a.$$hashKey;if(d)return\"function\"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d=\"function\"===d||\"object\"===d&&null!==a?a.$$hashKey=d+\":\"+(b||me)():d+\":\"+a}function Ra(a,b){if(b){var d=0;this.nextUid=function(){return++d}}q(a,this.put,this)}function cd(a){a=(Function.prototype.toString.call(a)+\" \").replace(jg,\"\");return a.match(kg)||a.match(lg)}function mg(a){return(a=cd(a))?\"function(\"+(a[1]||\"\").replace(/[\\s\\r\\n]+/,\" \")+\")\":\"fn\"}function eb(a,b){function d(a){return function(b,\nc){if(I(b))q(b,Bc(a));else return a(b,c)}}function c(a,b){Qa(a,\"service\");if(F(b)||K(b))b=p.instantiate(b);if(!b.$get)throw Da(\"pget\",a);return n[a+\"Provider\"]=b}function e(a,b){return function(){var c=t.invoke(b,this);if(z(c))throw Da(\"undef\",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){vb(z(a)||K(a),\"modulesToLoad\",\"not an array\");var b=[],c;q(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,\n!0);try{H(a)?(c=Xb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):F(a)?b.push(p.invoke(a)):K(a)?b.push(p.invoke(a)):Pa(a,\"module\")}catch(e){throw K(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+\"\\n\"+e.stack),Da(\"modulerr\",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Da(\"cdep\",b+\" <- \"+l.join(\" <- \"));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=\nc(b,e),a[b]}catch(f){throw a[b]===k&&delete a[b],f;}finally{l.shift()}}function e(a,c,f){var g=[];a=eb.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if(\"string\"!==typeof l)throw Da(\"itkn\",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){\"string\"===typeof c&&(d=c,c=null);c=e(a,c,d);K(a)&&(a=a[a.length-1]);d=11>=Fa?!1:\"function\"===typeof a&&/^(?:class\\b|constructor\\()/.test(Function.prototype.toString.call(a)+\" \");return d?(c.unshift(null),new (Function.prototype.bind.apply(a,\nc))):a.apply(b,c)},instantiate:function(a,b,c){var d=K(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:eb.$$annotate,has:function(b){return n.hasOwnProperty(b+\"Provider\")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Ra([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,[\"$injector\",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ma(b),!1)}),constant:d(function(a,b){Qa(a,\"constant\");\nn[a]=b;x[a]=b}),decorator:function(a,b){var c=p.get(a+\"Provider\"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){ga.isString(b)&&l.push(b);throw Da(\"unpr\",l.join(\" <- \"));}),x={},J=h(x,function(a,b){var c=p.get(a+\"Provider\",b);return t.invoke(c.$get,c,void 0,a)}),t=J;n.$injectorProvider={$get:ma(J)};var s=g(a),t=J.get(\"$injector\");t.strictDi=b;q(s,function(a){a&&t.invoke(a)});return t}function mf(){var a=!0;this.disableAutoScrolling=\nfunction(){a=!1};this.$get=[\"$window\",\"$location\",\"$rootScope\",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if(\"a\"===ua(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;F(c)?c=c():Tb(c)?(c=c[0],c=\"fixed\"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Z(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=H(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):\n(b=e(h.getElementsByName(a)))?f(b):\"top\"===a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&\"\"===a||eg(function(){c.$evalAsync(g)})});return g}]}function jb(a,b){if(!a&&!b)return\"\";if(!a)return b;if(!b)return a;K(a)&&(a=a.join(\" \"));K(b)&&(b=b.join(\" \"));return a+\" \"+b}function ng(a){H(a)&&(a=a.split(\" \"));var b=S();q(a,function(a){a.length&&(b[a]=!0)});return b}function Ea(a){return I(a)?a:{}}function og(a,b,d,c){function e(a){try{a.apply(null,ta.call(arguments,\n1))}finally{if(J--,0===J)for(;t.length;)try{t.pop()()}catch(b){d.error(b)}}}function f(){w=null;g();h()}function g(){s=O();s=z(s)?null:s;oa(s,A)&&(s=A);A=s}function h(){if(y!==k.url()||D!==s)y=k.url(),D=s,q(L,function(a){a(k.url(),s)})}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,x={};k.isMock=!1;var J=0,t=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){J++};k.notifyWhenNoOutstandingRequests=function(a){0===J?a():t.push(a)};var s,D,y=l.href,ib=\nb.find(\"base\"),w=null,O=c.history?function(){try{return m.state}catch(a){}}:C;g();D=s;k.url=function(b,d,e){z(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=D===e;if(y===b&&(!c.history||f))return k;var h=y&&Ja(y)===Ja(b);y=b;D=e;!c.history||h&&f?(h||(w=b),d?l.replace(b):h?(d=l,e=b.indexOf(\"#\"),e=-1===e?\"\":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(w=b)):(m[d?\"replaceState\":\"pushState\"](e,\"\",b),g(),D=s);w&&(w=b);return k}return w||l.href.replace(/%27/g,\"'\")};\nk.state=function(){return s};var L=[],Q=!1,A=null;k.onUrlChange=function(b){if(!Q){if(c.history)E(a).on(\"popstate\",f);E(a).on(\"hashchange\",f);Q=!0}L.push(b);return b};k.$$applicationDestroyed=function(){E(a).off(\"hashchange popstate\",f)};k.$$checkUrlChange=h;k.baseHref=function(){var a=ib.attr(\"href\");return a?a.replace(/^(https?:)?\\/\\/[^\\/]*/,\"\"):\"\"};k.defer=function(a,b){var c;J++;c=n(function(){delete x[c];e(a)},b||0);x[c]=!0;return c};k.defer.cancel=function(a){return x[a]?(delete x[a],p(a),e(C),\n!0):!1}}function tf(){this.$get=[\"$window\",\"$log\",\"$sniffer\",\"$document\",function(a,b,d,c){return new og(a,c,b,d)}]}function uf(){this.$get=function(){function a(a,c){function e(a){a!==n&&(p?p===a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw N(\"$cacheFactory\")(\"iid\",a);var g=0,h=R({},c,{id:a}),k=S(),l=c&&c.capacity||Number.MAX_VALUE,m=S(),n=null,p=null;return b[a]={put:function(a,b){if(!z(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});\ne(c)}a in k||g++;k[a]=b;g>l&&this.remove(p.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===n&&(n=b.p);b===p&&(p=b.n);f(b.n,b.p);delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=S();g=0;m=S();n=p=null},destroy:function(){m=h=k=null;delete b[a]},info:function(){return R({},h,{size:g})}}}var b={};a.info=function(){var a={};q(b,function(b,e){a[e]=b.info()});return a};a.get=\nfunction(a){return b[a]};return a}}function Qf(){this.$get=[\"$cacheFactory\",function(a){return a(\"templates\")}]}function Mc(a,b){function d(a,b,c){var d=/^\\s*([@&<]|=(\\*?))(\\??)\\s*(\\w*)\\s*$/,e=S();q(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw da(\"iscp\",b,f,a,c?\"controller bindings definition\":\"isolate scope definition\");e[f]={mode:g[1][0],collection:\"*\"===g[2],optional:\"?\"===g[3],attrName:g[4]||f};g[4]&&(n[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==P(b))throw da(\"baddir\",\na);if(a!==a.trim())throw da(\"baddir\",a);}function e(a){var b=a.require||a.controller&&a.name;!K(b)&&I(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)});return b}var f={},g=/^\\s*directive:\\s*([\\w\\-]+)\\s+(.*)$/,h=/(([\\w\\-]+)(?::([^;]+))?;?)/,k=qe(\"ngSrc,ngSrcset,src,srcset\"),l=/^(?:(\\^\\^?)?(\\?)?(\\^\\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=S();this.directive=function D(b,d){Qa(b,\"directive\");H(b)?(c(b),vb(d,\"directiveFactory\"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+\"Directive\",\n[\"$injector\",\"$exceptionHandler\",function(a,c){var d=[];q(f[b],function(f,g){try{var h=a.invoke(f);F(h)?h={compile:ma(h)}:!h.compile&&h.link&&(h.compile=ma(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=e(h);h.restrict=h.restrict||\"EA\";h.$$moduleName=f.$$moduleName;d.push(h)}catch(k){c(k)}});return d}])),f[b].push(d)):q(b,Bc(D));return this};this.component=function(a,b){function c(a){function e(b){return F(b)||K(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:\nb}var f=b.template||b.templateUrl?b.template:\"\",g={controller:d,controllerAs:dd(b.controller)||b.controllerAs||\"$ctrl\",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:\"E\",require:b.require};q(b,function(a,b){\"$\"===b.charAt(0)&&(g[b]=a)});return g}var d=b.controller||function(){};q(b,function(a,b){\"$\"===b.charAt(0)&&(c[b]=a,F(d)&&(d[b]=a))});c.$inject=[\"$injector\"];return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return u(a)?\n(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return u(a)?(p=a,this):p};var x=10;this.onChangesTtl=function(a){return arguments.length?(x=a,this):x};var J=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(J=a,this):J};var t=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?\n(t=a,this):t};this.$get=[\"$injector\",\"$interpolate\",\"$exceptionHandler\",\"$templateRequest\",\"$parse\",\"$controller\",\"$rootScope\",\"$sce\",\"$animate\",\"$$sanitizeUri\",function(a,b,c,e,n,L,Q,A,G,v){function M(){try{if(!--qa)throw fa=void 0,da(\"infchng\",x);Q.$apply(function(){for(var a=[],b=0,c=fa.length;b<c;++b)try{fa[b]()}catch(d){a.push(d)}fa=void 0;if(a.length)throw a;})}finally{qa++}}function bc(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=\na}function r(a,b,c){pa.innerHTML=\"<span \"+b+\">\";b=pa.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function Ha(a,b){try{a.addClass(b)}catch(c){}}function $(a,b,c,d,e){a instanceof E||(a=E(a));for(var f=/\\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Ma&&k.nodeValue.match(f)&&Wc(k,a[g]=B.document.createElement(\"span\"))}var l=Aa(a,b,a,c,d,e);$.$$addScopeClass(a);var m=null;return function(b,c,d){vb(b,\"scope\");e&&e.needsNewScope&&(b=b.$parent.$new());\nd=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;f&&f.$$boundTransclude&&(f=f.$$boundTransclude);m||(m=(d=d&&d[0])?\"foreignobject\"!==ua(d)&&na.call(d).match(/SVG/)?\"svg\":\"html\":\"html\");d=\"html\"!==m?E(ba(m,E(\"<div>\").append(a).html())):c?Oa.clone.call(a):a;if(g)for(var h in g)d.data(\"$\"+h+\"Controller\",g[h].instance);$.$$addScopeInfo(d,b);c&&c(d,b);l&&l(b,d,d,f);return d}}function Aa(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,p,y,x;if(n)for(x=Array(c.length),\nm=0;m<h.length;m+=3)f=h[m],x[f]=c[f];else x=c;m=0;for(p=h.length;m<p;)k=x[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),$.$$addScopeInfo(E(k),l)):l=a,y=c.transcludeOnThisElement?ha(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ha(a,b):null,c(f,l,k,d,y)):f&&f(a,k.childNodes,void 0,e)}for(var h=[],k,l,m,p,n,y=0;y<a.length;y++){k=new bc;l=dc(a[y],[],k,0===y?d:void 0,e);(f=l.length?Sa(l,a[y],k,b,c,null,[],[],f):null)&&f.scope&&$.$$addScopeClass(k.$$element);k=f&&f.terminal||!(m=a[y].childNodes)||\n!m.length?null:Aa(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(y,f,k),p=!0,n=n||f;f=null}return p?g:null}function ha(a,b,c){function d(e,f,g,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var e=d.$$slots=S(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?ha(a,b.$$slots[f],c):null;return d}function dc(a,b,c,d,e){var f=c.$attr,g;switch(a.nodeType){case 1:g=ua(a);V(b,Ba(g),\"E\",d,\ne);for(var k,l,m,p,n=a.attributes,y=0,x=n&&n.length;y<x;y++){var A=!1,L=!1;k=n[y];l=k.name;m=U(k.value);k=Ba(l);(p=Da.test(k))&&(l=l.replace(ed,\"\").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));(k=k.match(Ea))&&Y(k[1])&&(A=l,L=l.substr(0,l.length-5)+\"end\",l=l.substr(0,l.length-6));k=Ba(l.toLowerCase());f[k]=l;if(p||!c.hasOwnProperty(k))c[k]=m,ad(a,k)&&(c[k]=!0);ma(a,b,m,k,p);V(b,k,\"A\",d,e,A,L)}\"input\"===g&&\"hidden\"===a.getAttribute(\"type\")&&a.setAttribute(\"autocomplete\",\"off\");\nif(!Ca)break;f=a.className;I(f)&&(f=f.animVal);if(H(f)&&\"\"!==f)for(;a=h.exec(f);)k=Ba(a[2]),V(b,k,\"C\",d,e)&&(c[k]=U(a[3])),f=f.substr(a.index+a[0].length);break;case Ma:if(11===Fa)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Ma;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);ga(b,a.nodeValue);break;case 8:if(!xa)break;N(a,b,c,d,e)}b.sort(ea);return b}function N(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Ba(f[1]);V(b,h,\"M\",d,e)&&(c[h]=U(f[2]))}}catch(k){}}\nfunction fd(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw da(\"uterdir\",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return E(d)}function gd(a,b,c){return function(d,e,f,g,h){e=fd(e[0],b,c);return a(d,e,f,g,h)}}function fc(a,b,c,d,e,f){var g;return a?$(b,c,d,e,f):function(){g||(g=$(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function Sa(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){if(a){c&&\n(a=gd(a,c,d));a.require=v.require;a.directiveName=w;if(A===v||v.$$isolateScope)a=ja(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=gd(b,c,d));b.require=v.require;b.directiveName=w;if(A===v||v.$$isolateScope)b=ja(b,{isolateScope:!0});k.push(b)}}function p(a,e,f,g,l){function m(a,b,c,d){var e;$a(a)||(d=c,c=b,b=a,a=void 0);J&&(e=D);c||(c=J?M.parent():M);if(d){var f=l.$$slots[d];if(f)return f(a,b,e,c,r);if(z(f))throw da(\"noslot\",d,wa(M));}else return l(a,b,e,c,r)}var n,v,t,G,Q,D,w,M;b===f?(g=d,M=d.$$element):\n(M=E(f),g=new bc(M,d));Q=e;A?G=e.$new(!0):y&&(Q=e.$parent);l&&(w=m,w.$$boundTransclude=l,w.isSlotFilled=function(a){return!!l.$$slots[a]});x&&(D=T(M,g,w,x,G,e,A));A&&($.$$addScopeInfo(M,G,!0,!(L&&(L===A||L===A.$$originalDirective))),$.$$addScopeClass(M,!0),G.$$isolateBindings=A.$$isolateBindings,v=ka(e,g,G,G.$$isolateBindings,A),v.removeWatches&&G.$on(\"$destroy\",v.removeWatches));for(n in D){v=x[n];t=D[n];var cc=v.$$bindings.bindToController;t.bindingInfo=t.identifier&&cc?ka(Q,g,t.instance,cc,v):\n{};var O=t();O!==t.instance&&(t.instance=O,M.data(\"$\"+v.name+\"Controller\",O),t.bindingInfo.removeWatches&&t.bindingInfo.removeWatches(),t.bindingInfo=ka(Q,g,t.instance,cc,v))}q(x,function(a,b){var c=a.require;a.bindToController&&!K(c)&&I(c)&&R(D[b].instance,kb(b,c,M,D))});q(D,function(a){var b=a.instance;if(F(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(F(b.$onInit))try{b.$onInit()}catch(e){c(e)}F(b.$doCheck)&&(Q.$watch(function(){b.$doCheck()}),b.$doCheck());F(b.$onDestroy)&&\nQ.$on(\"$destroy\",function(){b.$onDestroy()})});n=0;for(v=h.length;n<v;n++)t=h[n],la(t,t.isolateScope?G:e,M,g,t.require&&kb(t.directiveName,t.require,M,D),w);var r=e;A&&(A.template||null===A.templateUrl)&&(r=G);a&&a(r,f.childNodes,void 0,l);for(n=k.length-1;0<=n;n--)t=k[n],la(t,t.isolateScope?G:e,M,g,t.require&&kb(t.directiveName,t.require,M,D),w);q(D,function(a){a=a.instance;F(a.$postLink)&&a.$postLink()})}l=l||{};for(var n=-Number.MAX_VALUE,y=l.newScopeDirective,x=l.controllerDirectives,A=l.newIsolateScopeDirective,\nL=l.templateDirective,t=l.nonTlbTranscludeDirective,Q=!1,D=!1,J=l.hasElementTranscludeDirective,G=d.$$element=E(b),v,w,M,O=e,r,Ga=!1,Ha=!1,u,C=0,Aa=a.length;C<Aa;C++){v=a[C];var B=v.$$start,H=v.$$end;B&&(G=fd(b,B,H));M=void 0;if(n>v.priority)break;if(u=v.scope)v.templateUrl||(I(u)?(X(\"new/isolated scope\",A||y,v,G),A=v):X(\"new/isolated scope\",A,v,G)),y=y||v;w=v.name;if(!Ga&&(v.replace&&(v.templateUrl||v.template)||v.transclude&&!v.$$tlb)){for(u=C+1;Ga=a[u++];)if(Ga.transclude&&!Ga.$$tlb||Ga.replace&&\n(Ga.templateUrl||Ga.template)){Ha=!0;break}Ga=!0}!v.templateUrl&&v.controller&&(u=v.controller,x=x||S(),X(\"'\"+w+\"' controller\",x[w],v,G),x[w]=v);if(u=v.transclude)if(Q=!0,v.$$tlb||(X(\"transclusion\",t,v,G),t=v),\"element\"===u)J=!0,n=v.priority,M=G,G=d.$$element=E($.$$createComment(w,d[w])),b=G[0],ca(f,ta.call(M,0),b),M[0].$$parentNode=M[0].parentNode,O=fc(Ha,M,e,n,g&&g.name,{nonTlbTranscludeDirective:t});else{var ha=S();M=E($b(b)).contents();if(I(u)){M=[];var N=S(),P=S();q(u,function(a,b){var c=\"?\"===\na.charAt(0);a=c?a.substring(1):a;N[a]=b;ha[b]=null;P[b]=c});q(G.contents(),function(a){var b=N[Ba(ua(a))];b?(P[b]=!0,ha[b]=ha[b]||[],ha[b].push(a)):M.push(a)});q(P,function(a,b){if(!a)throw da(\"reqslot\",b);});for(var Sa in ha)ha[Sa]&&(ha[Sa]=fc(Ha,ha[Sa],e))}G.empty();O=fc(Ha,M,e,void 0,void 0,{needsNewScope:v.$$isolateScope||v.$$newScope});O.$$slots=ha}if(v.template)if(D=!0,X(\"template\",L,v,G),L=v,u=F(v.template)?v.template(G,d):v.template,u=za(u),v.replace){g=v;M=Yb.test(u)?hd(ba(v.templateNamespace,\nU(u))):[];b=M[0];if(1!==M.length||1!==b.nodeType)throw da(\"tplrt\",w,\"\");ca(f,G,b);Aa={$attr:{}};u=dc(b,[],Aa);var V=a.splice(C+1,a.length-(C+1));(A||y)&&W(u,A,y);a=a.concat(u).concat(V);Z(d,Aa);Aa=a.length}else G.html(u);if(v.templateUrl)D=!0,X(\"template\",L,v,G),L=v,v.replace&&(g=v),p=aa(a.splice(C,a.length-C),G,d,f,Q&&O,h,k,{controllerDirectives:x,newScopeDirective:y!==v&&y,newIsolateScopeDirective:A,templateDirective:L,nonTlbTranscludeDirective:t}),Aa=a.length;else if(v.compile)try{r=v.compile(G,\nd,O);var ec=v.$$originalDirective||v;F(r)?m(null,cb(ec,r),B,H):r&&m(cb(ec,r.pre),cb(ec,r.post),B,H)}catch(Y){c(Y,wa(G))}v.terminal&&(p.terminal=!0,n=Math.max(n,v.priority))}p.scope=y&&!0===y.scope;p.transcludeOnThisElement=Q;p.templateOnThisElement=D;p.transclude=O;l.hasElementTranscludeDirective=J;return p}function kb(a,b,c,d){var e;if(H(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f=\"?\"===f[2];\"^^\"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h=\"$\"+b+\"Controller\";e=\ng?c.inheritedData(h):c.data(h)}if(!e&&!f)throw da(\"ctreq\",b,a);}else if(K(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=kb(a,b[g],c,d);else I(b)&&(e={},q(b,function(b,f){e[f]=kb(a,b,c,d)}));return e||null}function T(a,b,c,d,e,f,g){var h=S(),k;for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},p=l.controller;\"@\"===p&&(p=b[l.name]);m=L(p,m,!0,l.controllerAs);h[l.name]=m;a.data(\"$\"+l.name+\"Controller\",m.instance)}return h}function W(a,b,c){for(var d=0,e=a.length;d<\ne;d++)a[d]=Ub(a[d],{$$isolateScope:b,$$newScope:c})}function V(b,e,g,h,k,l,m){if(e===k)return null;k=null;if(f.hasOwnProperty(e)){var p;e=a.get(e+\"Directive\");for(var n=0,y=e.length;n<y;n++)try{if(p=e[n],(z(h)||h>p.priority)&&-1!==p.restrict.indexOf(g)){l&&(p=Ub(p,{$$start:l,$$end:m}));if(!p.$$bindings){var x=p,v=p,A=p.name,t={isolateScope:null,bindToController:null};I(v.scope)&&(!0===v.bindToController?(t.bindToController=d(v.scope,A,!0),t.isolateScope={}):t.isolateScope=d(v.scope,A,!1));I(v.bindToController)&&\n(t.bindToController=d(v.bindToController,A,!0));if(I(t.bindToController)){var L=v.controller,G=v.controllerAs;if(!L)throw da(\"noctrl\",A);if(!dd(L,G))throw da(\"noident\",A);}var Q=x.$$bindings=t;I(Q.isolateScope)&&(p.$$isolateBindings=Q.isolateScope)}b.push(p);k=p}}catch(J){c(J)}}return k}function Y(b){if(f.hasOwnProperty(b))for(var c=a.get(b+\"Directive\"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function Z(a,b){var c=b.$attr,d=a.$attr;q(a,function(d,e){\"$\"!==e.charAt(0)&&(b[e]&&\nb[e]!==d&&(d+=(\"style\"===e?\";\":\" \")+b[e]),a.$set(e,d,!0,c[e]))});q(b,function(b,e){a.hasOwnProperty(e)||\"$\"===e.charAt(0)||(a[e]=b,\"class\"!==e&&\"style\"!==e&&(d[e]=c[e]))})}function aa(a,b,c,d,f,g,h,k){var l=[],m,p,n=b[0],y=a.shift(),x=Ub(y,{templateUrl:null,transclude:null,replace:null,$$originalDirective:y}),v=F(y.templateUrl)?y.templateUrl(b,c):y.templateUrl,A=y.templateNamespace;b.empty();e(v).then(function(e){var t,L;e=za(e);if(y.replace){e=Yb.test(e)?hd(ba(A,U(e))):[];t=e[0];if(1!==e.length||\n1!==t.nodeType)throw da(\"tplrt\",y.name,v);e={$attr:{}};ca(d,b,t);var G=dc(t,[],e);I(y.scope)&&W(G,!0);a=G.concat(a);Z(c,e)}else t=n,b.html(e);a.unshift(x);m=Sa(a,t,c,f,b,y,g,h,k);q(d,function(a,c){a===t&&(d[c]=b[0])});for(p=Aa(b[0].childNodes,f);l.length;){e=l.shift();L=l.shift();var Q=l.shift(),D=l.shift(),G=b[0];if(!e.$$destroyed){if(L!==n){var J=L.className;k.hasElementTranscludeDirective&&y.replace||(G=$b(t));ca(Q,E(L),G);Ha(E(G),J)}L=m.transcludeOnThisElement?ha(e,m.transclude,D):D;m(p,e,G,d,\nL)}}l=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(l?l.push(b,c,d,a):(m.transcludeOnThisElement&&(a=ha(b,m.transclude,e)),m(p,b,c,d,a)))}}function ea(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function X(a,b,c,d){function e(a){return a?\" (module: \"+a+\")\":\"\"}if(b)throw da(\"multidir\",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,wa(d));}function ga(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;\nb&&$.$$addBindingClass(a);return function(a,c){var e=c.parent();b||$.$$addBindingClass(e);$.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ba(a,b){a=P(a||\"html\");switch(a){case \"svg\":case \"math\":var c=B.document.createElement(\"div\");c.innerHTML=\"<\"+a+\">\"+b+\"</\"+a+\">\";return c.childNodes[0].childNodes;default:return b}}function ia(a,b){if(\"srcdoc\"===b)return A.HTML;var c=ua(a);if(\"src\"===b||\"ngSrc\"===b){if(-1===[\"img\",\"video\",\"audio\",\"source\",\"track\"].indexOf(c))return A.RESOURCE_URL}else if(\"xlinkHref\"===\nb||\"form\"===c&&\"action\"===b)return A.RESOURCE_URL}function ma(a,c,d,e,f){var g=ia(a,e);f=k[e]||f;var h=b(d,!0,g,f);if(h){if(\"multiple\"===e&&\"select\"===ua(a))throw da(\"selmulti\",wa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,k){c=k.$$observers||(k.$$observers=S());if(m.test(e))throw da(\"nodomevents\");var l=k[e];l!==d&&(h=l&&b(l,!0,g,f),d=l);h&&(k[e]=h(a),(c[e]||(c[e]=[])).$$inter=!0,(k.$$observers&&k.$$observers[e].$$scope||a).$watch(h,function(a,b){\"class\"===e&&a!==b?k.$updateClass(a,\nb):k.$set(e,a)}))}}}})}}function ca(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]===d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=B.document.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);E.hasData(d)&&(E.data(c,E.data(d)),E(d).off(\"$destroy\"));E.cleanData(a.querySelectorAll(\"*\"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function ja(a,\nb){return R(function(){return a.apply(null,arguments)},a,b)}function la(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,wa(d))}}function ka(a,c,d,e,f){function g(b,c,e){F(d.$onChanges)&&c!==e&&(fa||(a.$$postDigest(M),fa=[]),m||(m={},fa.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Ib(e,c))}function h(){d.$onChanges(m);m=void 0}var k=[],l={},m;q(e,function(e,h){var m=e.attrName,p=e.optional,x,v,t,A;switch(e.mode){case \"@\":p||sa.call(c,m)||(d[h]=c[m]=void 0);c.$observe(m,function(a){if(H(a)||Ia(a))g(h,\na,d[h]),d[h]=a});c.$$observers[m].$$scope=a;x=c[m];H(x)?d[h]=b(x)(a):Ia(x)&&(d[h]=x);l[h]=new Ib(gc,d[h]);break;case \"=\":if(!sa.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;v=n(c[m]);A=v.literal?oa:function(a,b){return a===b||a!==a&&b!==b};t=v.assign||function(){x=d[h]=v(a);throw da(\"nonassign\",c[m],m,f.name);};x=d[h]=v(a);p=function(b){A(b,d[h])||(A(b,x)?t(a,b=d[h]):d[h]=b);return x=b};p.$stateful=!0;p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,v.literal);k.push(p);break;\ncase \"<\":if(!sa.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;v=n(c[m]);var L=d[h]=v(a);l[h]=new Ib(gc,d[h]);p=a.$watch(v,function(a,b){if(b===a){if(b===L)return;b=L}g(h,a,b);d[h]=a},v.literal);k.push(p);break;case \"&\":v=c.hasOwnProperty(m)?n(c[m]):C;if(v===C&&p)break;d[h]=function(b){return v(a,b)}}});return{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var ra=/^\\w/,pa=B.document.createElement(\"div\"),xa=J,Ca=t,qa=x,fa;bc.prototype={$normalize:Ba,\n$addClass:function(a){a&&0<a.length&&G.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&G.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=id(a,b);c&&c.length&&G.addClass(this.$$element,c);(c=id(b,a))&&c.length&&G.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=ad(this.$$element[0],a),g=jd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Jc(a,\"-\"));f=ua(this.$$element);if(\"a\"===\nf&&(\"href\"===a||\"xlinkHref\"===a)||\"img\"===f&&\"src\"===a)this[a]=b=v(b,\"src\"===a);else if(\"img\"===f&&\"srcset\"===a&&u(b)){for(var f=\"\",g=U(b),k=/(\\s+\\d+x\\s*,|\\s+\\d+w\\s*,|\\s+,|,\\s+)/,k=/\\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+v(U(g[m]),!0),f=f+(\" \"+U(g[m+1]));g=U(g[2*l]).split(/\\s/);f+=v(U(g[0]),!0);2===g.length&&(f+=\" \"+U(g[1]));this[a]=b=f}!1!==d&&(null===b||z(b)?this.$$element.removeAttr(e):ra.test(e)?this.$$element.attr(e,b):r(this.$$element[0],e,b));(a=\nthis.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=S()),e=d[a]||(d[a]=[]);e.push(b);Q.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||z(c[a])||b(c[a])});return function(){ab(e,b)}}};var va=b.startSymbol(),ya=b.endSymbol(),za=\"{{\"===va&&\"}}\"===ya?Za:function(a){return a.replace(/\\{\\{/g,va).replace(/}}/g,ya)},Da=/^ngAttr[A-Z]/,Ea=/^(.+)Start$/;$.$$addBindingInfo=p?function(a,b){var c=a.data(\"$binding\")||[];K(b)?c=\nc.concat(b):c.push(b);a.data(\"$binding\",c)}:C;$.$$addBindingClass=p?function(a){Ha(a,\"ng-binding\")}:C;$.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?\"$isolateScopeNoTemplate\":\"$isolateScope\":\"$scope\",b)}:C;$.$$addScopeClass=p?function(a,b){Ha(a,b?\"ng-isolate-scope\":\"ng-scope\")}:C;$.$$createComment=function(a,b){var c=\"\";p&&(c=\" \"+(a||\"\")+\": \",b&&(c+=b+\" \"));return B.document.createComment(c)};return $}]}function Ib(a,b){this.previousValue=a;this.currentValue=b}function Ba(a){return fb(a.replace(ed,\n\"\"))}function id(a,b){var d=\"\",c=a.split(/\\s+/),e=b.split(/\\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g===e[h])continue a;d+=(0<d.length?\" \":\"\")+g}return d}function hd(a){a=E(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&pg.call(a,b,1);return a}function dd(a,b){if(b&&H(b))return b;if(H(a)){var d=kd.exec(a);if(d)return d[3]}}function vf(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,c){Qa(b,\"controller\");I(b)?R(a,\nb):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=[\"$injector\",\"$window\",function(d,c){function e(a,b,c,d){if(!a||!I(a.$scope))throw N(\"$controller\")(\"noscp\",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;h=!0===h;k&&H(k)&&(n=k);if(H(f)){k=f.match(kd);if(!k)throw qg(\"ctrlfmt\",f);m=k[1];n=n||k[3];f=a.hasOwnProperty(m)?a[m]:Lc(g.$scope,m,!0)||(b?Lc(c,m,!0):void 0);Pa(f,m,!0)}if(h)return h=(K(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),R(function(){var a=\nd.invoke(f,l,g,m);a!==l&&(I(a)||F(a))&&(l=a,n&&e(g,n,l,m||f.name));return l},{instance:l,identifier:n});l=d.instantiate(f,g,m);n&&e(g,n,l,m||f.name);return l}}]}function wf(){this.$get=[\"$window\",function(a){return E(a.document)}]}function xf(){this.$get=[\"$log\",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function hc(a){return I(a)?ba(a)?a.toISOString():db(a):a}function Cf(){this.$get=function(){return function(a){if(!a)return\"\";var b=[];Ac(a,function(a,c){null===a||z(a)||(K(a)?\nq(a,function(a){b.push(ca(c)+\"=\"+ca(hc(a)))}):b.push(ca(c)+\"=\"+ca(hc(a))))});return b.join(\"&\")}}}function Df(){this.$get=function(){return function(a){function b(a,e,f){null===a||z(a)||(K(a)?q(a,function(a,c){b(a,e+\"[\"+(I(a)?c:\"\")+\"]\")}):I(a)&&!ba(a)?Ac(a,function(a,c){b(a,e+(f?\"\":\"[\")+c+(f?\"\":\"]\"))}):d.push(ca(e)+\"=\"+ca(hc(a))))}if(!a)return\"\";var d=[];b(a,\"\",!0);return d.join(\"&\")}}}function ic(a,b){if(H(a)){var d=a.replace(rg,\"\").trim();if(d){var c=b(\"Content-Type\");(c=c&&0===c.indexOf(ld))||\n(c=(c=d.match(sg))&&tg[c[0]].test(d));c&&(a=Ec(d))}}return a}function md(a){var b=S(),d;H(a)?q(a.split(\"\\n\"),function(a){d=a.indexOf(\":\");var e=P(U(a.substr(0,d)));a=U(a.substr(d+1));e&&(b[e]=b[e]?b[e]+\", \"+a:a)}):I(a)&&q(a,function(a,d){var f=P(d),g=U(a);f&&(b[f]=b[f]?b[f]+\", \"+g:g)});return b}function nd(a){var b;return function(d){b||(b=md(a));return d?(d=b[P(d)],void 0===d&&(d=null),d):b}}function od(a,b,d,c){if(F(c))return c(a,b,d);q(c,function(c){a=c(a,b,d)});return a}function Bf(){var a=this.defaults=\n{transformResponse:[ic],transformRequest:[function(a){return I(a)&&\"[object File]\"!==na.call(a)&&\"[object Blob]\"!==na.call(a)&&\"[object FormData]\"!==na.call(a)?db(a):a}],headers:{common:{Accept:\"application/json, text/plain, */*\"},post:ia(jc),put:ia(jc),patch:ia(jc)},xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",paramSerializer:\"$httpParamSerializer\"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return u(a)?(d=!!a,\nthis):d};var c=this.interceptors=[];this.$get=[\"$httpBackend\",\"$$cookieReader\",\"$cacheFactory\",\"$rootScope\",\"$q\",\"$injector\",function(e,f,g,h,k,l){function m(b){function c(a,b){for(var d=0,e=b.length;d<e;){var f=b[d++],g=b[d++];a=a.then(f,g)}b.length=0;return a}function e(a,b){var c,d={};q(a,function(a,e){F(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}function f(a){var b=R({},a);b.data=od(a.data,a.headers,a.status,g.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}if(!I(b))throw N(\"$http\")(\"badreq\",\nb);if(!H(b.url))throw N(\"$http\")(\"badreq\",b.url);var g=R({method:\"get\",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);g.headers=function(b){var c=a.headers,d=R({},b.headers),f,g,h,c=R({},c.common,c[P(b.method)]);a:for(f in c){g=P(f);for(h in d)if(P(h)===g)continue a;d[f]=c[f]}return e(d,ia(b))}(b);g.method=xb(g.method);g.paramSerializer=H(g.paramSerializer)?l.get(g.paramSerializer):g.paramSerializer;var h=[],m=[],p=k.when(g);q(J,function(a){(a.request||\na.requestError)&&h.unshift(a.request,a.requestError);(a.response||a.responseError)&&m.push(a.response,a.responseError)});p=c(p,h);p=p.then(function(b){var c=b.headers,d=od(b.data,nd(c),void 0,b.transformRequest);z(d)&&q(c,function(a,b){\"content-type\"===P(b)&&delete c[b]});z(b.withCredentials)&&!z(a.withCredentials)&&(b.withCredentials=a.withCredentials);return n(b,d).then(f,f)});p=c(p,m);d?(p.success=function(a){Pa(a,\"fn\");p.then(function(b){a(b.data,b.status,b.headers,g)});return p},p.error=function(a){Pa(a,\n\"fn\");p.then(null,function(b){a(b.data,b.status,b.headers,g)});return p}):(p.success=pd(\"success\"),p.error=pd(\"error\"));return p}function n(c,d){function g(a){if(a){var c={};q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}});return c}}function l(a,c,d,e){function f(){n(c,a,d,e)}A&&(200<=a&&300>a?A.put(M,[a,c,md(d),e]):A.remove(M));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function n(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?L.resolve:L.reject)({data:a,\nstatus:b,headers:nd(d),config:c,statusText:e})}function J(a){n(a.data,a.status,ia(a.headers()),a.statusText)}function O(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var L=k.defer(),Q=L.promise,A,G,v=c.headers,M=p(c.url,c.paramSerializer(c.params));m.pendingRequests.push(c);Q.then(O,O);!c.cache&&!a.cache||!1===c.cache||\"GET\"!==c.method&&\"JSONP\"!==c.method||(A=I(c.cache)?c.cache:I(a.cache)?a.cache:x);A&&(G=A.get(M),u(G)?G&&F(G.then)?G.then(J,J):K(G)?n(G[1],G[0],ia(G[2]),\nG[3]):n(G,200,{},\"OK\"):A.put(M,Q));z(G)&&((G=qd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(v[c.xsrfHeaderName||a.xsrfHeaderName]=G),e(c.method,M,d,l,v,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers)));return Q}function p(a,b){0<b.length&&(a+=(-1===a.indexOf(\"?\")?\"?\":\"&\")+b);return a}var x=g(\"$http\");a.paramSerializer=H(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var J=[];q(c,function(a){J.unshift(H(a)?l.get(a):l.invoke(a))});m.pendingRequests=\n[];(function(a){q(arguments,function(a){m[a]=function(b,c){return m(R({},c||{},{method:a,url:b}))}})})(\"get\",\"delete\",\"head\",\"jsonp\");(function(a){q(arguments,function(a){m[a]=function(b,c,d){return m(R({},d||{},{method:a,url:b,data:c}))}})})(\"post\",\"put\",\"patch\");m.defaults=a;return m}]}function Ff(){this.$get=function(){return function(){return new B.XMLHttpRequest}}}function Ef(){this.$get=[\"$browser\",\"$jsonpCallbacks\",\"$document\",\"$xhrFactory\",function(a,b,d,c){return ug(a,c,a.defer,b,d[0])}]}\nfunction ug(a,b,d,c,e){function f(a,b,d){a=a.replace(\"JSON_CALLBACK\",b);var f=e.createElement(\"script\"),m=null;f.type=\"text/javascript\";f.src=a;f.async=!0;m=function(a){f.removeEventListener(\"load\",m,!1);f.removeEventListener(\"error\",m,!1);e.body.removeChild(f);f=null;var g=-1,x=\"unknown\";a&&(\"load\"!==a.type||c.wasCalled(b)||(a={type:\"error\"}),x=a.type,g=\"error\"===a.type?404:200);d&&d(g,x)};f.addEventListener(\"load\",m,!1);f.addEventListener(\"error\",m,!1);e.body.appendChild(f);return m}return function(e,\nh,k,l,m,n,p,x,J,t){function s(){ib&&ib();w&&w.abort()}function D(b,c,e,f,g){u(L)&&d.cancel(L);ib=w=null;b(c,e,f,g);a.$$completeOutstandingRequest(C)}a.$$incOutstandingRequestCount();h=h||a.url();if(\"jsonp\"===P(e))var y=c.createCallback(h),ib=f(h,y,function(a,b){var d=200===a&&c.getResponse(y);D(l,a,d,\"\",b);c.removeCallback(y)});else{var w=b(e,h);w.open(e,h,!0);q(m,function(a,b){u(a)&&w.setRequestHeader(b,a)});w.onload=function(){var a=w.statusText||\"\",b=\"response\"in w?w.response:w.responseText,c=\n1223===w.status?204:w.status;0===c&&(c=b?200:\"file\"===Ca(h).protocol?404:0);D(l,c,b,w.getAllResponseHeaders(),a)};e=function(){D(l,-1,null,null,\"\")};w.onerror=e;w.onabort=e;w.ontimeout=e;q(J,function(a,b){w.addEventListener(b,a)});q(t,function(a,b){w.upload.addEventListener(b,a)});p&&(w.withCredentials=!0);if(x)try{w.responseType=x}catch(O){if(\"json\"!==x)throw O;}w.send(z(k)?null:k)}if(0<n)var L=d(s,n);else n&&F(n.then)&&n.then(s)}}function zf(){var a=\"{{\",b=\"}}\";this.startSymbol=function(b){return b?\n(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=[\"$parse\",\"$exceptionHandler\",\"$sce\",function(d,c,e){function f(a){return\"\\\\\\\\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function k(f,k,p,n){function D(a){try{var b=a;a=p?e.getTrusted(p,b):e.valueOf(b);var d;if(n&&!u(a))d=a;else if(null==a)d=\"\";else{switch(typeof a){case \"string\":break;case \"number\":a=\"\"+a;break;default:a=db(a)}d=a}return d}catch(g){c(Ka.interr(f,\ng))}}if(!f.length||-1===f.indexOf(a)){var y;k||(k=g(f),y=ma(k),y.exp=f,y.expressions=[],y.$$watchDelegate=h);return y}n=!!n;var q,w,O=0,L=[],Q=[];y=f.length;for(var A=[],G=[];O<y;)if(-1!==(q=f.indexOf(a,O))&&-1!==(w=f.indexOf(b,q+l)))O!==q&&A.push(g(f.substring(O,q))),O=f.substring(q+l,w),L.push(O),Q.push(d(O,D)),O=w+m,G.push(A.length),A.push(\"\");else{O!==y&&A.push(g(f.substring(O)));break}p&&1<A.length&&Ka.throwNoconcat(f);if(!k||L.length){var v=function(a){for(var b=0,c=L.length;b<c;b++){if(n&&\nz(a[b]))return;A[G[b]]=a[b]}return A.join(\"\")};return R(function(a){var b=0,d=L.length,e=Array(d);try{for(;b<d;b++)e[b]=Q[b](a);return v(e)}catch(g){c(Ka.interr(f,g))}},{exp:f,expressions:L,$$watchDelegate:function(a,b){var c;return a.$watchGroup(Q,function(d,e){var f=v(d);F(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),\"g\"),p=new RegExp(b.replace(/./g,f),\"g\");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function Af(){this.$get=\n[\"$rootScope\",\"$window\",\"$q\",\"$$q\",\"$browser\",function(a,b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,x):f(s)}var p=4<arguments.length,x=p?ta.call(arguments,4):[],J=b.setInterval,t=b.clearInterval,s=0,D=u(m)&&!m,y=(D?c:d).defer(),q=y.promise;l=u(l)?l:0;q.$$intervalId=J(function(){D?e.defer(n):a.$evalAsync(n);y.notify(s++);0<l&&s>=l&&(y.resolve(s),t(q.$$intervalId),delete g[q.$$intervalId]);D||a.$apply()},k);g[q.$$intervalId]=y;return q}var g={};f.cancel=function(a){return a&&a.$$intervalId in\ng?(g[a.$$intervalId].reject(\"canceled\"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1};return f}]}function kc(a){a=a.split(\"/\");for(var b=a.length;b--;)a[b]=tb(a[b]);return a.join(\"/\")}function rd(a,b){var d=Ca(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=aa(d.port)||vg[d.protocol]||null}function sd(a,b){if(wg.test(a))throw lb(\"badpath\",a);var d=\"/\"!==a.charAt(0);d&&(a=\"/\"+a);var c=Ca(a);b.$$path=decodeURIComponent(d&&\"/\"===c.pathname.charAt(0)?c.pathname.substring(1):\nc.pathname);b.$$search=Hc(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&\"/\"!==b.$$path.charAt(0)&&(b.$$path=\"/\"+b.$$path)}function ka(a,b){if(0===b.lastIndexOf(a,0))return b.substr(a.length)}function Ja(a){var b=a.indexOf(\"#\");return-1===b?a:a.substr(0,b)}function mb(a){return a.replace(/(#.+)|#$/,\"$1\")}function lc(a,b,d){this.$$html5=!0;d=d||\"\";rd(a,this);this.$$parse=function(a){var d=ka(b,a);if(!H(d))throw lb(\"ipthprfx\",a,b);sd(d,this);this.$$path||(this.$$path=\"/\");this.$$compose()};\nthis.$$compose=function(){var a=Wb(this.$$search),d=this.$$hash?\"#\"+tb(this.$$hash):\"\";this.$$url=kc(this.$$path)+(a?\"?\"+a:\"\")+d;this.$$absUrl=b+this.$$url.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&\"#\"===e[0])return this.hash(e.slice(1)),!0;var f,g;u(f=ka(a,c))?(g=f,g=d&&u(f=ka(d,f))?b+(ka(\"/\",f)||f):a+g):u(f=ka(b,c))?g=b+f:b===c+\"/\"&&(g=b);g&&this.$$parse(g);return!!g}}function mc(a,b,d){rd(a,this);this.$$parse=function(c){var e=ka(a,c)||ka(b,c),f;z(e)||\"#\"!==e.charAt(0)?this.$$html5?f=\ne:(f=\"\",z(e)&&(a=c,this.replace())):(f=ka(d,e),z(f)&&(f=e));sd(f,this);c=this.$$path;var e=a,g=/^\\/[A-Z]:(\\/.*)/;0===f.lastIndexOf(e,0)&&(f=f.replace(e,\"\"));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Wb(this.$$search),e=this.$$hash?\"#\"+tb(this.$$hash):\"\";this.$$url=kc(this.$$path)+(b?\"?\"+b:\"\")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:\"\")};this.$$parseLinkUrl=function(b,d){return Ja(a)===Ja(b)?(this.$$parse(b),!0):!1}}function td(a,b,d){this.$$html5=\n!0;mc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&\"#\"===e[0])return this.hash(e.slice(1)),!0;var f,g;a===Ja(c)?f=c:(g=ka(b,c))?f=a+d+g:b===c+\"/\"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Wb(this.$$search),e=this.$$hash?\"#\"+tb(this.$$hash):\"\";this.$$url=kc(this.$$path)+(b?\"?\"+b:\"\")+e;this.$$absUrl=a+d+this.$$url}}function Jb(a){return function(){return this[a]}}function ud(a,b){return function(d){if(z(d))return this[a];this[a]=b(d);this.$$compose();return this}}\nfunction Hf(){var a=\"\",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a};this.html5Mode=function(a){return Ia(a)?(b.enabled=a,this):I(a)?(Ia(a.enabled)&&(b.enabled=a.enabled),Ia(a.requireBase)&&(b.requireBase=a.requireBase),Ia(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};this.$get=[\"$rootScope\",\"$browser\",\"$sniffer\",\"$rootElement\",\"$window\",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),\nl.$$state=f,g;}}function k(a,b){d.$broadcast(\"$locationChangeSuccess\",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var n=c.url(),p;if(b.enabled){if(!m&&b.requireBase)throw lb(\"nobase\");p=n.substring(0,n.indexOf(\"/\",n.indexOf(\"//\")+2))+(m||\"/\");m=e.history?lc:td}else p=Ja(n),m=mc;var x=p.substr(0,Ja(p).lastIndexOf(\"/\")+1);l=new m(p,x,\"#\"+a);l.$$parseLinkUrl(n,n);l.$$state=c.state();var J=/^\\s*(javascript|mailto):/i;f.on(\"click\",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&\n2!==a.which&&2!==a.button){for(var e=E(a.target);\"a\"!==ua(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop(\"href\"),k=e.attr(\"href\")||e.attr(\"xlink:href\");I(h)&&\"[object SVGAnimatedString]\"===h.toString()&&(h=Ca(h.animVal).href);J.test(h)||!h||e.attr(\"target\")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!==c.url()&&(d.$apply(),g.angular[\"ff-684208-preventDefault\"]=!0))}});mb(l.absUrl())!==mb(n)&&c.url(l.absUrl(),!0);var t=!0;c.onUrlChange(function(a,\nb){z(ka(x,a))?g.location.href=a:(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,f;a=mb(a);l.$$parse(a);l.$$state=b;f=d.$broadcast(\"$locationChangeStart\",a,c,b,e).defaultPrevented;l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(t=!1,k(c,e)))}),d.$$phase||d.$digest())});d.$watch(function(){var a=mb(c.url()),b=mb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;if(t||m)t=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast(\"$locationChangeStart\",\nb,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))});l.$$replace=!1});return l}]}function If(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a};this.$get=[\"$window\",function(d){function c(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?\"Error: \"+a.message+\"\\n\"+a.stack:a.stack:a.sourceURL&&(a=a.message+\"\\n\"+a.sourceURL+\":\"+a.line));return a}function e(a){var b=d.console||\n{},e=b[a]||b.log||C;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];q(arguments,function(b){a.push(c(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?\"\":b)}}return{log:e(\"log\"),info:e(\"info\"),warn:e(\"warn\"),error:e(\"error\"),debug:function(){var c=e(\"debug\");return function(){a&&c.apply(b,arguments)}}()}}]}function Ta(a,b){if(\"__defineGetter__\"===a||\"__defineSetter__\"===a||\"__lookupGetter__\"===a||\"__lookupSetter__\"===a||\"__proto__\"===a)throw ea(\"isecfld\",b);return a}function xg(a){return a+\n\"\"}function qa(a,b){if(a){if(a.constructor===a)throw ea(\"isecfn\",b);if(a.window===a)throw ea(\"isecwindow\",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ea(\"isecdom\",b);if(a===Object)throw ea(\"isecobj\",b);}return a}function vd(a,b){if(a){if(a.constructor===a)throw ea(\"isecfn\",b);if(a===yg||a===zg||a===Ag)throw ea(\"isecff\",b);}}function Kb(a,b){if(a&&(a===wd||a===xd||a===yd||a===zd||a===Ad||a===Bd||a===Bg||a===Cg||a===Lb||a===Dg||a===Cd||a===Eg))throw ea(\"isecaf\",b);}function Fg(a,b){return\"undefined\"!==\ntypeof a?a:b}function Dd(a,b){return\"undefined\"===typeof a?b:\"undefined\"===typeof b?a:a+b}function W(a,b){var d,c,e;switch(a.type){case r.Program:d=!0;q(a.body,function(a){W(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case r.Literal:a.constant=!0;a.toWatch=[];break;case r.UnaryExpression:W(a.argument,b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case r.BinaryExpression:W(a.left,b);W(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);\nbreak;case r.LogicalExpression:W(a.left,b);W(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case r.ConditionalExpression:W(a.test,b);W(a.alternate,b);W(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case r.Identifier:a.constant=!1;a.toWatch=[a];break;case r.MemberExpression:W(a.object,b);a.computed&&W(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=\n[a];break;case r.CallExpression:d=e=a.filter?!b(a.callee.name).$stateful:!1;c=[];q(a.arguments,function(a){W(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=e?c:[a];break;case r.AssignmentExpression:W(a.left,b);W(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case r.ArrayExpression:d=!0;c=[];q(a.elements,function(a){W(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=c;break;case r.ObjectExpression:d=\n!0;c=[];q(a.properties,function(a){W(a.value,b);d=d&&a.value.constant&&!a.computed;a.value.constant||c.push.apply(c,a.value.toWatch)});a.constant=d;a.toWatch=c;break;case r.ThisExpression:a.constant=!1;a.toWatch=[];break;case r.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Ed(a){if(1===a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Fd(a){return a.type===r.Identifier||a.type===r.MemberExpression}function Gd(a){if(1===a.body.length&&Fd(a.body[0].expression))return{type:r.AssignmentExpression,\nleft:a.body[0].expression,right:{type:r.NGValueParameter},operator:\"=\"}}function Hd(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===r.Literal||a.body[0].expression.type===r.ArrayExpression||a.body[0].expression.type===r.ObjectExpression)}function Id(a,b){this.astBuilder=a;this.$filter=b}function Jd(a,b){this.astBuilder=a;this.$filter=b}function Mb(a){return\"constructor\"===a}function nc(a){return F(a.valueOf)?a.valueOf():Gg.call(a)}function Jf(){var a=S(),b=S(),d={\"true\":!0,\n\"false\":!1,\"null\":null,undefined:void 0},c,e;this.addLiteral=function(a,b){d[a]=b};this.setIdentifierFns=function(a,b){c=a;e=b;return this};this.$get=[\"$filter\",function(f){function g(c,d,e){var g,k,J;e=e||D;switch(typeof c){case \"string\":J=c=c.trim();var A=e?b:a;g=A[J];if(!g){\":\"===c.charAt(0)&&\":\"===c.charAt(1)&&(k=!0,c=c.substring(2));g=e?s:t;var G=new oc(g);g=(new pc(G,f,g)).parse(c);g.constant?g.$$watchDelegate=p:k?g.$$watchDelegate=g.literal?n:m:g.inputs&&(g.$$watchDelegate=l);e&&(g=h(g));A[J]=\ng}return x(g,d);case \"function\":return x(c,d);default:return x(C,d)}}function h(a){function b(c,d,e,f){var g=D;D=!0;try{return a(c,d,e,f)}finally{D=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=h(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=h(a.inputs[c]);b.inputs=a.inputs;return b}function k(a,b){return null==a||null==b?a===b:\"object\"===typeof a&&(a=nc(a),\"object\"===typeof a)?!1:a===b||a!==a&&b!==b}function l(a,b,c,d,\ne){var f=d.inputs,g;if(1===f.length){var h=k,f=f[0];return a.$watch(function(a){var b=f(a);k(b,h)||(g=d(a,void 0,void 0,[b]),h=b&&nc(b));return g},b,c,e)}for(var l=[],m=[],p=0,n=f.length;p<n;p++)l[p]=k,m[p]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var h=f[c](a);if(b||(b=!k(h,l[c])))m[c]=h,l[c]=h&&nc(h)}b&&(g=d(a,void 0,void 0,m));return g},b,c,e)}function m(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;F(b)&&b.apply(this,arguments);u(a)&&\nd.$$postDigest(function(){u(f)&&e()})},c)}function n(a,b,c,d){function e(a){var b=!0;q(a,function(a){u(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;F(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function p(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function x(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==n&&c!==m?function(c,e,f,g){f=d&&g?g[0]:a(c,e,f,g);return b(f,c,e)}:function(c,d,e,f){e=a(c,\nd,e,f);c=b(e,c,d);return u(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==l?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=l,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]);return c}var J=ya().noUnsafeEval,t={csp:J,expensiveChecks:!1,literals:pa(d),isIdentifierStart:F(c)&&c,isIdentifierContinue:F(e)&&e},s={csp:J,expensiveChecks:!0,literals:pa(d),isIdentifierStart:F(c)&&c,isIdentifierContinue:F(e)&&e},D=!1;g.$$runningExpensiveChecks=function(){return D};return g}]}function Lf(){this.$get=\n[\"$rootScope\",\"$exceptionHandler\",function(a,b){return Kd(function(b){a.$evalAsync(b)},b)}]}function Mf(){this.$get=[\"$browser\",\"$exceptionHandler\",function(a,b){return Kd(function(b){a.defer(b)},b)}]}function Kd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending;c.processScheduled=!1;c.pending=void 0;for(var f=0,g=e.length;f<g;++f){d=e[f][0];a=e[f][c.status];\ntry{F(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=new d}var g=N(\"$q\",TypeError),h=function(){var a=new f;a.resolve=c(a,a.resolve);a.reject=c(a,a.reject);a.notify=c(a,a.notify);return a};R(d.prototype,{then:function(a,b,c){if(z(a)&&z(b)&&z(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&e(this.$$state);return d.promise},\"catch\":function(a){return this.then(null,\na)},\"finally\":function(a,b){return this.then(function(b){return l(b,!0,a)},function(b){return l(b,!1,a)},b)}});R(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g(\"qcycle\",a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{if(I(a)||F(a))g=a&&a.then;F(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=\n1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;e(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0];a=d[f][3];try{e.notify(F(a)?a(c):c)}catch(h){b(h)}}})}});var k=function(a,b){var c=new f;b?c.resolve(a):c.reject(a);return c.promise},\nl=function(a,b,c){var d=null;try{F(c)&&(d=c())}catch(e){return k(e,!1)}return d&&F(d.then)?d.then(function(){return k(a,b)},function(a){return k(a,!1)}):k(a,b)},m=function(a,b,c,d){var e=new f;e.resolve(a);return e.promise.then(b,c,d)},n=function(a){if(!F(a))throw g(\"norslvr\",a);var b=new f;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};n.prototype=d.prototype;n.defer=h;n.reject=function(a){var b=new f;b.reject(a);return b.promise};n.when=m;n.resolve=m;n.all=function(a){var b=\nnew f,c=0,d=K(a)?[]:{};q(a,function(a,e){c++;m(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};n.race=function(a){var b=h();q(a,function(a){m(a).then(b.resolve,b.reject)});return b.promise};return n}function Vf(){this.$get=[\"$window\",\"$timeout\",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,\ne=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function Kf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++sb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=N(\"$rootScope\"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=\n[\"$exceptionHandler\",\"$parse\",\"$browser\",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===Fa&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++sb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount=\n{};this.$$watchersCount=0;this.$$isolateBindings=null}function n(a){if(D.$$phase)throw d(\"inprog\",D.$$phase);D.$$phase=a}function p(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function x(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function J(){}function t(){for(;w.length;)try{w.shift()()}catch(a){f(a)}e=null}function s(){null===e&&(e=h.defer(function(){D.$apply(t)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?\n(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!==this)&&d.$on(\"$destroy\",k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:J,get:f,exp:e||a,eq:!!d};c=null;F(b)||(l.fn=C);k||(k=h.$$watchers=[]);k.unshift(l);p(this,\n1);return function(){0<=ab(k,l)&&p(h,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});q(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},\n$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!z(e)){if(I(e))if(ra(e))for(f!==n&&(f=n,s=f.length=0,l++),a=e.length,s!==a&&(l++,f.length=s=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},s=0,l++);a=0;for(b in e)sa.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(s++,f[b]=g,l++));if(s>a)for(b in l++,f)sa.call(e,b)||(s--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=\ng(a,c),n=[],p={},x=!0,s=0;return this.$watch(m,function(){x?(x=!1,b(e,e,d)):b(e,h,d);if(k)if(I(e))if(ra(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sa.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,p,x,s,q=b,w,u=[],z,C;n(\"$digest\");h.$$checkUrlChange();this===D&&null!==e&&(h.defer.cancel(e),t());c=null;do{s=!1;w=this;for(p=0;p<y.length;p++){try{C=y[p],C.scope.$eval(C.expression,C.locals)}catch(B){f(B)}c=null}y.length=0;a:do{if(p=w.$$watchers)for(x=\np.length;x--;)try{if(a=p[x])if(m=a.get,(g=m(w))!==(k=a.last)&&!(a.eq?oa(g,k):X(g)&&X(k)))s=!0,c=a,a.last=a.eq?pa(g,null):g,l=a.fn,l(g,k===J?g:k,w),5>q&&(z=4-q,u[z]||(u[z]=[]),u[z].push({msg:F(a.exp)?\"fn: \"+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}));else if(a===c){s=!1;break a}}catch(E){f(E)}if(!(p=w.$$watchersCount&&w.$$childHead||w!==this&&w.$$nextSibling))for(;w!==this&&!(p=w.$$nextSibling);)w=w.$parent}while(w=p);if((s||y.length)&&!q--)throw D.$$phase=null,d(\"infdig\",b,u);}while(s||\ny.length);for(D.$$phase=null;O<r.length;)try{r[O++]()}catch(H){f(H)}r.length=O=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast(\"$destroy\");this.$$destroyed=!0;this===D&&h.$$applicationDestroyed();p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)x(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);\nthis.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=C;this.$on=this.$watch=this.$watchGroup=function(){return C};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){D.$$phase||y.length||h.defer(function(){y.length&&D.$digest()});y.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){r.push(a)},$apply:function(a){try{n(\"$apply\");\ntry{return this.$eval(a)}finally{D.$$phase=null}}catch(b){f(b)}finally{try{D.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&w.push(b);a=g(a);s()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,x(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,\ng=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=bb([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},\ndefaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=bb([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var D=new m,y=D.$$asyncQueue=[],r=D.$$postDigestQueue=[],w=D.$$applyAsyncQueue=[],O=0;return D}]}function De(){var a=\n/^\\s*(https?|ftp|mailto|tel|file):/,b=/^\\s*((https?|ftp|file|blob):|data:image\\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f;f=Ca(d).href;return\"\"===f||f.match(e)?d:\"unsafe:\"+f}}}function Hg(a){if(\"self\"===a)return a;if(H(a)){if(-1<a.indexOf(\"***\"))throw fa(\"iwcard\",a);a=Ld(a).replace(\"\\\\*\\\\*\",\".*\").replace(\"\\\\*\",\"[^:/.?&;]*\");return new RegExp(\"^\"+\na+\"$\")}if(Ya(a))return new RegExp(\"^\"+a.source+\"$\");throw fa(\"imatcher\");}function Md(a){var b=[];u(a)&&q(a,function(a){b.push(Hg(a))});return b}function Of(){this.SCE_CONTEXTS=la;var a=[\"self\"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=Md(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=Md(a));return b};this.$get=[\"$injector\",function(d){function c(a,b){return\"self\"===a?qd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=\nfunction(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw fa(\"unsafe\");};d.has(\"$sanitize\")&&(f=d.get(\"$sanitize\"));var g=e(),h={};h[la.HTML]=e(g);h[la.CSS]=e(g);h[la.URL]=e(g);h[la.JS]=e(g);h[la.RESOURCE_URL]=e(h[la.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw fa(\"icontext\",a,b);if(null===b||z(b)||\n\"\"===b)return b;if(\"string\"!==typeof b)throw fa(\"itype\",a);return new c(b)},getTrusted:function(d,e){if(null===e||z(e)||\"\"===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===la.RESOURCE_URL){var g=Ca(e.toString()),n,p,x=!1;n=0;for(p=a.length;n<p;n++)if(c(a[n],g)){x=!0;break}if(x)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){x=!1;break}if(x)return e;throw fa(\"insecurl\",e.toString());}if(d===la.HTML)return f(e);throw fa(\"unsafe\");},valueOf:function(a){return a instanceof\ng?a.$$unwrapTrustedValue():a}}}]}function Nf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=[\"$parse\",\"$sceDelegate\",function(b,d){if(a&&8>Fa)throw fa(\"iequirks\");var c=ia(la);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Za);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,\nf=c.getTrusted,g=c.trustAs;q(la,function(a,b){var d=P(b);c[fb(\"parse_as_\"+d)]=function(b){return e(a,b)};c[fb(\"get_trusted_\"+d)]=function(b){return f(a,b)};c[fb(\"trust_as_\"+d)]=function(b){return g(a,b)}});return c}]}function Pf(){this.$get=[\"$window\",\"$document\",function(a,b){var d={},c=!(a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=aa((/android (\\d+)/.exec(P((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||\n{}).userAgent),g=b[0]||{},h,k=/^(Moz|webkit|ms)(?=[A-Z])/,l=g.body&&g.body.style,m=!1,n=!1;if(l){for(var p in l)if(m=k.exec(p)){h=m[0];h=h[0].toUpperCase()+h.substr(1);break}h||(h=\"WebkitOpacity\"in l&&\"webkit\");m=!!(\"transition\"in l||h+\"Transition\"in l);n=!!(\"animation\"in l||h+\"Animation\"in l);!e||m&&n||(m=H(l.webkitTransition),n=H(l.webkitAnimation))}return{history:!(!c||4>e||f),hasEvent:function(a){if(\"input\"===a&&11>=Fa)return!1;if(z(d[a])){var b=g.createElement(\"div\");d[a]=\"on\"+a in b}return d[a]},\ncsp:ya(),vendorPrefix:h,transitions:m,animations:n,android:e}}]}function Rf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=[\"$templateCache\",\"$http\",\"$q\",\"$sce\",function(b,d,c,e){function f(g,h){f.totalPendingRequests++;if(!H(g)||z(b.get(g)))g=e.getTrustedResourceUrl(g);var k=d.defaults&&d.defaults.transformResponse;K(k)?k=k.filter(function(a){return a!==ic}):k===ic&&(k=null);return d.get(g,R({cache:b,transformResponse:k},a))[\"finally\"](function(){f.totalPendingRequests--}).then(function(a){b.put(g,\na.data);return a.data},function(a){if(!h)throw Ig(\"tpload\",g,a.status,a.statusText);return c.reject(a)})}f.totalPendingRequests=0;return f}]}function Sf(){this.$get=[\"$rootScope\",\"$browser\",\"$location\",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName(\"ng-binding\");var g=[];q(a,function(a){var c=ga.element(a).data(\"$binding\");c&&q(c,function(c){d?(new RegExp(\"(^|\\\\s)\"+Ld(b)+\"(\\\\s|\\\\||$)\")).test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,\nb,d){for(var g=[\"ng-\",\"data-ng-\",\"ng\\\\:\"],h=0;h<g.length;++h){var k=a.querySelectorAll(\"[\"+g[h]+\"model\"+(d?\"=\":\"*=\")+'\"'+b+'\"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Tf(){this.$get=[\"$rootScope\",\"$browser\",\"$q\",\"$$q\",\"$exceptionHandler\",function(a,b,d,c,e){function f(f,k,l){F(f)||(l=k,k=f,f=C);var m=ta.call(arguments,3),n=u(l)&&!l,p=(n?c:d).defer(),\nx=p.promise,q;q=b.defer(function(){try{p.resolve(f.apply(null,m))}catch(b){p.reject(b),e(b)}finally{delete g[x.$$timeoutId]}n||a.$apply()},k);x.$$timeoutId=q;g[q]=p;return x}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject(\"canceled\"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function Ca(a){Fa&&(V.setAttribute(\"href\",a),a=V.href);V.setAttribute(\"href\",a);return{href:V.href,protocol:V.protocol?V.protocol.replace(/:$/,\"\"):\"\",host:V.host,\nsearch:V.search?V.search.replace(/^\\?/,\"\"):\"\",hash:V.hash?V.hash.replace(/^#/,\"\"):\"\",hostname:V.hostname,port:V.port,pathname:\"/\"===V.pathname.charAt(0)?V.pathname:\"/\"+V.pathname}}function qd(a){a=H(a)?Ca(a):a;return a.protocol===Nd.protocol&&a.host===Nd.host}function Uf(){this.$get=ma(B)}function Od(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e=\"\";return function(){var a,g,h,k,l;a=d.cookie||\"\";if(a!==e)for(e=a,a=e.split(\"; \"),c={},h=0;h<a.length;h++)g=\na[h],k=g.indexOf(\"=\"),0<k&&(l=b(g.substring(0,k)),z(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function Yf(){this.$get=Od}function Tc(a){function b(d,c){if(I(d)){var e={};q(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+\"Filter\",c)}this.register=b;this.$get=[\"$injector\",function(a){return function(b){return a.get(b+\"Filter\")}}];b(\"currency\",Pd);b(\"date\",Qd);b(\"filter\",Jg);b(\"json\",Kg);b(\"limitTo\",Lg);b(\"lowercase\",Mg);b(\"number\",Rd);b(\"orderBy\",Sd);b(\"uppercase\",Ng)}function Jg(){return function(a,\nb,d,c){if(!ra(a)){if(null==a)return a;throw N(\"filter\")(\"notarray\",a);}c=c||\"$\";var e;switch(qc(b)){case \"function\":break;case \"boolean\":case \"null\":case \"number\":case \"string\":e=!0;case \"object\":b=Og(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Og(a,b,d,c){var e=I(a)&&d in a;!0===b?b=oa:F(b)||(b=function(a,b){if(z(a))return!1;if(null===a||null===b)return a===b;if(I(b)||I(a)&&!Cc(a))return!1;a=P(\"\"+a);b=P(\"\"+b);return-1!==a.indexOf(b)});return function(f){return e&&\n!I(f)?La(f,a[d],b,d,!1):La(f,a,b,d,c)}}function La(a,b,d,c,e,f){var g=qc(a),h=qc(b);if(\"string\"===h&&\"!\"===b.charAt(0))return!La(a,b.substring(1),d,c,e);if(K(a))return a.some(function(a){return La(a,b,d,c,e)});switch(g){case \"object\":var k;if(e){for(k in a)if(\"$\"!==k.charAt(0)&&La(a[k],b,d,c,!0))return!0;return f?!1:La(a,b,d,c,!1)}if(\"object\"===h){for(k in b)if(f=b[k],!F(f)&&!z(f)&&(g=k===c,!La(g?a:a[k],f,d,c,g,g)))return!1;return!0}return d(a,b);case \"function\":return!1;default:return d(a,b)}}function qc(a){return null===\na?\"null\":typeof a}function Pd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){z(c)&&(c=b.CURRENCY_SYM);z(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Td(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\\u00A4/g,c)}}function Rd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Td(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Pg(a){var b=0,d,c,e,f,g;-1<(c=a.indexOf(Ud))&&(a=a.replace(Ud,\"\"));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=\na.length);for(e=0;a.charAt(e)===rc;e++);if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===rc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Vd&&(d=d.splice(0,Vd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function Qg(a,b,d,c){var e=a.d,f=e.length-a.i;b=z(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),\na.i++;e.unshift(1);a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Td(a,b,d,c,e){if(!H(a)&&!Z(a)||isNaN(a))return\"\";var f=!isFinite(a),g=!1,h=Math.abs(a)+\"\",k=\"\";if(f)k=\"\\u221e\";else{g=Pg(h);Qg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h,k.length):(f=k,k=[0]);h=[];for(k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,\nk.length).join(\"\"));k.length>b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(\"\"));k.length&&h.unshift(k.join(\"\"));k=h.join(d);f.length&&(k+=c+f.join(\"\"));e&&(k+=\"e+\"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Nb(a,b,d,c){var e=\"\";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e=\"-\");for(a=\"\"+a;a.length<b;)a=rc+a;d&&(a=a.substr(a.length-b));return e+a}function Y(a,b,d,c,e){d=d||0;return function(f){f=f[\"get\"+a]();if(0<d||f>-d)f+=d;0===f&&-12===d&&(f=12);return Nb(f,b,c,e)}}function nb(a,\nb,d){return function(c,e){var f=c[\"get\"+a](),g=xb((d?\"STANDALONE\":\"\")+(b?\"SHORT\":\"\")+a);return e[g][f]}}function Wd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Xd(a){return function(b){var d=Wd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Nb(b,a)}}function sc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Qd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,\nh=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11]));h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3]));f=aa(b[4]||0)-f;g=aa(b[5]||0)-g;h=aa(b[6]||0);b=Math.round(1E3*parseFloat(\"0.\"+(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\\d{4})-?(\\d\\d)-?(\\d\\d)(?:T(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:\\.(\\d+))?)?)?(Z|([+-])(\\d\\d):?(\\d\\d))?)?$/;return function(c,d,f){var g=\"\",h=[],k,l;d=d||\"mediumDate\";d=a.DATETIME_FORMATS[d]||d;H(c)&&(c=Rg.test(c)?aa(c):b(c));Z(c)&&\n(c=new Date(c));if(!ba(c)||!isFinite(c.getTime()))return c;for(;d;)(l=Sg.exec(d))?(h=bb(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=Fc(f,m),c=Vb(c,f,!0));q(h,function(b){k=Tg[b];g+=k?k(c,a.DATETIME_FORMATS,m):\"''\"===b?\"'\":b.replace(/(^'|'$)/g,\"\").replace(/''/g,\"'\")});return g}}function Kg(){return function(a,b){z(b)&&(b=2);return db(a,b)}}function Lg(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):aa(b);if(X(b))return a;Z(a)&&(a=a.toString());if(!ra(a))return a;\nd=!d||isNaN(d)?0:aa(d);d=0>d?Math.max(0,a.length+d):d;return 0<=b?tc(a,d,d+b):0===d?tc(a,b,a.length):tc(a,Math.max(0,d+b),d)}}function tc(a,b,d){return H(a)?a.slice(b,d):ta.call(a,b,d)}function Sd(a){function b(b){return b.map(function(b){var c=1,d=Za;if(F(b))d=b;else if(H(b)){if(\"+\"===b.charAt(0)||\"-\"===b.charAt(0))c=\"-\"===b.charAt(0)?-1:1,b=b.substring(1);if(\"\"!==b&&(d=a(b),d.constant))var e=d(),d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case \"number\":case \"boolean\":case \"string\":return!0;\ndefault:return!1}}function c(a,b){var c=0,d=a.type,k=b.type;if(d===k){var k=a.value,l=b.value;\"string\"===d?(k=k.toLowerCase(),l=l.toLowerCase()):\"object\"===d&&(I(k)&&(k=a.index),I(l)&&(l=b.index));k!==l&&(c=k<l?-1:1)}else c=d<k?-1:1;return c}return function(a,f,g,h){if(null==a)return a;if(!ra(a))throw N(\"orderBy\")(\"notarray\",a);K(f)||(f=[f]);0===f.length&&(f=[\"+\"]);var k=b(f),l=g?-1:1,m=F(h)?h:c;a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:\"number\",index:b},predicateValues:k.map(function(c){var e=\nc.get(a);c=typeof e;if(null===e)c=\"string\",e=\"null\";else if(\"object\"===c)a:{if(F(e.valueOf)&&(e=e.valueOf(),d(e)))break a;Cc(e)&&(e=e.toString(),d(e))}return{value:e,type:c,index:b}})}});a.sort(function(a,b){for(var c=0,d=k.length;c<d;c++){var e=m(a.predicateValues[c],b.predicateValues[c]);if(e)return e*k[c].descending*l}return m(a.tieBreaker,b.tieBreaker)*l});return a=a.map(function(a){return a.value})}}function Ua(a){F(a)&&(a={link:a});a.restrict=a.restrict||\"AC\";return ma(a)}function Yd(a,b,d,\nc,e){var f=this,g=[];f.$error={};f.$$success={};f.$pending=void 0;f.$name=e(b.name||b.ngForm||\"\")(d);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;f.$$parentForm=Ob;f.$rollbackViewValue=function(){q(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){q(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Qa(a.$name,\"input\");g.push(a);a.$name&&(f[a.$name]=a);a.$$parentForm=f};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=\na;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];q(f.$pending,function(b,c){f.$setValidity(c,null,a)});q(f.$error,function(b,c){f.$setValidity(c,null,a)});q(f.$$success,function(b,c){f.$setValidity(c,null,a)});ab(g,a);a.$$parentForm=Ob};Zd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(ab(d,c),0===d.length&&delete a[b])},$animate:c});f.$setDirty=function(){c.removeClass(a,Va);c.addClass(a,\nPb);f.$dirty=!0;f.$pristine=!1;f.$$parentForm.$setDirty()};f.$setPristine=function(){c.setClass(a,Va,Pb+\" ng-submitted\");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;q(g,function(a){a.$setPristine()})};f.$setUntouched=function(){q(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){c.addClass(a,\"ng-submitted\");f.$submitted=!0;f.$$parentForm.$setSubmitted()}}function uc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Wa(a,b,d,c,e,f){var g=P(b[0].type);if(!e.android){var h=\n!1;b.on(\"compositionstart\",function(){h=!0});b.on(\"compositionend\",function(){h=!1;l()})}var k,l=function(a){k&&(f.defer.cancel(k),k=null);if(!h){var e=b.val();a=a&&a.type;\"password\"===g||d.ngTrim&&\"false\"===d.ngTrim||(e=U(e));(c.$viewValue!==e||\"\"===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent(\"input\"))b.on(\"input\",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};b.on(\"keydown\",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||\nm(a,this,this.value)});if(e.hasEvent(\"paste\"))b.on(\"paste cut\",m)}b.on(\"change\",l);if($d[g]&&c.$$hasNativeValidators&&g===d.type)b.on(\"keydown wheel mousedown\",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?\"\":c.$viewValue;b.val()!==a&&b.val(a)}}function Qb(a,b){return function(d,c){var e,f;if(ba(d))return d;if(H(d)){'\"'===d.charAt(0)&&'\"'===d.charAt(d.length-\n1)&&(d=d.substring(1,d.length-1));if(Ug.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function ob(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&\na.getTime()!==a.getTime())}function p(a){return u(a)&&!ba(a)?d(a)||void 0:a}vc(e,f,g,h);Wa(e,f,g,h,k,l);var x=h&&h.$options&&h.$options.timezone,q;h.$$parserName=a;h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a))return a=d(a,q),x&&(a=Vb(a,x)),a});h.$formatters.push(function(a){if(a&&!ba(a))throw pb(\"datefmt\",a);if(n(a))return(q=a)&&x&&(q=Vb(q,x,!0)),m(\"date\")(a,c,x);q=null;return\"\"});if(u(g.min)||g.ngMin){var t;h.$validators.min=function(a){return!n(a)||z(t)||d(a)>=t};g.$observe(\"min\",\nfunction(a){t=p(a);h.$validate()})}if(u(g.max)||g.ngMax){var s;h.$validators.max=function(a){return!n(a)||z(s)||d(a)<=s};g.$observe(\"max\",function(a){s=p(a);h.$validate()})}}}function vc(a,b,d,c){(c.$$hasNativeValidators=I(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop(\"validity\")||{};return c.badInput||c.typeMismatch?void 0:a})}function ae(a){a.$$parserName=\"number\";a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(Vg.test(b))return parseFloat(b)});a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!Z(b))throw pb(\"numfmt\",\nb);b=b.toString()}return b})}function qb(a){u(a)&&!Z(a)&&(a=parseFloat(a));return X(a)?void 0:a}function wc(a){var b=a.toString(),d=b.indexOf(\".\");return-1===d?-1<a&&1>a&&(a=/e-(\\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function be(a,b,d,c,e){if(u(c)){a=a(c);if(!a.constant)throw pb(\"constexpr\",d,c);return a(b)}return e}function xc(a,b){a=\"ngClass\"+a;return[\"$animate\",function(d){function c(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e===b[m])continue a;c.push(e)}return c}\nfunction e(a){var b=[];return K(a)?(q(a,function(a){b=b.concat(e(a))}),b):H(a)?a.split(\" \"):I(a)?(q(a,function(a,c){a&&(b=b.concat(c.split(\" \")))}),b):a}return{restrict:\"AC\",link:function(f,g,h){function k(a){a=l(a,1);h.$addClass(a)}function l(a,b){var c=g.data(\"$classCounts\")||S(),d=[];q(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data(\"$classCounts\",c);return d.join(\" \")}function m(a,b){var e=c(b,a),f=c(a,b),e=l(e,1),f=l(f,-1);e&&e.length&&d.addClass(g,e);f&&f.length&&\nd.removeClass(g,f)}function n(a){if(!0===b||(f.$index&1)===b){var c=e(a||[]);if(!p)k(c);else if(!oa(a,p)){var d=e(p);m(d,c)}}p=K(a)?a.map(function(a){return ia(a)}):ia(a)}var p;f.$watch(h[a],n,!0);h.$observe(\"class\",function(b){n(f.$eval(h[a]))});\"ngClass\"!==a&&f.$watch(\"$index\",function(c,d){var g=c&1;if(g!==(d&1)){var m=e(f.$eval(h[a]));g===b?k(m):(g=l(m,-1),h.$removeClass(g))}})}}}]}function Zd(a){function b(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,\nc){a=a?\"-\"+Jc(a,\"-\"):\"\";b(rb+a,!0===c);b(ce+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[ce]=!(f[rb]=e.hasClass(rb));c.$setValidity=function(a,e,f){z(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),de(c.$pending)&&(c.$pending=void 0));Ia(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f));c.$pending?(b(ee,!0),c.$valid=c.$invalid=void 0,d(\"\",null)):(b(ee,!1),c.$valid=de(c.$error),\nc.$invalid=!c.$valid,d(\"\",c.$valid));e=c.$pending&&c.$pending[a]?void 0:c.$error[a]?!1:c.$$success[a]?!0:null;d(a,e);c.$$parentForm.$setValidity(a,e,c)}}function de(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Wg=/^\\/(.+)\\/([a-z]*)$/,sa=Object.prototype.hasOwnProperty,P=function(a){return H(a)?a.toLowerCase():a},xb=function(a){return H(a)?a.toUpperCase():a},Fa,E,xa,ta=[].slice,pg=[].splice,Xg=[].push,na=Object.prototype.toString,Dc=Object.getPrototypeOf,va=N(\"ng\"),ga=B.angular||\n(B.angular={}),Xb,sb=0;Fa=B.document.documentMode;var X=Number.isNaN||function(a){return a!==a};C.$inject=[];Za.$inject=[];var K=Array.isArray,pe=/^\\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\\]$/,U=function(a){return H(a)?a.trim():a},Ld=function(a){return a.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,\"\\\\$1\").replace(/\\x08/g,\"\\\\x08\")},ya=function(){if(!u(ya.rules)){var a=B.document.querySelector(\"[ng-csp]\")||B.document.querySelector(\"[data-ng-csp]\");if(a){var b=\na.getAttribute(\"ng-csp\")||a.getAttribute(\"data-ng-csp\");ya.rules={noUnsafeEval:!b||-1!==b.indexOf(\"no-unsafe-eval\"),noInlineStyle:!b||-1!==b.indexOf(\"no-inline-style\")}}else{a=ya;try{new Function(\"\"),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return ya.rules},ub=function(){if(u(ub.name_))return ub.name_;var a,b,d=Na.length,c,e;for(b=0;b<d;++b)if(c=Na[b],a=B.document.querySelector(\"[\"+c.replace(\":\",\"\\\\:\")+\"jq]\")){e=a.getAttribute(c+\"jq\");break}return ub.name_=e},se=/:/g,Na=[\"ng-\",\n\"data-ng-\",\"ng:\",\"x-ng-\"],ve=function(a){if(!a.currentScript)return!0;var b=a.currentScript.getAttribute(\"src\"),d=a.createElement(\"a\");d.href=b;b=d.protocol;if(a.location.protocol===b)return!0;switch(b){case \"http:\":case \"https:\":case \"ftp:\":case \"blob:\":case \"file:\":case \"data:\":return!0;default:return!1}}(B.document),ye=/[A-Z]/g,Kc=!1,Ma=3,Ce={full:\"1.5.9\",major:1,minor:5,dot:9,codeName:\"timeturning-lockdown\"};T.expando=\"ng339\";var hb=T.cache={},dg=1;T._data=function(a){return this.cache[a[this.expando]]||\n{}};var Zf=/([:\\-_]+(.))/g,$f=/^moz([A-Z])/,Bb={mouseleave:\"mouseout\",mouseenter:\"mouseover\"},Zb=N(\"jqLite\"),cg=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,Yb=/<|&#?\\w+;/,ag=/<([\\w:-]+)/,bg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,ja={option:[1,'<select multiple=\"multiple\">',\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\n\"\"]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var ig=B.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Oa=T.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;\"complete\"===B.document.readyState?B.setTimeout(b):(this.on(\"DOMContentLoaded\",b),T(B).on(\"load\",b))},toString:function(){var a=[];q(this,function(b){a.push(\"\"+b)});return\"[\"+a.join(\", \")+\"]\"},eq:function(a){return 0<=a?E(this[a]):E(this[this.length+\na])},length:0,push:Xg,sort:[].sort,splice:[].splice},Hb={};q(\"multiple selected checked disabled readOnly required open\".split(\" \"),function(a){Hb[P(a)]=a});var bd={};q(\"input select option textarea button form details\".split(\" \"),function(a){bd[a]=!0});var jd={ngMinlength:\"minlength\",ngMaxlength:\"maxlength\",ngMin:\"min\",ngMax:\"max\",ngPattern:\"pattern\"};q({data:ac,removeData:gb,hasData:function(a){for(var b in hb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)gb(a[b])}},\nfunction(a,b){T[b]=a});q({data:ac,inheritedData:Fb,scope:function(a){return E.data(a,\"$scope\")||Fb(a.parentNode||a,[\"$isolateScope\",\"$scope\"])},isolateScope:function(a){return E.data(a,\"$isolateScope\")||E.data(a,\"$isolateScopeNoTemplate\")},controller:Zc,injector:function(a){return Fb(a,\"$injector\")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Cb,css:function(a,b,d){b=fb(b);if(u(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Ma&&2!==c&&8!==c)if(c=P(b),\nHb[c])if(u(d))d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c));else return a[b]||(a.attributes.getNamedItem(b)||C).specified?c:void 0;else if(u(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?void 0:a},prop:function(a,b,d){if(u(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(z(d)){var c=a.nodeType;return 1===c||c===Ma?a.textContent:\"\"}a.textContent=d}a.$dv=\"\";return a}(),val:function(a,b){if(z(b)){if(a.multiple&&\"select\"===ua(a)){var d=\n[];q(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(z(b))return a.innerHTML;zb(a,!0);a.innerHTML=b},empty:$c},function(a,b){T.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==$c&&z(2===a.length&&a!==Cb&&a!==Zc?b:c)){if(I(b)){for(e=0;e<g;e++)if(a===ac)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=z(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<\ng;e++)a(this[e],b,c);return this}});q({removeData:gb,on:function(a,b,d,c){if(u(c))throw Zb(\"onargs\");if(Uc(a)){c=Ab(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=fg(a,e));c=0<=b.indexOf(\" \")?b.split(\" \"):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,\"$destroy\"===b||g||a.addEventListener(b,f,!1));h.push(d)};g--;)b=c[g],Bb[b]?(h(Bb[b],hg),h(b,void 0,!0)):h(b)}},off:Yc,one:function(a,b,d){a=E(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,\nb){var d,c=a.parentNode;zb(a);q(new T(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];q(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new T(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new T(b),function(b){a.insertBefore(b,d)})}},\nwrap:function(a,b){Wc(a,E(b).eq(0).clone()[0])},remove:Gb,detach:function(a){Gb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new T(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}},addClass:Eb,removeClass:Db,toggleClass:function(a,b,d){b&&q(b.split(\" \"),function(b){var e=d;z(e)&&(e=!Cb(a,b));(e?Eb:Db)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?\na.getElementsByTagName(b):[]},clone:$b,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=Ab(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:C,type:f,target:a},b.type&&(c=R(c,b)),b=ia(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||\nb.apply(a,e)})}},function(a,b){T.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)z(f)?(f=a(this[g],b,c,e),u(f)&&(f=E(f))):Xc(f,a(this[g],b,c,e));return u(f)?f:this};T.prototype.bind=T.prototype.on;T.prototype.unbind=T.prototype.off});Ra.prototype={put:function(a,b){this[za(a,this.nextUid)]=b},get:function(a){return this[za(a,this.nextUid)]},remove:function(a){var b=this[a=za(a,this.nextUid)];delete this[a];return b}};var Xf=[function(){this.$get=[function(){return Ra}]}],kg=/^([^\\(]+?)=>/,\nlg=/^[^\\(]*\\(\\s*([^\\)]*)\\)/m,Yg=/,/,Zg=/^\\s*(_?)(\\S+?)\\1\\s*$/,jg=/((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg,Da=N(\"$injector\");eb.$$annotate=function(a,b,d){var c;if(\"function\"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw H(d)&&d||(d=a.name||mg(a)),Da(\"strictdi\",d);b=cd(a);q(b[1].split(Yg),function(a){a.replace(Zg,function(a,b,d){c.push(d)})})}a.$inject=c}}else K(a)?(b=a.length-1,Pa(a[b],\"fn\"),c=a.slice(0,b)):Pa(a,\"fn\",!0);return c};var fe=N(\"$animate\"),pf=function(){this.$get=C},qf=function(){var a=\nnew Ra,b=[];this.$get=[\"$$AnimateRunner\",\"$rootScope\",function(d,c){function e(a,b,c){var d=!1;b&&(b=H(b)?b.split(\" \"):K(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=ng(b.attr(\"class\")),e=\"\",f=\"\";q(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?\" \":\"\")+b:f+=(f.length?\" \":\"\")+b)});q(b,function(a){e&&Eb(a,e);f&&Db(a,f)});a.remove(b)}});b.length=0}return{enabled:C,on:C,off:C,pin:C,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);\nk.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},nf=[\"$provide\",function(a){var b=this;this.$$registeredAnimations=Object.create(null);this.register=function(d,c){if(d&&\".\"!==d.charAt(0))throw fe(\"notcsel\",d);var e=d+\"-animation\";b.$$registeredAnimations[d.substr(1)]=e;a.factory(e,c)};this.classNameFilter=function(a){if(1===arguments.length&&\n(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\\s+|\\/)ng-animate(\\s+|\\/)/.test(this.$$classNameFilter.toString()))throw fe(\"nongcls\",\"ng-animate\");return this.$$classNameFilter};this.$get=[\"$$animateQueue\",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},\nenter:function(e,f,g,h){f=f&&E(f);g=g&&E(g);f=f||g.parent();b(e,f,g);return a.push(e,\"enter\",Ea(h))},move:function(e,f,g,h){f=f&&E(f);g=g&&E(g);f=f||g.parent();b(e,f,g);return a.push(e,\"move\",Ea(h))},leave:function(b,c){return a.push(b,\"leave\",Ea(c),function(){b.remove()})},addClass:function(b,c,g){g=Ea(g);g.addClass=jb(g.addclass,c);return a.push(b,\"addClass\",g)},removeClass:function(b,c,g){g=Ea(g);g.removeClass=jb(g.removeClass,c);return a.push(b,\"removeClass\",g)},setClass:function(b,c,g,h){h=Ea(h);\nh.addClass=jb(h.addClass,c);h.removeClass=jb(h.removeClass,g);return a.push(b,\"setClass\",h)},animate:function(b,c,g,h,k){k=Ea(k);k.from=k.from?R(k.from,c):c;k.to=k.to?R(k.to,g):g;k.tempClasses=jb(k.tempClasses,h||\"ng-inline-animate\");return a.push(b,\"animate\",k)}}}]}],sf=function(){this.$get=[\"$$rAF\",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},rf=function(){this.$get=\n[\"$q\",\"$sniffer\",\"$$animateAsyncRun\",\"$document\",\"$timeout\",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===\nthis._state?a():this._doneCallbacks.push(a)},progress:C,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},\"catch\":function(a){return this.getPromise()[\"catch\"](a)},\"finally\":function(a){return this.getPromise()[\"finally\"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&\nthis.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},of=function(){this.$get=[\"$$rAF\",\"$q\",\"$$AnimateRunner\",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=\nnull);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=pa(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},da=N(\"$compile\"),gc=new function(){};Mc.$inject=[\"$provide\",\"$$sanitizeUriProvider\"];Ib.prototype.isFirstChange=function(){return this.previousValue===gc};var ed=/^((?:x|data)[:\\-_])/i,qg=N(\"$controller\"),kd=/^(\\S+)(\\s+as\\s+([\\w$]+))?$/,\nyf=function(){this.$get=[\"$document\",function(a){return function(b){b?!b.nodeType&&b instanceof E&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},ld=\"application/json\",jc={\"Content-Type\":ld+\";charset=utf-8\"},sg=/^\\[|^\\{(?!\\{)/,tg={\"[\":/]$/,\"{\":/}$/},rg=/^\\)\\]\\}',?\\n/,$g=N(\"$http\"),pd=function(a){return function(){throw $g(\"legacy\",a);}},Ka=ga.$interpolateMinErr=N(\"$interpolate\");Ka.throwNoconcat=function(a){throw Ka(\"noconcat\",a);};Ka.interr=function(a,b){return Ka(\"interr\",a,b.toString())};var Gf=\nfunction(){this.$get=[\"$window\",function(a){function b(a){var b=function(a){b.data=a;b.called=!0};b.id=a;return b}var d=a.angular.callbacks,c={};return{createCallback:function(a){a=\"_\"+(d.$$counter++).toString(36);var f=\"angular.callbacks.\"+a,g=b(a);c[f]=d[a]=g;return f},wasCalled:function(a){return c[a].called},getResponse:function(a){return c[a].data},removeCallback:function(a){delete d[c[a].id];delete c[a]}}}]},ah=/^([^\\?#]*)(\\?([^#]*))?(#(.*))?$/,vg={http:80,https:443,ftp:21},lb=N(\"$location\"),\nwg=/^\\s*[\\\\/]{2,}/,bh={$$absUrl:\"\",$$html5:!1,$$replace:!1,absUrl:Jb(\"$$absUrl\"),url:function(a){if(z(a))return this.$$url;var b=ah.exec(a);(b[1]||\"\"===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||\"\"===a)&&this.search(b[3]||\"\");this.hash(b[5]||\"\");return this},protocol:Jb(\"$$protocol\"),host:Jb(\"$$host\"),port:Jb(\"$$port\"),path:ud(\"$$path\",function(a){a=null!==a?a.toString():\"\";return\"/\"===a.charAt(0)?a:\"/\"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(H(a)||\nZ(a))a=a.toString(),this.$$search=Hc(a);else if(I(a))a=pa(a,{}),q(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw lb(\"isrcharg\");break;default:z(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:ud(\"$$hash\",function(a){return null!==a?a.toString():\"\"}),replace:function(){this.$$replace=!0;return this}};q([td,mc,lc],function(a){a.prototype=Object.create(bh);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==lc||!this.$$html5)throw lb(\"nostate\");\nthis.$$state=z(b)?null:b;return this}});var ea=N(\"$parse\"),wd=[].constructor,xd=(!1).constructor,yd=Function.constructor,zd=(0).constructor,Ad={}.constructor,Bd=\"\".constructor,Bg=wd.prototype,Cg=xd.prototype,Lb=yd.prototype,Dg=zd.prototype,Cd=Ad.prototype,Eg=Bd.prototype,yg=Lb.call,zg=Lb.apply,Ag=Lb.bind,Gg=Cd.valueOf,Rb=S();q(\"+ - * / % === !== == != < > <= >= && || ! = |\".split(\" \"),function(a){Rb[a]=!0});var ch={n:\"\\n\",f:\"\\f\",r:\"\\r\",t:\"\\t\",v:\"\\v\",\"'\":\"'\",'\"':'\"'},oc=function(a){this.options=a};\noc.prototype={constructor:oc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'\"'===a||\"'\"===a)this.readString(a);else if(this.isNumber(a)||\".\"===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,\"(){}[].,;:?\"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),\nc=Rb[b],e=Rb[d];Rb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError(\"Unexpected next character \",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return\"0\"<=a&&\"9\">=a&&\"string\"===typeof a},isWhitespace:function(a){return\" \"===a||\"\\r\"===a||\"\\t\"===a||\"\\n\"===a||\"\\v\"===a||\"\\u00a0\"===\na},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return\"a\"<=a&&\"z\">=a||\"A\"<=a&&\"Z\">=a||\"_\"===a||\"$\"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},\ncodePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return\"-\"===a||\"+\"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=u(b)?\"s \"+b+\"-\"+this.index+\" [\"+this.text.substring(b,d)+\"]\":\" \"+d;throw ea(\"lexerr\",a,b,this.text);\n},readNumber:function(){for(var a=\"\",b=this.index;this.index<this.text.length;){var d=P(this.text.charAt(this.index));if(\".\"===d||this.isNumber(d))a+=d;else{var c=this.peek();if(\"e\"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&\"e\"===a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||\"e\"!==a.charAt(a.length-1))break;else this.throwError(\"Invalid exponent\")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},\nreadIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d=\"\",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)\"u\"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\\da-f]{4}/i)||\nthis.throwError(\"Invalid unicode escape [\\\\u\"+e+\"]\"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=ch[f]||f,e=!1;else if(\"\\\\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError(\"Unterminated quote\",b)}};var r=function(a,b){this.lexer=a;this.options=b};r.Program=\"Program\";r.ExpressionStatement=\"ExpressionStatement\";r.AssignmentExpression=\"AssignmentExpression\";r.ConditionalExpression=\"ConditionalExpression\";\nr.LogicalExpression=\"LogicalExpression\";r.BinaryExpression=\"BinaryExpression\";r.UnaryExpression=\"UnaryExpression\";r.CallExpression=\"CallExpression\";r.MemberExpression=\"MemberExpression\";r.Identifier=\"Identifier\";r.Literal=\"Literal\";r.ArrayExpression=\"ArrayExpression\";r.Property=\"Property\";r.ObjectExpression=\"ObjectExpression\";r.ThisExpression=\"ThisExpression\";r.LocalsExpression=\"LocalsExpression\";r.NGValueParameter=\"NGValueParameter\";r.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);\na=this.program();0!==this.tokens.length&&this.throwError(\"is an unexpected token\",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek(\"}\",\")\",\";\",\"]\")&&a.push(this.expressionStatement()),!this.expect(\";\"))return{type:r.Program,body:a}},expressionStatement:function(){return{type:r.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect(\"|\");)a=this.filter(a);return a},expression:function(){return this.assignment()},\nassignment:function(){var a=this.ternary();this.expect(\"=\")&&(a={type:r.AssignmentExpression,left:a,right:this.assignment(),operator:\"=\"});return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect(\"?\")&&(b=this.expression(),this.consume(\":\"))?(d=this.expression(),{type:r.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect(\"||\");)a={type:r.LogicalExpression,operator:\"||\",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=\nthis.equality();this.expect(\"&&\");)a={type:r.LogicalExpression,operator:\"&&\",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect(\"==\",\"!=\",\"===\",\"!==\");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect(\"<\",\">\",\"<=\",\">=\");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),\nb;b=this.expect(\"+\",\"-\");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect(\"*\",\"/\",\"%\");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect(\"+\",\"-\",\"!\"))?{type:r.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect(\"(\")?(a=this.filterChain(),this.consume(\")\")):\nthis.expect(\"[\")?a=this.arrayDeclaration():this.expect(\"{\")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=pa(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:r.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError(\"not a primary expression\",this.peek());for(var b;b=this.expect(\"(\",\"[\",\".\");)\"(\"===b.text?(a={type:r.CallExpression,\ncallee:a,arguments:this.parseArguments()},this.consume(\")\")):\"[\"===b.text?(a={type:r.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume(\"]\")):\".\"===b.text?a={type:r.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError(\"IMPOSSIBLE\");return a},filter:function(a){a=[a];for(var b={type:r.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(\":\");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(\")\"!==\nthis.peekToken().text){do a.push(this.filterChain());while(this.expect(\",\"))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError(\"is not a valid identifier\",a);return{type:r.Identifier,name:a.text}},constant:function(){return{type:r.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if(\"]\"!==this.peekToken().text){do{if(this.peek(\"]\"))break;a.push(this.expression())}while(this.expect(\",\"))}this.consume(\"]\");return{type:r.ArrayExpression,elements:a}},\nobject:function(){var a=[],b;if(\"}\"!==this.peekToken().text){do{if(this.peek(\"}\"))break;b={type:r.Property,kind:\"init\"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(\":\"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(\":\")?(this.consume(\":\"),b.value=this.expression()):b.value=b.key):this.peek(\"[\")?(this.consume(\"[\"),b.key=this.expression(),this.consume(\"]\"),b.computed=!0,this.consume(\":\"),b.value=this.expression()):this.throwError(\"invalid key\",\nthis.peek());a.push(b)}while(this.expect(\",\"))}this.consume(\"}\");return{type:r.ObjectExpression,properties:a}},throwError:function(a,b){throw ea(\"syntax\",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw ea(\"ueoe\",this.text);var b=this.expect(a);b||this.throwError(\"is unexpected, expecting [\"+a+\"]\",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw ea(\"ueoe\",this.text);return this.tokens[0]},peek:function(a,b,\nd,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{\"this\":{type:r.ThisExpression},$locals:{type:r.LocalsExpression}}};Id.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},\nassign:{vars:[],body:[],own:{}},inputs:[]};W(c,d.$filter);var e=\"\",f;this.stage=\"assign\";if(f=Gd(c))this.state.computing=\"assign\",e=this.nextId(),this.recurse(f,e),this.return_(e),e=\"fn.assign=\"+this.generateFunction(\"assign\",\"s,v,l\");f=Ed(c.body);d.stage=\"inputs\";q(f,function(a,b){var c=\"fn\"+b;d.state[c]={vars:[],body:[],own:{}};d.state.computing=c;var e=d.nextId();d.recurse(a,e);d.return_(e);d.state.inputs.push(c);a.watchId=b});this.state.computing=\"fn\";this.stage=\"main\";this.recurse(c);e='\"'+this.USE+\n\" \"+this.STRICT+'\";\\n'+this.filterPrefix()+\"var fn=\"+this.generateFunction(\"fn\",\"s,l,a,i\")+e+this.watchFns()+\"return fn;\";e=(new Function(\"$filter\",\"ensureSafeMemberName\",\"ensureSafeObject\",\"ensureSafeFunction\",\"getStringValue\",\"ensureSafeAssignContext\",\"ifDefined\",\"plus\",\"text\",e))(this.$filter,Ta,qa,vd,xg,Kb,Fg,Dd,a);this.state=this.stage=void 0;e.literal=Hd(c);e.constant=c.constant;return e},USE:\"use\",STRICT:\"strict\",watchFns:function(){var a=[],b=this.state.inputs,d=this;q(b,function(b){a.push(\"var \"+\nb+\"=\"+d.generateFunction(b,\"s\"))});b.length&&a.push(\"fn.inputs=[\"+b.join(\",\")+\"];\");return a.join(\"\")},generateFunction:function(a,b){return\"function(\"+b+\"){\"+this.varsPrefix(a)+this.body(a)+\"};\"},filterPrefix:function(){var a=[],b=this;q(this.state.filters,function(d,c){a.push(d+\"=$filter(\"+b.escape(c)+\")\")});return a.length?\"var \"+a.join(\",\")+\";\":\"\"},varsPrefix:function(a){return this.state[a].vars.length?\"var \"+this.state[a].vars.join(\",\")+\";\":\"\"},body:function(a){return this.state[a].body.join(\"\")},\nrecurse:function(a,b,d,c,e,f){var g,h,k=this,l,m,n;c=c||C;if(!f&&u(a.watchId))b=b||this.nextId(),this.if_(\"i\",this.lazyAssign(b,this.computedMember(\"i\",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case r.Program:q(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,\";\"):k.return_(h)});break;case r.Literal:m=this.escape(a.value);this.assign(b,m);c(m);break;case r.UnaryExpression:this.recurse(a.argument,void 0,void 0,\nfunction(a){h=a});m=a.operator+\"(\"+this.ifDefined(h,0)+\")\";this.assign(b,m);c(m);break;case r.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a});this.recurse(a.right,void 0,void 0,function(a){h=a});m=\"+\"===a.operator?this.plus(g,h):\"-\"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):\"(\"+g+\")\"+a.operator+\"(\"+h+\")\";this.assign(b,m);c(m);break;case r.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_(\"&&\"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b));\nc(b);break;case r.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,b);k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b));c(b);break;case r.Identifier:b=b||this.nextId();d&&(d.context=\"inputs\"===k.stage?\"s\":this.assign(this.nextId(),this.getHasOwnProperty(\"l\",a.name)+\"?l:s\"),d.computed=!1,d.name=a.name);Ta(a.name);k.if_(\"inputs\"===k.stage||k.not(k.getHasOwnProperty(\"l\",a.name)),function(){k.if_(\"inputs\"===k.stage||\"s\",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember(\"s\",\na.name)),k.lazyAssign(k.nonComputedMember(\"s\",a.name),\"{}\"));k.assign(b,k.nonComputedMember(\"s\",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember(\"l\",a.name)));(k.state.expensiveChecks||Mb(a.name))&&k.addEnsureSafeObject(b);c(b);break;case r.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g);if(a.computed)h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),\nk.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),\"{}\")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h);else{Ta(a.property.name);e&&1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),\"{}\"));m=k.nonComputedMember(g,a.property.name);if(k.state.expensiveChecks||Mb(a.property.name))m=k.ensureSafeObject(m);k.assign(b,m);d&&(d.computed=!1,d.name=a.property.name)}},\nfunction(){k.assign(b,\"undefined\")});c(b)},!!e);break;case r.CallExpression:b=b||this.nextId();a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b);l.push(b)}),m=h+\"(\"+l.join(\",\")+\")\",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h);q(a.arguments,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(k.ensureSafeObject(a))})});g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),\nm=k.member(g.context,g.name,g.computed)+\"(\"+l.join(\",\")+\")\"):m=h+\"(\"+l.join(\",\")+\")\";m=k.ensureSafeObject(m);k.assign(b,m)},function(){k.assign(b,\"undefined\")});c(b)}));break;case r.AssignmentExpression:h=this.nextId();g={};if(!Fd(a.left))throw ea(\"lval\");this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);k.addEnsureSafeObject(k.member(g.context,g.name,g.computed));k.addEnsureSafeAssignContext(g.context);m=k.member(g.context,g.name,g.computed)+a.operator+\nh;k.assign(b,m);c(b||m)})},1);break;case r.ArrayExpression:l=[];q(a.elements,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(a)})});m=\"[\"+l.join(\",\")+\"]\";this.assign(b,m);c(m);break;case r.ObjectExpression:l=[];n=!1;q(a.properties,function(a){a.computed&&(n=!0)});n?(b=b||this.nextId(),this.assign(b,\"{}\"),q(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===r.Identifier?a.key.name:\"\"+a.key.value;h=k.nextId();k.recurse(a.value,h);k.assign(k.member(b,g,\na.computed),h)})):(q(a.properties,function(b){k.recurse(b.value,a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===r.Identifier?b.key.name:\"\"+b.key.value)+\":\"+a)})}),m=\"{\"+l.join(\",\")+\"}\",this.assign(b,m));c(b||m);break;case r.ThisExpression:this.assign(b,\"s\");c(\"s\");break;case r.LocalsExpression:this.assign(b,\"l\");c(\"l\");break;case r.NGValueParameter:this.assign(b,\"v\"),c(\"v\")}},getHasOwnProperty:function(a,b){var d=a+\".\"+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=\nthis.nextId(!1,a+\"&&(\"+this.escape(b)+\" in \"+a+\")\"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,\"=\",b,\";\"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return\"ifDefined(\"+a+\",\"+this.escape(b)+\")\"},plus:function(a,b){return\"plus(\"+a+\",\"+b+\")\"},return_:function(a){this.current().body.push(\"return \",a,\";\")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;\nc.push(\"if(\",a,\"){\");b();c.push(\"}\");d&&(c.push(\"else{\"),d(),c.push(\"}\"))}},not:function(a){return\"!(\"+a+\")\"},notNull:function(a){return a+\"!=null\"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+\".\"+b:a+'[\"'+b.replace(d,this.stringEscapeFn)+'\"]'},computedMember:function(a,b){return a+\"[\"+b+\"]\"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),\n\";\")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),\";\")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),\";\")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),\";\")},ensureSafeObject:function(a){return\"ensureSafeObject(\"+a+\",text)\"},ensureSafeMemberName:function(a){return\"ensureSafeMemberName(\"+a+\",text)\"},ensureSafeFunction:function(a){return\"ensureSafeFunction(\"+a+\",text)\"},\ngetStringValue:function(a){this.assign(a,\"getStringValue(\"+a+\")\")},ensureSafeAssignContext:function(a){return\"ensureSafeAssignContext(\"+a+\",text)\"},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return\"\\\\u\"+(\"0000\"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(H(a))return\"'\"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+\n\"'\";if(Z(a))return a.toString();if(!0===a)return\"true\";if(!1===a)return\"false\";if(null===a)return\"null\";if(\"undefined\"===typeof a)return\"undefined\";throw ea(\"esc\");},nextId:function(a,b){var d=\"v\"+this.state.nextId++;a||this.current().vars.push(d+(b?\"=\"+b:\"\"));return d},current:function(){return this.state[this.state.computing]}};Jd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=b;W(c,d.$filter);var e,f;if(e=Gd(c))f=this.recurse(e);e=Ed(c.body);\nvar g;e&&(g=[],q(e,function(a,b){var c=d.recurse(a);a.input=c;g.push(c);a.watchId=b}));var h=[];q(c.body,function(a){h.push(d.recurse(a.expression))});e=0===c.body.length?C:1===c.body.length?h[0]:function(a,b){var c;q(h,function(d){c=d(a,b)});return c};f&&(e.assign=function(a,b,c){return f(a,c,b)});g&&(e.inputs=g);e.literal=Hd(c);e.constant=c.constant;return e},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case r.Literal:return this.value(a.value,\nb);case r.UnaryExpression:return e=this.recurse(a.argument),this[\"unary\"+a.operator](e,b);case r.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this[\"binary\"+a.operator](c,e,b);case r.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this[\"binary\"+a.operator](c,e,b);case r.ConditionalExpression:return this[\"ternary?:\"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case r.Identifier:return Ta(a.name,f.expression),f.identifier(a.name,\nf.expensiveChecks||Mb(a.name),b,d,f.expression);case r.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Ta(a.property.name,f.expression),e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case r.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?\nfunction(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));a=e.apply(void 0,n,f);return b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,m){var n=e(a,c,d,m),p;if(null!=n.value){qa(n.context,f.expression);vd(n.value,f.expression);p=[];for(var q=0;q<g.length;++q)p.push(qa(g[q](a,c,d,m),f.expression));p=qa(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case r.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var n=c(a,\nd,g,m);a=e(a,d,g,m);qa(n.value,f.expression);Kb(n.context);n.context[n.name]=a;return b?{value:a}:a};case r.ArrayExpression:return g=[],q(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case r.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===r.Identifier?a.key.name:\"\"+a.key.value,computed:!1,value:f.recurse(a.value)})}),\nfunction(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case r.ThisExpression:return function(a){return b?{value:a}:a};case r.LocalsExpression:return function(a,c){return b?{value:c}:c};case r.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},\"unary+\":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=u(d)?+d:0;return b?{value:d}:d}},\"unary-\":function(a,b){return function(d,c,e,\nf){d=a(d,c,e,f);d=u(d)?-d:0;return b?{value:d}:d}},\"unary!\":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},\"binary+\":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=Dd(h,c);return d?{value:h}:h}},\"binary-\":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=(u(h)?h:0)-(u(c)?c:0);return d?{value:h}:h}},\"binary*\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},\"binary/\":function(a,b,d){return function(c,\ne,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},\"binary%\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},\"binary===\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},\"binary!==\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},\"binary==\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},\"binary!=\":function(a,b,d){return function(c,\ne,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},\"binary<\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},\"binary>\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},\"binary<=\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},\"binary>=\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},\"binary&&\":function(a,b,d){return function(c,e,f,g){c=\na(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},\"binary||\":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},\"ternary?:\":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){f=g&&a in g?g:f;c&&1!==c&&f&&!f[a]&&(f[a]={});g=f?f[a]:void 0;b&&qa(g,e);return d?{context:f,name:a,\nvalue:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var l=a(f,g,h,k),m,n;null!=l&&(m=b(f,g,h,k),m+=\"\",Ta(m,e),c&&1!==c&&(Kb(l),l&&!l[m]&&(l[m]={})),n=l[m],qa(n,e));return d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){g=a(g,h,k,l);e&&1!==e&&(Kb(g),g&&!g[b]&&(g[b]={}));h=null!=g?g[b]:void 0;(d||Mb(b))&&qa(h,f);return c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var pc=\nfunction(a,b,d){this.lexer=a;this.$filter=b;this.options=d;this.ast=new r(a,d);this.astCompiler=d.csp?new Jd(this.ast,b):new Id(this.ast,b)};pc.prototype={constructor:pc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var fa=N(\"$sce\"),la={HTML:\"html\",CSS:\"css\",URL:\"url\",RESOURCE_URL:\"resourceUrl\",JS:\"js\"},Ig=N(\"$compile\"),V=B.document.createElement(\"a\"),Nd=Ca(B.location.href);Od.$inject=[\"$document\"];Tc.$inject=[\"$provide\"];var Vd=22,Ud=\".\",rc=\"0\";Pd.$inject=[\"$locale\"];\nRd.$inject=[\"$locale\"];var Tg={yyyy:Y(\"FullYear\",4,0,!1,!0),yy:Y(\"FullYear\",2,0,!0,!0),y:Y(\"FullYear\",1,0,!1,!0),MMMM:nb(\"Month\"),MMM:nb(\"Month\",!0),MM:Y(\"Month\",2,1),M:Y(\"Month\",1,1),LLLL:nb(\"Month\",!1,!0),dd:Y(\"Date\",2),d:Y(\"Date\",1),HH:Y(\"Hours\",2),H:Y(\"Hours\",1),hh:Y(\"Hours\",2,-12),h:Y(\"Hours\",1,-12),mm:Y(\"Minutes\",2),m:Y(\"Minutes\",1),ss:Y(\"Seconds\",2),s:Y(\"Seconds\",1),sss:Y(\"Milliseconds\",3),EEEE:nb(\"Day\"),EEE:nb(\"Day\",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,\nb,d){a=-1*d;return a=(0<=a?\"+\":\"\")+(Nb(Math[0<a?\"floor\":\"ceil\"](a/60),2)+Nb(Math.abs(a%60),2))},ww:Xd(2),w:Xd(1),G:sc,GG:sc,GGG:sc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},Sg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Rg=/^\\-?\\d+$/;Qd.$inject=[\"$locale\"];var Mg=ma(P),Ng=ma(xb);Sd.$inject=[\"$parse\"];var Ee=ma({restrict:\"E\",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if(\"a\"===b[0].nodeName.toLowerCase()){var e=\n\"[object SVGAnimatedString]\"===na.call(b.prop(\"href\"))?\"xlink:href\":\"href\";b.on(\"click\",function(a){b.attr(e)||a.preventDefault()})}}}}),yb={};q(Hb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if(\"multiple\"!==a){var c=Ba(\"ng-\"+b),e=d;\"checked\"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)});yb[c]=function(){return{restrict:\"A\",priority:100,link:e}}}});q(jd,function(a,b){yb[b]=function(){return{priority:100,link:function(a,c,e){if(\"ngPattern\"===b&&\"/\"===e.ngPattern.charAt(0)&&\n(c=e.ngPattern.match(Wg))){e.$set(\"ngPattern\",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});q([\"src\",\"srcset\",\"href\"],function(a){var b=Ba(\"ng-\"+a);yb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;\"href\"===a&&\"[object SVGAnimatedString]\"===na.call(c.prop(\"href\"))&&(g=\"xlinkHref\",e.$attr[g]=\"xlink:href\",f=null);e.$observe(b,function(b){b?(e.$set(g,b),Fa&&f&&c.prop(f,e[g])):\"href\"===a&&e.$set(g,null)})}}}});var Ob={$addControl:C,$$renameControl:function(a,\nb){a.$name=b},$removeControl:C,$setValidity:C,$setDirty:C,$setPristine:C,$setSubmitted:C};Yd.$inject=[\"$element\",\"$attrs\",\"$scope\",\"$animate\",\"$interpolate\"];var ge=function(a){return[\"$timeout\",\"$parse\",function(b,d){function c(a){return\"\"===a?d('this[\"\"]').assign:d(a).assign||C}return{name:\"form\",restrict:a?\"EAC\":\"E\",require:[\"form\",\"^^?form\"],controller:Yd,compile:function(d,f){d.addClass(Va).addClass(rb);var g=f.name?\"name\":a&&f.ngForm?\"ngForm\":!1;return{pre:function(a,d,e,f){var n=f[0];if(!(\"action\"in\ne)){var p=function(b){a.$apply(function(){n.$commitViewValue();n.$setSubmitted()});b.preventDefault()};d[0].addEventListener(\"submit\",p,!1);d.on(\"$destroy\",function(){b(function(){d[0].removeEventListener(\"submit\",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var q=g?c(n.$name):C;g&&(q(a,n),e.$observe(g,function(b){n.$name!==b&&(q(a,void 0),n.$$parentForm.$$renameControl(n,b),q=c(n.$name),q(a,n))}));d.on(\"$destroy\",function(){n.$$parentForm.$removeControl(n);q(a,void 0);R(n,Ob)})}}}}}]},Fe=\nge(),Re=ge(!0),Ug=/^\\d{4,}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+(?:[+-][0-2]\\d:[0-5]\\d|Z)$/,dh=/^[a-z][a-z\\d.+-]*:\\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\\s:/?#]+|\\[[a-f\\d:]+\\])(?::\\d+)?(?:\\/[^?#]*)?(?:\\?[^#]*)?(?:#.*)?$/i,eh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+(\\.[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Vg=/^\\s*(\\-|\\+)?(\\d+|(\\d*(\\.\\d*)))([eE][+-]?\\d+)?\\s*$/,he=/^(\\d{4,})-(\\d{2})-(\\d{2})$/,\nie=/^(\\d{4,})-(\\d\\d)-(\\d\\d)T(\\d\\d):(\\d\\d)(?::(\\d\\d)(\\.\\d{1,3})?)?$/,yc=/^(\\d{4,})-W(\\d\\d)$/,je=/^(\\d{4,})-(\\d\\d)$/,ke=/^(\\d\\d):(\\d\\d)(?::(\\d\\d)(\\.\\d{1,3})?)?$/,$d=S();q([\"date\",\"datetime-local\",\"month\",\"time\",\"week\"],function(a){$d[a]=!0});var le={text:function(a,b,d,c,e,f){Wa(a,b,d,c,e,f);uc(c)},date:ob(\"date\",he,Qb(he,[\"yyyy\",\"MM\",\"dd\"]),\"yyyy-MM-dd\"),\"datetime-local\":ob(\"datetimelocal\",ie,Qb(ie,\"yyyy MM dd HH mm ss sss\".split(\" \")),\"yyyy-MM-ddTHH:mm:ss.sss\"),time:ob(\"time\",ke,Qb(ke,[\"HH\",\"mm\",\n\"ss\",\"sss\"]),\"HH:mm:ss.sss\"),week:ob(\"week\",yc,function(a,b){if(ba(a))return a;if(H(a)){yc.lastIndex=0;var d=yc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Wd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},\"yyyy-Www\"),month:ob(\"month\",je,Qb(je,[\"yyyy\",\"MM\"]),\"yyyy-MM\"),number:function(a,b,d,c,e,f){vc(a,b,d,c);Wa(a,b,d,c,e,f);ae(c);var g,h;if(u(d.min)||d.ngMin)c.$validators.min=function(a){return c.$isEmpty(a)||\nz(g)||a>=g},d.$observe(\"min\",function(a){g=qb(a);c.$validate()});if(u(d.max)||d.ngMax)c.$validators.max=function(a){return c.$isEmpty(a)||z(h)||a<=h},d.$observe(\"max\",function(a){h=qb(a);c.$validate()})},url:function(a,b,d,c,e,f){Wa(a,b,d,c,e,f);uc(c);c.$$parserName=\"url\";c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||dh.test(d)}},email:function(a,b,d,c,e,f){Wa(a,b,d,c,e,f);uc(c);c.$$parserName=\"email\";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||eh.test(d)}},\nradio:function(a,b,d,c){z(d.name)&&b.attr(\"name\",++sb);b.on(\"click\",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)});c.$render=function(){b[0].checked=d.value===c.$viewValue};d.$observe(\"value\",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]);d.$observe(a,c)}function h(a){n=qb(a);X(c.$modelValue)||(m?(a=b.val(),n>a&&(a=n,b.val(a)),c.$setViewValue(a)):c.$validate())}function k(a){p=qb(a);X(c.$modelValue)||(m?(a=b.val(),p<a&&(b.val(p),a=p<n?n:p),c.$setViewValue(a)):\nc.$validate())}function l(a){q=qb(a);X(c.$modelValue)||(m&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}vc(a,b,d,c);ae(c);Wa(a,b,d,c,e,f);var m=c.$$hasNativeValidators&&\"range\"===b[0].type,n=m?0:void 0,p=m?100:void 0,q=m?1:void 0,r=b[0].validity;a=u(d.min);e=u(d.max);f=u(d.step);var t=c.$render;c.$render=m&&u(r.rangeUnderflow)&&u(r.rangeOverflow)?function(){t();c.$setViewValue(b.val())}:t;a&&(c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||z(n)||b>=n},\ng(\"min\",h));e&&(c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||z(p)||b<=p},g(\"max\",k));f&&(c.$validators.step=m?function(){return!r.stepMismatch}:function(a,b){var d;if(!(d=c.$isEmpty(b)||z(q))){d=n||0;var e=q,f=Number(b);if((f|0)!==f||(d|0)!==d||(e|0)!==e){var g=Math.max(wc(f),wc(d),wc(e)),g=Math.pow(10,g),f=f*g;d*=g;e*=g}d=0===(f-d)%e}return d},g(\"step\",l))},checkbox:function(a,b,d,c,e,f,g,h){var k=be(h,a,\"ngTrueValue\",d.ngTrueValue,!0),l=be(h,a,\"ngFalseValue\",d.ngFalseValue,\n!1);b.on(\"click\",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return oa(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:C,button:C,submit:C,reset:C,file:C},Nc=[\"$browser\",\"$sniffer\",\"$filter\",\"$parse\",function(a,b,d,c){return{restrict:\"E\",require:[\"?ngModel\"],link:{pre:function(e,f,g,h){if(h[0]){var k=P(g.type);\"range\"!==k||g.hasOwnProperty(\"ngInputRange\")||(k=\"text\");\n(le[k]||le.text)(e,f,g,h[0],b,a,d,c)}}}}}],fh=/^(true|false|\\d+)$/,jf=function(){return{restrict:\"A\",priority:100,compile:function(a,b){return fh.test(b.ngValue)?function(a,b,e){e.$set(\"value\",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set(\"value\",a)})}}}},Je=[\"$compile\",function(a){return{restrict:\"AC\",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=z(a)?\"\":a})}}}}],Le=\n[\"$interpolate\",\"$compile\",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe(\"ngBindTemplate\",function(a){d.textContent=z(a)?\"\":a})}}}}],Ke=[\"$sce\",\"$parse\",\"$compile\",function(a,b,d){return{restrict:\"A\",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);\nb.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||\"\")})}}}}],hf=ma({restrict:\"A\",require:\"ngModel\",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Me=xc(\"\",!0),Oe=xc(\"Odd\",0),Ne=xc(\"Even\",1),Pe=Ua({compile:function(a,b){b.$set(\"ngCloak\",void 0);a.removeClass(\"ng-cloak\")}}),Qe=[function(){return{restrict:\"A\",scope:!0,controller:\"@\",priority:500}}],Sc={},gh={blur:!0,focus:!0};q(\"click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste\".split(\" \"),\nfunction(a){var b=Ba(\"ng-\"+a);Sc[b]=[\"$parse\",\"$rootScope\",function(d,c){return{restrict:\"A\",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};gh[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Te=[\"$animate\",\"$compile\",function(a,b){return{multiElement:!0,transclude:\"element\",priority:600,terminal:!0,restrict:\"A\",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f;d[d.length++]=\nb.$$createComment(\"end ngIf\",e.ngIf);h={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=wb(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],Ue=[\"$templateRequest\",\"$anchorScroll\",\"$animate\",function(a,b,d){return{restrict:\"ECA\",priority:400,terminal:!0,transclude:\"element\",controller:ga.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||\"\",h=e.autoscroll;return function(c,e,m,n,p){var q=0,r,t,s,D=function(){t&&(t.remove(),t=null);r&&\n(r.$destroy(),r=null);s&&(d.leave(s).then(function(){t=null}),t=s,s=null)};c.$watch(f,function(f){var m=function(){!u(h)||h&&!c.$eval(h)||b()},w=++q;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&w===q){var b=c.$new();n.template=a;a=p(b,function(a){D();d.enter(a,null,e).then(m)});r=b;s=a;r.$emit(\"$includeContentLoaded\",f);c.$eval(g)}},function(){c.$$destroyed||w!==q||(D(),c.$emit(\"$includeContentError\",f))}),c.$emit(\"$includeContentRequested\",f)):(D(),n.template=null)})}}}}],lf=[\"$compile\",function(a){return{restrict:\"ECA\",\npriority:-400,require:\"ngInclude\",link:function(b,d,c,e){na.call(d[0]).match(/SVG/)?(d.empty(),a(Vc(e.template,B.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ve=Ua({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),gf=function(){return{restrict:\"A\",priority:100,require:\"ngModel\",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||\", \",f=\"false\"!==d.ngTrim,g=f?U(e):e;c.$parsers.push(function(a){if(!z(a)){var b=\n[];a&&q(a.split(g),function(a){a&&b.push(f?U(a):a)});return b}});c.$formatters.push(function(a){if(K(a))return a.join(e)});c.$isEmpty=function(a){return!a||!a.length}}}},rb=\"ng-valid\",ce=\"ng-invalid\",Va=\"ng-pristine\",Pb=\"ng-dirty\",ee=\"ng-pending\",pb=N(\"ngModel\"),hh=[\"$scope\",\"$exceptionHandler\",\"$attrs\",\"$element\",\"$parse\",\"$animate\",\"$timeout\",\"$rootScope\",\"$q\",\"$interpolate\",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};\nthis.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=l(d.name||\"\",!1)(a);this.$$parentForm=Ob;var m=e(d.ngModel),n=m.assign,p=m,r=n,J=null,t,s=this;this.$$setOptions=function(a){if((s.$options=a)&&a.getterSetter){var b=e(d.ngModel+\"()\"),f=e(d.ngModel+\"($$$p)\");p=function(a){var c=m(a);F(c)&&(c=b(a));\nreturn c};r=function(a,b){F(m(a))?f(a,{$$$p:b}):n(a,b)}}else if(!m.assign)throw pb(\"nonassign\",d.ngModel,wa(c));};this.$render=C;this.$isEmpty=function(a){return z(a)||\"\"===a||null===a||a!==a};this.$$updateEmptyClasses=function(a){s.$isEmpty(a)?(f.removeClass(c,\"ng-not-empty\"),f.addClass(c,\"ng-empty\")):(f.removeClass(c,\"ng-empty\"),f.addClass(c,\"ng-not-empty\"))};var D=0;Zd({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f});this.$setPristine=function(){s.$dirty=\n!1;s.$pristine=!0;f.removeClass(c,Pb);f.addClass(c,Va)};this.$setDirty=function(){s.$dirty=!0;s.$pristine=!1;f.removeClass(c,Va);f.addClass(c,Pb);s.$$parentForm.$setDirty()};this.$setUntouched=function(){s.$touched=!1;s.$untouched=!0;f.setClass(c,\"ng-untouched\",\"ng-touched\")};this.$setTouched=function(){s.$touched=!0;s.$untouched=!1;f.setClass(c,\"ng-touched\",\"ng-untouched\")};this.$rollbackViewValue=function(){g.cancel(J);s.$viewValue=s.$$lastCommittedViewValue;s.$render()};this.$validate=function(){if(!X(s.$modelValue)){var a=\ns.$$rawModelValue,b=s.$valid,c=s.$modelValue,d=s.$options&&s.$options.allowInvalid;s.$$runValidators(a,s.$$lastCommittedViewValue,function(e){d||b===e||(s.$modelValue=e?a:void 0,s.$modelValue!==c&&s.$$writeModelToScope())})}};this.$$runValidators=function(a,b,c){function d(){var c=!0;q(s.$validators,function(d,e){var g=d(a,b);c=c&&g;f(e,g)});return c?!0:(q(s.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;q(s.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!F(h.then))throw pb(\"nopromise\",\nh);f(g,void 0);c.push(h.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});c.length?k.all(c).then(function(){g(d)},C):g(!0)}function f(a,b){h===D&&s.$setValidity(a,b)}function g(a){h===D&&c(a)}D++;var h=D;(function(){var a=s.$$parserName||\"parse\";if(z(t))f(a,null);else return t||(q(s.$validators,function(a,b){f(b,null)}),q(s.$asyncValidators,function(a,b){f(b,null)})),f(a,t),t;return!0})()?d()?e():g(!1):g(!1)};this.$commitViewValue=function(){var a=s.$viewValue;g.cancel(J);if(s.$$lastCommittedViewValue!==\na||\"\"===a&&s.$$hasNativeValidators)s.$$updateEmptyClasses(a),s.$$lastCommittedViewValue=a,s.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var b=s.$$lastCommittedViewValue;if(t=z(b)?void 0:!0)for(var c=0;c<s.$parsers.length;c++)if(b=s.$parsers[c](b),z(b)){t=!1;break}X(s.$modelValue)&&(s.$modelValue=p(a));var d=s.$modelValue,e=s.$options&&s.$options.allowInvalid;s.$$rawModelValue=b;e&&(s.$modelValue=b,s.$modelValue!==d&&s.$$writeModelToScope());s.$$runValidators(b,\ns.$$lastCommittedViewValue,function(a){e||(s.$modelValue=a?b:void 0,s.$modelValue!==d&&s.$$writeModelToScope())})};this.$$writeModelToScope=function(){r(a,s.$modelValue);q(s.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})};this.$setViewValue=function(a,b){s.$viewValue=a;s.$options&&!s.$options.updateOnDefault||s.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=s.$options;d&&u(d.debounce)&&(d=d.debounce,Z(d)?c=d:Z(d[b])?c=d[b]:Z(d[\"default\"])&&(c=d[\"default\"]));\ng.cancel(J);c?J=g(function(){s.$commitViewValue()},c):h.$$phase?s.$commitViewValue():a.$apply(function(){s.$commitViewValue()})};a.$watch(function(){var b=p(a);if(b!==s.$modelValue&&(s.$modelValue===s.$modelValue||b===b)){s.$modelValue=s.$$rawModelValue=b;t=void 0;for(var c=s.$formatters,d=c.length,e=b;d--;)e=c[d](e);s.$viewValue!==e&&(s.$$updateEmptyClasses(e),s.$viewValue=s.$$lastCommittedViewValue=e,s.$render(),s.$$runValidators(s.$modelValue,s.$viewValue,C))}return b})}],ff=[\"$rootScope\",function(a){return{restrict:\"A\",\nrequire:[\"ngModel\",\"^?form\",\"^?ngModelOptions\"],controller:hh,priority:1,compile:function(b){b.addClass(Va).addClass(\"ng-untouched\").addClass(rb);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;g.$$setOptions(f[2]&&f[2].$options);b.$addControl(g);e.$observe(\"name\",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on(\"$destroy\",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];if(g.$options&&g.$options.updateOn)c.on(g.$options.updateOn,\nfunction(a){g.$$debounceViewValueCommit(a&&a.type)});c.on(\"blur\",function(){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],ih=/(\\s+|^)default(\\s+|$)/,kf=function(){return{restrict:\"A\",controller:[\"$scope\",\"$attrs\",function(a,b){var d=this;this.$options=pa(a.$eval(b.ngModelOptions));u(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=U(this.$options.updateOn.replace(ih,function(){d.$options.updateOnDefault=!0;return\" \"}))):this.$options.updateOnDefault=\n!0}]}},We=Ua({terminal:!0,priority:1E3}),jh=N(\"ngOptions\"),kh=/^\\s*([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?(?:\\s+group\\s+by\\s+([\\s\\S]+?))?(?:\\s+disable\\s+when\\s+([\\s\\S]+?))?\\s+for\\s+(?:([\\$\\w][\\$\\w]*)|(?:\\(\\s*([\\$\\w][\\$\\w]*)\\s*,\\s*([\\$\\w][\\$\\w]*)\\s*\\)))\\s+in\\s+([\\s\\S]+?)(?:\\s+track\\s+by\\s+([\\s\\S]+?))?$/,df=[\"$compile\",\"$document\",\"$parse\",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}function f(a){var b;if(!q&&ra(a))b=\na;else{b=[];for(var c in a)a.hasOwnProperty(c)&&\"$\"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(kh);if(!n)throw jh(\"iexp\",a,wa(b));var p=n[5]||n[7],q=n[6];a=/ as /.test(n[0])&&n[1];var r=n[9];b=d(n[2]?n[1]:p);var t=a&&d(a)||b,s=r&&d(r),u=r?function(a,b){return s(c,b)}:function(a){return za(a)},y=function(a,b){return u(a,A(a,b))},z=d(n[2]||n[1]),w=d(n[3]||\"\"),C=d(n[4]||\"\"),F=d(n[8]),B={},A=q?function(a,b){B[q]=b;B[p]=a;return B}:function(a){B[p]=a;return B};return{trackBy:r,getTrackByValue:y,getWatchables:d(F,\nfunction(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;g<e;g++){var h=a===d?g:d[g],l=a[h],h=A(l,h),l=u(l,h);b.push(l);if(n[2]||n[1])l=z(c,h),b.push(l);n[4]&&(h=C(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=F(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===g?n:g[n],q=A(d[p],p),s=t(c,q),p=u(s,q),x=z(c,q),B=w(c,q),q=C(c,q),s=new e(p,s,x,B,q);a.push(s);b[p]=s}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[y(a)]},getViewValueFromOption:function(a){return r?\nga.copy(a.viewValue):a.viewValue}}}}}var e=B.document.createElement(\"option\"),f=B.document.createElement(\"optgroup\");return{restrict:\"A\",terminal:!0,require:[\"select\",\"ngModel\"],link:{pre:function(a,b,c,d){d[0].registerOption=C},post:function(d,h,k,l){function m(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);a.value!==b.value&&(b.value=a.selectValue)}function n(){var a=w&&p.readValue();if(w)for(var b=w.items.length-1;0<=b;b--){var c=w.items[b];u(c.group)?\nGb(c.element.parentNode):Gb(c.element)}w=B.getOptions();var d={};y&&h.prepend(t);w.items.forEach(function(a){var b;if(u(a.group)){b=d[a.group];b||(b=f.cloneNode(!1),F.appendChild(b),b.label=null===a.group?\"null\":a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=F,c=e.cloneNode(!1);b.appendChild(c);m(a,c)});h[0].appendChild(F);r.$render();r.$isEmpty(a)||(b=p.readValue(),(B.trackBy||z?oa(a,b):a===b)||(r.$setViewValue(b),r.$render()))}var p=l[0],r=l[1],z=k.multiple,t;l=0;for(var s=h.children(),D=s.length;l<\nD;l++)if(\"\"===s[l].value){t=s.eq(l);break}var y=!!t,C=E(e.cloneNode(!1));C.val(\"?\");var w,B=c(k.ngOptions,h,d),F=b[0].createDocumentFragment(),H=function(){y?t.removeAttr(\"selected\"):t.remove()};z?(r.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){w.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){if(a=w.getOptionFromViewValue(a))a.element.selected=!0})},p.readValue=function(){var a=h.val()||[],b=[];q(a,function(a){(a=w.selectValueMap[a])&&!a.disabled&&\nb.push(w.getViewValueFromOption(a))});return b},B.trackBy&&d.$watchCollection(function(){if(K(r.$viewValue))return r.$viewValue.map(function(a){return B.getTrackByValue(a)})},function(){r.$render()})):(p.writeValue=function(a){var b=w.selectValueMap[h.val()],c=w.getOptionFromViewValue(a);b&&b.element.removeAttribute(\"selected\");c?(h[0].value!==c.selectValue&&(C.remove(),H(),h[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute(\"selected\",\"selected\")):null===a||y?(C.remove(),y||h.prepend(t),\nh.val(\"\"),t.prop(\"selected\",!0),t.attr(\"selected\",!0)):(H(),h.prepend(C),h.val(\"?\"),C.prop(\"selected\",!0),C.attr(\"selected\",!0))},p.readValue=function(){var a=w.selectValueMap[h.val()];return a&&!a.disabled?(H(),C.remove(),w.getViewValueFromOption(a)):null},B.trackBy&&d.$watch(function(){return B.getTrackByValue(r.$viewValue)},function(){r.$render()}));y?(t.remove(),a(t)(d),t.removeClass(\"ng-scope\")):t=E(e.cloneNode(!1));h.empty();n();d.$watchCollection(B.getWatchables,n)}}}}],Xe=[\"$locale\",\"$interpolate\",\n\"$log\",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||\"\")}var l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},r={},u=b.startSymbol(),t=b.endSymbol(),s=u+l+\"-\"+n+t,D=ga.noop,y;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?\"-\":\"\")+P(c[2]),p[c]=g.attr(h.$attr[b]))});q(p,function(a,d){r[d]=b(a.replace(c,s))});f.$watch(l,function(b){var c=parseFloat(b),e=X(c);e||c in p||(c=a.pluralCat(c-n));c===y||e&&X(y)||(D(),e=r[c],\nz(e)?(null!=b&&d.debug(\"ngPluralize: no rule defined for '\"+c+\"' in \"+m),D=C,k()):D=f.$watch(e,k),y=c)})}}}],Ye=[\"$parse\",\"$animate\",\"$compile\",function(a,b,d){var c=N(\"ngRepeat\"),e=function(a,b,c,d,e,m,n){a[c]=d;e&&(a[e]=m);a.$index=b;a.$first=0===b;a.$last=b===n-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:\"A\",multiElement:!0,transclude:\"element\",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment(\"end ngRepeat\",h),l=h.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/);\nif(!l)throw c(\"iexp\",h);var m=l[1],n=l[2],p=l[3],r=l[4],l=m.match(/^(?:(\\s*[\\$\\w]+)|\\(\\s*([\\$\\w]+)\\s*,\\s*([\\$\\w]+)\\s*\\))$/);if(!l)throw c(\"iidexp\",m);var u=l[3]||l[1],t=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\\$index|\\$first|\\$middle|\\$last|\\$even|\\$odd|\\$parent|\\$root|\\$id)$/.test(p)))throw c(\"badident\",p);var s,z,y,C,w={$id:za};r?s=a(r):(y=function(a,b){return za(b)},C=function(a){return a});return function(a,d,f,g,l){s&&(z=function(b,c,d){t&&(w[t]=b);w[u]=c;w.$index=\nd;return s(a,w)});var m=S();a.$watchCollection(n,function(f){var g,n,s=d[0],r,x=S(),w,B,F,A,H,E,I;p&&(a[p]=f);if(ra(f))H=f,n=z||y;else for(I in n=z||C,H=[],f)sa.call(f,I)&&\"$\"!==I.charAt(0)&&H.push(I);w=H.length;I=Array(w);for(g=0;g<w;g++)if(B=f===H?g:H[g],F=f[B],A=n(B,F,g),m[A])E=m[A],delete m[A],x[A]=E,I[g]=E;else{if(x[A])throw q(I,function(a){a&&a.scope&&(m[a.id]=a)}),c(\"dupes\",h,A,F);I[g]={id:A,scope:void 0,clone:void 0};x[A]=!0}for(r in m){E=m[r];A=wb(E.clone);b.leave(A);if(A[0].parentNode)for(g=\n0,n=A.length;g<n;g++)A[g].$$NG_REMOVED=!0;E.scope.$destroy()}for(g=0;g<w;g++)if(B=f===H?g:H[g],F=f[B],E=I[g],E.scope){r=s;do r=r.nextSibling;while(r&&r.$$NG_REMOVED);E.clone[0]!==r&&b.move(wb(E.clone),null,s);s=E.clone[E.clone.length-1];e(E.scope,g,u,F,t,B,w)}else l(function(a,c){E.scope=c;var d=k.cloneNode(!1);a[a.length++]=d;b.enter(a,null,s);s=d;E.clone=a;x[E.id]=E;e(E.scope,g,u,F,t,B,w)});m=x})}}}}],Ze=[\"$animate\",function(a){return{restrict:\"A\",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,\nfunction(b){a[b?\"removeClass\":\"addClass\"](d,\"ng-hide\",{tempClasses:\"ng-hide-animate\"})})}}}],Se=[\"$animate\",function(a){return{restrict:\"A\",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?\"addClass\":\"removeClass\"](d,\"ng-hide\",{tempClasses:\"ng-hide-animate\"})})}}}],$e=Ua(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,\"\")});a&&b.css(a)},!0)}),af=[\"$animate\",\"$compile\",function(a,b){return{require:\"ngSwitch\",controller:[\"$scope\",function(){this.cases=\n{}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=k.length;d<e;++d)a.cancel(k[d]);d=k.length=0;for(e=l.length;d<e;++d){var r=wb(h[d].clone);l[d].$destroy();(k[d]=a.leave(r)).then(m(k,d))}h.length=0;l.length=0;(g=f.cases[\"!\"+c]||f.cases[\"?\"])&&q(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment(\"end ngSwitchWhen\");h.push({clone:d});a.enter(d,f.parent(),\nf)})})})}}}],bf=Ua({transclude:\"element\",priority:1200,require:\"^ngSwitch\",multiElement:!0,link:function(a,b,d,c,e){c.cases[\"!\"+d.ngSwitchWhen]=c.cases[\"!\"+d.ngSwitchWhen]||[];c.cases[\"!\"+d.ngSwitchWhen].push({transclude:e,element:b})}}),cf=Ua({transclude:\"element\",priority:1200,require:\"^ngSwitch\",multiElement:!0,link:function(a,b,d,c,e){c.cases[\"?\"]=c.cases[\"?\"]||[];c.cases[\"?\"].push({transclude:e,element:b})}}),lh=N(\"ngTransclude\"),ef=[\"$compile\",function(a){return{restrict:\"EAC\",terminal:!0,compile:function(b){var d=\na(b.contents());b.empty();return function(a,b,f,g,h){function k(){d(a,function(a){b.append(a)})}if(!h)throw lh(\"orphan\",wa(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude=\"\");f=f.ngTransclude||f.ngTranscludeSlot;h(function(a,c){a.length?b.append(a):(k(),c.$destroy())},null,f);f&&!h.isSlotFilled(f)&&k()}}}}],Ge=[\"$templateCache\",function(a){return{restrict:\"E\",terminal:!0,compile:function(b,d){\"text/ng-template\"===d.type&&a.put(d.id,b[0].text)}}}],mh={$setViewValue:C,$render:C},nh=[\"$element\",\n\"$scope\",function(a,b){var d=this,c=new Ra;d.ngModelCtrl=mh;d.unknownOption=E(B.document.createElement(\"option\"));d.renderUnknownOption=function(b){b=\"? \"+za(b)+\" ?\";d.unknownOption.val(b);a.prepend(d.unknownOption);a.val(b)};b.$on(\"$destroy\",function(){d.renderUnknownOption=C});d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()};d.readValue=function(){d.removeUnknownOption();return a.val()};d.writeValue=function(b){d.hasOption(b)?(d.removeUnknownOption(),a.val(b),\n\"\"===b&&d.emptyOption.prop(\"selected\",!0)):null==b&&d.emptyOption?(d.removeUnknownOption(),a.val(\"\")):d.renderUnknownOption(b)};d.addOption=function(a,b){if(8!==b[0].nodeType){Qa(a,'\"option value\"');\"\"===a&&(d.emptyOption=b);var g=c.get(a)||0;c.put(a,g+1);d.ngModelCtrl.$render();b[0].hasAttribute(\"selected\")&&(b[0].selected=!0)}};d.removeOption=function(a){var b=c.get(a);b&&(1===b?(c.remove(a),\"\"===a&&(d.emptyOption=void 0)):c.put(a,b-1))};d.hasOption=function(a){return!!c.get(a)};d.registerOption=\nfunction(a,b,c,h,k){if(h){var l;c.$observe(\"value\",function(a){u(l)&&d.removeOption(l);l=a;d.addOption(a,b)})}else k?a.$watch(k,function(a,e){c.$set(\"value\",a);e!==a&&d.removeOption(e);d.addOption(a,b)}):d.addOption(c.value,b);b.on(\"$destroy\",function(){d.removeOption(c.value);d.ngModelCtrl.$render()})}}],He=function(){return{restrict:\"E\",require:[\"select\",\"?ngModel\"],controller:nh,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];f.ngModelCtrl=e;b.on(\"change\",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});\nif(d.multiple){f.readValue=function(){var a=[];q(b.find(\"option\"),function(b){b.selected&&a.push(b.value)});return a};f.writeValue=function(a){var c=new Ra(a);q(b.find(\"option\"),function(a){a.selected=u(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||oa(g,e.$viewValue)||(g=ia(e.$viewValue),e.$render());h=e.$viewValue});e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Ie=[\"$interpolate\",\nfunction(a){return{restrict:\"E\",priority:100,compile:function(b,d){if(u(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set(\"value\",b.text())}return function(a,b,d){var k=b.parent();(k=k.data(\"$selectController\")||k.parent().data(\"$selectController\"))&&k.registerOption(a,b,d,c,e)}}}}],Pc=function(){return{restrict:\"A\",require:\"?ngModel\",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe(\"required\",function(){c.$validate()}))}}},\nOc=function(){return{restrict:\"A\",require:\"?ngModel\",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe(\"pattern\",function(a){H(a)&&0<a.length&&(a=new RegExp(\"^\"+a+\"$\"));if(a&&!a.test)throw N(\"ngPattern\")(\"noregexp\",f,a,wa(b));e=a||void 0;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||z(e)||e.test(b)}}}}},Rc=function(){return{restrict:\"A\",require:\"?ngModel\",link:function(a,b,d,c){if(c){var e=-1;d.$observe(\"maxlength\",function(a){a=aa(a);e=X(a)?-1:a;c.$validate()});\nc.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},Qc=function(){return{restrict:\"A\",require:\"?ngModel\",link:function(a,b,d,c){if(c){var e=0;d.$observe(\"minlength\",function(a){e=aa(a)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};B.angular.bootstrap?B.console&&console.log(\"WARNING: Tried to load angular more than once.\"):(ze(),Be(ga),ga.module(\"ngLocale\",[],[\"$provide\",function(a){function b(a){a+=\"\";var b=a.indexOf(\".\");\nreturn-1==b?0:a.length-b-1}a.value(\"$locale\",{DATETIME_FORMATS:{AMPMS:[\"AM\",\"PM\"],DAY:\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),ERANAMES:[\"Before Christ\",\"Anno Domini\"],ERAS:[\"BC\",\"AD\"],FIRSTDAYOFWEEK:6,MONTH:\"January February March April May June July August September October November December\".split(\" \"),SHORTDAY:\"Sun Mon Tue Wed Thu Fri Sat\".split(\" \"),SHORTMONTH:\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),STANDALONEMONTH:\"January February March April May June July August September October November December\".split(\" \"),\nWEEKENDRANGE:[5,6],fullDate:\"EEEE, MMMM d, y\",longDate:\"MMMM d, y\",medium:\"MMM d, y h:mm:ss a\",mediumDate:\"MMM d, y\",mediumTime:\"h:mm:ss a\",\"short\":\"M/d/yy h:mm a\",shortDate:\"M/d/yy\",shortTime:\"h:mm a\"},NUMBER_FORMATS:{CURRENCY_SYM:\"$\",DECIMAL_SEP:\".\",GROUP_SEP:\",\",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:\"-\",negSuf:\"\",posPre:\"\",posSuf:\"\"},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:\"-\\u00a4\",negSuf:\"\",posPre:\"\\u00a4\",posSuf:\"\"}]},id:\"en-us\",localeID:\"en_US\",pluralCat:function(a,\nc){var e=a|0,f=c;void 0===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?\"one\":\"other\"}})}]),E(B.document).ready(function(){ue(B.document,Ic)}))})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type=\"text/css\">@charset \"UTF-8\";[ng\\\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');\n//# sourceMappingURL=angular.min.js.map\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FuZ3VsYXIvYW5ndWxhci5taW4uanM/ODRiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuIEFuZ3VsYXJKUyB2MS41LjlcbiAoYykgMjAxMC0yMDE2IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuIExpY2Vuc2U6IE1JVFxuKi9cbihmdW5jdGlvbihCKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gTihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1hcmd1bWVudHNbMF0sZDtkPVwiW1wiKyhhP2ErXCI6XCI6XCJcIikrYitcIl0gaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNS45L1wiKyhhP2ErXCIvXCI6XCJcIikrYjtmb3IoYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe2Q9ZCsoMT09Yj9cIj9cIjpcIiZcIikrXCJwXCIrKGItMSkrXCI9XCI7dmFyIGM9ZW5jb2RlVVJJQ29tcG9uZW50LGU7ZT1hcmd1bWVudHNbYl07ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UudG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sXCJcIik6XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpcInN0cmluZ1wiIT10eXBlb2YgZT9KU09OLnN0cmluZ2lmeShlKTplO2QrPWMoZSl9cmV0dXJuIEVycm9yKGQpfX1mdW5jdGlvbiByYShhKXtpZihudWxsPT1hfHxYYShhKSlyZXR1cm4hMTtpZihLKGEpfHxIKGEpfHxFJiZhIGluc3RhbmNlb2YgRSlyZXR1cm4hMDtcbnZhciBiPVwibGVuZ3RoXCJpbiBPYmplY3QoYSkmJmEubGVuZ3RoO3JldHVybiBaKGIpJiYoMDw9YiYmKGItMSBpbiBhfHxhIGluc3RhbmNlb2YgQXJyYXkpfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5pdGVtKX1mdW5jdGlvbiBxKGEsYixkKXt2YXIgYyxlO2lmKGEpaWYoRihhKSlmb3IoYyBpbiBhKVwicHJvdG90eXBlXCI9PT1jfHxcImxlbmd0aFwiPT09Y3x8XCJuYW1lXCI9PT1jfHxhLmhhc093blByb3BlcnR5JiYhYS5oYXNPd25Qcm9wZXJ0eShjKXx8Yi5jYWxsKGQsYVtjXSxjLGEpO2Vsc2UgaWYoSyhhKXx8cmEoYSkpe3ZhciBmPVwib2JqZWN0XCIhPT10eXBlb2YgYTtjPTA7Zm9yKGU9YS5sZW5ndGg7YzxlO2MrKykoZnx8YyBpbiBhKSYmYi5jYWxsKGQsYVtjXSxjLGEpfWVsc2UgaWYoYS5mb3JFYWNoJiZhLmZvckVhY2ghPT1xKWEuZm9yRWFjaChiLGQsYSk7ZWxzZSBpZih6YyhhKSlmb3IoYyBpbiBhKWIuY2FsbChkLGFbY10sYyxhKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmhhc093blByb3BlcnR5KWZvcihjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmXG5iLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBmb3IoYyBpbiBhKXNhLmNhbGwoYSxjKSYmYi5jYWxsKGQsYVtjXSxjLGEpO3JldHVybiBhfWZ1bmN0aW9uIEFjKGEsYixkKXtmb3IodmFyIGM9T2JqZWN0LmtleXMoYSkuc29ydCgpLGU9MDtlPGMubGVuZ3RoO2UrKyliLmNhbGwoZCxhW2NbZV1dLGNbZV0pO3JldHVybiBjfWZ1bmN0aW9uIEJjKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2EoZCxiKX19ZnVuY3Rpb24gbWUoKXtyZXR1cm4rK3NifWZ1bmN0aW9uIFNiKGEsYixkKXtmb3IodmFyIGM9YS4kJGhhc2hLZXksZT0wLGY9Yi5sZW5ndGg7ZTxmOysrZSl7dmFyIGc9YltlXTtpZihJKGcpfHxGKGcpKWZvcih2YXIgaD1PYmplY3Qua2V5cyhnKSxrPTAsbD1oLmxlbmd0aDtrPGw7aysrKXt2YXIgbT1oW2tdLG49Z1ttXTtkJiZJKG4pP2JhKG4pP2FbbV09bmV3IERhdGUobi52YWx1ZU9mKCkpOllhKG4pP2FbbV09bmV3IFJlZ0V4cChuKTpuLm5vZGVOYW1lP2FbbV09bi5jbG9uZU5vZGUoITApOlxuVGIobik/YVttXT1uLmNsb25lKCk6KEkoYVttXSl8fChhW21dPUsobik/W106e30pLFNiKGFbbV0sW25dLCEwKSk6YVttXT1ufX1jP2EuJCRoYXNoS2V5PWM6ZGVsZXRlIGEuJCRoYXNoS2V5O3JldHVybiBhfWZ1bmN0aW9uIFIoYSl7cmV0dXJuIFNiKGEsdGEuY2FsbChhcmd1bWVudHMsMSksITEpfWZ1bmN0aW9uIG5lKGEpe3JldHVybiBTYihhLHRhLmNhbGwoYXJndW1lbnRzLDEpLCEwKX1mdW5jdGlvbiBhYShhKXtyZXR1cm4gcGFyc2VJbnQoYSwxMCl9ZnVuY3Rpb24gVWIoYSxiKXtyZXR1cm4gUihPYmplY3QuY3JlYXRlKGEpLGIpfWZ1bmN0aW9uIEMoKXt9ZnVuY3Rpb24gWmEoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gbWEoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF9fWZ1bmN0aW9uIENjKGEpe3JldHVybiBGKGEudG9TdHJpbmcpJiZhLnRvU3RyaW5nIT09bmF9ZnVuY3Rpb24geihhKXtyZXR1cm5cInVuZGVmaW5lZFwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gdShhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09XG50eXBlb2YgYX1mdW5jdGlvbiBJKGEpe3JldHVybiBudWxsIT09YSYmXCJvYmplY3RcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIHpjKGEpe3JldHVybiBudWxsIT09YSYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiYhRGMoYSl9ZnVuY3Rpb24gSChhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGF9ZnVuY3Rpb24gWihhKXtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gYmEoYSl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1uYS5jYWxsKGEpfWZ1bmN0aW9uIEYoYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gWWEoYSl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PW5hLmNhbGwoYSl9ZnVuY3Rpb24gWGEoYSl7cmV0dXJuIGEmJmEud2luZG93PT09YX1mdW5jdGlvbiAkYShhKXtyZXR1cm4gYSYmYS4kZXZhbEFzeW5jJiZhLiR3YXRjaH1mdW5jdGlvbiBJYShhKXtyZXR1cm5cImJvb2xlYW5cIj09PXR5cGVvZiBhfWZ1bmN0aW9uIG9lKGEpe3JldHVybiBhJiZaKGEubGVuZ3RoKSYmXG5wZS50ZXN0KG5hLmNhbGwoYSkpfWZ1bmN0aW9uIFRiKGEpe3JldHVybiEoIWF8fCEoYS5ub2RlTmFtZXx8YS5wcm9wJiZhLmF0dHImJmEuZmluZCkpfWZ1bmN0aW9uIHFlKGEpe3ZhciBiPXt9O2E9YS5zcGxpdChcIixcIik7dmFyIGQ7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyliW2FbZF1dPSEwO3JldHVybiBifWZ1bmN0aW9uIHVhKGEpe3JldHVybiBQKGEubm9kZU5hbWV8fGFbMF0mJmFbMF0ubm9kZU5hbWUpfWZ1bmN0aW9uIGFiKGEsYil7dmFyIGQ9YS5pbmRleE9mKGIpOzA8PWQmJmEuc3BsaWNlKGQsMSk7cmV0dXJuIGR9ZnVuY3Rpb24gcGEoYSxiKXtmdW5jdGlvbiBkKGEsYil7dmFyIGQ9Yi4kJGhhc2hLZXksZTtpZihLKGEpKXtlPTA7Zm9yKHZhciBmPWEubGVuZ3RoO2U8ZjtlKyspYi5wdXNoKGMoYVtlXSkpfWVsc2UgaWYoemMoYSkpZm9yKGUgaW4gYSliW2VdPWMoYVtlXSk7ZWxzZSBpZihhJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5oYXNPd25Qcm9wZXJ0eSlmb3IoZSBpbiBhKWEuaGFzT3duUHJvcGVydHkoZSkmJlxuKGJbZV09YyhhW2VdKSk7ZWxzZSBmb3IoZSBpbiBhKXNhLmNhbGwoYSxlKSYmKGJbZV09YyhhW2VdKSk7ZD9iLiQkaGFzaEtleT1kOmRlbGV0ZSBiLiQkaGFzaEtleTtyZXR1cm4gYn1mdW5jdGlvbiBjKGEpe2lmKCFJKGEpKXJldHVybiBhO3ZhciBiPWYuaW5kZXhPZihhKTtpZigtMSE9PWIpcmV0dXJuIGdbYl07aWYoWGEoYSl8fCRhKGEpKXRocm93IHZhKFwiY3B3c1wiKTt2YXIgYj0hMSxjPWUoYSk7dm9pZCAwPT09YyYmKGM9SyhhKT9bXTpPYmplY3QuY3JlYXRlKERjKGEpKSxiPSEwKTtmLnB1c2goYSk7Zy5wdXNoKGMpO3JldHVybiBiP2QoYSxjKTpjfWZ1bmN0aW9uIGUoYSl7c3dpdGNoKG5hLmNhbGwoYSkpe2Nhc2UgXCJbb2JqZWN0IEludDhBcnJheV1cIjpjYXNlIFwiW29iamVjdCBJbnQxNkFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IEludDMyQXJyYXldXCI6Y2FzZSBcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjpjYXNlIFwiW29iamVjdCBVaW50OEFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiOnJldHVybiBuZXcgYS5jb25zdHJ1Y3RvcihjKGEuYnVmZmVyKSxcbmEuYnl0ZU9mZnNldCxhLmxlbmd0aCk7Y2FzZSBcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI6aWYoIWEuc2xpY2Upe3ZhciBiPW5ldyBBcnJheUJ1ZmZlcihhLmJ5dGVMZW5ndGgpOyhuZXcgVWludDhBcnJheShiKSkuc2V0KG5ldyBVaW50OEFycmF5KGEpKTtyZXR1cm4gYn1yZXR1cm4gYS5zbGljZSgwKTtjYXNlIFwiW29iamVjdCBCb29sZWFuXVwiOmNhc2UgXCJbb2JqZWN0IE51bWJlcl1cIjpjYXNlIFwiW29iamVjdCBTdHJpbmddXCI6Y2FzZSBcIltvYmplY3QgRGF0ZV1cIjpyZXR1cm4gbmV3IGEuY29uc3RydWN0b3IoYS52YWx1ZU9mKCkpO2Nhc2UgXCJbb2JqZWN0IFJlZ0V4cF1cIjpyZXR1cm4gYj1uZXcgUmVnRXhwKGEuc291cmNlLGEudG9TdHJpbmcoKS5tYXRjaCgvW15cXC9dKiQvKVswXSksYi5sYXN0SW5kZXg9YS5sYXN0SW5kZXgsYjtjYXNlIFwiW29iamVjdCBCbG9iXVwiOnJldHVybiBuZXcgYS5jb25zdHJ1Y3RvcihbYV0se3R5cGU6YS50eXBlfSl9aWYoRihhLmNsb25lTm9kZSkpcmV0dXJuIGEuY2xvbmVOb2RlKCEwKX1cbnZhciBmPVtdLGc9W107aWYoYil7aWYob2UoYil8fFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PW5hLmNhbGwoYikpdGhyb3cgdmEoXCJjcHRhXCIpO2lmKGE9PT1iKXRocm93IHZhKFwiY3BpXCIpO0soYik/Yi5sZW5ndGg9MDpxKGIsZnVuY3Rpb24oYSxkKXtcIiQkaGFzaEtleVwiIT09ZCYmZGVsZXRlIGJbZF19KTtmLnB1c2goYSk7Zy5wdXNoKGIpO3JldHVybiBkKGEsYil9cmV0dXJuIGMoYSl9ZnVuY3Rpb24gb2EoYSxiKXtpZihhPT09YilyZXR1cm4hMDtpZihudWxsPT09YXx8bnVsbD09PWIpcmV0dXJuITE7aWYoYSE9PWEmJmIhPT1iKXJldHVybiEwO3ZhciBkPXR5cGVvZiBhLGM7aWYoZD09PXR5cGVvZiBiJiZcIm9iamVjdFwiPT09ZClpZihLKGEpKXtpZighSyhiKSlyZXR1cm4hMTtpZigoZD1hLmxlbmd0aCk9PT1iLmxlbmd0aCl7Zm9yKGM9MDtjPGQ7YysrKWlmKCFvYShhW2NdLGJbY10pKXJldHVybiExO3JldHVybiEwfX1lbHNle2lmKGJhKGEpKXJldHVybiBiYShiKT9vYShhLmdldFRpbWUoKSxcbmIuZ2V0VGltZSgpKTohMTtpZihZYShhKSlyZXR1cm4gWWEoYik/YS50b1N0cmluZygpPT09Yi50b1N0cmluZygpOiExO2lmKCRhKGEpfHwkYShiKXx8WGEoYSl8fFhhKGIpfHxLKGIpfHxiYShiKXx8WWEoYikpcmV0dXJuITE7ZD1TKCk7Zm9yKGMgaW4gYSlpZihcIiRcIiE9PWMuY2hhckF0KDApJiYhRihhW2NdKSl7aWYoIW9hKGFbY10sYltjXSkpcmV0dXJuITE7ZFtjXT0hMH1mb3IoYyBpbiBiKWlmKCEoYyBpbiBkKSYmXCIkXCIhPT1jLmNoYXJBdCgwKSYmdShiW2NdKSYmIUYoYltjXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gYmIoYSxiLGQpe3JldHVybiBhLmNvbmNhdCh0YS5jYWxsKGIsZCkpfWZ1bmN0aW9uIGNiKGEsYil7dmFyIGQ9Mjxhcmd1bWVudHMubGVuZ3RoP3RhLmNhbGwoYXJndW1lbnRzLDIpOltdO3JldHVybiFGKGIpfHxiIGluc3RhbmNlb2YgUmVnRXhwP2I6ZC5sZW5ndGg/ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iLmFwcGx5KGEsXG5iYihkLGFyZ3VtZW50cywwKSk6Yi5hcHBseShhLGQpfTpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2IuYXBwbHkoYSxhcmd1bWVudHMpOmIuY2FsbChhKX19ZnVuY3Rpb24gcmUoYSxiKXt2YXIgZD1iO1wic3RyaW5nXCI9PT10eXBlb2YgYSYmXCIkXCI9PT1hLmNoYXJBdCgwKSYmXCIkXCI9PT1hLmNoYXJBdCgxKT9kPXZvaWQgMDpYYShiKT9kPVwiJFdJTkRPV1wiOmImJkIuZG9jdW1lbnQ9PT1iP2Q9XCIkRE9DVU1FTlRcIjokYShiKSYmKGQ9XCIkU0NPUEVcIik7cmV0dXJuIGR9ZnVuY3Rpb24gZGIoYSxiKXtpZigheihhKSlyZXR1cm4gWihiKXx8KGI9Yj8yOm51bGwpLEpTT04uc3RyaW5naWZ5KGEscmUsYil9ZnVuY3Rpb24gRWMoYSl7cmV0dXJuIEgoYSk/SlNPTi5wYXJzZShhKTphfWZ1bmN0aW9uIEZjKGEsYil7YT1hLnJlcGxhY2Uoc2UsXCJcIik7dmFyIGQ9RGF0ZS5wYXJzZShcIkphbiAwMSwgMTk3MCAwMDowMDowMCBcIithKS82RTQ7cmV0dXJuIFgoZCk/YjpkfWZ1bmN0aW9uIFZiKGEsXG5iLGQpe2Q9ZD8tMToxO3ZhciBjPWEuZ2V0VGltZXpvbmVPZmZzZXQoKTtiPUZjKGIsYyk7ZCo9Yi1jO2E9bmV3IERhdGUoYS5nZXRUaW1lKCkpO2Euc2V0TWludXRlcyhhLmdldE1pbnV0ZXMoKStkKTtyZXR1cm4gYX1mdW5jdGlvbiB3YShhKXthPUUoYSkuY2xvbmUoKTt0cnl7YS5lbXB0eSgpfWNhdGNoKGIpe312YXIgZD1FKFwiPGRpdj5cIikuYXBwZW5kKGEpLmh0bWwoKTt0cnl7cmV0dXJuIGFbMF0ubm9kZVR5cGU9PT1NYT9QKGQpOmQubWF0Y2goL14oPFtePl0rPikvKVsxXS5yZXBsYWNlKC9ePChbXFx3XFwtXSspLyxmdW5jdGlvbihhLGIpe3JldHVyblwiPFwiK1AoYil9KX1jYXRjaChjKXtyZXR1cm4gUChkKX19ZnVuY3Rpb24gR2MoYSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYSl9Y2F0Y2goYil7fX1mdW5jdGlvbiBIYyhhKXt2YXIgYj17fTtxKChhfHxcIlwiKS5zcGxpdChcIiZcIiksZnVuY3Rpb24oYSl7dmFyIGMsZSxmO2EmJihlPWE9YS5yZXBsYWNlKC9cXCsvZyxcIiUyMFwiKSxcbmM9YS5pbmRleE9mKFwiPVwiKSwtMSE9PWMmJihlPWEuc3Vic3RyaW5nKDAsYyksZj1hLnN1YnN0cmluZyhjKzEpKSxlPUdjKGUpLHUoZSkmJihmPXUoZik/R2MoZik6ITAsc2EuY2FsbChiLGUpP0soYltlXSk/YltlXS5wdXNoKGYpOmJbZV09W2JbZV0sZl06YltlXT1mKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBXYihhKXt2YXIgYj1bXTtxKGEsZnVuY3Rpb24oYSxjKXtLKGEpP3EoYSxmdW5jdGlvbihhKXtiLnB1c2goY2EoYywhMCkrKCEwPT09YT9cIlwiOlwiPVwiK2NhKGEsITApKSl9KTpiLnB1c2goY2EoYywhMCkrKCEwPT09YT9cIlwiOlwiPVwiK2NhKGEsITApKSl9KTtyZXR1cm4gYi5sZW5ndGg/Yi5qb2luKFwiJlwiKTpcIlwifWZ1bmN0aW9uIHRiKGEpe3JldHVybiBjYShhLCEwKS5yZXBsYWNlKC8lMjYvZ2ksXCImXCIpLnJlcGxhY2UoLyUzRC9naSxcIj1cIikucmVwbGFjZSgvJTJCL2dpLFwiK1wiKX1mdW5jdGlvbiBjYShhLGIpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvJTQwL2dpLFxuXCJAXCIpLnJlcGxhY2UoLyUzQS9naSxcIjpcIikucmVwbGFjZSgvJTI0L2csXCIkXCIpLnJlcGxhY2UoLyUyQy9naSxcIixcIikucmVwbGFjZSgvJTNCL2dpLFwiO1wiKS5yZXBsYWNlKC8lMjAvZyxiP1wiJTIwXCI6XCIrXCIpfWZ1bmN0aW9uIHRlKGEsYil7dmFyIGQsYyxlPU5hLmxlbmd0aDtmb3IoYz0wO2M8ZTsrK2MpaWYoZD1OYVtjXStiLEgoZD1hLmdldEF0dHJpYnV0ZShkKSkpcmV0dXJuIGQ7cmV0dXJuIG51bGx9ZnVuY3Rpb24gdWUoYSxiKXt2YXIgZCxjLGU9e307cShOYSxmdW5jdGlvbihiKXtiKz1cImFwcFwiOyFkJiZhLmhhc0F0dHJpYnV0ZSYmYS5oYXNBdHRyaWJ1dGUoYikmJihkPWEsYz1hLmdldEF0dHJpYnV0ZShiKSl9KTtxKE5hLGZ1bmN0aW9uKGIpe2IrPVwiYXBwXCI7dmFyIGU7IWQmJihlPWEucXVlcnlTZWxlY3RvcihcIltcIitiLnJlcGxhY2UoXCI6XCIsXCJcXFxcOlwiKStcIl1cIikpJiYoZD1lLGM9ZS5nZXRBdHRyaWJ1dGUoYikpfSk7ZCYmKHZlPyhlLnN0cmljdERpPW51bGwhPT10ZShkLFwic3RyaWN0LWRpXCIpLFxuYihkLGM/W2NdOltdLGUpKTpCLmNvbnNvbGUuZXJyb3IoXCJBbmd1bGFyOiBkaXNhYmxpbmcgYXV0b21hdGljIGJvb3RzdHJhcC4gPHNjcmlwdD4gcHJvdG9jb2wgaW5kaWNhdGVzIGFuIGV4dGVuc2lvbiwgZG9jdW1lbnQubG9jYXRpb24uaHJlZiBkb2VzIG5vdCBtYXRjaC5cIikpfWZ1bmN0aW9uIEljKGEsYixkKXtJKGQpfHwoZD17fSk7ZD1SKHtzdHJpY3REaTohMX0sZCk7dmFyIGM9ZnVuY3Rpb24oKXthPUUoYSk7aWYoYS5pbmplY3RvcigpKXt2YXIgYz1hWzBdPT09Qi5kb2N1bWVudD9cImRvY3VtZW50XCI6d2EoYSk7dGhyb3cgdmEoXCJidHN0cnBkXCIsYy5yZXBsYWNlKC88LyxcIiZsdDtcIikucmVwbGFjZSgvPi8sXCImZ3Q7XCIpKTt9Yj1ifHxbXTtiLnVuc2hpZnQoW1wiJHByb3ZpZGVcIixmdW5jdGlvbihiKXtiLnZhbHVlKFwiJHJvb3RFbGVtZW50XCIsYSl9XSk7ZC5kZWJ1Z0luZm9FbmFibGVkJiZiLnB1c2goW1wiJGNvbXBpbGVQcm92aWRlclwiLGZ1bmN0aW9uKGEpe2EuZGVidWdJbmZvRW5hYmxlZCghMCl9XSk7XG5iLnVuc2hpZnQoXCJuZ1wiKTtjPWViKGIsZC5zdHJpY3REaSk7Yy5pbnZva2UoW1wiJHJvb3RTY29wZVwiLFwiJHJvb3RFbGVtZW50XCIsXCIkY29tcGlsZVwiLFwiJGluamVjdG9yXCIsZnVuY3Rpb24oYSxiLGMsZCl7YS4kYXBwbHkoZnVuY3Rpb24oKXtiLmRhdGEoXCIkaW5qZWN0b3JcIixkKTtjKGIpKGEpfSl9XSk7cmV0dXJuIGN9LGU9L15OR19FTkFCTEVfREVCVUdfSU5GTyEvLGY9L15OR19ERUZFUl9CT09UU1RSQVAhLztCJiZlLnRlc3QoQi5uYW1lKSYmKGQuZGVidWdJbmZvRW5hYmxlZD0hMCxCLm5hbWU9Qi5uYW1lLnJlcGxhY2UoZSxcIlwiKSk7aWYoQiYmIWYudGVzdChCLm5hbWUpKXJldHVybiBjKCk7Qi5uYW1lPUIubmFtZS5yZXBsYWNlKGYsXCJcIik7Z2EucmVzdW1lQm9vdHN0cmFwPWZ1bmN0aW9uKGEpe3EoYSxmdW5jdGlvbihhKXtiLnB1c2goYSl9KTtyZXR1cm4gYygpfTtGKGdhLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKSYmZ2EucmVzdW1lRGVmZXJyZWRCb290c3RyYXAoKX1mdW5jdGlvbiB3ZSgpe0IubmFtZT1cblwiTkdfRU5BQkxFX0RFQlVHX0lORk8hXCIrQi5uYW1lO0IubG9jYXRpb24ucmVsb2FkKCl9ZnVuY3Rpb24geGUoYSl7YT1nYS5lbGVtZW50KGEpLmluamVjdG9yKCk7aWYoIWEpdGhyb3cgdmEoXCJ0ZXN0XCIpO3JldHVybiBhLmdldChcIiQkdGVzdGFiaWxpdHlcIil9ZnVuY3Rpb24gSmMoYSxiKXtiPWJ8fFwiX1wiO3JldHVybiBhLnJlcGxhY2UoeWUsZnVuY3Rpb24oYSxjKXtyZXR1cm4oYz9iOlwiXCIpK2EudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIHplKCl7dmFyIGE7aWYoIUtjKXt2YXIgYj11YigpOyh4YT16KGIpP0IualF1ZXJ5OmI/QltiXTp2b2lkIDApJiZ4YS5mbi5vbj8oRT14YSxSKHhhLmZuLHtzY29wZTpPYS5zY29wZSxpc29sYXRlU2NvcGU6T2EuaXNvbGF0ZVNjb3BlLGNvbnRyb2xsZXI6T2EuY29udHJvbGxlcixpbmplY3RvcjpPYS5pbmplY3Rvcixpbmhlcml0ZWREYXRhOk9hLmluaGVyaXRlZERhdGF9KSxhPXhhLmNsZWFuRGF0YSx4YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjLFxuZT0wLGY7bnVsbCE9KGY9YltlXSk7ZSsrKShjPXhhLl9kYXRhKGYsXCJldmVudHNcIikpJiZjLiRkZXN0cm95JiZ4YShmKS50cmlnZ2VySGFuZGxlcihcIiRkZXN0cm95XCIpO2EoYil9KTpFPVQ7Z2EuZWxlbWVudD1FO0tjPSEwfX1mdW5jdGlvbiB2YihhLGIsZCl7aWYoIWEpdGhyb3cgdmEoXCJhcmVxXCIsYnx8XCI/XCIsZHx8XCJyZXF1aXJlZFwiKTtyZXR1cm4gYX1mdW5jdGlvbiBQYShhLGIsZCl7ZCYmSyhhKSYmKGE9YVthLmxlbmd0aC0xXSk7dmIoRihhKSxiLFwibm90IGEgZnVuY3Rpb24sIGdvdCBcIisoYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhP2EuY29uc3RydWN0b3IubmFtZXx8XCJPYmplY3RcIjp0eXBlb2YgYSkpO3JldHVybiBhfWZ1bmN0aW9uIFFhKGEsYil7aWYoXCJoYXNPd25Qcm9wZXJ0eVwiPT09YSl0aHJvdyB2YShcImJhZG5hbWVcIixiKTt9ZnVuY3Rpb24gTGMoYSxiLGQpe2lmKCFiKXJldHVybiBhO2I9Yi5zcGxpdChcIi5cIik7Zm9yKHZhciBjLGU9YSxmPWIubGVuZ3RoLGc9MDtnPGY7ZysrKWM9XG5iW2ddLGEmJihhPShlPWEpW2NdKTtyZXR1cm4hZCYmRihhKT9jYihlLGEpOmF9ZnVuY3Rpb24gd2IoYSl7Zm9yKHZhciBiPWFbMF0sZD1hW2EubGVuZ3RoLTFdLGMsZT0xO2IhPT1kJiYoYj1iLm5leHRTaWJsaW5nKTtlKyspaWYoY3x8YVtlXSE9PWIpY3x8KGM9RSh0YS5jYWxsKGEsMCxlKSkpLGMucHVzaChiKTtyZXR1cm4gY3x8YX1mdW5jdGlvbiBTKCl7cmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCl9ZnVuY3Rpb24gQWUoYSl7ZnVuY3Rpb24gYihhLGIsYyl7cmV0dXJuIGFbYl18fChhW2JdPWMoKSl9dmFyIGQ9TihcIiRpbmplY3RvclwiKSxjPU4oXCJuZ1wiKTthPWIoYSxcImFuZ3VsYXJcIixPYmplY3QpO2EuJCRtaW5FcnI9YS4kJG1pbkVycnx8TjtyZXR1cm4gYihhLFwibW9kdWxlXCIsZnVuY3Rpb24oKXt2YXIgYT17fTtyZXR1cm4gZnVuY3Rpb24oZixnLGgpe2lmKFwiaGFzT3duUHJvcGVydHlcIj09PWYpdGhyb3cgYyhcImJhZG5hbWVcIixcIm1vZHVsZVwiKTtnJiZhLmhhc093blByb3BlcnR5KGYpJiZcbihhW2ZdPW51bGwpO3JldHVybiBiKGEsZixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkLGUsZil7Znx8KGY9Yyk7cmV0dXJuIGZ1bmN0aW9uKCl7ZltlfHxcInB1c2hcIl0oW2IsZCxhcmd1bWVudHNdKTtyZXR1cm4gSn19ZnVuY3Rpb24gYihhLGQpe3JldHVybiBmdW5jdGlvbihiLGUpe2UmJkYoZSkmJihlLiQkbW9kdWxlTmFtZT1mKTtjLnB1c2goW2EsZCxhcmd1bWVudHNdKTtyZXR1cm4gSn19aWYoIWcpdGhyb3cgZChcIm5vbW9kXCIsZik7dmFyIGM9W10sZT1bXSxwPVtdLHg9YShcIiRpbmplY3RvclwiLFwiaW52b2tlXCIsXCJwdXNoXCIsZSksSj17X2ludm9rZVF1ZXVlOmMsX2NvbmZpZ0Jsb2NrczplLF9ydW5CbG9ja3M6cCxyZXF1aXJlczpnLG5hbWU6Zixwcm92aWRlcjpiKFwiJHByb3ZpZGVcIixcInByb3ZpZGVyXCIpLGZhY3Rvcnk6YihcIiRwcm92aWRlXCIsXCJmYWN0b3J5XCIpLHNlcnZpY2U6YihcIiRwcm92aWRlXCIsXCJzZXJ2aWNlXCIpLHZhbHVlOmEoXCIkcHJvdmlkZVwiLFwidmFsdWVcIiksY29uc3RhbnQ6YShcIiRwcm92aWRlXCIsXG5cImNvbnN0YW50XCIsXCJ1bnNoaWZ0XCIpLGRlY29yYXRvcjpiKFwiJHByb3ZpZGVcIixcImRlY29yYXRvclwiKSxhbmltYXRpb246YihcIiRhbmltYXRlUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGZpbHRlcjpiKFwiJGZpbHRlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxjb250cm9sbGVyOmIoXCIkY29udHJvbGxlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxkaXJlY3RpdmU6YihcIiRjb21waWxlUHJvdmlkZXJcIixcImRpcmVjdGl2ZVwiKSxjb21wb25lbnQ6YihcIiRjb21waWxlUHJvdmlkZXJcIixcImNvbXBvbmVudFwiKSxjb25maWc6eCxydW46ZnVuY3Rpb24oYSl7cC5wdXNoKGEpO3JldHVybiB0aGlzfX07aCYmeChoKTtyZXR1cm4gSn0pfX0pfWZ1bmN0aW9uIGlhKGEsYil7aWYoSyhhKSl7Yj1ifHxbXTtmb3IodmFyIGQ9MCxjPWEubGVuZ3RoO2Q8YztkKyspYltkXT1hW2RdfWVsc2UgaWYoSShhKSlmb3IoZCBpbiBiPWJ8fHt9LGEpaWYoXCIkXCIhPT1kLmNoYXJBdCgwKXx8XCIkXCIhPT1kLmNoYXJBdCgxKSliW2RdPWFbZF07XG5yZXR1cm4gYnx8YX1mdW5jdGlvbiBCZShhKXtSKGEse2Jvb3RzdHJhcDpJYyxjb3B5OnBhLGV4dGVuZDpSLG1lcmdlOm5lLGVxdWFsczpvYSxlbGVtZW50OkUsZm9yRWFjaDpxLGluamVjdG9yOmViLG5vb3A6QyxiaW5kOmNiLHRvSnNvbjpkYixmcm9tSnNvbjpFYyxpZGVudGl0eTpaYSxpc1VuZGVmaW5lZDp6LGlzRGVmaW5lZDp1LGlzU3RyaW5nOkgsaXNGdW5jdGlvbjpGLGlzT2JqZWN0OkksaXNOdW1iZXI6Wixpc0VsZW1lbnQ6VGIsaXNBcnJheTpLLHZlcnNpb246Q2UsaXNEYXRlOmJhLGxvd2VyY2FzZTpQLHVwcGVyY2FzZTp4YixjYWxsYmFja3M6eyQkY291bnRlcjowfSxnZXRUZXN0YWJpbGl0eTp4ZSwkJG1pbkVycjpOLCQkY3NwOnlhLHJlbG9hZFdpdGhEZWJ1Z0luZm86d2V9KTtYYj1BZShCKTtYYihcIm5nXCIsW1wibmdMb2NhbGVcIl0sW1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXthLnByb3ZpZGVyKHskJHNhbml0aXplVXJpOkRlfSk7YS5wcm92aWRlcihcIiRjb21waWxlXCIsTWMpLmRpcmVjdGl2ZSh7YTpFZSxcbmlucHV0Ok5jLHRleHRhcmVhOk5jLGZvcm06RmUsc2NyaXB0OkdlLHNlbGVjdDpIZSxvcHRpb246SWUsbmdCaW5kOkplLG5nQmluZEh0bWw6S2UsbmdCaW5kVGVtcGxhdGU6TGUsbmdDbGFzczpNZSxuZ0NsYXNzRXZlbjpOZSxuZ0NsYXNzT2RkOk9lLG5nQ2xvYWs6UGUsbmdDb250cm9sbGVyOlFlLG5nRm9ybTpSZSxuZ0hpZGU6U2UsbmdJZjpUZSxuZ0luY2x1ZGU6VWUsbmdJbml0OlZlLG5nTm9uQmluZGFibGU6V2UsbmdQbHVyYWxpemU6WGUsbmdSZXBlYXQ6WWUsbmdTaG93OlplLG5nU3R5bGU6JGUsbmdTd2l0Y2g6YWYsbmdTd2l0Y2hXaGVuOmJmLG5nU3dpdGNoRGVmYXVsdDpjZixuZ09wdGlvbnM6ZGYsbmdUcmFuc2NsdWRlOmVmLG5nTW9kZWw6ZmYsbmdMaXN0OmdmLG5nQ2hhbmdlOmhmLHBhdHRlcm46T2MsbmdQYXR0ZXJuOk9jLHJlcXVpcmVkOlBjLG5nUmVxdWlyZWQ6UGMsbWlubGVuZ3RoOlFjLG5nTWlubGVuZ3RoOlFjLG1heGxlbmd0aDpSYyxuZ01heGxlbmd0aDpSYyxuZ1ZhbHVlOmpmLFxubmdNb2RlbE9wdGlvbnM6a2Z9KS5kaXJlY3RpdmUoe25nSW5jbHVkZTpsZn0pLmRpcmVjdGl2ZSh5YikuZGlyZWN0aXZlKFNjKTthLnByb3ZpZGVyKHskYW5jaG9yU2Nyb2xsOm1mLCRhbmltYXRlOm5mLCRhbmltYXRlQ3NzOm9mLCQkYW5pbWF0ZUpzOnBmLCQkYW5pbWF0ZVF1ZXVlOnFmLCQkQW5pbWF0ZVJ1bm5lcjpyZiwkJGFuaW1hdGVBc3luY1J1bjpzZiwkYnJvd3Nlcjp0ZiwkY2FjaGVGYWN0b3J5OnVmLCRjb250cm9sbGVyOnZmLCRkb2N1bWVudDp3ZiwkZXhjZXB0aW9uSGFuZGxlcjp4ZiwkZmlsdGVyOlRjLCQkZm9yY2VSZWZsb3c6eWYsJGludGVycG9sYXRlOnpmLCRpbnRlcnZhbDpBZiwkaHR0cDpCZiwkaHR0cFBhcmFtU2VyaWFsaXplcjpDZiwkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZTpEZiwkaHR0cEJhY2tlbmQ6RWYsJHhockZhY3Rvcnk6RmYsJGpzb25wQ2FsbGJhY2tzOkdmLCRsb2NhdGlvbjpIZiwkbG9nOklmLCRwYXJzZTpKZiwkcm9vdFNjb3BlOktmLCRxOkxmLFxuJCRxOk1mLCRzY2U6TmYsJHNjZURlbGVnYXRlOk9mLCRzbmlmZmVyOlBmLCR0ZW1wbGF0ZUNhY2hlOlFmLCR0ZW1wbGF0ZVJlcXVlc3Q6UmYsJCR0ZXN0YWJpbGl0eTpTZiwkdGltZW91dDpUZiwkd2luZG93OlVmLCQkckFGOlZmLCQkanFMaXRlOldmLCQkSGFzaE1hcDpYZiwkJGNvb2tpZVJlYWRlcjpZZn0pfV0pfWZ1bmN0aW9uIGZiKGEpe3JldHVybiBhLnJlcGxhY2UoWmYsZnVuY3Rpb24oYSxkLGMsZSl7cmV0dXJuIGU/Yy50b1VwcGVyQ2FzZSgpOmN9KS5yZXBsYWNlKCRmLFwiTW96JDFcIil9ZnVuY3Rpb24gVWMoYSl7YT1hLm5vZGVUeXBlO3JldHVybiAxPT09YXx8IWF8fDk9PT1hfWZ1bmN0aW9uIFZjKGEsYil7dmFyIGQsYyxlPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGY9W107aWYoWWIudGVzdChhKSl7ZD1lLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7Yz0oYWcuZXhlYyhhKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCk7Yz1qYVtjXXx8amEuX2RlZmF1bHQ7XG5kLmlubmVySFRNTD1jWzFdK2EucmVwbGFjZShiZyxcIjwkMT48LyQyPlwiKStjWzJdO2ZvcihjPWNbMF07Yy0tOylkPWQubGFzdENoaWxkO2Y9YmIoZixkLmNoaWxkTm9kZXMpO2Q9ZS5maXJzdENoaWxkO2QudGV4dENvbnRlbnQ9XCJcIn1lbHNlIGYucHVzaChiLmNyZWF0ZVRleHROb2RlKGEpKTtlLnRleHRDb250ZW50PVwiXCI7ZS5pbm5lckhUTUw9XCJcIjtxKGYsZnVuY3Rpb24oYSl7ZS5hcHBlbmRDaGlsZChhKX0pO3JldHVybiBlfWZ1bmN0aW9uIFdjKGEsYil7dmFyIGQ9YS5wYXJlbnROb2RlO2QmJmQucmVwbGFjZUNoaWxkKGIsYSk7Yi5hcHBlbmRDaGlsZChhKX1mdW5jdGlvbiBUKGEpe2lmKGEgaW5zdGFuY2VvZiBUKXJldHVybiBhO3ZhciBiO0goYSkmJihhPVUoYSksYj0hMCk7aWYoISh0aGlzIGluc3RhbmNlb2YgVCkpe2lmKGImJlwiPFwiIT09YS5jaGFyQXQoMCkpdGhyb3cgWmIoXCJub3NlbFwiKTtyZXR1cm4gbmV3IFQoYSl9aWYoYil7Yj1CLmRvY3VtZW50O3ZhciBkO2E9KGQ9Y2cuZXhlYyhhKSk/XG5bYi5jcmVhdGVFbGVtZW50KGRbMV0pXTooZD1WYyhhLGIpKT9kLmNoaWxkTm9kZXM6W119WGModGhpcyxhKX1mdW5jdGlvbiAkYihhKXtyZXR1cm4gYS5jbG9uZU5vZGUoITApfWZ1bmN0aW9uIHpiKGEsYil7Ynx8Z2IoYSk7aWYoYS5xdWVyeVNlbGVjdG9yQWxsKWZvcih2YXIgZD1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpLGM9MCxlPWQubGVuZ3RoO2M8ZTtjKyspZ2IoZFtjXSl9ZnVuY3Rpb24gWWMoYSxiLGQsYyl7aWYodShjKSl0aHJvdyBaYihcIm9mZmFyZ3NcIik7dmFyIGU9KGM9QWIoYSkpJiZjLmV2ZW50cyxmPWMmJmMuaGFuZGxlO2lmKGYpaWYoYil7dmFyIGc9ZnVuY3Rpb24oYil7dmFyIGM9ZVtiXTt1KGQpJiZhYihjfHxbXSxkKTt1KGQpJiZjJiYwPGMubGVuZ3RofHwoYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsZiwhMSksZGVsZXRlIGVbYl0pfTtxKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2coYSk7QmJbYV0mJmcoQmJbYV0pfSl9ZWxzZSBmb3IoYiBpbiBlKVwiJGRlc3Ryb3lcIiE9PVxuYiYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsZiwhMSksZGVsZXRlIGVbYl19ZnVuY3Rpb24gZ2IoYSxiKXt2YXIgZD1hLm5nMzM5LGM9ZCYmaGJbZF07YyYmKGI/ZGVsZXRlIGMuZGF0YVtiXTooYy5oYW5kbGUmJihjLmV2ZW50cy4kZGVzdHJveSYmYy5oYW5kbGUoe30sXCIkZGVzdHJveVwiKSxZYyhhKSksZGVsZXRlIGhiW2RdLGEubmczMzk9dm9pZCAwKSl9ZnVuY3Rpb24gQWIoYSxiKXt2YXIgZD1hLm5nMzM5LGQ9ZCYmaGJbZF07YiYmIWQmJihhLm5nMzM5PWQ9KytkZyxkPWhiW2RdPXtldmVudHM6e30sZGF0YTp7fSxoYW5kbGU6dm9pZCAwfSk7cmV0dXJuIGR9ZnVuY3Rpb24gYWMoYSxiLGQpe2lmKFVjKGEpKXt2YXIgYz11KGQpLGU9IWMmJmImJiFJKGIpLGY9IWI7YT0oYT1BYihhLCFlKSkmJmEuZGF0YTtpZihjKWFbYl09ZDtlbHNle2lmKGYpcmV0dXJuIGE7aWYoZSlyZXR1cm4gYSYmYVtiXTtSKGEsYil9fX1mdW5jdGlvbiBDYihhLGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZT9cbi0xPChcIiBcIisoYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikrXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csXCIgXCIpLmluZGV4T2YoXCIgXCIrYitcIiBcIik6ITF9ZnVuY3Rpb24gRGIoYSxiKXtiJiZhLnNldEF0dHJpYnV0ZSYmcShiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihiKXthLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsVSgoXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKS5yZXBsYWNlKFwiIFwiK1UoYikrXCIgXCIsXCIgXCIpKSl9KX1mdW5jdGlvbiBFYihhLGIpe2lmKGImJmEuc2V0QXR0cmlidXRlKXt2YXIgZD0oXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKTtxKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2E9VShhKTstMT09PWQuaW5kZXhPZihcIiBcIithK1wiIFwiKSYmKGQrPWErXCIgXCIpfSk7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFUoZCkpfX1mdW5jdGlvbiBYYyhhLGIpe2lmKGIpaWYoYi5ub2RlVHlwZSlhW2EubGVuZ3RoKytdPVxuYjtlbHNle3ZhciBkPWIubGVuZ3RoO2lmKFwibnVtYmVyXCI9PT10eXBlb2YgZCYmYi53aW5kb3chPT1iKXtpZihkKWZvcih2YXIgYz0wO2M8ZDtjKyspYVthLmxlbmd0aCsrXT1iW2NdfWVsc2UgYVthLmxlbmd0aCsrXT1ifX1mdW5jdGlvbiBaYyhhLGIpe3JldHVybiBGYihhLFwiJFwiKyhifHxcIm5nQ29udHJvbGxlclwiKStcIkNvbnRyb2xsZXJcIil9ZnVuY3Rpb24gRmIoYSxiLGQpezk9PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7Zm9yKGI9SyhiKT9iOltiXTthOyl7Zm9yKHZhciBjPTAsZT1iLmxlbmd0aDtjPGU7YysrKWlmKHUoZD1FLmRhdGEoYSxiW2NdKSkpcmV0dXJuIGQ7YT1hLnBhcmVudE5vZGV8fDExPT09YS5ub2RlVHlwZSYmYS5ob3N0fX1mdW5jdGlvbiAkYyhhKXtmb3IoemIoYSwhMCk7YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCl9ZnVuY3Rpb24gR2IoYSxiKXtifHx6YihhKTt2YXIgZD1hLnBhcmVudE5vZGU7ZCYmZC5yZW1vdmVDaGlsZChhKX1cbmZ1bmN0aW9uIGVnKGEsYil7Yj1ifHxCO2lmKFwiY29tcGxldGVcIj09PWIuZG9jdW1lbnQucmVhZHlTdGF0ZSliLnNldFRpbWVvdXQoYSk7ZWxzZSBFKGIpLm9uKFwibG9hZFwiLGEpfWZ1bmN0aW9uIGFkKGEsYil7dmFyIGQ9SGJbYi50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gZCYmYmRbdWEoYSldJiZkfWZ1bmN0aW9uIGZnKGEsYil7dmFyIGQ9ZnVuY3Rpb24oYyxkKXtjLmlzRGVmYXVsdFByZXZlbnRlZD1mdW5jdGlvbigpe3JldHVybiBjLmRlZmF1bHRQcmV2ZW50ZWR9O3ZhciBmPWJbZHx8Yy50eXBlXSxnPWY/Zi5sZW5ndGg6MDtpZihnKXtpZih6KGMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSl7dmFyIGg9Yy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247Yy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtjLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMDtjLnN0b3BQcm9wYWdhdGlvbiYmYy5zdG9wUHJvcGFnYXRpb24oKTtoJiZoLmNhbGwoYyl9fWMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9XG5mdW5jdGlvbigpe3JldHVybiEwPT09Yy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR9O3ZhciBrPWYuc3BlY2lhbEhhbmRsZXJXcmFwcGVyfHxnZzsxPGcmJihmPWlhKGYpKTtmb3IodmFyIGw9MDtsPGc7bCsrKWMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKXx8ayhhLGMsZltsXSl9fTtkLmVsZW09YTtyZXR1cm4gZH1mdW5jdGlvbiBnZyhhLGIsZCl7ZC5jYWxsKGEsYil9ZnVuY3Rpb24gaGcoYSxiLGQpe3ZhciBjPWIucmVsYXRlZFRhcmdldDtjJiYoYz09PWF8fGlnLmNhbGwoYSxjKSl8fGQuY2FsbChhLGIpfWZ1bmN0aW9uIFdmKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFIoVCx7aGFzQ2xhc3M6ZnVuY3Rpb24oYSxiKXthLmF0dHImJihhPWFbMF0pO3JldHVybiBDYihhLGIpfSxhZGRDbGFzczpmdW5jdGlvbihhLGIpe2EuYXR0ciYmKGE9YVswXSk7cmV0dXJuIEViKGEsYil9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYil7YS5hdHRyJiYoYT1hWzBdKTtcbnJldHVybiBEYihhLGIpfX0pfX1mdW5jdGlvbiB6YShhLGIpe3ZhciBkPWEmJmEuJCRoYXNoS2V5O2lmKGQpcmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGQmJihkPWEuJCRoYXNoS2V5KCkpLGQ7ZD10eXBlb2YgYTtyZXR1cm4gZD1cImZ1bmN0aW9uXCI9PT1kfHxcIm9iamVjdFwiPT09ZCYmbnVsbCE9PWE/YS4kJGhhc2hLZXk9ZCtcIjpcIisoYnx8bWUpKCk6ZCtcIjpcIithfWZ1bmN0aW9uIFJhKGEsYil7aWYoYil7dmFyIGQ9MDt0aGlzLm5leHRVaWQ9ZnVuY3Rpb24oKXtyZXR1cm4rK2R9fXEoYSx0aGlzLnB1dCx0aGlzKX1mdW5jdGlvbiBjZChhKXthPShGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKStcIiBcIikucmVwbGFjZShqZyxcIlwiKTtyZXR1cm4gYS5tYXRjaChrZyl8fGEubWF0Y2gobGcpfWZ1bmN0aW9uIG1nKGEpe3JldHVybihhPWNkKGEpKT9cImZ1bmN0aW9uKFwiKyhhWzFdfHxcIlwiKS5yZXBsYWNlKC9bXFxzXFxyXFxuXSsvLFwiIFwiKStcIilcIjpcImZuXCJ9ZnVuY3Rpb24gZWIoYSxiKXtmdW5jdGlvbiBkKGEpe3JldHVybiBmdW5jdGlvbihiLFxuYyl7aWYoSShiKSlxKGIsQmMoYSkpO2Vsc2UgcmV0dXJuIGEoYixjKX19ZnVuY3Rpb24gYyhhLGIpe1FhKGEsXCJzZXJ2aWNlXCIpO2lmKEYoYil8fEsoYikpYj1wLmluc3RhbnRpYXRlKGIpO2lmKCFiLiRnZXQpdGhyb3cgRGEoXCJwZ2V0XCIsYSk7cmV0dXJuIG5bYStcIlByb3ZpZGVyXCJdPWJ9ZnVuY3Rpb24gZShhLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXQuaW52b2tlKGIsdGhpcyk7aWYoeihjKSl0aHJvdyBEYShcInVuZGVmXCIsYSk7cmV0dXJuIGN9fWZ1bmN0aW9uIGYoYSxiLGQpe3JldHVybiBjKGEseyRnZXQ6ITEhPT1kP2UoYSxiKTpifSl9ZnVuY3Rpb24gZyhhKXt2Yih6KGEpfHxLKGEpLFwibW9kdWxlc1RvTG9hZFwiLFwibm90IGFuIGFycmF5XCIpO3ZhciBiPVtdLGM7cShhLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYSl7dmFyIGIsYztiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGU9YVtiXSxmPXAuZ2V0KGVbMF0pO2ZbZVsxXV0uYXBwbHkoZixlWzJdKX19aWYoIW0uZ2V0KGEpKXttLnB1dChhLFxuITApO3RyeXtIKGEpPyhjPVhiKGEpLGI9Yi5jb25jYXQoZyhjLnJlcXVpcmVzKSkuY29uY2F0KGMuX3J1bkJsb2NrcyksZChjLl9pbnZva2VRdWV1ZSksZChjLl9jb25maWdCbG9ja3MpKTpGKGEpP2IucHVzaChwLmludm9rZShhKSk6SyhhKT9iLnB1c2gocC5pbnZva2UoYSkpOlBhKGEsXCJtb2R1bGVcIil9Y2F0Y2goZSl7dGhyb3cgSyhhKSYmKGE9YVthLmxlbmd0aC0xXSksZS5tZXNzYWdlJiZlLnN0YWNrJiYtMT09PWUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpJiYoZT1lLm1lc3NhZ2UrXCJcXG5cIitlLnN0YWNrKSxEYShcIm1vZHVsZXJyXCIsYSxlLnN0YWNrfHxlLm1lc3NhZ2V8fGUpO319fSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGMpe2Z1bmN0aW9uIGQoYixlKXtpZihhLmhhc093blByb3BlcnR5KGIpKXtpZihhW2JdPT09ayl0aHJvdyBEYShcImNkZXBcIixiK1wiIDwtIFwiK2wuam9pbihcIiA8LSBcIikpO3JldHVybiBhW2JdfXRyeXtyZXR1cm4gbC51bnNoaWZ0KGIpLGFbYl09ayxhW2JdPVxuYyhiLGUpLGFbYl19Y2F0Y2goZil7dGhyb3cgYVtiXT09PWsmJmRlbGV0ZSBhW2JdLGY7fWZpbmFsbHl7bC5zaGlmdCgpfX1mdW5jdGlvbiBlKGEsYyxmKXt2YXIgZz1bXTthPWViLiQkYW5ub3RhdGUoYSxiLGYpO2Zvcih2YXIgaD0wLGs9YS5sZW5ndGg7aDxrO2grKyl7dmFyIGw9YVtoXTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGwpdGhyb3cgRGEoXCJpdGtuXCIsbCk7Zy5wdXNoKGMmJmMuaGFzT3duUHJvcGVydHkobCk/Y1tsXTpkKGwsZikpfXJldHVybiBnfXJldHVybntpbnZva2U6ZnVuY3Rpb24oYSxiLGMsZCl7XCJzdHJpbmdcIj09PXR5cGVvZiBjJiYoZD1jLGM9bnVsbCk7Yz1lKGEsYyxkKTtLKGEpJiYoYT1hW2EubGVuZ3RoLTFdKTtkPTExPj1GYT8hMTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSYmL14oPzpjbGFzc1xcYnxjb25zdHJ1Y3RvclxcKCkvLnRlc3QoRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkrXCIgXCIpO3JldHVybiBkPyhjLnVuc2hpZnQobnVsbCksbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShhLFxuYykpKTphLmFwcGx5KGIsYyl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1LKGEpP2FbYS5sZW5ndGgtMV06YTthPWUoYSxiLGMpO2EudW5zaGlmdChudWxsKTtyZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShkLGEpKX0sZ2V0OmQsYW5ub3RhdGU6ZWIuJCRhbm5vdGF0ZSxoYXM6ZnVuY3Rpb24oYil7cmV0dXJuIG4uaGFzT3duUHJvcGVydHkoYitcIlByb3ZpZGVyXCIpfHxhLmhhc093blByb3BlcnR5KGIpfX19Yj0hMD09PWI7dmFyIGs9e30sbD1bXSxtPW5ldyBSYShbXSwhMCksbj17JHByb3ZpZGU6e3Byb3ZpZGVyOmQoYyksZmFjdG9yeTpkKGYpLHNlcnZpY2U6ZChmdW5jdGlvbihhLGIpe3JldHVybiBmKGEsW1wiJGluamVjdG9yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5zdGFudGlhdGUoYil9XSl9KSx2YWx1ZTpkKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYSxtYShiKSwhMSl9KSxjb25zdGFudDpkKGZ1bmN0aW9uKGEsYil7UWEoYSxcImNvbnN0YW50XCIpO1xublthXT1iO3hbYV09Yn0pLGRlY29yYXRvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXAuZ2V0KGErXCJQcm92aWRlclwiKSxkPWMuJGdldDtjLiRnZXQ9ZnVuY3Rpb24oKXt2YXIgYT10Lmludm9rZShkLGMpO3JldHVybiB0Lmludm9rZShiLG51bGwseyRkZWxlZ2F0ZTphfSl9fX19LHA9bi4kaW5qZWN0b3I9aChuLGZ1bmN0aW9uKGEsYil7Z2EuaXNTdHJpbmcoYikmJmwucHVzaChiKTt0aHJvdyBEYShcInVucHJcIixsLmpvaW4oXCIgPC0gXCIpKTt9KSx4PXt9LEo9aCh4LGZ1bmN0aW9uKGEsYil7dmFyIGM9cC5nZXQoYStcIlByb3ZpZGVyXCIsYik7cmV0dXJuIHQuaW52b2tlKGMuJGdldCxjLHZvaWQgMCxhKX0pLHQ9SjtuLiRpbmplY3RvclByb3ZpZGVyPXskZ2V0Om1hKEopfTt2YXIgcz1nKGEpLHQ9Si5nZXQoXCIkaW5qZWN0b3JcIik7dC5zdHJpY3REaT1iO3EocyxmdW5jdGlvbihhKXthJiZ0Lmludm9rZShhKX0pO3JldHVybiB0fWZ1bmN0aW9uIG1mKCl7dmFyIGE9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1cbmZ1bmN0aW9uKCl7YT0hMX07dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRsb2NhdGlvblwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGIsZCxjKXtmdW5jdGlvbiBlKGEpe3ZhciBiPW51bGw7QXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhLGZ1bmN0aW9uKGEpe2lmKFwiYVwiPT09dWEoYSkpcmV0dXJuIGI9YSwhMH0pO3JldHVybiBifWZ1bmN0aW9uIGYoYSl7aWYoYSl7YS5zY3JvbGxJbnRvVmlldygpO3ZhciBjO2M9Zy55T2Zmc2V0O0YoYyk/Yz1jKCk6VGIoYyk/KGM9Y1swXSxjPVwiZml4ZWRcIiE9PWIuZ2V0Q29tcHV0ZWRTdHlsZShjKS5wb3NpdGlvbj8wOmMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKTpaKGMpfHwoYz0wKTtjJiYoYT1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxiLnNjcm9sbEJ5KDAsYS1jKSl9ZWxzZSBiLnNjcm9sbFRvKDAsMCl9ZnVuY3Rpb24gZyhhKXthPUgoYSk/YTpkLmhhc2goKTt2YXIgYjthPyhiPWguZ2V0RWxlbWVudEJ5SWQoYSkpP2YoYik6XG4oYj1lKGguZ2V0RWxlbWVudHNCeU5hbWUoYSkpKT9mKGIpOlwidG9wXCI9PT1hJiZmKG51bGwpOmYobnVsbCl9dmFyIGg9Yi5kb2N1bWVudDthJiZjLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBkLmhhc2goKX0sZnVuY3Rpb24oYSxiKXthPT09YiYmXCJcIj09PWF8fGVnKGZ1bmN0aW9uKCl7Yy4kZXZhbEFzeW5jKGcpfSl9KTtyZXR1cm4gZ31dfWZ1bmN0aW9uIGpiKGEsYil7aWYoIWEmJiFiKXJldHVyblwiXCI7aWYoIWEpcmV0dXJuIGI7aWYoIWIpcmV0dXJuIGE7SyhhKSYmKGE9YS5qb2luKFwiIFwiKSk7SyhiKSYmKGI9Yi5qb2luKFwiIFwiKSk7cmV0dXJuIGErXCIgXCIrYn1mdW5jdGlvbiBuZyhhKXtIKGEpJiYoYT1hLnNwbGl0KFwiIFwiKSk7dmFyIGI9UygpO3EoYSxmdW5jdGlvbihhKXthLmxlbmd0aCYmKGJbYV09ITApfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gRWEoYSl7cmV0dXJuIEkoYSk/YTp7fX1mdW5jdGlvbiBvZyhhLGIsZCxjKXtmdW5jdGlvbiBlKGEpe3RyeXthLmFwcGx5KG51bGwsdGEuY2FsbChhcmd1bWVudHMsXG4xKSl9ZmluYWxseXtpZihKLS0sMD09PUopZm9yKDt0Lmxlbmd0aDspdHJ5e3QucG9wKCkoKX1jYXRjaChiKXtkLmVycm9yKGIpfX19ZnVuY3Rpb24gZigpe3c9bnVsbDtnKCk7aCgpfWZ1bmN0aW9uIGcoKXtzPU8oKTtzPXoocyk/bnVsbDpzO29hKHMsQSkmJihzPUEpO0E9c31mdW5jdGlvbiBoKCl7aWYoeSE9PWsudXJsKCl8fEQhPT1zKXk9ay51cmwoKSxEPXMscShMLGZ1bmN0aW9uKGEpe2Eoay51cmwoKSxzKX0pfXZhciBrPXRoaXMsbD1hLmxvY2F0aW9uLG09YS5oaXN0b3J5LG49YS5zZXRUaW1lb3V0LHA9YS5jbGVhclRpbWVvdXQseD17fTtrLmlzTW9jaz0hMTt2YXIgSj0wLHQ9W107ay4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0PWU7ay4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7SisrfTtrLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHM9ZnVuY3Rpb24oYSl7MD09PUo/YSgpOnQucHVzaChhKX07dmFyIHMsRCx5PWwuaHJlZixpYj1cbmIuZmluZChcImJhc2VcIiksdz1udWxsLE89Yy5oaXN0b3J5P2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBtLnN0YXRlfWNhdGNoKGEpe319OkM7ZygpO0Q9cztrLnVybD1mdW5jdGlvbihiLGQsZSl7eihlKSYmKGU9bnVsbCk7bCE9PWEubG9jYXRpb24mJihsPWEubG9jYXRpb24pO20hPT1hLmhpc3RvcnkmJihtPWEuaGlzdG9yeSk7aWYoYil7dmFyIGY9RD09PWU7aWYoeT09PWImJighYy5oaXN0b3J5fHxmKSlyZXR1cm4gazt2YXIgaD15JiZKYSh5KT09PUphKGIpO3k9YjtEPWU7IWMuaGlzdG9yeXx8aCYmZj8oaHx8KHc9YiksZD9sLnJlcGxhY2UoYik6aD8oZD1sLGU9Yi5pbmRleE9mKFwiI1wiKSxlPS0xPT09ZT9cIlwiOmIuc3Vic3RyKGUpLGQuaGFzaD1lKTpsLmhyZWY9YixsLmhyZWYhPT1iJiYodz1iKSk6KG1bZD9cInJlcGxhY2VTdGF0ZVwiOlwicHVzaFN0YXRlXCJdKGUsXCJcIixiKSxnKCksRD1zKTt3JiYodz1iKTtyZXR1cm4ga31yZXR1cm4gd3x8bC5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKX07XG5rLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHN9O3ZhciBMPVtdLFE9ITEsQT1udWxsO2sub25VcmxDaGFuZ2U9ZnVuY3Rpb24oYil7aWYoIVEpe2lmKGMuaGlzdG9yeSlFKGEpLm9uKFwicG9wc3RhdGVcIixmKTtFKGEpLm9uKFwiaGFzaGNoYW5nZVwiLGYpO1E9ITB9TC5wdXNoKGIpO3JldHVybiBifTtrLiQkYXBwbGljYXRpb25EZXN0cm95ZWQ9ZnVuY3Rpb24oKXtFKGEpLm9mZihcImhhc2hjaGFuZ2UgcG9wc3RhdGVcIixmKX07ay4kJGNoZWNrVXJsQ2hhbmdlPWg7ay5iYXNlSHJlZj1mdW5jdGlvbigpe3ZhciBhPWliLmF0dHIoXCJocmVmXCIpO3JldHVybiBhP2EucmVwbGFjZSgvXihodHRwcz86KT9cXC9cXC9bXlxcL10qLyxcIlwiKTpcIlwifTtrLmRlZmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM7SisrO2M9bihmdW5jdGlvbigpe2RlbGV0ZSB4W2NdO2UoYSl9LGJ8fDApO3hbY109ITA7cmV0dXJuIGN9O2suZGVmZXIuY2FuY2VsPWZ1bmN0aW9uKGEpe3JldHVybiB4W2FdPyhkZWxldGUgeFthXSxwKGEpLGUoQyksXG4hMCk6ITF9fWZ1bmN0aW9uIHRmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRsb2dcIixcIiRzbmlmZmVyXCIsXCIkZG9jdW1lbnRcIixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gbmV3IG9nKGEsYyxiLGQpfV19ZnVuY3Rpb24gdWYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyl7ZnVuY3Rpb24gZShhKXthIT09biYmKHA/cD09PWEmJihwPWEubik6cD1hLGYoYS5uLGEucCksZihhLG4pLG49YSxuLm49bnVsbCl9ZnVuY3Rpb24gZihhLGIpe2EhPT1iJiYoYSYmKGEucD1iKSxiJiYoYi5uPWEpKX1pZihhIGluIGIpdGhyb3cgTihcIiRjYWNoZUZhY3RvcnlcIikoXCJpaWRcIixhKTt2YXIgZz0wLGg9Uih7fSxjLHtpZDphfSksaz1TKCksbD1jJiZjLmNhcGFjaXR5fHxOdW1iZXIuTUFYX1ZBTFVFLG09UygpLG49bnVsbCxwPW51bGw7cmV0dXJuIGJbYV09e3B1dDpmdW5jdGlvbihhLGIpe2lmKCF6KGIpKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBjPW1bYV18fChtW2FdPXtrZXk6YX0pO1xuZShjKX1hIGluIGt8fGcrKztrW2FdPWI7Zz5sJiZ0aGlzLnJlbW92ZShwLmtleSk7cmV0dXJuIGJ9fSxnZXQ6ZnVuY3Rpb24oYSl7aWYobDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYj1tW2FdO2lmKCFiKXJldHVybjtlKGIpfXJldHVybiBrW2FdfSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYobDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYj1tW2FdO2lmKCFiKXJldHVybjtiPT09biYmKG49Yi5wKTtiPT09cCYmKHA9Yi5uKTtmKGIubixiLnApO2RlbGV0ZSBtW2FdfWEgaW4gayYmKGRlbGV0ZSBrW2FdLGctLSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe2s9UygpO2c9MDttPVMoKTtuPXA9bnVsbH0sZGVzdHJveTpmdW5jdGlvbigpe209aD1rPW51bGw7ZGVsZXRlIGJbYV19LGluZm86ZnVuY3Rpb24oKXtyZXR1cm4gUih7fSxoLHtzaXplOmd9KX19fXZhciBiPXt9O2EuaW5mbz1mdW5jdGlvbigpe3ZhciBhPXt9O3EoYixmdW5jdGlvbihiLGUpe2FbZV09Yi5pbmZvKCl9KTtyZXR1cm4gYX07YS5nZXQ9XG5mdW5jdGlvbihhKXtyZXR1cm4gYlthXX07cmV0dXJuIGF9fWZ1bmN0aW9uIFFmKCl7dGhpcy4kZ2V0PVtcIiRjYWNoZUZhY3RvcnlcIixmdW5jdGlvbihhKXtyZXR1cm4gYShcInRlbXBsYXRlc1wiKX1dfWZ1bmN0aW9uIE1jKGEsYil7ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQ9L15cXHMqKFtAJjxdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLyxlPVMoKTtxKGEsZnVuY3Rpb24oYSxmKXtpZihhIGluIG4pZVtmXT1uW2FdO2Vsc2V7dmFyIGc9YS5tYXRjaChkKTtpZighZyl0aHJvdyBkYShcImlzY3BcIixiLGYsYSxjP1wiY29udHJvbGxlciBiaW5kaW5ncyBkZWZpbml0aW9uXCI6XCJpc29sYXRlIHNjb3BlIGRlZmluaXRpb25cIik7ZVtmXT17bW9kZTpnWzFdWzBdLGNvbGxlY3Rpb246XCIqXCI9PT1nWzJdLG9wdGlvbmFsOlwiP1wiPT09Z1szXSxhdHRyTmFtZTpnWzRdfHxmfTtnWzRdJiYoblthXT1lW2ZdKX19KTtyZXR1cm4gZX1mdW5jdGlvbiBjKGEpe3ZhciBiPWEuY2hhckF0KDApO2lmKCFifHxiIT09UChiKSl0aHJvdyBkYShcImJhZGRpclwiLFxuYSk7aWYoYSE9PWEudHJpbSgpKXRocm93IGRhKFwiYmFkZGlyXCIsYSk7fWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5yZXF1aXJlfHxhLmNvbnRyb2xsZXImJmEubmFtZTshSyhiKSYmSShiKSYmcShiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5tYXRjaChsKTthLnN1YnN0cmluZyhkWzBdLmxlbmd0aCl8fChiW2NdPWRbMF0rYyl9KTtyZXR1cm4gYn12YXIgZj17fSxnPS9eXFxzKmRpcmVjdGl2ZTpcXHMqKFtcXHdcXC1dKylcXHMrKC4qKSQvLGg9LygoW1xcd1xcLV0rKSg/OjooW147XSspKT87PykvLGs9cWUoXCJuZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0XCIpLGw9L14oPzooXFxeXFxePyk/KFxcPyk/KFxcXlxcXj8pPyk/LyxtPS9eKG9uW2Etel0rfGZvcm1hY3Rpb24pJC8sbj1TKCk7dGhpcy5kaXJlY3RpdmU9ZnVuY3Rpb24gRChiLGQpe1FhKGIsXCJkaXJlY3RpdmVcIik7SChiKT8oYyhiKSx2YihkLFwiZGlyZWN0aXZlRmFjdG9yeVwiKSxmLmhhc093blByb3BlcnR5KGIpfHwoZltiXT1bXSxhLmZhY3RvcnkoYitcIkRpcmVjdGl2ZVwiLFxuW1wiJGluamVjdG9yXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9W107cShmW2JdLGZ1bmN0aW9uKGYsZyl7dHJ5e3ZhciBoPWEuaW52b2tlKGYpO0YoaCk/aD17Y29tcGlsZTptYShoKX06IWguY29tcGlsZSYmaC5saW5rJiYoaC5jb21waWxlPW1hKGgubGluaykpO2gucHJpb3JpdHk9aC5wcmlvcml0eXx8MDtoLmluZGV4PWc7aC5uYW1lPWgubmFtZXx8YjtoLnJlcXVpcmU9ZShoKTtoLnJlc3RyaWN0PWgucmVzdHJpY3R8fFwiRUFcIjtoLiQkbW9kdWxlTmFtZT1mLiQkbW9kdWxlTmFtZTtkLnB1c2goaCl9Y2F0Y2goayl7YyhrKX19KTtyZXR1cm4gZH1dKSksZltiXS5wdXNoKGQpKTpxKGIsQmMoRCkpO3JldHVybiB0aGlzfTt0aGlzLmNvbXBvbmVudD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gZShiKXtyZXR1cm4gRihiKXx8SyhiKT9mdW5jdGlvbihjLGQpe3JldHVybiBhLmludm9rZShiLHRoaXMseyRlbGVtZW50OmMsJGF0dHJzOmR9KX06XG5ifXZhciBmPWIudGVtcGxhdGV8fGIudGVtcGxhdGVVcmw/Yi50ZW1wbGF0ZTpcIlwiLGc9e2NvbnRyb2xsZXI6ZCxjb250cm9sbGVyQXM6ZGQoYi5jb250cm9sbGVyKXx8Yi5jb250cm9sbGVyQXN8fFwiJGN0cmxcIix0ZW1wbGF0ZTplKGYpLHRlbXBsYXRlVXJsOmUoYi50ZW1wbGF0ZVVybCksdHJhbnNjbHVkZTpiLnRyYW5zY2x1ZGUsc2NvcGU6e30sYmluZFRvQ29udHJvbGxlcjpiLmJpbmRpbmdzfHx7fSxyZXN0cmljdDpcIkVcIixyZXF1aXJlOmIucmVxdWlyZX07cShiLGZ1bmN0aW9uKGEsYil7XCIkXCI9PT1iLmNoYXJBdCgwKSYmKGdbYl09YSl9KTtyZXR1cm4gZ312YXIgZD1iLmNvbnRyb2xsZXJ8fGZ1bmN0aW9uKCl7fTtxKGIsZnVuY3Rpb24oYSxiKXtcIiRcIj09PWIuY2hhckF0KDApJiYoY1tiXT1hLEYoZCkmJihkW2JdPWEpKX0pO2MuJGluamVjdD1bXCIkaW5qZWN0b3JcIl07cmV0dXJuIHRoaXMuZGlyZWN0aXZlKGEsYyl9O3RoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSk/XG4oYi5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChhKSx0aGlzKTpiLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCl9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhiLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChhKSx0aGlzKTpiLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpfTt2YXIgcD0hMDt0aGlzLmRlYnVnSW5mb0VuYWJsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSk/KHA9YSx0aGlzKTpwfTt2YXIgeD0xMDt0aGlzLm9uQ2hhbmdlc1R0bD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeD1hLHRoaXMpOnh9O3ZhciBKPSEwO3RoaXMuY29tbWVudERpcmVjdGl2ZXNFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhKPWEsdGhpcyk6Sn07dmFyIHQ9ITA7dGhpcy5jc3NDbGFzc0RpcmVjdGl2ZXNFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP1xuKHQ9YSx0aGlzKTp0fTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsXCIkaW50ZXJwb2xhdGVcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkdGVtcGxhdGVSZXF1ZXN0XCIsXCIkcGFyc2VcIixcIiRjb250cm9sbGVyXCIsXCIkcm9vdFNjb3BlXCIsXCIkc2NlXCIsXCIkYW5pbWF0ZVwiLFwiJCRzYW5pdGl6ZVVyaVwiLGZ1bmN0aW9uKGEsYixjLGUsbixMLFEsQSxHLHYpe2Z1bmN0aW9uIE0oKXt0cnl7aWYoIS0tcWEpdGhyb3cgZmE9dm9pZCAwLGRhKFwiaW5mY2huZ1wiLHgpO1EuJGFwcGx5KGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MCxjPWZhLmxlbmd0aDtiPGM7KytiKXRyeXtmYVtiXSgpfWNhdGNoKGQpe2EucHVzaChkKX1mYT12b2lkIDA7aWYoYS5sZW5ndGgpdGhyb3cgYTt9KX1maW5hbGx5e3FhKyt9fWZ1bmN0aW9uIGJjKGEsYil7aWYoYil7dmFyIGM9T2JqZWN0LmtleXMoYiksZCxlLGY7ZD0wO2ZvcihlPWMubGVuZ3RoO2Q8ZTtkKyspZj1jW2RdLHRoaXNbZl09YltmXX1lbHNlIHRoaXMuJGF0dHI9e307dGhpcy4kJGVsZW1lbnQ9XG5hfWZ1bmN0aW9uIHIoYSxiLGMpe3BhLmlubmVySFRNTD1cIjxzcGFuIFwiK2IrXCI+XCI7Yj1wYS5maXJzdENoaWxkLmF0dHJpYnV0ZXM7dmFyIGQ9YlswXTtiLnJlbW92ZU5hbWVkSXRlbShkLm5hbWUpO2QudmFsdWU9YzthLmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtKGQpfWZ1bmN0aW9uIEhhKGEsYil7dHJ5e2EuYWRkQ2xhc3MoYil9Y2F0Y2goYyl7fX1mdW5jdGlvbiAkKGEsYixjLGQsZSl7YSBpbnN0YW5jZW9mIEV8fChhPUUoYSkpO2Zvcih2YXIgZj0vXFxTKy8sZz0wLGg9YS5sZW5ndGg7ZzxoO2crKyl7dmFyIGs9YVtnXTtrLm5vZGVUeXBlPT09TWEmJmsubm9kZVZhbHVlLm1hdGNoKGYpJiZXYyhrLGFbZ109Qi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSl9dmFyIGw9QWEoYSxiLGEsYyxkLGUpOyQuJCRhZGRTY29wZUNsYXNzKGEpO3ZhciBtPW51bGw7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXt2YihiLFwic2NvcGVcIik7ZSYmZS5uZWVkc05ld1Njb3BlJiYoYj1iLiRwYXJlbnQuJG5ldygpKTtcbmQ9ZHx8e307dmFyIGY9ZC5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixnPWQudHJhbnNjbHVkZUNvbnRyb2xsZXJzO2Q9ZC5mdXR1cmVQYXJlbnRFbGVtZW50O2YmJmYuJCRib3VuZFRyYW5zY2x1ZGUmJihmPWYuJCRib3VuZFRyYW5zY2x1ZGUpO218fChtPShkPWQmJmRbMF0pP1wiZm9yZWlnbm9iamVjdFwiIT09dWEoZCkmJm5hLmNhbGwoZCkubWF0Y2goL1NWRy8pP1wic3ZnXCI6XCJodG1sXCI6XCJodG1sXCIpO2Q9XCJodG1sXCIhPT1tP0UoYmEobSxFKFwiPGRpdj5cIikuYXBwZW5kKGEpLmh0bWwoKSkpOmM/T2EuY2xvbmUuY2FsbChhKTphO2lmKGcpZm9yKHZhciBoIGluIGcpZC5kYXRhKFwiJFwiK2grXCJDb250cm9sbGVyXCIsZ1toXS5pbnN0YW5jZSk7JC4kJGFkZFNjb3BlSW5mbyhkLGIpO2MmJmMoZCxiKTtsJiZsKGIsZCxkLGYpO3JldHVybiBkfX1mdW5jdGlvbiBBYShhLGIsYyxkLGUsZil7ZnVuY3Rpb24gZyhhLGMsZCxlKXt2YXIgZixrLGwsbSxwLHkseDtpZihuKWZvcih4PUFycmF5KGMubGVuZ3RoKSxcbm09MDttPGgubGVuZ3RoO20rPTMpZj1oW21dLHhbZl09Y1tmXTtlbHNlIHg9YzttPTA7Zm9yKHA9aC5sZW5ndGg7bTxwOylrPXhbaFttKytdXSxjPWhbbSsrXSxmPWhbbSsrXSxjPyhjLnNjb3BlPyhsPWEuJG5ldygpLCQuJCRhZGRTY29wZUluZm8oRShrKSxsKSk6bD1hLHk9Yy50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9oYShhLGMudHJhbnNjbHVkZSxlKTohYy50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQmJmU/ZTohZSYmYj9oYShhLGIpOm51bGwsYyhmLGwsayxkLHkpKTpmJiZmKGEsay5jaGlsZE5vZGVzLHZvaWQgMCxlKX1mb3IodmFyIGg9W10sayxsLG0scCxuLHk9MDt5PGEubGVuZ3RoO3krKyl7az1uZXcgYmM7bD1kYyhhW3ldLFtdLGssMD09PXk/ZDp2b2lkIDAsZSk7KGY9bC5sZW5ndGg/U2EobCxhW3ldLGssYixjLG51bGwsW10sW10sZik6bnVsbCkmJmYuc2NvcGUmJiQuJCRhZGRTY29wZUNsYXNzKGsuJCRlbGVtZW50KTtrPWYmJmYudGVybWluYWx8fCEobT1hW3ldLmNoaWxkTm9kZXMpfHxcbiFtLmxlbmd0aD9udWxsOkFhKG0sZj8oZi50cmFuc2NsdWRlT25UaGlzRWxlbWVudHx8IWYudGVtcGxhdGVPblRoaXNFbGVtZW50KSYmZi50cmFuc2NsdWRlOmIpO2lmKGZ8fGspaC5wdXNoKHksZixrKSxwPSEwLG49bnx8ZjtmPW51bGx9cmV0dXJuIHA/ZzpudWxsfWZ1bmN0aW9uIGhhKGEsYixjKXtmdW5jdGlvbiBkKGUsZixnLGgsayl7ZXx8KGU9YS4kbmV3KCExLGspLGUuJCR0cmFuc2NsdWRlZD0hMCk7cmV0dXJuIGIoZSxmLHtwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjpjLHRyYW5zY2x1ZGVDb250cm9sbGVyczpnLGZ1dHVyZVBhcmVudEVsZW1lbnQ6aH0pfXZhciBlPWQuJCRzbG90cz1TKCksZjtmb3IoZiBpbiBiLiQkc2xvdHMpZVtmXT1iLiQkc2xvdHNbZl0/aGEoYSxiLiQkc2xvdHNbZl0sYyk6bnVsbDtyZXR1cm4gZH1mdW5jdGlvbiBkYyhhLGIsYyxkLGUpe3ZhciBmPWMuJGF0dHIsZztzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOmc9dWEoYSk7VihiLEJhKGcpLFwiRVwiLGQsXG5lKTtmb3IodmFyIGssbCxtLHAsbj1hLmF0dHJpYnV0ZXMseT0wLHg9biYmbi5sZW5ndGg7eTx4O3krKyl7dmFyIEE9ITEsTD0hMTtrPW5beV07bD1rLm5hbWU7bT1VKGsudmFsdWUpO2s9QmEobCk7KHA9RGEudGVzdChrKSkmJihsPWwucmVwbGFjZShlZCxcIlwiKS5zdWJzdHIoOCkucmVwbGFjZSgvXyguKS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX0pKTsoaz1rLm1hdGNoKEVhKSkmJlkoa1sxXSkmJihBPWwsTD1sLnN1YnN0cigwLGwubGVuZ3RoLTUpK1wiZW5kXCIsbD1sLnN1YnN0cigwLGwubGVuZ3RoLTYpKTtrPUJhKGwudG9Mb3dlckNhc2UoKSk7ZltrXT1sO2lmKHB8fCFjLmhhc093blByb3BlcnR5KGspKWNba109bSxhZChhLGspJiYoY1trXT0hMCk7bWEoYSxiLG0sayxwKTtWKGIsayxcIkFcIixkLGUsQSxMKX1cImlucHV0XCI9PT1nJiZcImhpZGRlblwiPT09YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpJiZhLnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpO1xuaWYoIUNhKWJyZWFrO2Y9YS5jbGFzc05hbWU7SShmKSYmKGY9Zi5hbmltVmFsKTtpZihIKGYpJiZcIlwiIT09Zilmb3IoO2E9aC5leGVjKGYpOylrPUJhKGFbMl0pLFYoYixrLFwiQ1wiLGQsZSkmJihjW2tdPVUoYVszXSkpLGY9Zi5zdWJzdHIoYS5pbmRleCthWzBdLmxlbmd0aCk7YnJlYWs7Y2FzZSBNYTppZigxMT09PUZhKWZvcig7YS5wYXJlbnROb2RlJiZhLm5leHRTaWJsaW5nJiZhLm5leHRTaWJsaW5nLm5vZGVUeXBlPT09TWE7KWEubm9kZVZhbHVlKz1hLm5leHRTaWJsaW5nLm5vZGVWYWx1ZSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYS5uZXh0U2libGluZyk7Z2EoYixhLm5vZGVWYWx1ZSk7YnJlYWs7Y2FzZSA4OmlmKCF4YSlicmVhaztOKGEsYixjLGQsZSl9Yi5zb3J0KGVhKTtyZXR1cm4gYn1mdW5jdGlvbiBOKGEsYixjLGQsZSl7dHJ5e3ZhciBmPWcuZXhlYyhhLm5vZGVWYWx1ZSk7aWYoZil7dmFyIGg9QmEoZlsxXSk7VihiLGgsXCJNXCIsZCxlKSYmKGNbaF09VShmWzJdKSl9fWNhdGNoKGspe319XG5mdW5jdGlvbiBmZChhLGIsYyl7dmFyIGQ9W10sZT0wO2lmKGImJmEuaGFzQXR0cmlidXRlJiZhLmhhc0F0dHJpYnV0ZShiKSl7ZG97aWYoIWEpdGhyb3cgZGEoXCJ1dGVyZGlyXCIsYixjKTsxPT09YS5ub2RlVHlwZSYmKGEuaGFzQXR0cmlidXRlKGIpJiZlKyssYS5oYXNBdHRyaWJ1dGUoYykmJmUtLSk7ZC5wdXNoKGEpO2E9YS5uZXh0U2libGluZ313aGlsZSgwPGUpfWVsc2UgZC5wdXNoKGEpO3JldHVybiBFKGQpfWZ1bmN0aW9uIGdkKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCxlLGYsZyxoKXtlPWZkKGVbMF0sYixjKTtyZXR1cm4gYShkLGUsZixnLGgpfX1mdW5jdGlvbiBmYyhhLGIsYyxkLGUsZil7dmFyIGc7cmV0dXJuIGE/JChiLGMsZCxlLGYpOmZ1bmN0aW9uKCl7Z3x8KGc9JChiLGMsZCxlLGYpLGI9Yz1mPW51bGwpO3JldHVybiBnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gU2EoYSxiLGQsZSxmLGcsaCxrLGwpe2Z1bmN0aW9uIG0oYSxiLGMsZCl7aWYoYSl7YyYmXG4oYT1nZChhLGMsZCkpO2EucmVxdWlyZT12LnJlcXVpcmU7YS5kaXJlY3RpdmVOYW1lPXc7aWYoQT09PXZ8fHYuJCRpc29sYXRlU2NvcGUpYT1qYShhLHtpc29sYXRlU2NvcGU6ITB9KTtoLnB1c2goYSl9aWYoYil7YyYmKGI9Z2QoYixjLGQpKTtiLnJlcXVpcmU9di5yZXF1aXJlO2IuZGlyZWN0aXZlTmFtZT13O2lmKEE9PT12fHx2LiQkaXNvbGF0ZVNjb3BlKWI9amEoYix7aXNvbGF0ZVNjb3BlOiEwfSk7ay5wdXNoKGIpfX1mdW5jdGlvbiBwKGEsZSxmLGcsbCl7ZnVuY3Rpb24gbShhLGIsYyxkKXt2YXIgZTskYShhKXx8KGQ9YyxjPWIsYj1hLGE9dm9pZCAwKTtKJiYoZT1EKTtjfHwoYz1KP00ucGFyZW50KCk6TSk7aWYoZCl7dmFyIGY9bC4kJHNsb3RzW2RdO2lmKGYpcmV0dXJuIGYoYSxiLGUsYyxyKTtpZih6KGYpKXRocm93IGRhKFwibm9zbG90XCIsZCx3YShNKSk7fWVsc2UgcmV0dXJuIGwoYSxiLGUsYyxyKX12YXIgbix2LHQsRyxRLEQsdyxNO2I9PT1mPyhnPWQsTT1kLiQkZWxlbWVudCk6XG4oTT1FKGYpLGc9bmV3IGJjKE0sZCkpO1E9ZTtBP0c9ZS4kbmV3KCEwKTp5JiYoUT1lLiRwYXJlbnQpO2wmJih3PW0sdy4kJGJvdW5kVHJhbnNjbHVkZT1sLHcuaXNTbG90RmlsbGVkPWZ1bmN0aW9uKGEpe3JldHVybiEhbC4kJHNsb3RzW2FdfSk7eCYmKEQ9VChNLGcsdyx4LEcsZSxBKSk7QSYmKCQuJCRhZGRTY29wZUluZm8oTSxHLCEwLCEoTCYmKEw9PT1BfHxMPT09QS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpLCQuJCRhZGRTY29wZUNsYXNzKE0sITApLEcuJCRpc29sYXRlQmluZGluZ3M9QS4kJGlzb2xhdGVCaW5kaW5ncyx2PWthKGUsZyxHLEcuJCRpc29sYXRlQmluZGluZ3MsQSksdi5yZW1vdmVXYXRjaGVzJiZHLiRvbihcIiRkZXN0cm95XCIsdi5yZW1vdmVXYXRjaGVzKSk7Zm9yKG4gaW4gRCl7dj14W25dO3Q9RFtuXTt2YXIgY2M9di4kJGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXI7dC5iaW5kaW5nSW5mbz10LmlkZW50aWZpZXImJmNjP2thKFEsZyx0Lmluc3RhbmNlLGNjLHYpOlxue307dmFyIE89dCgpO08hPT10Lmluc3RhbmNlJiYodC5pbnN0YW5jZT1PLE0uZGF0YShcIiRcIit2Lm5hbWUrXCJDb250cm9sbGVyXCIsTyksdC5iaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzJiZ0LmJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMoKSx0LmJpbmRpbmdJbmZvPWthKFEsZyx0Lmluc3RhbmNlLGNjLHYpKX1xKHgsZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJlcXVpcmU7YS5iaW5kVG9Db250cm9sbGVyJiYhSyhjKSYmSShjKSYmUihEW2JdLmluc3RhbmNlLGtiKGIsYyxNLEQpKX0pO3EoRCxmdW5jdGlvbihhKXt2YXIgYj1hLmluc3RhbmNlO2lmKEYoYi4kb25DaGFuZ2VzKSl0cnl7Yi4kb25DaGFuZ2VzKGEuYmluZGluZ0luZm8uaW5pdGlhbENoYW5nZXMpfWNhdGNoKGQpe2MoZCl9aWYoRihiLiRvbkluaXQpKXRyeXtiLiRvbkluaXQoKX1jYXRjaChlKXtjKGUpfUYoYi4kZG9DaGVjaykmJihRLiR3YXRjaChmdW5jdGlvbigpe2IuJGRvQ2hlY2soKX0pLGIuJGRvQ2hlY2soKSk7RihiLiRvbkRlc3Ryb3kpJiZcblEuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2IuJG9uRGVzdHJveSgpfSl9KTtuPTA7Zm9yKHY9aC5sZW5ndGg7bjx2O24rKyl0PWhbbl0sbGEodCx0Lmlzb2xhdGVTY29wZT9HOmUsTSxnLHQucmVxdWlyZSYma2IodC5kaXJlY3RpdmVOYW1lLHQucmVxdWlyZSxNLEQpLHcpO3ZhciByPWU7QSYmKEEudGVtcGxhdGV8fG51bGw9PT1BLnRlbXBsYXRlVXJsKSYmKHI9Ryk7YSYmYShyLGYuY2hpbGROb2Rlcyx2b2lkIDAsbCk7Zm9yKG49ay5sZW5ndGgtMTswPD1uO24tLSl0PWtbbl0sbGEodCx0Lmlzb2xhdGVTY29wZT9HOmUsTSxnLHQucmVxdWlyZSYma2IodC5kaXJlY3RpdmVOYW1lLHQucmVxdWlyZSxNLEQpLHcpO3EoRCxmdW5jdGlvbihhKXthPWEuaW5zdGFuY2U7RihhLiRwb3N0TGluaykmJmEuJHBvc3RMaW5rKCl9KX1sPWx8fHt9O2Zvcih2YXIgbj0tTnVtYmVyLk1BWF9WQUxVRSx5PWwubmV3U2NvcGVEaXJlY3RpdmUseD1sLmNvbnRyb2xsZXJEaXJlY3RpdmVzLEE9bC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXG5MPWwudGVtcGxhdGVEaXJlY3RpdmUsdD1sLm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsUT0hMSxEPSExLEo9bC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxHPWQuJCRlbGVtZW50PUUoYiksdix3LE0sTz1lLHIsR2E9ITEsSGE9ITEsdSxDPTAsQWE9YS5sZW5ndGg7QzxBYTtDKyspe3Y9YVtDXTt2YXIgQj12LiQkc3RhcnQsSD12LiQkZW5kO0ImJihHPWZkKGIsQixIKSk7TT12b2lkIDA7aWYobj52LnByaW9yaXR5KWJyZWFrO2lmKHU9di5zY29wZSl2LnRlbXBsYXRlVXJsfHwoSSh1KT8oWChcIm5ldy9pc29sYXRlZCBzY29wZVwiLEF8fHksdixHKSxBPXYpOlgoXCJuZXcvaXNvbGF0ZWQgc2NvcGVcIixBLHYsRykpLHk9eXx8djt3PXYubmFtZTtpZighR2EmJih2LnJlcGxhY2UmJih2LnRlbXBsYXRlVXJsfHx2LnRlbXBsYXRlKXx8di50cmFuc2NsdWRlJiYhdi4kJHRsYikpe2Zvcih1PUMrMTtHYT1hW3UrK107KWlmKEdhLnRyYW5zY2x1ZGUmJiFHYS4kJHRsYnx8R2EucmVwbGFjZSYmXG4oR2EudGVtcGxhdGVVcmx8fEdhLnRlbXBsYXRlKSl7SGE9ITA7YnJlYWt9R2E9ITB9IXYudGVtcGxhdGVVcmwmJnYuY29udHJvbGxlciYmKHU9di5jb250cm9sbGVyLHg9eHx8UygpLFgoXCInXCIrdytcIicgY29udHJvbGxlclwiLHhbd10sdixHKSx4W3ddPXYpO2lmKHU9di50cmFuc2NsdWRlKWlmKFE9ITAsdi4kJHRsYnx8KFgoXCJ0cmFuc2NsdXNpb25cIix0LHYsRyksdD12KSxcImVsZW1lbnRcIj09PXUpSj0hMCxuPXYucHJpb3JpdHksTT1HLEc9ZC4kJGVsZW1lbnQ9RSgkLiQkY3JlYXRlQ29tbWVudCh3LGRbd10pKSxiPUdbMF0sY2EoZix0YS5jYWxsKE0sMCksYiksTVswXS4kJHBhcmVudE5vZGU9TVswXS5wYXJlbnROb2RlLE89ZmMoSGEsTSxlLG4sZyYmZy5uYW1lLHtub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOnR9KTtlbHNle3ZhciBoYT1TKCk7TT1FKCRiKGIpKS5jb250ZW50cygpO2lmKEkodSkpe009W107dmFyIE49UygpLFA9UygpO3EodSxmdW5jdGlvbihhLGIpe3ZhciBjPVwiP1wiPT09XG5hLmNoYXJBdCgwKTthPWM/YS5zdWJzdHJpbmcoMSk6YTtOW2FdPWI7aGFbYl09bnVsbDtQW2JdPWN9KTtxKEcuY29udGVudHMoKSxmdW5jdGlvbihhKXt2YXIgYj1OW0JhKHVhKGEpKV07Yj8oUFtiXT0hMCxoYVtiXT1oYVtiXXx8W10saGFbYl0ucHVzaChhKSk6TS5wdXNoKGEpfSk7cShQLGZ1bmN0aW9uKGEsYil7aWYoIWEpdGhyb3cgZGEoXCJyZXFzbG90XCIsYik7fSk7Zm9yKHZhciBTYSBpbiBoYSloYVtTYV0mJihoYVtTYV09ZmMoSGEsaGFbU2FdLGUpKX1HLmVtcHR5KCk7Tz1mYyhIYSxNLGUsdm9pZCAwLHZvaWQgMCx7bmVlZHNOZXdTY29wZTp2LiQkaXNvbGF0ZVNjb3BlfHx2LiQkbmV3U2NvcGV9KTtPLiQkc2xvdHM9aGF9aWYodi50ZW1wbGF0ZSlpZihEPSEwLFgoXCJ0ZW1wbGF0ZVwiLEwsdixHKSxMPXYsdT1GKHYudGVtcGxhdGUpP3YudGVtcGxhdGUoRyxkKTp2LnRlbXBsYXRlLHU9emEodSksdi5yZXBsYWNlKXtnPXY7TT1ZYi50ZXN0KHUpP2hkKGJhKHYudGVtcGxhdGVOYW1lc3BhY2UsXG5VKHUpKSk6W107Yj1NWzBdO2lmKDEhPT1NLmxlbmd0aHx8MSE9PWIubm9kZVR5cGUpdGhyb3cgZGEoXCJ0cGxydFwiLHcsXCJcIik7Y2EoZixHLGIpO0FhPXskYXR0cjp7fX07dT1kYyhiLFtdLEFhKTt2YXIgVj1hLnNwbGljZShDKzEsYS5sZW5ndGgtKEMrMSkpOyhBfHx5KSYmVyh1LEEseSk7YT1hLmNvbmNhdCh1KS5jb25jYXQoVik7WihkLEFhKTtBYT1hLmxlbmd0aH1lbHNlIEcuaHRtbCh1KTtpZih2LnRlbXBsYXRlVXJsKUQ9ITAsWChcInRlbXBsYXRlXCIsTCx2LEcpLEw9dix2LnJlcGxhY2UmJihnPXYpLHA9YWEoYS5zcGxpY2UoQyxhLmxlbmd0aC1DKSxHLGQsZixRJiZPLGgsayx7Y29udHJvbGxlckRpcmVjdGl2ZXM6eCxuZXdTY29wZURpcmVjdGl2ZTp5IT09diYmeSxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6QSx0ZW1wbGF0ZURpcmVjdGl2ZTpMLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6dH0pLEFhPWEubGVuZ3RoO2Vsc2UgaWYodi5jb21waWxlKXRyeXtyPXYuY29tcGlsZShHLFxuZCxPKTt2YXIgZWM9di4kJG9yaWdpbmFsRGlyZWN0aXZlfHx2O0Yocik/bShudWxsLGNiKGVjLHIpLEIsSCk6ciYmbShjYihlYyxyLnByZSksY2IoZWMsci5wb3N0KSxCLEgpfWNhdGNoKFkpe2MoWSx3YShHKSl9di50ZXJtaW5hbCYmKHAudGVybWluYWw9ITAsbj1NYXRoLm1heChuLHYucHJpb3JpdHkpKX1wLnNjb3BlPXkmJiEwPT09eS5zY29wZTtwLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50PVE7cC50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQ9RDtwLnRyYW5zY2x1ZGU9TztsLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlPUo7cmV0dXJuIHB9ZnVuY3Rpb24ga2IoYSxiLGMsZCl7dmFyIGU7aWYoSChiKSl7dmFyIGY9Yi5tYXRjaChsKTtiPWIuc3Vic3RyaW5nKGZbMF0ubGVuZ3RoKTt2YXIgZz1mWzFdfHxmWzNdLGY9XCI/XCI9PT1mWzJdO1wiXl5cIj09PWc/Yz1jLnBhcmVudCgpOmU9KGU9ZCYmZFtiXSkmJmUuaW5zdGFuY2U7aWYoIWUpe3ZhciBoPVwiJFwiK2IrXCJDb250cm9sbGVyXCI7ZT1cbmc/Yy5pbmhlcml0ZWREYXRhKGgpOmMuZGF0YShoKX1pZighZSYmIWYpdGhyb3cgZGEoXCJjdHJlcVwiLGIsYSk7fWVsc2UgaWYoSyhiKSlmb3IoZT1bXSxnPTAsZj1iLmxlbmd0aDtnPGY7ZysrKWVbZ109a2IoYSxiW2ddLGMsZCk7ZWxzZSBJKGIpJiYoZT17fSxxKGIsZnVuY3Rpb24oYixmKXtlW2ZdPWtiKGEsYixjLGQpfSkpO3JldHVybiBlfHxudWxsfWZ1bmN0aW9uIFQoYSxiLGMsZCxlLGYsZyl7dmFyIGg9UygpLGs7Zm9yKGsgaW4gZCl7dmFyIGw9ZFtrXSxtPXskc2NvcGU6bD09PWd8fGwuJCRpc29sYXRlU2NvcGU/ZTpmLCRlbGVtZW50OmEsJGF0dHJzOmIsJHRyYW5zY2x1ZGU6Y30scD1sLmNvbnRyb2xsZXI7XCJAXCI9PT1wJiYocD1iW2wubmFtZV0pO209TChwLG0sITAsbC5jb250cm9sbGVyQXMpO2hbbC5uYW1lXT1tO2EuZGF0YShcIiRcIitsLm5hbWUrXCJDb250cm9sbGVyXCIsbS5pbnN0YW5jZSl9cmV0dXJuIGh9ZnVuY3Rpb24gVyhhLGIsYyl7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPFxuZTtkKyspYVtkXT1VYihhW2RdLHskJGlzb2xhdGVTY29wZTpiLCQkbmV3U2NvcGU6Y30pfWZ1bmN0aW9uIFYoYixlLGcsaCxrLGwsbSl7aWYoZT09PWspcmV0dXJuIG51bGw7az1udWxsO2lmKGYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBwO2U9YS5nZXQoZStcIkRpcmVjdGl2ZVwiKTtmb3IodmFyIG49MCx5PWUubGVuZ3RoO248eTtuKyspdHJ5e2lmKHA9ZVtuXSwoeihoKXx8aD5wLnByaW9yaXR5KSYmLTEhPT1wLnJlc3RyaWN0LmluZGV4T2YoZykpe2wmJihwPVViKHAseyQkc3RhcnQ6bCwkJGVuZDptfSkpO2lmKCFwLiQkYmluZGluZ3Mpe3ZhciB4PXAsdj1wLEE9cC5uYW1lLHQ9e2lzb2xhdGVTY29wZTpudWxsLGJpbmRUb0NvbnRyb2xsZXI6bnVsbH07SSh2LnNjb3BlKSYmKCEwPT09di5iaW5kVG9Db250cm9sbGVyPyh0LmJpbmRUb0NvbnRyb2xsZXI9ZCh2LnNjb3BlLEEsITApLHQuaXNvbGF0ZVNjb3BlPXt9KTp0Lmlzb2xhdGVTY29wZT1kKHYuc2NvcGUsQSwhMSkpO0kodi5iaW5kVG9Db250cm9sbGVyKSYmXG4odC5iaW5kVG9Db250cm9sbGVyPWQodi5iaW5kVG9Db250cm9sbGVyLEEsITApKTtpZihJKHQuYmluZFRvQ29udHJvbGxlcikpe3ZhciBMPXYuY29udHJvbGxlcixHPXYuY29udHJvbGxlckFzO2lmKCFMKXRocm93IGRhKFwibm9jdHJsXCIsQSk7aWYoIWRkKEwsRykpdGhyb3cgZGEoXCJub2lkZW50XCIsQSk7fXZhciBRPXguJCRiaW5kaW5ncz10O0koUS5pc29sYXRlU2NvcGUpJiYocC4kJGlzb2xhdGVCaW5kaW5ncz1RLmlzb2xhdGVTY29wZSl9Yi5wdXNoKHApO2s9cH19Y2F0Y2goSil7YyhKKX19cmV0dXJuIGt9ZnVuY3Rpb24gWShiKXtpZihmLmhhc093blByb3BlcnR5KGIpKWZvcih2YXIgYz1hLmdldChiK1wiRGlyZWN0aXZlXCIpLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspaWYoYj1jW2RdLGIubXVsdGlFbGVtZW50KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFooYSxiKXt2YXIgYz1iLiRhdHRyLGQ9YS4kYXR0cjtxKGEsZnVuY3Rpb24oZCxlKXtcIiRcIiE9PWUuY2hhckF0KDApJiYoYltlXSYmXG5iW2VdIT09ZCYmKGQrPShcInN0eWxlXCI9PT1lP1wiO1wiOlwiIFwiKStiW2VdKSxhLiRzZXQoZSxkLCEwLGNbZV0pKX0pO3EoYixmdW5jdGlvbihiLGUpe2EuaGFzT3duUHJvcGVydHkoZSl8fFwiJFwiPT09ZS5jaGFyQXQoMCl8fChhW2VdPWIsXCJjbGFzc1wiIT09ZSYmXCJzdHlsZVwiIT09ZSYmKGRbZV09Y1tlXSkpfSl9ZnVuY3Rpb24gYWEoYSxiLGMsZCxmLGcsaCxrKXt2YXIgbD1bXSxtLHAsbj1iWzBdLHk9YS5zaGlmdCgpLHg9VWIoeSx7dGVtcGxhdGVVcmw6bnVsbCx0cmFuc2NsdWRlOm51bGwscmVwbGFjZTpudWxsLCQkb3JpZ2luYWxEaXJlY3RpdmU6eX0pLHY9Rih5LnRlbXBsYXRlVXJsKT95LnRlbXBsYXRlVXJsKGIsYyk6eS50ZW1wbGF0ZVVybCxBPXkudGVtcGxhdGVOYW1lc3BhY2U7Yi5lbXB0eSgpO2UodikudGhlbihmdW5jdGlvbihlKXt2YXIgdCxMO2U9emEoZSk7aWYoeS5yZXBsYWNlKXtlPVliLnRlc3QoZSk/aGQoYmEoQSxVKGUpKSk6W107dD1lWzBdO2lmKDEhPT1lLmxlbmd0aHx8XG4xIT09dC5ub2RlVHlwZSl0aHJvdyBkYShcInRwbHJ0XCIseS5uYW1lLHYpO2U9eyRhdHRyOnt9fTtjYShkLGIsdCk7dmFyIEc9ZGModCxbXSxlKTtJKHkuc2NvcGUpJiZXKEcsITApO2E9Ry5jb25jYXQoYSk7WihjLGUpfWVsc2UgdD1uLGIuaHRtbChlKTthLnVuc2hpZnQoeCk7bT1TYShhLHQsYyxmLGIseSxnLGgsayk7cShkLGZ1bmN0aW9uKGEsYyl7YT09PXQmJihkW2NdPWJbMF0pfSk7Zm9yKHA9QWEoYlswXS5jaGlsZE5vZGVzLGYpO2wubGVuZ3RoOyl7ZT1sLnNoaWZ0KCk7TD1sLnNoaWZ0KCk7dmFyIFE9bC5zaGlmdCgpLEQ9bC5zaGlmdCgpLEc9YlswXTtpZighZS4kJGRlc3Ryb3llZCl7aWYoTCE9PW4pe3ZhciBKPUwuY2xhc3NOYW1lO2suaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUmJnkucmVwbGFjZXx8KEc9JGIodCkpO2NhKFEsRShMKSxHKTtIYShFKEcpLEopfUw9bS50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9oYShlLG0udHJhbnNjbHVkZSxEKTpEO20ocCxlLEcsZCxcbkwpfX1sPW51bGx9KTtyZXR1cm4gZnVuY3Rpb24oYSxiLGMsZCxlKXthPWU7Yi4kJGRlc3Ryb3llZHx8KGw/bC5wdXNoKGIsYyxkLGEpOihtLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50JiYoYT1oYShiLG0udHJhbnNjbHVkZSxlKSksbShwLGIsYyxkLGEpKSl9fWZ1bmN0aW9uIGVhKGEsYil7dmFyIGM9Yi5wcmlvcml0eS1hLnByaW9yaXR5O3JldHVybiAwIT09Yz9jOmEubmFtZSE9PWIubmFtZT9hLm5hbWU8Yi5uYW1lPy0xOjE6YS5pbmRleC1iLmluZGV4fWZ1bmN0aW9uIFgoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT9cIiAobW9kdWxlOiBcIithK1wiKVwiOlwiXCJ9aWYoYil0aHJvdyBkYShcIm11bHRpZGlyXCIsYi5uYW1lLGUoYi4kJG1vZHVsZU5hbWUpLGMubmFtZSxlKGMuJCRtb2R1bGVOYW1lKSxhLHdhKGQpKTt9ZnVuY3Rpb24gZ2EoYSxjKXt2YXIgZD1iKGMsITApO2QmJmEucHVzaCh7cHJpb3JpdHk6MCxjb21waWxlOmZ1bmN0aW9uKGEpe2E9YS5wYXJlbnQoKTt2YXIgYj0hIWEubGVuZ3RoO1xuYiYmJC4kJGFkZEJpbmRpbmdDbGFzcyhhKTtyZXR1cm4gZnVuY3Rpb24oYSxjKXt2YXIgZT1jLnBhcmVudCgpO2J8fCQuJCRhZGRCaW5kaW5nQ2xhc3MoZSk7JC4kJGFkZEJpbmRpbmdJbmZvKGUsZC5leHByZXNzaW9ucyk7YS4kd2F0Y2goZCxmdW5jdGlvbihhKXtjWzBdLm5vZGVWYWx1ZT1hfSl9fX0pfWZ1bmN0aW9uIGJhKGEsYil7YT1QKGF8fFwiaHRtbFwiKTtzd2l0Y2goYSl7Y2FzZSBcInN2Z1wiOmNhc2UgXCJtYXRoXCI6dmFyIGM9Qi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuaW5uZXJIVE1MPVwiPFwiK2ErXCI+XCIrYitcIjwvXCIrYStcIj5cIjtyZXR1cm4gYy5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7ZGVmYXVsdDpyZXR1cm4gYn19ZnVuY3Rpb24gaWEoYSxiKXtpZihcInNyY2RvY1wiPT09YilyZXR1cm4gQS5IVE1MO3ZhciBjPXVhKGEpO2lmKFwic3JjXCI9PT1ifHxcIm5nU3JjXCI9PT1iKXtpZigtMT09PVtcImltZ1wiLFwidmlkZW9cIixcImF1ZGlvXCIsXCJzb3VyY2VcIixcInRyYWNrXCJdLmluZGV4T2YoYykpcmV0dXJuIEEuUkVTT1VSQ0VfVVJMfWVsc2UgaWYoXCJ4bGlua0hyZWZcIj09PVxuYnx8XCJmb3JtXCI9PT1jJiZcImFjdGlvblwiPT09YilyZXR1cm4gQS5SRVNPVVJDRV9VUkx9ZnVuY3Rpb24gbWEoYSxjLGQsZSxmKXt2YXIgZz1pYShhLGUpO2Y9a1tlXXx8Zjt2YXIgaD1iKGQsITAsZyxmKTtpZihoKXtpZihcIm11bHRpcGxlXCI9PT1lJiZcInNlbGVjdFwiPT09dWEoYSkpdGhyb3cgZGEoXCJzZWxtdWx0aVwiLHdhKGEpKTtjLnB1c2goe3ByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihhLGMsayl7Yz1rLiQkb2JzZXJ2ZXJzfHwoay4kJG9ic2VydmVycz1TKCkpO2lmKG0udGVzdChlKSl0aHJvdyBkYShcIm5vZG9tZXZlbnRzXCIpO3ZhciBsPWtbZV07bCE9PWQmJihoPWwmJmIobCwhMCxnLGYpLGQ9bCk7aCYmKGtbZV09aChhKSwoY1tlXXx8KGNbZV09W10pKS4kJGludGVyPSEwLChrLiQkb2JzZXJ2ZXJzJiZrLiQkb2JzZXJ2ZXJzW2VdLiQkc2NvcGV8fGEpLiR3YXRjaChoLGZ1bmN0aW9uKGEsYil7XCJjbGFzc1wiPT09ZSYmYSE9PWI/ay4kdXBkYXRlQ2xhc3MoYSxcbmIpOmsuJHNldChlLGEpfSkpfX19fSl9fWZ1bmN0aW9uIGNhKGEsYixjKXt2YXIgZD1iWzBdLGU9Yi5sZW5ndGgsZj1kLnBhcmVudE5vZGUsZyxoO2lmKGEpZm9yKGc9MCxoPWEubGVuZ3RoO2c8aDtnKyspaWYoYVtnXT09PWQpe2FbZysrXT1jO2g9ZytlLTE7Zm9yKHZhciBrPWEubGVuZ3RoO2c8aztnKyssaCsrKWg8az9hW2ddPWFbaF06ZGVsZXRlIGFbZ107YS5sZW5ndGgtPWUtMTthLmNvbnRleHQ9PT1kJiYoYS5jb250ZXh0PWMpO2JyZWFrfWYmJmYucmVwbGFjZUNoaWxkKGMsZCk7YT1CLmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IoZz0wO2c8ZTtnKyspYS5hcHBlbmRDaGlsZChiW2ddKTtFLmhhc0RhdGEoZCkmJihFLmRhdGEoYyxFLmRhdGEoZCkpLEUoZCkub2ZmKFwiJGRlc3Ryb3lcIikpO0UuY2xlYW5EYXRhKGEucXVlcnlTZWxlY3RvckFsbChcIipcIikpO2ZvcihnPTE7ZzxlO2crKylkZWxldGUgYltnXTtiWzBdPWM7Yi5sZW5ndGg9MX1mdW5jdGlvbiBqYShhLFxuYil7cmV0dXJuIFIoZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEsYil9ZnVuY3Rpb24gbGEoYSxiLGQsZSxmLGcpe3RyeXthKGIsZCxlLGYsZyl9Y2F0Y2goaCl7YyhoLHdhKGQpKX19ZnVuY3Rpb24ga2EoYSxjLGQsZSxmKXtmdW5jdGlvbiBnKGIsYyxlKXtGKGQuJG9uQ2hhbmdlcykmJmMhPT1lJiYoZmF8fChhLiQkcG9zdERpZ2VzdChNKSxmYT1bXSksbXx8KG09e30sZmEucHVzaChoKSksbVtiXSYmKGU9bVtiXS5wcmV2aW91c1ZhbHVlKSxtW2JdPW5ldyBJYihlLGMpKX1mdW5jdGlvbiBoKCl7ZC4kb25DaGFuZ2VzKG0pO209dm9pZCAwfXZhciBrPVtdLGw9e30sbTtxKGUsZnVuY3Rpb24oZSxoKXt2YXIgbT1lLmF0dHJOYW1lLHA9ZS5vcHRpb25hbCx4LHYsdCxBO3N3aXRjaChlLm1vZGUpe2Nhc2UgXCJAXCI6cHx8c2EuY2FsbChjLG0pfHwoZFtoXT1jW21dPXZvaWQgMCk7Yy4kb2JzZXJ2ZShtLGZ1bmN0aW9uKGEpe2lmKEgoYSl8fElhKGEpKWcoaCxcbmEsZFtoXSksZFtoXT1hfSk7Yy4kJG9ic2VydmVyc1ttXS4kJHNjb3BlPWE7eD1jW21dO0goeCk/ZFtoXT1iKHgpKGEpOklhKHgpJiYoZFtoXT14KTtsW2hdPW5ldyBJYihnYyxkW2hdKTticmVhaztjYXNlIFwiPVwiOmlmKCFzYS5jYWxsKGMsbSkpe2lmKHApYnJlYWs7Y1ttXT12b2lkIDB9aWYocCYmIWNbbV0pYnJlYWs7dj1uKGNbbV0pO0E9di5saXRlcmFsP29hOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifHxhIT09YSYmYiE9PWJ9O3Q9di5hc3NpZ258fGZ1bmN0aW9uKCl7eD1kW2hdPXYoYSk7dGhyb3cgZGEoXCJub25hc3NpZ25cIixjW21dLG0sZi5uYW1lKTt9O3g9ZFtoXT12KGEpO3A9ZnVuY3Rpb24oYil7QShiLGRbaF0pfHwoQShiLHgpP3QoYSxiPWRbaF0pOmRbaF09Yik7cmV0dXJuIHg9Yn07cC4kc3RhdGVmdWw9ITA7cD1lLmNvbGxlY3Rpb24/YS4kd2F0Y2hDb2xsZWN0aW9uKGNbbV0scCk6YS4kd2F0Y2gobihjW21dLHApLG51bGwsdi5saXRlcmFsKTtrLnB1c2gocCk7YnJlYWs7XG5jYXNlIFwiPFwiOmlmKCFzYS5jYWxsKGMsbSkpe2lmKHApYnJlYWs7Y1ttXT12b2lkIDB9aWYocCYmIWNbbV0pYnJlYWs7dj1uKGNbbV0pO3ZhciBMPWRbaF09dihhKTtsW2hdPW5ldyBJYihnYyxkW2hdKTtwPWEuJHdhdGNoKHYsZnVuY3Rpb24oYSxiKXtpZihiPT09YSl7aWYoYj09PUwpcmV0dXJuO2I9TH1nKGgsYSxiKTtkW2hdPWF9LHYubGl0ZXJhbCk7ay5wdXNoKHApO2JyZWFrO2Nhc2UgXCImXCI6dj1jLmhhc093blByb3BlcnR5KG0pP24oY1ttXSk6QztpZih2PT09QyYmcClicmVhaztkW2hdPWZ1bmN0aW9uKGIpe3JldHVybiB2KGEsYil9fX0pO3JldHVybntpbml0aWFsQ2hhbmdlczpsLHJlbW92ZVdhdGNoZXM6ay5sZW5ndGgmJmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj1rLmxlbmd0aDthPGI7KythKWtbYV0oKX19fXZhciByYT0vXlxcdy8scGE9Qi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHhhPUosQ2E9dCxxYT14LGZhO2JjLnByb3RvdHlwZT17JG5vcm1hbGl6ZTpCYSxcbiRhZGRDbGFzczpmdW5jdGlvbihhKXthJiYwPGEubGVuZ3RoJiZHLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LGEpfSwkcmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7YSYmMDxhLmxlbmd0aCYmRy5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxhKX0sJHVwZGF0ZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9aWQoYSxiKTtjJiZjLmxlbmd0aCYmRy5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxjKTsoYz1pZChiLGEpKSYmYy5sZW5ndGgmJkcucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsYyl9LCRzZXQ6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY9YWQodGhpcy4kJGVsZW1lbnRbMF0sYSksZz1qZFthXSxoPWE7Zj8odGhpcy4kJGVsZW1lbnQucHJvcChhLGIpLGU9Zik6ZyYmKHRoaXNbZ109YixoPWcpO3RoaXNbYV09YjtlP3RoaXMuJGF0dHJbYV09ZTooZT10aGlzLiRhdHRyW2FdKXx8KHRoaXMuJGF0dHJbYV09ZT1KYyhhLFwiLVwiKSk7Zj11YSh0aGlzLiQkZWxlbWVudCk7aWYoXCJhXCI9PT1cbmYmJihcImhyZWZcIj09PWF8fFwieGxpbmtIcmVmXCI9PT1hKXx8XCJpbWdcIj09PWYmJlwic3JjXCI9PT1hKXRoaXNbYV09Yj12KGIsXCJzcmNcIj09PWEpO2Vsc2UgaWYoXCJpbWdcIj09PWYmJlwic3Jjc2V0XCI9PT1hJiZ1KGIpKXtmb3IodmFyIGY9XCJcIixnPVUoYiksaz0vKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS8saz0vXFxzLy50ZXN0KGcpP2s6LygsKS8sZz1nLnNwbGl0KGspLGs9TWF0aC5mbG9vcihnLmxlbmd0aC8yKSxsPTA7bDxrO2wrKyl2YXIgbT0yKmwsZj1mK3YoVShnW21dKSwhMCksZj1mKyhcIiBcIitVKGdbbSsxXSkpO2c9VShnWzIqbF0pLnNwbGl0KC9cXHMvKTtmKz12KFUoZ1swXSksITApOzI9PT1nLmxlbmd0aCYmKGYrPVwiIFwiK1UoZ1sxXSkpO3RoaXNbYV09Yj1mfSExIT09ZCYmKG51bGw9PT1ifHx6KGIpP3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoZSk6cmEudGVzdChlKT90aGlzLiQkZWxlbWVudC5hdHRyKGUsYik6cih0aGlzLiQkZWxlbWVudFswXSxlLGIpKTsoYT1cbnRoaXMuJCRvYnNlcnZlcnMpJiZxKGFbaF0sZnVuY3Rpb24oYSl7dHJ5e2EoYil9Y2F0Y2goZCl7YyhkKX19KX0sJG9ic2VydmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy4kJG9ic2VydmVyc3x8KGMuJCRvYnNlcnZlcnM9UygpKSxlPWRbYV18fChkW2FdPVtdKTtlLnB1c2goYik7US4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7ZS4kJGludGVyfHwhYy5oYXNPd25Qcm9wZXJ0eShhKXx8eihjW2FdKXx8YihjW2FdKX0pO3JldHVybiBmdW5jdGlvbigpe2FiKGUsYil9fX07dmFyIHZhPWIuc3RhcnRTeW1ib2woKSx5YT1iLmVuZFN5bWJvbCgpLHphPVwie3tcIj09PXZhJiZcIn19XCI9PT15YT9aYTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHtcXHsvZyx2YSkucmVwbGFjZSgvfX0vZyx5YSl9LERhPS9ebmdBdHRyW0EtWl0vLEVhPS9eKC4rKVN0YXJ0JC87JC4kJGFkZEJpbmRpbmdJbmZvPXA/ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmRhdGEoXCIkYmluZGluZ1wiKXx8W107SyhiKT9jPVxuYy5jb25jYXQoYik6Yy5wdXNoKGIpO2EuZGF0YShcIiRiaW5kaW5nXCIsYyl9OkM7JC4kJGFkZEJpbmRpbmdDbGFzcz1wP2Z1bmN0aW9uKGEpe0hhKGEsXCJuZy1iaW5kaW5nXCIpfTpDOyQuJCRhZGRTY29wZUluZm89cD9mdW5jdGlvbihhLGIsYyxkKXthLmRhdGEoYz9kP1wiJGlzb2xhdGVTY29wZU5vVGVtcGxhdGVcIjpcIiRpc29sYXRlU2NvcGVcIjpcIiRzY29wZVwiLGIpfTpDOyQuJCRhZGRTY29wZUNsYXNzPXA/ZnVuY3Rpb24oYSxiKXtIYShhLGI/XCJuZy1pc29sYXRlLXNjb3BlXCI6XCJuZy1zY29wZVwiKX06QzskLiQkY3JlYXRlQ29tbWVudD1mdW5jdGlvbihhLGIpe3ZhciBjPVwiXCI7cCYmKGM9XCIgXCIrKGF8fFwiXCIpK1wiOiBcIixiJiYoYys9YitcIiBcIikpO3JldHVybiBCLmRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoYyl9O3JldHVybiAkfV19ZnVuY3Rpb24gSWIoYSxiKXt0aGlzLnByZXZpb3VzVmFsdWU9YTt0aGlzLmN1cnJlbnRWYWx1ZT1ifWZ1bmN0aW9uIEJhKGEpe3JldHVybiBmYihhLnJlcGxhY2UoZWQsXG5cIlwiKSl9ZnVuY3Rpb24gaWQoYSxiKXt2YXIgZD1cIlwiLGM9YS5zcGxpdCgvXFxzKy8pLGU9Yi5zcGxpdCgvXFxzKy8pLGY9MDthOmZvcig7ZjxjLmxlbmd0aDtmKyspe2Zvcih2YXIgZz1jW2ZdLGg9MDtoPGUubGVuZ3RoO2grKylpZihnPT09ZVtoXSljb250aW51ZSBhO2QrPSgwPGQubGVuZ3RoP1wiIFwiOlwiXCIpK2d9cmV0dXJuIGR9ZnVuY3Rpb24gaGQoYSl7YT1FKGEpO3ZhciBiPWEubGVuZ3RoO2lmKDE+PWIpcmV0dXJuIGE7Zm9yKDtiLS07KTg9PT1hW2JdLm5vZGVUeXBlJiZwZy5jYWxsKGEsYiwxKTtyZXR1cm4gYX1mdW5jdGlvbiBkZChhLGIpe2lmKGImJkgoYikpcmV0dXJuIGI7aWYoSChhKSl7dmFyIGQ9a2QuZXhlYyhhKTtpZihkKXJldHVybiBkWzNdfX1mdW5jdGlvbiB2Zigpe3ZhciBhPXt9LGI9ITE7dGhpcy5oYXM9ZnVuY3Rpb24oYil7cmV0dXJuIGEuaGFzT3duUHJvcGVydHkoYil9O3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oYixjKXtRYShiLFwiY29udHJvbGxlclwiKTtJKGIpP1IoYSxcbmIpOmFbYl09Y307dGhpcy5hbGxvd0dsb2JhbHM9ZnVuY3Rpb24oKXtiPSEwfTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZCxjKXtmdW5jdGlvbiBlKGEsYixjLGQpe2lmKCFhfHwhSShhLiRzY29wZSkpdGhyb3cgTihcIiRjb250cm9sbGVyXCIpKFwibm9zY3BcIixkLGIpO2EuJHNjb3BlW2JdPWN9cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe3ZhciBsLG0sbjtoPSEwPT09aDtrJiZIKGspJiYobj1rKTtpZihIKGYpKXtrPWYubWF0Y2goa2QpO2lmKCFrKXRocm93IHFnKFwiY3RybGZtdFwiLGYpO209a1sxXTtuPW58fGtbM107Zj1hLmhhc093blByb3BlcnR5KG0pP2FbbV06TGMoZy4kc2NvcGUsbSwhMCl8fChiP0xjKGMsbSwhMCk6dm9pZCAwKTtQYShmLG0sITApfWlmKGgpcmV0dXJuIGg9KEsoZik/ZltmLmxlbmd0aC0xXTpmKS5wcm90b3R5cGUsbD1PYmplY3QuY3JlYXRlKGh8fG51bGwpLG4mJmUoZyxuLGwsbXx8Zi5uYW1lKSxSKGZ1bmN0aW9uKCl7dmFyIGE9XG5kLmludm9rZShmLGwsZyxtKTthIT09bCYmKEkoYSl8fEYoYSkpJiYobD1hLG4mJmUoZyxuLGwsbXx8Zi5uYW1lKSk7cmV0dXJuIGx9LHtpbnN0YW5jZTpsLGlkZW50aWZpZXI6bn0pO2w9ZC5pbnN0YW50aWF0ZShmLGcsbSk7biYmZShnLG4sbCxtfHxmLm5hbWUpO3JldHVybiBsfX1dfWZ1bmN0aW9uIHdmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixmdW5jdGlvbihhKXtyZXR1cm4gRShhLmRvY3VtZW50KX1dfWZ1bmN0aW9uIHhmKCl7dGhpcy4kZ2V0PVtcIiRsb2dcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixkKXthLmVycm9yLmFwcGx5KGEsYXJndW1lbnRzKX19XX1mdW5jdGlvbiBoYyhhKXtyZXR1cm4gSShhKT9iYShhKT9hLnRvSVNPU3RyaW5nKCk6ZGIoYSk6YX1mdW5jdGlvbiBDZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtpZighYSlyZXR1cm5cIlwiO3ZhciBiPVtdO0FjKGEsZnVuY3Rpb24oYSxjKXtudWxsPT09YXx8eihhKXx8KEsoYSk/XG5xKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGNhKGMpK1wiPVwiK2NhKGhjKGEpKSl9KTpiLnB1c2goY2EoYykrXCI9XCIrY2EoaGMoYSkpKSl9KTtyZXR1cm4gYi5qb2luKFwiJlwiKX19fWZ1bmN0aW9uIERmKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlLGYpe251bGw9PT1hfHx6KGEpfHwoSyhhKT9xKGEsZnVuY3Rpb24oYSxjKXtiKGEsZStcIltcIisoSShhKT9jOlwiXCIpK1wiXVwiKX0pOkkoYSkmJiFiYShhKT9BYyhhLGZ1bmN0aW9uKGEsYyl7YihhLGUrKGY/XCJcIjpcIltcIikrYysoZj9cIlwiOlwiXVwiKSl9KTpkLnB1c2goY2EoZSkrXCI9XCIrY2EoaGMoYSkpKSl9aWYoIWEpcmV0dXJuXCJcIjt2YXIgZD1bXTtiKGEsXCJcIiwhMCk7cmV0dXJuIGQuam9pbihcIiZcIil9fX1mdW5jdGlvbiBpYyhhLGIpe2lmKEgoYSkpe3ZhciBkPWEucmVwbGFjZShyZyxcIlwiKS50cmltKCk7aWYoZCl7dmFyIGM9YihcIkNvbnRlbnQtVHlwZVwiKTsoYz1jJiYwPT09Yy5pbmRleE9mKGxkKSl8fFxuKGM9KGM9ZC5tYXRjaChzZykpJiZ0Z1tjWzBdXS50ZXN0KGQpKTtjJiYoYT1FYyhkKSl9fXJldHVybiBhfWZ1bmN0aW9uIG1kKGEpe3ZhciBiPVMoKSxkO0goYSk/cShhLnNwbGl0KFwiXFxuXCIpLGZ1bmN0aW9uKGEpe2Q9YS5pbmRleE9mKFwiOlwiKTt2YXIgZT1QKFUoYS5zdWJzdHIoMCxkKSkpO2E9VShhLnN1YnN0cihkKzEpKTtlJiYoYltlXT1iW2VdP2JbZV0rXCIsIFwiK2E6YSl9KTpJKGEpJiZxKGEsZnVuY3Rpb24oYSxkKXt2YXIgZj1QKGQpLGc9VShhKTtmJiYoYltmXT1iW2ZdP2JbZl0rXCIsIFwiK2c6Zyl9KTtyZXR1cm4gYn1mdW5jdGlvbiBuZChhKXt2YXIgYjtyZXR1cm4gZnVuY3Rpb24oZCl7Ynx8KGI9bWQoYSkpO3JldHVybiBkPyhkPWJbUChkKV0sdm9pZCAwPT09ZCYmKGQ9bnVsbCksZCk6Yn19ZnVuY3Rpb24gb2QoYSxiLGQsYyl7aWYoRihjKSlyZXR1cm4gYyhhLGIsZCk7cShjLGZ1bmN0aW9uKGMpe2E9YyhhLGIsZCl9KTtyZXR1cm4gYX1mdW5jdGlvbiBCZigpe3ZhciBhPXRoaXMuZGVmYXVsdHM9XG57dHJhbnNmb3JtUmVzcG9uc2U6W2ljXSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihhKXtyZXR1cm4gSShhKSYmXCJbb2JqZWN0IEZpbGVdXCIhPT1uYS5jYWxsKGEpJiZcIltvYmplY3QgQmxvYl1cIiE9PW5hLmNhbGwoYSkmJlwiW29iamVjdCBGb3JtRGF0YV1cIiE9PW5hLmNhbGwoYSk/ZGIoYSk6YX1dLGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9LHBvc3Q6aWEoamMpLHB1dDppYShqYykscGF0Y2g6aWEoamMpfSx4c3JmQ29va2llTmFtZTpcIlhTUkYtVE9LRU5cIix4c3JmSGVhZGVyTmFtZTpcIlgtWFNSRi1UT0tFTlwiLHBhcmFtU2VyaWFsaXplcjpcIiRodHRwUGFyYW1TZXJpYWxpemVyXCJ9LGI9ITE7dGhpcy51c2VBcHBseUFzeW5jPWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhiPSEhYSx0aGlzKTpifTt2YXIgZD0hMDt0aGlzLnVzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zPWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhkPSEhYSxcbnRoaXMpOmR9O3ZhciBjPXRoaXMuaW50ZXJjZXB0b3JzPVtdO3RoaXMuJGdldD1bXCIkaHR0cEJhY2tlbmRcIixcIiQkY29va2llUmVhZGVyXCIsXCIkY2FjaGVGYWN0b3J5XCIsXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJGluamVjdG9yXCIsZnVuY3Rpb24oZSxmLGcsaCxrLGwpe2Z1bmN0aW9uIG0oYil7ZnVuY3Rpb24gYyhhLGIpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZDxlOyl7dmFyIGY9YltkKytdLGc9YltkKytdO2E9YS50aGVuKGYsZyl9Yi5sZW5ndGg9MDtyZXR1cm4gYX1mdW5jdGlvbiBlKGEsYil7dmFyIGMsZD17fTtxKGEsZnVuY3Rpb24oYSxlKXtGKGEpPyhjPWEoYiksbnVsbCE9YyYmKGRbZV09YykpOmRbZV09YX0pO3JldHVybiBkfWZ1bmN0aW9uIGYoYSl7dmFyIGI9Uih7fSxhKTtiLmRhdGE9b2QoYS5kYXRhLGEuaGVhZGVycyxhLnN0YXR1cyxnLnRyYW5zZm9ybVJlc3BvbnNlKTthPWEuc3RhdHVzO3JldHVybiAyMDA8PWEmJjMwMD5hP2I6ay5yZWplY3QoYil9aWYoIUkoYikpdGhyb3cgTihcIiRodHRwXCIpKFwiYmFkcmVxXCIsXG5iKTtpZighSChiLnVybCkpdGhyb3cgTihcIiRodHRwXCIpKFwiYmFkcmVxXCIsYi51cmwpO3ZhciBnPVIoe21ldGhvZDpcImdldFwiLHRyYW5zZm9ybVJlcXVlc3Q6YS50cmFuc2Zvcm1SZXF1ZXN0LHRyYW5zZm9ybVJlc3BvbnNlOmEudHJhbnNmb3JtUmVzcG9uc2UscGFyYW1TZXJpYWxpemVyOmEucGFyYW1TZXJpYWxpemVyfSxiKTtnLmhlYWRlcnM9ZnVuY3Rpb24oYil7dmFyIGM9YS5oZWFkZXJzLGQ9Uih7fSxiLmhlYWRlcnMpLGYsZyxoLGM9Uih7fSxjLmNvbW1vbixjW1AoYi5tZXRob2QpXSk7YTpmb3IoZiBpbiBjKXtnPVAoZik7Zm9yKGggaW4gZClpZihQKGgpPT09Zyljb250aW51ZSBhO2RbZl09Y1tmXX1yZXR1cm4gZShkLGlhKGIpKX0oYik7Zy5tZXRob2Q9eGIoZy5tZXRob2QpO2cucGFyYW1TZXJpYWxpemVyPUgoZy5wYXJhbVNlcmlhbGl6ZXIpP2wuZ2V0KGcucGFyYW1TZXJpYWxpemVyKTpnLnBhcmFtU2VyaWFsaXplcjt2YXIgaD1bXSxtPVtdLHA9ay53aGVuKGcpO3EoSixmdW5jdGlvbihhKXsoYS5yZXF1ZXN0fHxcbmEucmVxdWVzdEVycm9yKSYmaC51bnNoaWZ0KGEucmVxdWVzdCxhLnJlcXVlc3RFcnJvcik7KGEucmVzcG9uc2V8fGEucmVzcG9uc2VFcnJvcikmJm0ucHVzaChhLnJlc3BvbnNlLGEucmVzcG9uc2VFcnJvcil9KTtwPWMocCxoKTtwPXAudGhlbihmdW5jdGlvbihiKXt2YXIgYz1iLmhlYWRlcnMsZD1vZChiLmRhdGEsbmQoYyksdm9pZCAwLGIudHJhbnNmb3JtUmVxdWVzdCk7eihkKSYmcShjLGZ1bmN0aW9uKGEsYil7XCJjb250ZW50LXR5cGVcIj09PVAoYikmJmRlbGV0ZSBjW2JdfSk7eihiLndpdGhDcmVkZW50aWFscykmJiF6KGEud2l0aENyZWRlbnRpYWxzKSYmKGIud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzKTtyZXR1cm4gbihiLGQpLnRoZW4oZixmKX0pO3A9YyhwLG0pO2Q/KHAuc3VjY2Vzcz1mdW5jdGlvbihhKXtQYShhLFwiZm5cIik7cC50aGVuKGZ1bmN0aW9uKGIpe2EoYi5kYXRhLGIuc3RhdHVzLGIuaGVhZGVycyxnKX0pO3JldHVybiBwfSxwLmVycm9yPWZ1bmN0aW9uKGEpe1BhKGEsXG5cImZuXCIpO3AudGhlbihudWxsLGZ1bmN0aW9uKGIpe2EoYi5kYXRhLGIuc3RhdHVzLGIuaGVhZGVycyxnKX0pO3JldHVybiBwfSk6KHAuc3VjY2Vzcz1wZChcInN1Y2Nlc3NcIikscC5lcnJvcj1wZChcImVycm9yXCIpKTtyZXR1cm4gcH1mdW5jdGlvbiBuKGMsZCl7ZnVuY3Rpb24gZyhhKXtpZihhKXt2YXIgYz17fTtxKGEsZnVuY3Rpb24oYSxkKXtjW2RdPWZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGQoKXthKGMpfWI/aC4kYXBwbHlBc3luYyhkKTpoLiQkcGhhc2U/ZCgpOmguJGFwcGx5KGQpfX0pO3JldHVybiBjfX1mdW5jdGlvbiBsKGEsYyxkLGUpe2Z1bmN0aW9uIGYoKXtuKGMsYSxkLGUpfUEmJigyMDA8PWEmJjMwMD5hP0EucHV0KE0sW2EsYyxtZChkKSxlXSk6QS5yZW1vdmUoTSkpO2I/aC4kYXBwbHlBc3luYyhmKTooZigpLGguJCRwaGFzZXx8aC4kYXBwbHkoKSl9ZnVuY3Rpb24gbihhLGIsZCxlKXtiPS0xPD1iP2I6MDsoMjAwPD1iJiYzMDA+Yj9MLnJlc29sdmU6TC5yZWplY3QpKHtkYXRhOmEsXG5zdGF0dXM6YixoZWFkZXJzOm5kKGQpLGNvbmZpZzpjLHN0YXR1c1RleHQ6ZX0pfWZ1bmN0aW9uIEooYSl7bihhLmRhdGEsYS5zdGF0dXMsaWEoYS5oZWFkZXJzKCkpLGEuc3RhdHVzVGV4dCl9ZnVuY3Rpb24gTygpe3ZhciBhPW0ucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoYyk7LTEhPT1hJiZtLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoYSwxKX12YXIgTD1rLmRlZmVyKCksUT1MLnByb21pc2UsQSxHLHY9Yy5oZWFkZXJzLE09cChjLnVybCxjLnBhcmFtU2VyaWFsaXplcihjLnBhcmFtcykpO20ucGVuZGluZ1JlcXVlc3RzLnB1c2goYyk7US50aGVuKE8sTyk7IWMuY2FjaGUmJiFhLmNhY2hlfHwhMT09PWMuY2FjaGV8fFwiR0VUXCIhPT1jLm1ldGhvZCYmXCJKU09OUFwiIT09Yy5tZXRob2R8fChBPUkoYy5jYWNoZSk/Yy5jYWNoZTpJKGEuY2FjaGUpP2EuY2FjaGU6eCk7QSYmKEc9QS5nZXQoTSksdShHKT9HJiZGKEcudGhlbik/Ry50aGVuKEosSik6SyhHKT9uKEdbMV0sR1swXSxpYShHWzJdKSxcbkdbM10pOm4oRywyMDAse30sXCJPS1wiKTpBLnB1dChNLFEpKTt6KEcpJiYoKEc9cWQoYy51cmwpP2YoKVtjLnhzcmZDb29raWVOYW1lfHxhLnhzcmZDb29raWVOYW1lXTp2b2lkIDApJiYodltjLnhzcmZIZWFkZXJOYW1lfHxhLnhzcmZIZWFkZXJOYW1lXT1HKSxlKGMubWV0aG9kLE0sZCxsLHYsYy50aW1lb3V0LGMud2l0aENyZWRlbnRpYWxzLGMucmVzcG9uc2VUeXBlLGcoYy5ldmVudEhhbmRsZXJzKSxnKGMudXBsb2FkRXZlbnRIYW5kbGVycykpKTtyZXR1cm4gUX1mdW5jdGlvbiBwKGEsYil7MDxiLmxlbmd0aCYmKGErPSgtMT09PWEuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIpK2IpO3JldHVybiBhfXZhciB4PWcoXCIkaHR0cFwiKTthLnBhcmFtU2VyaWFsaXplcj1IKGEucGFyYW1TZXJpYWxpemVyKT9sLmdldChhLnBhcmFtU2VyaWFsaXplcik6YS5wYXJhbVNlcmlhbGl6ZXI7dmFyIEo9W107cShjLGZ1bmN0aW9uKGEpe0oudW5zaGlmdChIKGEpP2wuZ2V0KGEpOmwuaW52b2tlKGEpKX0pO20ucGVuZGluZ1JlcXVlc3RzPVxuW107KGZ1bmN0aW9uKGEpe3EoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe21bYV09ZnVuY3Rpb24oYixjKXtyZXR1cm4gbShSKHt9LGN8fHt9LHttZXRob2Q6YSx1cmw6Yn0pKX19KX0pKFwiZ2V0XCIsXCJkZWxldGVcIixcImhlYWRcIixcImpzb25wXCIpOyhmdW5jdGlvbihhKXtxKGFyZ3VtZW50cyxmdW5jdGlvbihhKXttW2FdPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gbShSKHt9LGR8fHt9LHttZXRob2Q6YSx1cmw6YixkYXRhOmN9KSl9fSl9KShcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIik7bS5kZWZhdWx0cz1hO3JldHVybiBtfV19ZnVuY3Rpb24gRmYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEIuWE1MSHR0cFJlcXVlc3R9fX1mdW5jdGlvbiBFZigpe3RoaXMuJGdldD1bXCIkYnJvd3NlclwiLFwiJGpzb25wQ2FsbGJhY2tzXCIsXCIkZG9jdW1lbnRcIixcIiR4aHJGYWN0b3J5XCIsZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuIHVnKGEsYyxhLmRlZmVyLGIsZFswXSl9XX1cbmZ1bmN0aW9uIHVnKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihhLGIsZCl7YT1hLnJlcGxhY2UoXCJKU09OX0NBTExCQUNLXCIsYik7dmFyIGY9ZS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLG09bnVsbDtmLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtmLnNyYz1hO2YuYXN5bmM9ITA7bT1mdW5jdGlvbihhKXtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbSwhMSk7Zi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixtLCExKTtlLmJvZHkucmVtb3ZlQ2hpbGQoZik7Zj1udWxsO3ZhciBnPS0xLHg9XCJ1bmtub3duXCI7YSYmKFwibG9hZFwiIT09YS50eXBlfHxjLndhc0NhbGxlZChiKXx8KGE9e3R5cGU6XCJlcnJvclwifSkseD1hLnR5cGUsZz1cImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCk7ZCYmZChnLHgpfTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbSwhMSk7Zi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixtLCExKTtlLmJvZHkuYXBwZW5kQ2hpbGQoZik7cmV0dXJuIG19cmV0dXJuIGZ1bmN0aW9uKGUsXG5oLGssbCxtLG4scCx4LEosdCl7ZnVuY3Rpb24gcygpe2liJiZpYigpO3cmJncuYWJvcnQoKX1mdW5jdGlvbiBEKGIsYyxlLGYsZyl7dShMKSYmZC5jYW5jZWwoTCk7aWI9dz1udWxsO2IoYyxlLGYsZyk7YS4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KEMpfWEuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpO2g9aHx8YS51cmwoKTtpZihcImpzb25wXCI9PT1QKGUpKXZhciB5PWMuY3JlYXRlQ2FsbGJhY2soaCksaWI9ZihoLHksZnVuY3Rpb24oYSxiKXt2YXIgZD0yMDA9PT1hJiZjLmdldFJlc3BvbnNlKHkpO0QobCxhLGQsXCJcIixiKTtjLnJlbW92ZUNhbGxiYWNrKHkpfSk7ZWxzZXt2YXIgdz1iKGUsaCk7dy5vcGVuKGUsaCwhMCk7cShtLGZ1bmN0aW9uKGEsYil7dShhKSYmdy5zZXRSZXF1ZXN0SGVhZGVyKGIsYSl9KTt3Lm9ubG9hZD1mdW5jdGlvbigpe3ZhciBhPXcuc3RhdHVzVGV4dHx8XCJcIixiPVwicmVzcG9uc2VcImluIHc/dy5yZXNwb25zZTp3LnJlc3BvbnNlVGV4dCxjPVxuMTIyMz09PXcuc3RhdHVzPzIwNDp3LnN0YXR1czswPT09YyYmKGM9Yj8yMDA6XCJmaWxlXCI9PT1DYShoKS5wcm90b2NvbD80MDQ6MCk7RChsLGMsYix3LmdldEFsbFJlc3BvbnNlSGVhZGVycygpLGEpfTtlPWZ1bmN0aW9uKCl7RChsLC0xLG51bGwsbnVsbCxcIlwiKX07dy5vbmVycm9yPWU7dy5vbmFib3J0PWU7dy5vbnRpbWVvdXQ9ZTtxKEosZnVuY3Rpb24oYSxiKXt3LmFkZEV2ZW50TGlzdGVuZXIoYixhKX0pO3EodCxmdW5jdGlvbihhLGIpe3cudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoYixhKX0pO3AmJih3LndpdGhDcmVkZW50aWFscz0hMCk7aWYoeCl0cnl7dy5yZXNwb25zZVR5cGU9eH1jYXRjaChPKXtpZihcImpzb25cIiE9PXgpdGhyb3cgTzt9dy5zZW5kKHooayk/bnVsbDprKX1pZigwPG4pdmFyIEw9ZChzLG4pO2Vsc2UgbiYmRihuLnRoZW4pJiZuLnRoZW4ocyl9fWZ1bmN0aW9uIHpmKCl7dmFyIGE9XCJ7e1wiLGI9XCJ9fVwiO3RoaXMuc3RhcnRTeW1ib2w9ZnVuY3Rpb24oYil7cmV0dXJuIGI/XG4oYT1iLHRoaXMpOmF9O3RoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PVtcIiRwYXJzZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRzY2VcIixmdW5jdGlvbihkLGMsZSl7ZnVuY3Rpb24gZihhKXtyZXR1cm5cIlxcXFxcXFxcXFxcXFwiK2F9ZnVuY3Rpb24gZyhjKXtyZXR1cm4gYy5yZXBsYWNlKG4sYSkucmVwbGFjZShwLGIpfWZ1bmN0aW9uIGgoYSxiLGMsZCl7dmFyIGU9YS4kd2F0Y2goZnVuY3Rpb24oYSl7ZSgpO3JldHVybiBkKGEpfSxiLGMpO3JldHVybiBlfWZ1bmN0aW9uIGsoZixrLHAsbil7ZnVuY3Rpb24gRChhKXt0cnl7dmFyIGI9YTthPXA/ZS5nZXRUcnVzdGVkKHAsYik6ZS52YWx1ZU9mKGIpO3ZhciBkO2lmKG4mJiF1KGEpKWQ9YTtlbHNlIGlmKG51bGw9PWEpZD1cIlwiO2Vsc2V7c3dpdGNoKHR5cGVvZiBhKXtjYXNlIFwic3RyaW5nXCI6YnJlYWs7Y2FzZSBcIm51bWJlclwiOmE9XCJcIithO2JyZWFrO2RlZmF1bHQ6YT1kYihhKX1kPWF9cmV0dXJuIGR9Y2F0Y2goZyl7YyhLYS5pbnRlcnIoZixcbmcpKX19aWYoIWYubGVuZ3RofHwtMT09PWYuaW5kZXhPZihhKSl7dmFyIHk7a3x8KGs9ZyhmKSx5PW1hKGspLHkuZXhwPWYseS5leHByZXNzaW9ucz1bXSx5LiQkd2F0Y2hEZWxlZ2F0ZT1oKTtyZXR1cm4geX1uPSEhbjt2YXIgcSx3LE89MCxMPVtdLFE9W107eT1mLmxlbmd0aDtmb3IodmFyIEE9W10sRz1bXTtPPHk7KWlmKC0xIT09KHE9Zi5pbmRleE9mKGEsTykpJiYtMSE9PSh3PWYuaW5kZXhPZihiLHErbCkpKU8hPT1xJiZBLnB1c2goZyhmLnN1YnN0cmluZyhPLHEpKSksTz1mLnN1YnN0cmluZyhxK2wsdyksTC5wdXNoKE8pLFEucHVzaChkKE8sRCkpLE89dyttLEcucHVzaChBLmxlbmd0aCksQS5wdXNoKFwiXCIpO2Vsc2V7TyE9PXkmJkEucHVzaChnKGYuc3Vic3RyaW5nKE8pKSk7YnJlYWt9cCYmMTxBLmxlbmd0aCYmS2EudGhyb3dOb2NvbmNhdChmKTtpZigha3x8TC5sZW5ndGgpe3ZhciB2PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9TC5sZW5ndGg7YjxjO2IrKyl7aWYobiYmXG56KGFbYl0pKXJldHVybjtBW0dbYl1dPWFbYl19cmV0dXJuIEEuam9pbihcIlwiKX07cmV0dXJuIFIoZnVuY3Rpb24oYSl7dmFyIGI9MCxkPUwubGVuZ3RoLGU9QXJyYXkoZCk7dHJ5e2Zvcig7YjxkO2IrKyllW2JdPVFbYl0oYSk7cmV0dXJuIHYoZSl9Y2F0Y2goZyl7YyhLYS5pbnRlcnIoZixnKSl9fSx7ZXhwOmYsZXhwcmVzc2lvbnM6TCwkJHdhdGNoRGVsZWdhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYS4kd2F0Y2hHcm91cChRLGZ1bmN0aW9uKGQsZSl7dmFyIGY9dihkKTtGKGIpJiZiLmNhbGwodGhpcyxmLGQhPT1lP2M6ZixhKTtjPWZ9KX19KX19dmFyIGw9YS5sZW5ndGgsbT1iLmxlbmd0aCxuPW5ldyBSZWdFeHAoYS5yZXBsYWNlKC8uL2csZiksXCJnXCIpLHA9bmV3IFJlZ0V4cChiLnJlcGxhY2UoLy4vZyxmKSxcImdcIik7ay5zdGFydFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBhfTtrLmVuZFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBifTtyZXR1cm4ga31dfWZ1bmN0aW9uIEFmKCl7dGhpcy4kZ2V0PVxuW1wiJHJvb3RTY29wZVwiLFwiJHdpbmRvd1wiLFwiJHFcIixcIiQkcVwiLFwiJGJyb3dzZXJcIixmdW5jdGlvbihhLGIsZCxjLGUpe2Z1bmN0aW9uIGYoZixrLGwsbSl7ZnVuY3Rpb24gbigpe3A/Zi5hcHBseShudWxsLHgpOmYocyl9dmFyIHA9NDxhcmd1bWVudHMubGVuZ3RoLHg9cD90YS5jYWxsKGFyZ3VtZW50cyw0KTpbXSxKPWIuc2V0SW50ZXJ2YWwsdD1iLmNsZWFySW50ZXJ2YWwscz0wLEQ9dShtKSYmIW0seT0oRD9jOmQpLmRlZmVyKCkscT15LnByb21pc2U7bD11KGwpP2w6MDtxLiQkaW50ZXJ2YWxJZD1KKGZ1bmN0aW9uKCl7RD9lLmRlZmVyKG4pOmEuJGV2YWxBc3luYyhuKTt5Lm5vdGlmeShzKyspOzA8bCYmcz49bCYmKHkucmVzb2x2ZShzKSx0KHEuJCRpbnRlcnZhbElkKSxkZWxldGUgZ1txLiQkaW50ZXJ2YWxJZF0pO0R8fGEuJGFwcGx5KCl9LGspO2dbcS4kJGludGVydmFsSWRdPXk7cmV0dXJuIHF9dmFyIGc9e307Zi5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuJCRpbnRlcnZhbElkIGluXG5nPyhnW2EuJCRpbnRlcnZhbElkXS5yZWplY3QoXCJjYW5jZWxlZFwiKSxiLmNsZWFySW50ZXJ2YWwoYS4kJGludGVydmFsSWQpLGRlbGV0ZSBnW2EuJCRpbnRlcnZhbElkXSwhMCk6ITF9O3JldHVybiBmfV19ZnVuY3Rpb24ga2MoYSl7YT1hLnNwbGl0KFwiL1wiKTtmb3IodmFyIGI9YS5sZW5ndGg7Yi0tOylhW2JdPXRiKGFbYl0pO3JldHVybiBhLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIHJkKGEsYil7dmFyIGQ9Q2EoYSk7Yi4kJHByb3RvY29sPWQucHJvdG9jb2w7Yi4kJGhvc3Q9ZC5ob3N0bmFtZTtiLiQkcG9ydD1hYShkLnBvcnQpfHx2Z1tkLnByb3RvY29sXXx8bnVsbH1mdW5jdGlvbiBzZChhLGIpe2lmKHdnLnRlc3QoYSkpdGhyb3cgbGIoXCJiYWRwYXRoXCIsYSk7dmFyIGQ9XCIvXCIhPT1hLmNoYXJBdCgwKTtkJiYoYT1cIi9cIithKTt2YXIgYz1DYShhKTtiLiQkcGF0aD1kZWNvZGVVUklDb21wb25lbnQoZCYmXCIvXCI9PT1jLnBhdGhuYW1lLmNoYXJBdCgwKT9jLnBhdGhuYW1lLnN1YnN0cmluZygxKTpcbmMucGF0aG5hbWUpO2IuJCRzZWFyY2g9SGMoYy5zZWFyY2gpO2IuJCRoYXNoPWRlY29kZVVSSUNvbXBvbmVudChjLmhhc2gpO2IuJCRwYXRoJiZcIi9cIiE9PWIuJCRwYXRoLmNoYXJBdCgwKSYmKGIuJCRwYXRoPVwiL1wiK2IuJCRwYXRoKX1mdW5jdGlvbiBrYShhLGIpe2lmKDA9PT1iLmxhc3RJbmRleE9mKGEsMCkpcmV0dXJuIGIuc3Vic3RyKGEubGVuZ3RoKX1mdW5jdGlvbiBKYShhKXt2YXIgYj1hLmluZGV4T2YoXCIjXCIpO3JldHVybi0xPT09Yj9hOmEuc3Vic3RyKDAsYil9ZnVuY3Rpb24gbWIoYSl7cmV0dXJuIGEucmVwbGFjZSgvKCMuKyl8IyQvLFwiJDFcIil9ZnVuY3Rpb24gbGMoYSxiLGQpe3RoaXMuJCRodG1sNT0hMDtkPWR8fFwiXCI7cmQoYSx0aGlzKTt0aGlzLiQkcGFyc2U9ZnVuY3Rpb24oYSl7dmFyIGQ9a2EoYixhKTtpZighSChkKSl0aHJvdyBsYihcImlwdGhwcmZ4XCIsYSxiKTtzZChkLHRoaXMpO3RoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9XCIvXCIpO3RoaXMuJCRjb21wb3NlKCl9O1xudGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYT1XYih0aGlzLiQkc2VhcmNoKSxkPXRoaXMuJCRoYXNoP1wiI1wiK3RiKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9a2ModGhpcy4kJHBhdGgpKyhhP1wiP1wiK2E6XCJcIikrZDt0aGlzLiQkYWJzVXJsPWIrdGhpcy4kJHVybC5zdWJzdHIoMSl9O3RoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24oYyxlKXtpZihlJiZcIiNcIj09PWVbMF0pcmV0dXJuIHRoaXMuaGFzaChlLnNsaWNlKDEpKSwhMDt2YXIgZixnO3UoZj1rYShhLGMpKT8oZz1mLGc9ZCYmdShmPWthKGQsZikpP2IrKGthKFwiL1wiLGYpfHxmKTphK2cpOnUoZj1rYShiLGMpKT9nPWIrZjpiPT09YytcIi9cIiYmKGc9Yik7ZyYmdGhpcy4kJHBhcnNlKGcpO3JldHVybiEhZ319ZnVuY3Rpb24gbWMoYSxiLGQpe3JkKGEsdGhpcyk7dGhpcy4kJHBhcnNlPWZ1bmN0aW9uKGMpe3ZhciBlPWthKGEsYyl8fGthKGIsYyksZjt6KGUpfHxcIiNcIiE9PWUuY2hhckF0KDApP3RoaXMuJCRodG1sNT9mPVxuZTooZj1cIlwiLHooZSkmJihhPWMsdGhpcy5yZXBsYWNlKCkpKTooZj1rYShkLGUpLHooZikmJihmPWUpKTtzZChmLHRoaXMpO2M9dGhpcy4kJHBhdGg7dmFyIGU9YSxnPS9eXFwvW0EtWl06KFxcLy4qKS87MD09PWYubGFzdEluZGV4T2YoZSwwKSYmKGY9Zi5yZXBsYWNlKGUsXCJcIikpO2cuZXhlYyhmKXx8KGM9KGY9Zy5leGVjKGMpKT9mWzFdOmMpO3RoaXMuJCRwYXRoPWM7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYj1XYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoP1wiI1wiK3RiKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9a2ModGhpcy4kJHBhdGgpKyhiP1wiP1wiK2I6XCJcIikrZTt0aGlzLiQkYWJzVXJsPWErKHRoaXMuJCR1cmw/ZCt0aGlzLiQkdXJsOlwiXCIpfTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIEphKGEpPT09SmEoYik/KHRoaXMuJCRwYXJzZShiKSwhMCk6ITF9fWZ1bmN0aW9uIHRkKGEsYixkKXt0aGlzLiQkaHRtbDU9XG4hMDttYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy4kJHBhcnNlTGlua1VybD1mdW5jdGlvbihjLGUpe2lmKGUmJlwiI1wiPT09ZVswXSlyZXR1cm4gdGhpcy5oYXNoKGUuc2xpY2UoMSkpLCEwO3ZhciBmLGc7YT09PUphKGMpP2Y9YzooZz1rYShiLGMpKT9mPWErZCtnOmI9PT1jK1wiL1wiJiYoZj1iKTtmJiZ0aGlzLiQkcGFyc2UoZik7cmV0dXJuISFmfTt0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBiPVdiKHRoaXMuJCRzZWFyY2gpLGU9dGhpcy4kJGhhc2g/XCIjXCIrdGIodGhpcy4kJGhhc2gpOlwiXCI7dGhpcy4kJHVybD1rYyh0aGlzLiQkcGF0aCkrKGI/XCI/XCIrYjpcIlwiKStlO3RoaXMuJCRhYnNVcmw9YStkK3RoaXMuJCR1cmx9fWZ1bmN0aW9uIEpiKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2FdfX1mdW5jdGlvbiB1ZChhLGIpe3JldHVybiBmdW5jdGlvbihkKXtpZih6KGQpKXJldHVybiB0aGlzW2FdO3RoaXNbYV09YihkKTt0aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfX1cbmZ1bmN0aW9uIEhmKCl7dmFyIGE9XCJcIixiPXtlbmFibGVkOiExLHJlcXVpcmVCYXNlOiEwLHJld3JpdGVMaW5rczohMH07dGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKGIpe3JldHVybiB1KGIpPyhhPWIsdGhpcyk6YX07dGhpcy5odG1sNU1vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIElhKGEpPyhiLmVuYWJsZWQ9YSx0aGlzKTpJKGEpPyhJYShhLmVuYWJsZWQpJiYoYi5lbmFibGVkPWEuZW5hYmxlZCksSWEoYS5yZXF1aXJlQmFzZSkmJihiLnJlcXVpcmVCYXNlPWEucmVxdWlyZUJhc2UpLElhKGEucmV3cml0ZUxpbmtzKSYmKGIucmV3cml0ZUxpbmtzPWEucmV3cml0ZUxpbmtzKSx0aGlzKTpifTt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCIsXCIkcm9vdEVsZW1lbnRcIixcIiR3aW5kb3dcIixmdW5jdGlvbihkLGMsZSxmLGcpe2Z1bmN0aW9uIGgoYSxiLGQpe3ZhciBlPWwudXJsKCksZj1sLiQkc3RhdGU7dHJ5e2MudXJsKGEsYixkKSxsLiQkc3RhdGU9Yy5zdGF0ZSgpfWNhdGNoKGcpe3Rocm93IGwudXJsKGUpLFxubC4kJHN0YXRlPWYsZzt9fWZ1bmN0aW9uIGsoYSxiKXtkLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsbC5hYnNVcmwoKSxhLGwuJCRzdGF0ZSxiKX12YXIgbCxtO209Yy5iYXNlSHJlZigpO3ZhciBuPWMudXJsKCkscDtpZihiLmVuYWJsZWQpe2lmKCFtJiZiLnJlcXVpcmVCYXNlKXRocm93IGxiKFwibm9iYXNlXCIpO3A9bi5zdWJzdHJpbmcoMCxuLmluZGV4T2YoXCIvXCIsbi5pbmRleE9mKFwiLy9cIikrMikpKyhtfHxcIi9cIik7bT1lLmhpc3Rvcnk/bGM6dGR9ZWxzZSBwPUphKG4pLG09bWM7dmFyIHg9cC5zdWJzdHIoMCxKYShwKS5sYXN0SW5kZXhPZihcIi9cIikrMSk7bD1uZXcgbShwLHgsXCIjXCIrYSk7bC4kJHBhcnNlTGlua1VybChuLG4pO2wuJCRzdGF0ZT1jLnN0YXRlKCk7dmFyIEo9L15cXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTtmLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtpZihiLnJld3JpdGVMaW5rcyYmIWEuY3RybEtleSYmIWEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlxuMiE9PWEud2hpY2gmJjIhPT1hLmJ1dHRvbil7Zm9yKHZhciBlPUUoYS50YXJnZXQpO1wiYVwiIT09dWEoZVswXSk7KWlmKGVbMF09PT1mWzBdfHwhKGU9ZS5wYXJlbnQoKSlbMF0pcmV0dXJuO3ZhciBoPWUucHJvcChcImhyZWZcIiksaz1lLmF0dHIoXCJocmVmXCIpfHxlLmF0dHIoXCJ4bGluazpocmVmXCIpO0koaCkmJlwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PWgudG9TdHJpbmcoKSYmKGg9Q2EoaC5hbmltVmFsKS5ocmVmKTtKLnRlc3QoaCl8fCFofHxlLmF0dHIoXCJ0YXJnZXRcIil8fGEuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFsLiQkcGFyc2VMaW5rVXJsKGgsayl8fChhLnByZXZlbnREZWZhdWx0KCksbC5hYnNVcmwoKSE9PWMudXJsKCkmJihkLiRhcHBseSgpLGcuYW5ndWxhcltcImZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdFwiXT0hMCkpfX0pO21iKGwuYWJzVXJsKCkpIT09bWIobikmJmMudXJsKGwuYWJzVXJsKCksITApO3ZhciB0PSEwO2Mub25VcmxDaGFuZ2UoZnVuY3Rpb24oYSxcbmIpe3ooa2EoeCxhKSk/Zy5sb2NhdGlvbi5ocmVmPWE6KGQuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ZhciBjPWwuYWJzVXJsKCksZT1sLiQkc3RhdGUsZjthPW1iKGEpO2wuJCRwYXJzZShhKTtsLiQkc3RhdGU9YjtmPWQuJGJyb2FkY2FzdChcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsYSxjLGIsZSkuZGVmYXVsdFByZXZlbnRlZDtsLmFic1VybCgpPT09YSYmKGY/KGwuJCRwYXJzZShjKSxsLiQkc3RhdGU9ZSxoKGMsITEsZSkpOih0PSExLGsoYyxlKSkpfSksZC4kJHBoYXNlfHxkLiRkaWdlc3QoKSl9KTtkLiR3YXRjaChmdW5jdGlvbigpe3ZhciBhPW1iKGMudXJsKCkpLGI9bWIobC5hYnNVcmwoKSksZj1jLnN0YXRlKCksZz1sLiQkcmVwbGFjZSxtPWEhPT1ifHxsLiQkaHRtbDUmJmUuaGlzdG9yeSYmZiE9PWwuJCRzdGF0ZTtpZih0fHxtKXQ9ITEsZC4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7dmFyIGI9bC5hYnNVcmwoKSxjPWQuJGJyb2FkY2FzdChcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsXG5iLGEsbC4kJHN0YXRlLGYpLmRlZmF1bHRQcmV2ZW50ZWQ7bC5hYnNVcmwoKT09PWImJihjPyhsLiQkcGFyc2UoYSksbC4kJHN0YXRlPWYpOihtJiZoKGIsZyxmPT09bC4kJHN0YXRlP251bGw6bC4kJHN0YXRlKSxrKGEsZikpKX0pO2wuJCRyZXBsYWNlPSExfSk7cmV0dXJuIGx9XX1mdW5jdGlvbiBJZigpe3ZhciBhPSEwLGI9dGhpczt0aGlzLmRlYnVnRW5hYmxlZD1mdW5jdGlvbihiKXtyZXR1cm4gdShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhKXthIGluc3RhbmNlb2YgRXJyb3ImJihhLnN0YWNrP2E9YS5tZXNzYWdlJiYtMT09PWEuc3RhY2suaW5kZXhPZihhLm1lc3NhZ2UpP1wiRXJyb3I6IFwiK2EubWVzc2FnZStcIlxcblwiK2Euc3RhY2s6YS5zdGFjazphLnNvdXJjZVVSTCYmKGE9YS5tZXNzYWdlK1wiXFxuXCIrYS5zb3VyY2VVUkwrXCI6XCIrYS5saW5lKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZShhKXt2YXIgYj1kLmNvbnNvbGV8fFxue30sZT1iW2FdfHxiLmxvZ3x8QzthPSExO3RyeXthPSEhZS5hcHBseX1jYXRjaChrKXt9cmV0dXJuIGE/ZnVuY3Rpb24oKXt2YXIgYT1bXTtxKGFyZ3VtZW50cyxmdW5jdGlvbihiKXthLnB1c2goYyhiKSl9KTtyZXR1cm4gZS5hcHBseShiLGEpfTpmdW5jdGlvbihhLGIpe2UoYSxudWxsPT1iP1wiXCI6Yil9fXJldHVybntsb2c6ZShcImxvZ1wiKSxpbmZvOmUoXCJpbmZvXCIpLHdhcm46ZShcIndhcm5cIiksZXJyb3I6ZShcImVycm9yXCIpLGRlYnVnOmZ1bmN0aW9uKCl7dmFyIGM9ZShcImRlYnVnXCIpO3JldHVybiBmdW5jdGlvbigpe2EmJmMuYXBwbHkoYixhcmd1bWVudHMpfX0oKX19XX1mdW5jdGlvbiBUYShhLGIpe2lmKFwiX19kZWZpbmVHZXR0ZXJfX1wiPT09YXx8XCJfX2RlZmluZVNldHRlcl9fXCI9PT1hfHxcIl9fbG9va3VwR2V0dGVyX19cIj09PWF8fFwiX19sb29rdXBTZXR0ZXJfX1wiPT09YXx8XCJfX3Byb3RvX19cIj09PWEpdGhyb3cgZWEoXCJpc2VjZmxkXCIsYik7cmV0dXJuIGF9ZnVuY3Rpb24geGcoYSl7cmV0dXJuIGErXG5cIlwifWZ1bmN0aW9uIHFhKGEsYil7aWYoYSl7aWYoYS5jb25zdHJ1Y3Rvcj09PWEpdGhyb3cgZWEoXCJpc2VjZm5cIixiKTtpZihhLndpbmRvdz09PWEpdGhyb3cgZWEoXCJpc2Vjd2luZG93XCIsYik7aWYoYS5jaGlsZHJlbiYmKGEubm9kZU5hbWV8fGEucHJvcCYmYS5hdHRyJiZhLmZpbmQpKXRocm93IGVhKFwiaXNlY2RvbVwiLGIpO2lmKGE9PT1PYmplY3QpdGhyb3cgZWEoXCJpc2Vjb2JqXCIsYik7fXJldHVybiBhfWZ1bmN0aW9uIHZkKGEsYil7aWYoYSl7aWYoYS5jb25zdHJ1Y3Rvcj09PWEpdGhyb3cgZWEoXCJpc2VjZm5cIixiKTtpZihhPT09eWd8fGE9PT16Z3x8YT09PUFnKXRocm93IGVhKFwiaXNlY2ZmXCIsYik7fX1mdW5jdGlvbiBLYihhLGIpe2lmKGEmJihhPT09d2R8fGE9PT14ZHx8YT09PXlkfHxhPT09emR8fGE9PT1BZHx8YT09PUJkfHxhPT09Qmd8fGE9PT1DZ3x8YT09PUxifHxhPT09RGd8fGE9PT1DZHx8YT09PUVnKSl0aHJvdyBlYShcImlzZWNhZlwiLGIpO31mdW5jdGlvbiBGZyhhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPT1cbnR5cGVvZiBhP2E6Yn1mdW5jdGlvbiBEZChhLGIpe3JldHVyblwidW5kZWZpbmVkXCI9PT10eXBlb2YgYT9iOlwidW5kZWZpbmVkXCI9PT10eXBlb2YgYj9hOmErYn1mdW5jdGlvbiBXKGEsYil7dmFyIGQsYyxlO3N3aXRjaChhLnR5cGUpe2Nhc2Ugci5Qcm9ncmFtOmQ9ITA7cShhLmJvZHksZnVuY3Rpb24oYSl7VyhhLmV4cHJlc3Npb24sYik7ZD1kJiZhLmV4cHJlc3Npb24uY29uc3RhbnR9KTthLmNvbnN0YW50PWQ7YnJlYWs7Y2FzZSByLkxpdGVyYWw6YS5jb25zdGFudD0hMDthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSByLlVuYXJ5RXhwcmVzc2lvbjpXKGEuYXJndW1lbnQsYik7YS5jb25zdGFudD1hLmFyZ3VtZW50LmNvbnN0YW50O2EudG9XYXRjaD1hLmFyZ3VtZW50LnRvV2F0Y2g7YnJlYWs7Y2FzZSByLkJpbmFyeUV4cHJlc3Npb246VyhhLmxlZnQsYik7VyhhLnJpZ2h0LGIpO2EuY29uc3RhbnQ9YS5sZWZ0LmNvbnN0YW50JiZhLnJpZ2h0LmNvbnN0YW50O2EudG9XYXRjaD1hLmxlZnQudG9XYXRjaC5jb25jYXQoYS5yaWdodC50b1dhdGNoKTtcbmJyZWFrO2Nhc2Ugci5Mb2dpY2FsRXhwcmVzc2lvbjpXKGEubGVmdCxiKTtXKGEucmlnaHQsYik7YS5jb25zdGFudD1hLmxlZnQuY29uc3RhbnQmJmEucmlnaHQuY29uc3RhbnQ7YS50b1dhdGNoPWEuY29uc3RhbnQ/W106W2FdO2JyZWFrO2Nhc2Ugci5Db25kaXRpb25hbEV4cHJlc3Npb246VyhhLnRlc3QsYik7VyhhLmFsdGVybmF0ZSxiKTtXKGEuY29uc2VxdWVudCxiKTthLmNvbnN0YW50PWEudGVzdC5jb25zdGFudCYmYS5hbHRlcm5hdGUuY29uc3RhbnQmJmEuY29uc2VxdWVudC5jb25zdGFudDthLnRvV2F0Y2g9YS5jb25zdGFudD9bXTpbYV07YnJlYWs7Y2FzZSByLklkZW50aWZpZXI6YS5jb25zdGFudD0hMTthLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2Ugci5NZW1iZXJFeHByZXNzaW9uOlcoYS5vYmplY3QsYik7YS5jb21wdXRlZCYmVyhhLnByb3BlcnR5LGIpO2EuY29uc3RhbnQ9YS5vYmplY3QuY29uc3RhbnQmJighYS5jb21wdXRlZHx8YS5wcm9wZXJ0eS5jb25zdGFudCk7YS50b1dhdGNoPVxuW2FdO2JyZWFrO2Nhc2Ugci5DYWxsRXhwcmVzc2lvbjpkPWU9YS5maWx0ZXI/IWIoYS5jYWxsZWUubmFtZSkuJHN0YXRlZnVsOiExO2M9W107cShhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtXKGEsYik7ZD1kJiZhLmNvbnN0YW50O2EuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEudG9XYXRjaCl9KTthLmNvbnN0YW50PWQ7YS50b1dhdGNoPWU/YzpbYV07YnJlYWs7Y2FzZSByLkFzc2lnbm1lbnRFeHByZXNzaW9uOlcoYS5sZWZ0LGIpO1coYS5yaWdodCxiKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2Ugci5BcnJheUV4cHJlc3Npb246ZD0hMDtjPVtdO3EoYS5lbGVtZW50cyxmdW5jdGlvbihhKXtXKGEsYik7ZD1kJiZhLmNvbnN0YW50O2EuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEudG9XYXRjaCl9KTthLmNvbnN0YW50PWQ7YS50b1dhdGNoPWM7YnJlYWs7Y2FzZSByLk9iamVjdEV4cHJlc3Npb246ZD1cbiEwO2M9W107cShhLnByb3BlcnRpZXMsZnVuY3Rpb24oYSl7VyhhLnZhbHVlLGIpO2Q9ZCYmYS52YWx1ZS5jb25zdGFudCYmIWEuY29tcHV0ZWQ7YS52YWx1ZS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS52YWx1ZS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YzticmVhaztjYXNlIHIuVGhpc0V4cHJlc3Npb246YS5jb25zdGFudD0hMTthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSByLkxvY2Fsc0V4cHJlc3Npb246YS5jb25zdGFudD0hMSxhLnRvV2F0Y2g9W119fWZ1bmN0aW9uIEVkKGEpe2lmKDE9PT1hLmxlbmd0aCl7YT1hWzBdLmV4cHJlc3Npb247dmFyIGI9YS50b1dhdGNoO3JldHVybiAxIT09Yi5sZW5ndGg/YjpiWzBdIT09YT9iOnZvaWQgMH19ZnVuY3Rpb24gRmQoYSl7cmV0dXJuIGEudHlwZT09PXIuSWRlbnRpZmllcnx8YS50eXBlPT09ci5NZW1iZXJFeHByZXNzaW9ufWZ1bmN0aW9uIEdkKGEpe2lmKDE9PT1hLmJvZHkubGVuZ3RoJiZGZChhLmJvZHlbMF0uZXhwcmVzc2lvbikpcmV0dXJue3R5cGU6ci5Bc3NpZ25tZW50RXhwcmVzc2lvbixcbmxlZnQ6YS5ib2R5WzBdLmV4cHJlc3Npb24scmlnaHQ6e3R5cGU6ci5OR1ZhbHVlUGFyYW1ldGVyfSxvcGVyYXRvcjpcIj1cIn19ZnVuY3Rpb24gSGQoYSl7cmV0dXJuIDA9PT1hLmJvZHkubGVuZ3RofHwxPT09YS5ib2R5Lmxlbmd0aCYmKGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1yLkxpdGVyYWx8fGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1yLkFycmF5RXhwcmVzc2lvbnx8YS5ib2R5WzBdLmV4cHJlc3Npb24udHlwZT09PXIuT2JqZWN0RXhwcmVzc2lvbil9ZnVuY3Rpb24gSWQoYSxiKXt0aGlzLmFzdEJ1aWxkZXI9YTt0aGlzLiRmaWx0ZXI9Yn1mdW5jdGlvbiBKZChhLGIpe3RoaXMuYXN0QnVpbGRlcj1hO3RoaXMuJGZpbHRlcj1ifWZ1bmN0aW9uIE1iKGEpe3JldHVyblwiY29uc3RydWN0b3JcIj09PWF9ZnVuY3Rpb24gbmMoYSl7cmV0dXJuIEYoYS52YWx1ZU9mKT9hLnZhbHVlT2YoKTpHZy5jYWxsKGEpfWZ1bmN0aW9uIEpmKCl7dmFyIGE9UygpLGI9UygpLGQ9e1widHJ1ZVwiOiEwLFxuXCJmYWxzZVwiOiExLFwibnVsbFwiOm51bGwsdW5kZWZpbmVkOnZvaWQgMH0sYyxlO3RoaXMuYWRkTGl0ZXJhbD1mdW5jdGlvbihhLGIpe2RbYV09Yn07dGhpcy5zZXRJZGVudGlmaWVyRm5zPWZ1bmN0aW9uKGEsYil7Yz1hO2U9YjtyZXR1cm4gdGhpc307dGhpcy4kZ2V0PVtcIiRmaWx0ZXJcIixmdW5jdGlvbihmKXtmdW5jdGlvbiBnKGMsZCxlKXt2YXIgZyxrLEo7ZT1lfHxEO3N3aXRjaCh0eXBlb2YgYyl7Y2FzZSBcInN0cmluZ1wiOko9Yz1jLnRyaW0oKTt2YXIgQT1lP2I6YTtnPUFbSl07aWYoIWcpe1wiOlwiPT09Yy5jaGFyQXQoMCkmJlwiOlwiPT09Yy5jaGFyQXQoMSkmJihrPSEwLGM9Yy5zdWJzdHJpbmcoMikpO2c9ZT9zOnQ7dmFyIEc9bmV3IG9jKGcpO2c9KG5ldyBwYyhHLGYsZykpLnBhcnNlKGMpO2cuY29uc3RhbnQ/Zy4kJHdhdGNoRGVsZWdhdGU9cDprP2cuJCR3YXRjaERlbGVnYXRlPWcubGl0ZXJhbD9uOm06Zy5pbnB1dHMmJihnLiQkd2F0Y2hEZWxlZ2F0ZT1sKTtlJiYoZz1oKGcpKTtBW0pdPVxuZ31yZXR1cm4geChnLGQpO2Nhc2UgXCJmdW5jdGlvblwiOnJldHVybiB4KGMsZCk7ZGVmYXVsdDpyZXR1cm4geChDLGQpfX1mdW5jdGlvbiBoKGEpe2Z1bmN0aW9uIGIoYyxkLGUsZil7dmFyIGc9RDtEPSEwO3RyeXtyZXR1cm4gYShjLGQsZSxmKX1maW5hbGx5e0Q9Z319aWYoIWEpcmV0dXJuIGE7Yi4kJHdhdGNoRGVsZWdhdGU9YS4kJHdhdGNoRGVsZWdhdGU7Yi5hc3NpZ249aChhLmFzc2lnbik7Yi5jb25zdGFudD1hLmNvbnN0YW50O2IubGl0ZXJhbD1hLmxpdGVyYWw7Zm9yKHZhciBjPTA7YS5pbnB1dHMmJmM8YS5pbnB1dHMubGVuZ3RoOysrYylhLmlucHV0c1tjXT1oKGEuaW5wdXRzW2NdKTtiLmlucHV0cz1hLmlucHV0cztyZXR1cm4gYn1mdW5jdGlvbiBrKGEsYil7cmV0dXJuIG51bGw9PWF8fG51bGw9PWI/YT09PWI6XCJvYmplY3RcIj09PXR5cGVvZiBhJiYoYT1uYyhhKSxcIm9iamVjdFwiPT09dHlwZW9mIGEpPyExOmE9PT1ifHxhIT09YSYmYiE9PWJ9ZnVuY3Rpb24gbChhLGIsYyxkLFxuZSl7dmFyIGY9ZC5pbnB1dHMsZztpZigxPT09Zi5sZW5ndGgpe3ZhciBoPWssZj1mWzBdO3JldHVybiBhLiR3YXRjaChmdW5jdGlvbihhKXt2YXIgYj1mKGEpO2soYixoKXx8KGc9ZChhLHZvaWQgMCx2b2lkIDAsW2JdKSxoPWImJm5jKGIpKTtyZXR1cm4gZ30sYixjLGUpfWZvcih2YXIgbD1bXSxtPVtdLHA9MCxuPWYubGVuZ3RoO3A8bjtwKyspbFtwXT1rLG1bcF09bnVsbDtyZXR1cm4gYS4kd2F0Y2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSExLGM9MCxlPWYubGVuZ3RoO2M8ZTtjKyspe3ZhciBoPWZbY10oYSk7aWYoYnx8KGI9IWsoaCxsW2NdKSkpbVtjXT1oLGxbY109aCYmbmMoaCl9YiYmKGc9ZChhLHZvaWQgMCx2b2lkIDAsbSkpO3JldHVybiBnfSxiLGMsZSl9ZnVuY3Rpb24gbShhLGIsYyxkKXt2YXIgZSxmO3JldHVybiBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7Zj1hO0YoYikmJmIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3UoYSkmJlxuZC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXt1KGYpJiZlKCl9KX0sYyl9ZnVuY3Rpb24gbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPSEwO3EoYSxmdW5jdGlvbihhKXt1KGEpfHwoYj0hMSl9KTtyZXR1cm4gYn12YXIgZixnO3JldHVybiBmPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7Zz1hO0YoYikmJmIuY2FsbCh0aGlzLGEsYyxkKTtlKGEpJiZkLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2UoZykmJmYoKX0pfSxjKX1mdW5jdGlvbiBwKGEsYixjLGQpe3ZhciBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe2UoKTtyZXR1cm4gZChhKX0sYixjKTtyZXR1cm4gZX1mdW5jdGlvbiB4KGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9YS4kJHdhdGNoRGVsZWdhdGUsZD0hMSxjPWMhPT1uJiZjIT09bT9mdW5jdGlvbihjLGUsZixnKXtmPWQmJmc/Z1swXTphKGMsZSxmLGcpO3JldHVybiBiKGYsYyxlKX06ZnVuY3Rpb24oYyxkLGUsZil7ZT1hKGMsXG5kLGUsZik7Yz1iKGUsYyxkKTtyZXR1cm4gdShlKT9jOmV9O2EuJCR3YXRjaERlbGVnYXRlJiZhLiQkd2F0Y2hEZWxlZ2F0ZSE9PWw/Yy4kJHdhdGNoRGVsZWdhdGU9YS4kJHdhdGNoRGVsZWdhdGU6Yi4kc3RhdGVmdWx8fChjLiQkd2F0Y2hEZWxlZ2F0ZT1sLGQ9IWEuaW5wdXRzLGMuaW5wdXRzPWEuaW5wdXRzP2EuaW5wdXRzOlthXSk7cmV0dXJuIGN9dmFyIEo9eWEoKS5ub1Vuc2FmZUV2YWwsdD17Y3NwOkosZXhwZW5zaXZlQ2hlY2tzOiExLGxpdGVyYWxzOnBhKGQpLGlzSWRlbnRpZmllclN0YXJ0OkYoYykmJmMsaXNJZGVudGlmaWVyQ29udGludWU6RihlKSYmZX0scz17Y3NwOkosZXhwZW5zaXZlQ2hlY2tzOiEwLGxpdGVyYWxzOnBhKGQpLGlzSWRlbnRpZmllclN0YXJ0OkYoYykmJmMsaXNJZGVudGlmaWVyQ29udGludWU6RihlKSYmZX0sRD0hMTtnLiQkcnVubmluZ0V4cGVuc2l2ZUNoZWNrcz1mdW5jdGlvbigpe3JldHVybiBEfTtyZXR1cm4gZ31dfWZ1bmN0aW9uIExmKCl7dGhpcy4kZ2V0PVxuW1wiJHJvb3RTY29wZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbihhLGIpe3JldHVybiBLZChmdW5jdGlvbihiKXthLiRldmFsQXN5bmMoYil9LGIpfV19ZnVuY3Rpb24gTWYoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gS2QoZnVuY3Rpb24oYil7YS5kZWZlcihiKX0sYil9XX1mdW5jdGlvbiBLZChhLGIpe2Z1bmN0aW9uIGQoKXt0aGlzLiQkc3RhdGU9e3N0YXR1czowfX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2IuY2FsbChhLGMpfX1mdW5jdGlvbiBlKGMpeyFjLnByb2Nlc3NTY2hlZHVsZWQmJmMucGVuZGluZyYmKGMucHJvY2Vzc1NjaGVkdWxlZD0hMCxhKGZ1bmN0aW9uKCl7dmFyIGEsZCxlO2U9Yy5wZW5kaW5nO2MucHJvY2Vzc1NjaGVkdWxlZD0hMTtjLnBlbmRpbmc9dm9pZCAwO2Zvcih2YXIgZj0wLGc9ZS5sZW5ndGg7ZjxnOysrZil7ZD1lW2ZdWzBdO2E9ZVtmXVtjLnN0YXR1c107XG50cnl7RihhKT9kLnJlc29sdmUoYShjLnZhbHVlKSk6MT09PWMuc3RhdHVzP2QucmVzb2x2ZShjLnZhbHVlKTpkLnJlamVjdChjLnZhbHVlKX1jYXRjaChoKXtkLnJlamVjdChoKSxiKGgpfX19KSl9ZnVuY3Rpb24gZigpe3RoaXMucHJvbWlzZT1uZXcgZH12YXIgZz1OKFwiJHFcIixUeXBlRXJyb3IpLGg9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgZjthLnJlc29sdmU9YyhhLGEucmVzb2x2ZSk7YS5yZWplY3Q9YyhhLGEucmVqZWN0KTthLm5vdGlmeT1jKGEsYS5ub3RpZnkpO3JldHVybiBhfTtSKGQucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGEsYixjKXtpZih6KGEpJiZ6KGIpJiZ6KGMpKXJldHVybiB0aGlzO3ZhciBkPW5ldyBmO3RoaXMuJCRzdGF0ZS5wZW5kaW5nPXRoaXMuJCRzdGF0ZS5wZW5kaW5nfHxbXTt0aGlzLiQkc3RhdGUucGVuZGluZy5wdXNoKFtkLGEsYixjXSk7MDx0aGlzLiQkc3RhdGUuc3RhdHVzJiZlKHRoaXMuJCRzdGF0ZSk7cmV0dXJuIGQucHJvbWlzZX0sXCJjYXRjaFwiOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRoZW4obnVsbCxcbmEpfSxcImZpbmFsbHlcIjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGwoYiwhMCxhKX0sZnVuY3Rpb24oYil7cmV0dXJuIGwoYiwhMSxhKX0sYil9fSk7UihmLnByb3RvdHlwZSx7cmVzb2x2ZTpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXN8fChhPT09dGhpcy5wcm9taXNlP3RoaXMuJCRyZWplY3QoZyhcInFjeWNsZVwiLGEpKTp0aGlzLiQkcmVzb2x2ZShhKSl9LCQkcmVzb2x2ZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGEpe2t8fChrPSEwLGguJCRyZXNvbHZlKGEpKX1mdW5jdGlvbiBmKGEpe2t8fChrPSEwLGguJCRyZWplY3QoYSkpfXZhciBnLGg9dGhpcyxrPSExO3RyeXtpZihJKGEpfHxGKGEpKWc9YSYmYS50aGVuO0YoZyk/KHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz0tMSxnLmNhbGwoYSxkLGYsYyh0aGlzLHRoaXMubm90aWZ5KSkpOih0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZT1hLHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz1cbjEsZSh0aGlzLnByb21pc2UuJCRzdGF0ZSkpfWNhdGNoKGwpe2YobCksYihsKX19LHJlamVjdDpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXN8fHRoaXMuJCRyZWplY3QoYSl9LCQkcmVqZWN0OmZ1bmN0aW9uKGEpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlPWE7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzPTI7ZSh0aGlzLnByb21pc2UuJCRzdGF0ZSl9LG5vdGlmeTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLnByb21pc2UuJCRzdGF0ZS5wZW5kaW5nOzA+PXRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyYmZCYmZC5sZW5ndGgmJmEoZnVuY3Rpb24oKXtmb3IodmFyIGEsZSxmPTAsZz1kLmxlbmd0aDtmPGc7ZisrKXtlPWRbZl1bMF07YT1kW2ZdWzNdO3RyeXtlLm5vdGlmeShGKGEpP2EoYyk6Yyl9Y2F0Y2goaCl7YihoKX19fSl9fSk7dmFyIGs9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgZjtiP2MucmVzb2x2ZShhKTpjLnJlamVjdChhKTtyZXR1cm4gYy5wcm9taXNlfSxcbmw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGw7dHJ5e0YoYykmJihkPWMoKSl9Y2F0Y2goZSl7cmV0dXJuIGsoZSwhMSl9cmV0dXJuIGQmJkYoZC50aGVuKT9kLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gayhhLGIpfSxmdW5jdGlvbihhKXtyZXR1cm4gayhhLCExKX0pOmsoYSxiKX0sbT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uZXcgZjtlLnJlc29sdmUoYSk7cmV0dXJuIGUucHJvbWlzZS50aGVuKGIsYyxkKX0sbj1mdW5jdGlvbihhKXtpZighRihhKSl0aHJvdyBnKFwibm9yc2x2clwiLGEpO3ZhciBiPW5ldyBmO2EoZnVuY3Rpb24oYSl7Yi5yZXNvbHZlKGEpfSxmdW5jdGlvbihhKXtiLnJlamVjdChhKX0pO3JldHVybiBiLnByb21pc2V9O24ucHJvdG90eXBlPWQucHJvdG90eXBlO24uZGVmZXI9aDtuLnJlamVjdD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgZjtiLnJlamVjdChhKTtyZXR1cm4gYi5wcm9taXNlfTtuLndoZW49bTtuLnJlc29sdmU9bTtuLmFsbD1mdW5jdGlvbihhKXt2YXIgYj1cbm5ldyBmLGM9MCxkPUsoYSk/W106e307cShhLGZ1bmN0aW9uKGEsZSl7YysrO20oYSkudGhlbihmdW5jdGlvbihhKXtkLmhhc093blByb3BlcnR5KGUpfHwoZFtlXT1hLC0tY3x8Yi5yZXNvbHZlKGQpKX0sZnVuY3Rpb24oYSl7ZC5oYXNPd25Qcm9wZXJ0eShlKXx8Yi5yZWplY3QoYSl9KX0pOzA9PT1jJiZiLnJlc29sdmUoZCk7cmV0dXJuIGIucHJvbWlzZX07bi5yYWNlPWZ1bmN0aW9uKGEpe3ZhciBiPWgoKTtxKGEsZnVuY3Rpb24oYSl7bShhKS50aGVuKGIucmVzb2x2ZSxiLnJlamVjdCl9KTtyZXR1cm4gYi5wcm9taXNlfTtyZXR1cm4gbn1mdW5jdGlvbiBWZigpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYil7dmFyIGQ9YS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGEud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lLGM9YS5jYW5jZWxBbmltYXRpb25GcmFtZXx8YS53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8YS53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsXG5lPSEhZCxmPWU/ZnVuY3Rpb24oYSl7dmFyIGI9ZChhKTtyZXR1cm4gZnVuY3Rpb24oKXtjKGIpfX06ZnVuY3Rpb24oYSl7dmFyIGM9YihhLDE2LjY2LCExKTtyZXR1cm4gZnVuY3Rpb24oKXtiLmNhbmNlbChjKX19O2Yuc3VwcG9ydGVkPWU7cmV0dXJuIGZ9XX1mdW5jdGlvbiBLZigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYigpe3RoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGw7dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbGlzdGVuZXJDb3VudD17fTt0aGlzLiQkd2F0Y2hlcnNDb3VudD0wO3RoaXMuJGlkPSsrc2I7dGhpcy4kJENoaWxkU2NvcGU9bnVsbH1iLnByb3RvdHlwZT1hO3JldHVybiBifXZhciBiPTEwLGQ9TihcIiRyb290U2NvcGVcIiksYz1udWxsLGU9bnVsbDt0aGlzLmRpZ2VzdFR0bD1mdW5jdGlvbihhKXthcmd1bWVudHMubGVuZ3RoJiYoYj1hKTtyZXR1cm4gYn07dGhpcy4kZ2V0PVxuW1wiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRwYXJzZVwiLFwiJGJyb3dzZXJcIixmdW5jdGlvbihmLGcsaCl7ZnVuY3Rpb24gayhhKXthLmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZD0hMH1mdW5jdGlvbiBsKGEpezk9PT1GYSYmKGEuJCRjaGlsZEhlYWQmJmwoYS4kJGNoaWxkSGVhZCksYS4kJG5leHRTaWJsaW5nJiZsKGEuJCRuZXh0U2libGluZykpO2EuJHBhcmVudD1hLiQkbmV4dFNpYmxpbmc9YS4kJHByZXZTaWJsaW5nPWEuJCRjaGlsZEhlYWQ9YS4kJGNoaWxkVGFpbD1hLiRyb290PWEuJCR3YXRjaGVycz1udWxsfWZ1bmN0aW9uIG0oKXt0aGlzLiRpZD0rK3NiO3RoaXMuJCRwaGFzZT10aGlzLiRwYXJlbnQ9dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGw7dGhpcy4kcm9vdD10aGlzO3RoaXMuJCRkZXN0cm95ZWQ9ITE7dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbGlzdGVuZXJDb3VudD1cbnt9O3RoaXMuJCR3YXRjaGVyc0NvdW50PTA7dGhpcy4kJGlzb2xhdGVCaW5kaW5ncz1udWxsfWZ1bmN0aW9uIG4oYSl7aWYoRC4kJHBoYXNlKXRocm93IGQoXCJpbnByb2dcIixELiQkcGhhc2UpO0QuJCRwaGFzZT1hfWZ1bmN0aW9uIHAoYSxiKXtkbyBhLiQkd2F0Y2hlcnNDb3VudCs9Yjt3aGlsZShhPWEuJHBhcmVudCl9ZnVuY3Rpb24geChhLGIsYyl7ZG8gYS4kJGxpc3RlbmVyQ291bnRbY10tPWIsMD09PWEuJCRsaXN0ZW5lckNvdW50W2NdJiZkZWxldGUgYS4kJGxpc3RlbmVyQ291bnRbY107d2hpbGUoYT1hLiRwYXJlbnQpfWZ1bmN0aW9uIEooKXt9ZnVuY3Rpb24gdCgpe2Zvcig7dy5sZW5ndGg7KXRyeXt3LnNoaWZ0KCkoKX1jYXRjaChhKXtmKGEpfWU9bnVsbH1mdW5jdGlvbiBzKCl7bnVsbD09PWUmJihlPWguZGVmZXIoZnVuY3Rpb24oKXtELiRhcHBseSh0KX0pKX1tLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bSwkbmV3OmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yz1jfHx0aGlzO2I/XG4oZD1uZXcgbSxkLiRyb290PXRoaXMuJHJvb3QpOih0aGlzLiQkQ2hpbGRTY29wZXx8KHRoaXMuJCRDaGlsZFNjb3BlPWEodGhpcykpLGQ9bmV3IHRoaXMuJCRDaGlsZFNjb3BlKTtkLiRwYXJlbnQ9YztkLiQkcHJldlNpYmxpbmc9Yy4kJGNoaWxkVGFpbDtjLiQkY2hpbGRIZWFkPyhjLiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmc9ZCxjLiQkY2hpbGRUYWlsPWQpOmMuJCRjaGlsZEhlYWQ9Yy4kJGNoaWxkVGFpbD1kOyhifHxjIT09dGhpcykmJmQuJG9uKFwiJGRlc3Ryb3lcIixrKTtyZXR1cm4gZH0sJHdhdGNoOmZ1bmN0aW9uKGEsYixkLGUpe3ZhciBmPWcoYSk7aWYoZi4kJHdhdGNoRGVsZWdhdGUpcmV0dXJuIGYuJCR3YXRjaERlbGVnYXRlKHRoaXMsYixkLGYsYSk7dmFyIGg9dGhpcyxrPWguJCR3YXRjaGVycyxsPXtmbjpiLGxhc3Q6SixnZXQ6ZixleHA6ZXx8YSxlcTohIWR9O2M9bnVsbDtGKGIpfHwobC5mbj1DKTtrfHwoaz1oLiQkd2F0Y2hlcnM9W10pO2sudW5zaGlmdChsKTtwKHRoaXMsXG4xKTtyZXR1cm4gZnVuY3Rpb24oKXswPD1hYihrLGwpJiZwKGgsLTEpO2M9bnVsbH19LCR3YXRjaEdyb3VwOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2g9ITE7az8oaz0hMSxiKGUsZSxnKSk6YihlLGQsZyl9dmFyIGQ9QXJyYXkoYS5sZW5ndGgpLGU9QXJyYXkoYS5sZW5ndGgpLGY9W10sZz10aGlzLGg9ITEsaz0hMDtpZighYS5sZW5ndGgpe3ZhciBsPSEwO2cuJGV2YWxBc3luYyhmdW5jdGlvbigpe2wmJmIoZSxlLGcpfSk7cmV0dXJuIGZ1bmN0aW9uKCl7bD0hMX19aWYoMT09PWEubGVuZ3RoKXJldHVybiB0aGlzLiR3YXRjaChhWzBdLGZ1bmN0aW9uKGEsYyxmKXtlWzBdPWE7ZFswXT1jO2IoZSxhPT09Yz9lOmQsZil9KTtxKGEsZnVuY3Rpb24oYSxiKXt2YXIgaz1nLiR3YXRjaChhLGZ1bmN0aW9uKGEsZil7ZVtiXT1hO2RbYl09ZjtofHwoaD0hMCxnLiRldmFsQXN5bmMoYykpfSk7Zi5wdXNoKGspfSk7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKDtmLmxlbmd0aDspZi5zaGlmdCgpKCl9fSxcbiR3YXRjaENvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2U9YTt2YXIgYixkLGcsaDtpZigheihlKSl7aWYoSShlKSlpZihyYShlKSlmb3IoZiE9PW4mJihmPW4scz1mLmxlbmd0aD0wLGwrKyksYT1lLmxlbmd0aCxzIT09YSYmKGwrKyxmLmxlbmd0aD1zPWEpLGI9MDtiPGE7YisrKWg9ZltiXSxnPWVbYl0sZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKTtlbHNle2YhPT1wJiYoZj1wPXt9LHM9MCxsKyspO2E9MDtmb3IoYiBpbiBlKXNhLmNhbGwoZSxiKSYmKGErKyxnPWVbYl0saD1mW2JdLGIgaW4gZj8oZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKSk6KHMrKyxmW2JdPWcsbCsrKSk7aWYocz5hKWZvcihiIGluIGwrKyxmKXNhLmNhbGwoZSxiKXx8KHMtLSxkZWxldGUgZltiXSl9ZWxzZSBmIT09ZSYmKGY9ZSxsKyspO3JldHVybiBsfX1jLiRzdGF0ZWZ1bD0hMDt2YXIgZD10aGlzLGUsZixoLGs9MTxiLmxlbmd0aCxsPTAsbT1cbmcoYSxjKSxuPVtdLHA9e30seD0hMCxzPTA7cmV0dXJuIHRoaXMuJHdhdGNoKG0sZnVuY3Rpb24oKXt4Pyh4PSExLGIoZSxlLGQpKTpiKGUsaCxkKTtpZihrKWlmKEkoZSkpaWYocmEoZSkpe2g9QXJyYXkoZS5sZW5ndGgpO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKWhbYV09ZVthXX1lbHNlIGZvcihhIGluIGg9e30sZSlzYS5jYWxsKGUsYSkmJihoW2FdPWVbYV0pO2Vsc2UgaD1lfSl9LCRkaWdlc3Q6ZnVuY3Rpb24oKXt2YXIgYSxnLGssbCxtLHAseCxzLHE9Yix3LHU9W10seixDO24oXCIkZGlnZXN0XCIpO2guJCRjaGVja1VybENoYW5nZSgpO3RoaXM9PT1EJiZudWxsIT09ZSYmKGguZGVmZXIuY2FuY2VsKGUpLHQoKSk7Yz1udWxsO2Rve3M9ITE7dz10aGlzO2ZvcihwPTA7cDx5Lmxlbmd0aDtwKyspe3RyeXtDPXlbcF0sQy5zY29wZS4kZXZhbChDLmV4cHJlc3Npb24sQy5sb2NhbHMpfWNhdGNoKEIpe2YoQil9Yz1udWxsfXkubGVuZ3RoPTA7YTpkb3tpZihwPXcuJCR3YXRjaGVycylmb3IoeD1cbnAubGVuZ3RoO3gtLTspdHJ5e2lmKGE9cFt4XSlpZihtPWEuZ2V0LChnPW0odykpIT09KGs9YS5sYXN0KSYmIShhLmVxP29hKGcsayk6WChnKSYmWChrKSkpcz0hMCxjPWEsYS5sYXN0PWEuZXE/cGEoZyxudWxsKTpnLGw9YS5mbixsKGcsaz09PUo/ZzprLHcpLDU+cSYmKHo9NC1xLHVbel18fCh1W3pdPVtdKSx1W3pdLnB1c2goe21zZzpGKGEuZXhwKT9cImZuOiBcIisoYS5leHAubmFtZXx8YS5leHAudG9TdHJpbmcoKSk6YS5leHAsbmV3VmFsOmcsb2xkVmFsOmt9KSk7ZWxzZSBpZihhPT09Yyl7cz0hMTticmVhayBhfX1jYXRjaChFKXtmKEUpfWlmKCEocD13LiQkd2F0Y2hlcnNDb3VudCYmdy4kJGNoaWxkSGVhZHx8dyE9PXRoaXMmJncuJCRuZXh0U2libGluZykpZm9yKDt3IT09dGhpcyYmIShwPXcuJCRuZXh0U2libGluZyk7KXc9dy4kcGFyZW50fXdoaWxlKHc9cCk7aWYoKHN8fHkubGVuZ3RoKSYmIXEtLSl0aHJvdyBELiQkcGhhc2U9bnVsbCxkKFwiaW5mZGlnXCIsYix1KTt9d2hpbGUoc3x8XG55Lmxlbmd0aCk7Zm9yKEQuJCRwaGFzZT1udWxsO088ci5sZW5ndGg7KXRyeXtyW08rK10oKX1jYXRjaChIKXtmKEgpfXIubGVuZ3RoPU89MH0sJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIGE9dGhpcy4kcGFyZW50O3RoaXMuJGJyb2FkY2FzdChcIiRkZXN0cm95XCIpO3RoaXMuJCRkZXN0cm95ZWQ9ITA7dGhpcz09PUQmJmguJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCgpO3AodGhpcywtdGhpcy4kJHdhdGNoZXJzQ291bnQpO2Zvcih2YXIgYiBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCl4KHRoaXMsdGhpcy4kJGxpc3RlbmVyQ291bnRbYl0sYik7YSYmYS4kJGNoaWxkSGVhZD09PXRoaXMmJihhLiQkY2hpbGRIZWFkPXRoaXMuJCRuZXh0U2libGluZyk7YSYmYS4kJGNoaWxkVGFpbD09PXRoaXMmJihhLiQkY2hpbGRUYWlsPXRoaXMuJCRwcmV2U2libGluZyk7dGhpcy4kJHByZXZTaWJsaW5nJiYodGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmc9dGhpcy4kJG5leHRTaWJsaW5nKTtcbnRoaXMuJCRuZXh0U2libGluZyYmKHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZyk7dGhpcy4kZGVzdHJveT10aGlzLiRkaWdlc3Q9dGhpcy4kYXBwbHk9dGhpcy4kZXZhbEFzeW5jPXRoaXMuJGFwcGx5QXN5bmM9Qzt0aGlzLiRvbj10aGlzLiR3YXRjaD10aGlzLiR3YXRjaEdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIEN9O3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJG5leHRTaWJsaW5nPW51bGw7bCh0aGlzKX19LCRldmFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoYSkodGhpcyxiKX0sJGV2YWxBc3luYzpmdW5jdGlvbihhLGIpe0QuJCRwaGFzZXx8eS5sZW5ndGh8fGguZGVmZXIoZnVuY3Rpb24oKXt5Lmxlbmd0aCYmRC4kZGlnZXN0KCl9KTt5LnB1c2goe3Njb3BlOnRoaXMsZXhwcmVzc2lvbjpnKGEpLGxvY2FsczpifSl9LCQkcG9zdERpZ2VzdDpmdW5jdGlvbihhKXtyLnB1c2goYSl9LCRhcHBseTpmdW5jdGlvbihhKXt0cnl7bihcIiRhcHBseVwiKTtcbnRyeXtyZXR1cm4gdGhpcy4kZXZhbChhKX1maW5hbGx5e0QuJCRwaGFzZT1udWxsfX1jYXRjaChiKXtmKGIpfWZpbmFsbHl7dHJ5e0QuJGRpZ2VzdCgpfWNhdGNoKGMpe3Rocm93IGYoYyksYzt9fX0sJGFwcGx5QXN5bmM6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2MuJGV2YWwoYSl9dmFyIGM9dGhpczthJiZ3LnB1c2goYik7YT1nKGEpO3MoKX0sJG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kJGxpc3RlbmVyc1thXTtjfHwodGhpcy4kJGxpc3RlbmVyc1thXT1jPVtdKTtjLnB1c2goYik7dmFyIGQ9dGhpcztkbyBkLiQkbGlzdGVuZXJDb3VudFthXXx8KGQuJCRsaXN0ZW5lckNvdW50W2FdPTApLGQuJCRsaXN0ZW5lckNvdW50W2FdKys7d2hpbGUoZD1kLiRwYXJlbnQpO3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5pbmRleE9mKGIpOy0xIT09ZCYmKGNbZF09bnVsbCx4KGUsMSxhKSl9fSwkZW1pdDpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZT10aGlzLFxuZz0hMSxoPXtuYW1lOmEsdGFyZ2V0U2NvcGU6ZSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtnPSEwfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2guZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX0saz1iYihbaF0sYXJndW1lbnRzLDEpLGwsbTtkb3tkPWUuJCRsaXN0ZW5lcnNbYV18fGM7aC5jdXJyZW50U2NvcGU9ZTtsPTA7Zm9yKG09ZC5sZW5ndGg7bDxtO2wrKylpZihkW2xdKXRyeXtkW2xdLmFwcGx5KG51bGwsayl9Y2F0Y2gobil7ZihuKX1lbHNlIGQuc3BsaWNlKGwsMSksbC0tLG0tLTtpZihnKXJldHVybiBoLmN1cnJlbnRTY29wZT1udWxsLGg7ZT1lLiRwYXJlbnR9d2hpbGUoZSk7aC5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gaH0sJGJyb2FkY2FzdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLGU9e25hbWU6YSx0YXJnZXRTY29wZTp0aGlzLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZS5kZWZhdWx0UHJldmVudGVkPSEwfSxcbmRlZmF1bHRQcmV2ZW50ZWQ6ITF9O2lmKCF0aGlzLiQkbGlzdGVuZXJDb3VudFthXSlyZXR1cm4gZTtmb3IodmFyIGc9YmIoW2VdLGFyZ3VtZW50cywxKSxoLGs7Yz1kOyl7ZS5jdXJyZW50U2NvcGU9YztkPWMuJCRsaXN0ZW5lcnNbYV18fFtdO2g9MDtmb3Ioaz1kLmxlbmd0aDtoPGs7aCsrKWlmKGRbaF0pdHJ5e2RbaF0uYXBwbHkobnVsbCxnKX1jYXRjaChsKXtmKGwpfWVsc2UgZC5zcGxpY2UoaCwxKSxoLS0say0tO2lmKCEoZD1jLiQkbGlzdGVuZXJDb3VudFthXSYmYy4kJGNoaWxkSGVhZHx8YyE9PXRoaXMmJmMuJCRuZXh0U2libGluZykpZm9yKDtjIT09dGhpcyYmIShkPWMuJCRuZXh0U2libGluZyk7KWM9Yy4kcGFyZW50fWUuY3VycmVudFNjb3BlPW51bGw7cmV0dXJuIGV9fTt2YXIgRD1uZXcgbSx5PUQuJCRhc3luY1F1ZXVlPVtdLHI9RC4kJHBvc3REaWdlc3RRdWV1ZT1bXSx3PUQuJCRhcHBseUFzeW5jUXVldWU9W10sTz0wO3JldHVybiBEfV19ZnVuY3Rpb24gRGUoKXt2YXIgYT1cbi9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxiPS9eXFxzKigoaHR0cHM/fGZ0cHxmaWxlfGJsb2IpOnxkYXRhOmltYWdlXFwvKS87dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4gdShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGU9Yz9iOmEsZjtmPUNhKGQpLmhyZWY7cmV0dXJuXCJcIj09PWZ8fGYubWF0Y2goZSk/ZDpcInVuc2FmZTpcIitmfX19ZnVuY3Rpb24gSGcoYSl7aWYoXCJzZWxmXCI9PT1hKXJldHVybiBhO2lmKEgoYSkpe2lmKC0xPGEuaW5kZXhPZihcIioqKlwiKSl0aHJvdyBmYShcIml3Y2FyZFwiLGEpO2E9TGQoYSkucmVwbGFjZShcIlxcXFwqXFxcXCpcIixcIi4qXCIpLnJlcGxhY2UoXCJcXFxcKlwiLFwiW146Ly4/JjtdKlwiKTtyZXR1cm4gbmV3IFJlZ0V4cChcIl5cIitcbmErXCIkXCIpfWlmKFlhKGEpKXJldHVybiBuZXcgUmVnRXhwKFwiXlwiK2Euc291cmNlK1wiJFwiKTt0aHJvdyBmYShcImltYXRjaGVyXCIpO31mdW5jdGlvbiBNZChhKXt2YXIgYj1bXTt1KGEpJiZxKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKEhnKGEpKX0pO3JldHVybiBifWZ1bmN0aW9uIE9mKCl7dGhpcy5TQ0VfQ09OVEVYVFM9bGE7dmFyIGE9W1wic2VsZlwiXSxiPVtdO3RoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3Q9ZnVuY3Rpb24oYil7YXJndW1lbnRzLmxlbmd0aCYmKGE9TWQoYikpO3JldHVybiBhfTt0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0PWZ1bmN0aW9uKGEpe2FyZ3VtZW50cy5sZW5ndGgmJihiPU1kKGEpKTtyZXR1cm4gYn07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm5cInNlbGZcIj09PWE/cWQoYik6ISFhLmV4ZWMoYi5ocmVmKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWZ1bmN0aW9uKGEpe3RoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWU9XG5mdW5jdGlvbigpe3JldHVybiBhfX07YSYmKGIucHJvdG90eXBlPW5ldyBhKTtiLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKX07Yi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpLnRvU3RyaW5nKCl9O3JldHVybiBifXZhciBmPWZ1bmN0aW9uKGEpe3Rocm93IGZhKFwidW5zYWZlXCIpO307ZC5oYXMoXCIkc2FuaXRpemVcIikmJihmPWQuZ2V0KFwiJHNhbml0aXplXCIpKTt2YXIgZz1lKCksaD17fTtoW2xhLkhUTUxdPWUoZyk7aFtsYS5DU1NdPWUoZyk7aFtsYS5VUkxdPWUoZyk7aFtsYS5KU109ZShnKTtoW2xhLlJFU09VUkNFX1VSTF09ZShoW2xhLlVSTF0pO3JldHVybnt0cnVzdEFzOmZ1bmN0aW9uKGEsYil7dmFyIGM9aC5oYXNPd25Qcm9wZXJ0eShhKT9oW2FdOm51bGw7aWYoIWMpdGhyb3cgZmEoXCJpY29udGV4dFwiLGEsYik7aWYobnVsbD09PWJ8fHooYil8fFxuXCJcIj09PWIpcmV0dXJuIGI7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBiKXRocm93IGZhKFwiaXR5cGVcIixhKTtyZXR1cm4gbmV3IGMoYil9LGdldFRydXN0ZWQ6ZnVuY3Rpb24oZCxlKXtpZihudWxsPT09ZXx8eihlKXx8XCJcIj09PWUpcmV0dXJuIGU7dmFyIGc9aC5oYXNPd25Qcm9wZXJ0eShkKT9oW2RdOm51bGw7aWYoZyYmZSBpbnN0YW5jZW9mIGcpcmV0dXJuIGUuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtpZihkPT09bGEuUkVTT1VSQ0VfVVJMKXt2YXIgZz1DYShlLnRvU3RyaW5nKCkpLG4scCx4PSExO249MDtmb3IocD1hLmxlbmd0aDtuPHA7bisrKWlmKGMoYVtuXSxnKSl7eD0hMDticmVha31pZih4KWZvcihuPTAscD1iLmxlbmd0aDtuPHA7bisrKWlmKGMoYltuXSxnKSl7eD0hMTticmVha31pZih4KXJldHVybiBlO3Rocm93IGZhKFwiaW5zZWN1cmxcIixlLnRvU3RyaW5nKCkpO31pZihkPT09bGEuSFRNTClyZXR1cm4gZihlKTt0aHJvdyBmYShcInVuc2FmZVwiKTt9LHZhbHVlT2Y6ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZlxuZz9hLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk6YX19fV19ZnVuY3Rpb24gTmYoKXt2YXIgYT0hMDt0aGlzLmVuYWJsZWQ9ZnVuY3Rpb24oYil7YXJndW1lbnRzLmxlbmd0aCYmKGE9ISFiKTtyZXR1cm4gYX07dGhpcy4kZ2V0PVtcIiRwYXJzZVwiLFwiJHNjZURlbGVnYXRlXCIsZnVuY3Rpb24oYixkKXtpZihhJiY4PkZhKXRocm93IGZhKFwiaWVxdWlya3NcIik7dmFyIGM9aWEobGEpO2MuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGF9O2MudHJ1c3RBcz1kLnRydXN0QXM7Yy5nZXRUcnVzdGVkPWQuZ2V0VHJ1c3RlZDtjLnZhbHVlT2Y9ZC52YWx1ZU9mO2F8fChjLnRydXN0QXM9Yy5nZXRUcnVzdGVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9LGMudmFsdWVPZj1aYSk7Yy5wYXJzZUFzPWZ1bmN0aW9uKGEsZCl7dmFyIGU9YihkKTtyZXR1cm4gZS5saXRlcmFsJiZlLmNvbnN0YW50P2U6YihkLGZ1bmN0aW9uKGIpe3JldHVybiBjLmdldFRydXN0ZWQoYSxiKX0pfTt2YXIgZT1jLnBhcnNlQXMsXG5mPWMuZ2V0VHJ1c3RlZCxnPWMudHJ1c3RBcztxKGxhLGZ1bmN0aW9uKGEsYil7dmFyIGQ9UChiKTtjW2ZiKFwicGFyc2VfYXNfXCIrZCldPWZ1bmN0aW9uKGIpe3JldHVybiBlKGEsYil9O2NbZmIoXCJnZXRfdHJ1c3RlZF9cIitkKV09ZnVuY3Rpb24oYil7cmV0dXJuIGYoYSxiKX07Y1tmYihcInRydXN0X2FzX1wiK2QpXT1mdW5jdGlvbihiKXtyZXR1cm4gZyhhLGIpfX0pO3JldHVybiBjfV19ZnVuY3Rpb24gUGYoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJGRvY3VtZW50XCIsZnVuY3Rpb24oYSxiKXt2YXIgZD17fSxjPSEoYS5jaHJvbWUmJihhLmNocm9tZS5hcHAmJmEuY2hyb21lLmFwcC5ydW50aW1lfHwhYS5jaHJvbWUuYXBwJiZhLmNocm9tZS5ydW50aW1lJiZhLmNocm9tZS5ydW50aW1lLmlkKSkmJmEuaGlzdG9yeSYmYS5oaXN0b3J5LnB1c2hTdGF0ZSxlPWFhKCgvYW5kcm9pZCAoXFxkKykvLmV4ZWMoUCgoYS5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpKXx8W10pWzFdKSxmPS9Cb3hlZS9pLnRlc3QoKGEubmF2aWdhdG9yfHxcbnt9KS51c2VyQWdlbnQpLGc9YlswXXx8e30saCxrPS9eKE1venx3ZWJraXR8bXMpKD89W0EtWl0pLyxsPWcuYm9keSYmZy5ib2R5LnN0eWxlLG09ITEsbj0hMTtpZihsKXtmb3IodmFyIHAgaW4gbClpZihtPWsuZXhlYyhwKSl7aD1tWzBdO2g9aFswXS50b1VwcGVyQ2FzZSgpK2guc3Vic3RyKDEpO2JyZWFrfWh8fChoPVwiV2Via2l0T3BhY2l0eVwiaW4gbCYmXCJ3ZWJraXRcIik7bT0hIShcInRyYW5zaXRpb25cImluIGx8fGgrXCJUcmFuc2l0aW9uXCJpbiBsKTtuPSEhKFwiYW5pbWF0aW9uXCJpbiBsfHxoK1wiQW5pbWF0aW9uXCJpbiBsKTshZXx8bSYmbnx8KG09SChsLndlYmtpdFRyYW5zaXRpb24pLG49SChsLndlYmtpdEFuaW1hdGlvbikpfXJldHVybntoaXN0b3J5OiEoIWN8fDQ+ZXx8ZiksaGFzRXZlbnQ6ZnVuY3Rpb24oYSl7aWYoXCJpbnB1dFwiPT09YSYmMTE+PUZhKXJldHVybiExO2lmKHooZFthXSkpe3ZhciBiPWcuY3JlYXRlRWxlbWVudChcImRpdlwiKTtkW2FdPVwib25cIithIGluIGJ9cmV0dXJuIGRbYV19LFxuY3NwOnlhKCksdmVuZG9yUHJlZml4OmgsdHJhbnNpdGlvbnM6bSxhbmltYXRpb25zOm4sYW5kcm9pZDplfX1dfWZ1bmN0aW9uIFJmKCl7dmFyIGE7dGhpcy5odHRwT3B0aW9ucz1mdW5jdGlvbihiKXtyZXR1cm4gYj8oYT1iLHRoaXMpOmF9O3RoaXMuJGdldD1bXCIkdGVtcGxhdGVDYWNoZVwiLFwiJGh0dHBcIixcIiRxXCIsXCIkc2NlXCIsZnVuY3Rpb24oYixkLGMsZSl7ZnVuY3Rpb24gZihnLGgpe2YudG90YWxQZW5kaW5nUmVxdWVzdHMrKztpZighSChnKXx8eihiLmdldChnKSkpZz1lLmdldFRydXN0ZWRSZXNvdXJjZVVybChnKTt2YXIgaz1kLmRlZmF1bHRzJiZkLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlO0soayk/az1rLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYSE9PWljfSk6az09PWljJiYoaz1udWxsKTtyZXR1cm4gZC5nZXQoZyxSKHtjYWNoZTpiLHRyYW5zZm9ybVJlc3BvbnNlOmt9LGEpKVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtmLnRvdGFsUGVuZGluZ1JlcXVlc3RzLS19KS50aGVuKGZ1bmN0aW9uKGEpe2IucHV0KGcsXG5hLmRhdGEpO3JldHVybiBhLmRhdGF9LGZ1bmN0aW9uKGEpe2lmKCFoKXRocm93IElnKFwidHBsb2FkXCIsZyxhLnN0YXR1cyxhLnN0YXR1c1RleHQpO3JldHVybiBjLnJlamVjdChhKX0pfWYudG90YWxQZW5kaW5nUmVxdWVzdHM9MDtyZXR1cm4gZn1dfWZ1bmN0aW9uIFNmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiRicm93c2VyXCIsXCIkbG9jYXRpb25cIixmdW5jdGlvbihhLGIsZCl7cmV0dXJue2ZpbmRCaW5kaW5nczpmdW5jdGlvbihhLGIsZCl7YT1hLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJuZy1iaW5kaW5nXCIpO3ZhciBnPVtdO3EoYSxmdW5jdGlvbihhKXt2YXIgYz1nYS5lbGVtZW50KGEpLmRhdGEoXCIkYmluZGluZ1wiKTtjJiZxKGMsZnVuY3Rpb24oYyl7ZD8obmV3IFJlZ0V4cChcIihefFxcXFxzKVwiK0xkKGIpK1wiKFxcXFxzfFxcXFx8fCQpXCIpKS50ZXN0KGMpJiZnLnB1c2goYSk6LTEhPT1jLmluZGV4T2YoYikmJmcucHVzaChhKX0pfSk7cmV0dXJuIGd9LGZpbmRNb2RlbHM6ZnVuY3Rpb24oYSxcbmIsZCl7Zm9yKHZhciBnPVtcIm5nLVwiLFwiZGF0YS1uZy1cIixcIm5nXFxcXDpcIl0saD0wO2g8Zy5sZW5ndGg7KytoKXt2YXIgaz1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIrZ1toXStcIm1vZGVsXCIrKGQ/XCI9XCI6XCIqPVwiKSsnXCInK2IrJ1wiXScpO2lmKGsubGVuZ3RoKXJldHVybiBrfX0sZ2V0TG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZC51cmwoKX0sc2V0TG9jYXRpb246ZnVuY3Rpb24oYil7YiE9PWQudXJsKCkmJihkLnVybChiKSxhLiRkaWdlc3QoKSl9LHdoZW5TdGFibGU6ZnVuY3Rpb24oYSl7Yi5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzKGEpfX19XX1mdW5jdGlvbiBUZigpe3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJHFcIixcIiQkcVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbihhLGIsZCxjLGUpe2Z1bmN0aW9uIGYoZixrLGwpe0YoZil8fChsPWssaz1mLGY9Qyk7dmFyIG09dGEuY2FsbChhcmd1bWVudHMsMyksbj11KGwpJiYhbCxwPShuP2M6ZCkuZGVmZXIoKSxcbng9cC5wcm9taXNlLHE7cT1iLmRlZmVyKGZ1bmN0aW9uKCl7dHJ5e3AucmVzb2x2ZShmLmFwcGx5KG51bGwsbSkpfWNhdGNoKGIpe3AucmVqZWN0KGIpLGUoYil9ZmluYWxseXtkZWxldGUgZ1t4LiQkdGltZW91dElkXX1ufHxhLiRhcHBseSgpfSxrKTt4LiQkdGltZW91dElkPXE7Z1txXT1wO3JldHVybiB4fXZhciBnPXt9O2YuY2FuY2VsPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLiQkdGltZW91dElkIGluIGc/KGdbYS4kJHRpbWVvdXRJZF0ucmVqZWN0KFwiY2FuY2VsZWRcIiksZGVsZXRlIGdbYS4kJHRpbWVvdXRJZF0sYi5kZWZlci5jYW5jZWwoYS4kJHRpbWVvdXRJZCkpOiExfTtyZXR1cm4gZn1dfWZ1bmN0aW9uIENhKGEpe0ZhJiYoVi5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsYSksYT1WLmhyZWYpO1Yuc2V0QXR0cmlidXRlKFwiaHJlZlwiLGEpO3JldHVybntocmVmOlYuaHJlZixwcm90b2NvbDpWLnByb3RvY29sP1YucHJvdG9jb2wucmVwbGFjZSgvOiQvLFwiXCIpOlwiXCIsaG9zdDpWLmhvc3QsXG5zZWFyY2g6Vi5zZWFyY2g/Vi5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOlYuaGFzaD9WLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlwiXCIsaG9zdG5hbWU6Vi5ob3N0bmFtZSxwb3J0OlYucG9ydCxwYXRobmFtZTpcIi9cIj09PVYucGF0aG5hbWUuY2hhckF0KDApP1YucGF0aG5hbWU6XCIvXCIrVi5wYXRobmFtZX19ZnVuY3Rpb24gcWQoYSl7YT1IKGEpP0NhKGEpOmE7cmV0dXJuIGEucHJvdG9jb2w9PT1OZC5wcm90b2NvbCYmYS5ob3N0PT09TmQuaG9zdH1mdW5jdGlvbiBVZigpe3RoaXMuJGdldD1tYShCKX1mdW5jdGlvbiBPZChhKXtmdW5jdGlvbiBiKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGEpfWNhdGNoKGIpe3JldHVybiBhfX12YXIgZD1hWzBdfHx7fSxjPXt9LGU9XCJcIjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYSxnLGgsayxsO2E9ZC5jb29raWV8fFwiXCI7aWYoYSE9PWUpZm9yKGU9YSxhPWUuc3BsaXQoXCI7IFwiKSxjPXt9LGg9MDtoPGEubGVuZ3RoO2grKylnPVxuYVtoXSxrPWcuaW5kZXhPZihcIj1cIiksMDxrJiYobD1iKGcuc3Vic3RyaW5nKDAsaykpLHooY1tsXSkmJihjW2xdPWIoZy5zdWJzdHJpbmcoaysxKSkpKTtyZXR1cm4gY319ZnVuY3Rpb24gWWYoKXt0aGlzLiRnZXQ9T2R9ZnVuY3Rpb24gVGMoYSl7ZnVuY3Rpb24gYihkLGMpe2lmKEkoZCkpe3ZhciBlPXt9O3EoZCxmdW5jdGlvbihhLGMpe2VbY109YihjLGEpfSk7cmV0dXJuIGV9cmV0dXJuIGEuZmFjdG9yeShkK1wiRmlsdGVyXCIsYyl9dGhpcy5yZWdpc3Rlcj1iO3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuZ2V0KGIrXCJGaWx0ZXJcIil9fV07YihcImN1cnJlbmN5XCIsUGQpO2IoXCJkYXRlXCIsUWQpO2IoXCJmaWx0ZXJcIixKZyk7YihcImpzb25cIixLZyk7YihcImxpbWl0VG9cIixMZyk7YihcImxvd2VyY2FzZVwiLE1nKTtiKFwibnVtYmVyXCIsUmQpO2IoXCJvcmRlckJ5XCIsU2QpO2IoXCJ1cHBlcmNhc2VcIixOZyl9ZnVuY3Rpb24gSmcoKXtyZXR1cm4gZnVuY3Rpb24oYSxcbmIsZCxjKXtpZighcmEoYSkpe2lmKG51bGw9PWEpcmV0dXJuIGE7dGhyb3cgTihcImZpbHRlclwiKShcIm5vdGFycmF5XCIsYSk7fWM9Y3x8XCIkXCI7dmFyIGU7c3dpdGNoKHFjKGIpKXtjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudWxsXCI6Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJzdHJpbmdcIjplPSEwO2Nhc2UgXCJvYmplY3RcIjpiPU9nKGIsZCxjLGUpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGF9cmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhLGIpfX1mdW5jdGlvbiBPZyhhLGIsZCxjKXt2YXIgZT1JKGEpJiZkIGluIGE7ITA9PT1iP2I9b2E6RihiKXx8KGI9ZnVuY3Rpb24oYSxiKXtpZih6KGEpKXJldHVybiExO2lmKG51bGw9PT1hfHxudWxsPT09YilyZXR1cm4gYT09PWI7aWYoSShiKXx8SShhKSYmIUNjKGEpKXJldHVybiExO2E9UChcIlwiK2EpO2I9UChcIlwiK2IpO3JldHVybi0xIT09YS5pbmRleE9mKGIpfSk7cmV0dXJuIGZ1bmN0aW9uKGYpe3JldHVybiBlJiZcbiFJKGYpP0xhKGYsYVtkXSxiLGQsITEpOkxhKGYsYSxiLGQsYyl9fWZ1bmN0aW9uIExhKGEsYixkLGMsZSxmKXt2YXIgZz1xYyhhKSxoPXFjKGIpO2lmKFwic3RyaW5nXCI9PT1oJiZcIiFcIj09PWIuY2hhckF0KDApKXJldHVybiFMYShhLGIuc3Vic3RyaW5nKDEpLGQsYyxlKTtpZihLKGEpKXJldHVybiBhLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIExhKGEsYixkLGMsZSl9KTtzd2l0Y2goZyl7Y2FzZSBcIm9iamVjdFwiOnZhciBrO2lmKGUpe2ZvcihrIGluIGEpaWYoXCIkXCIhPT1rLmNoYXJBdCgwKSYmTGEoYVtrXSxiLGQsYywhMCkpcmV0dXJuITA7cmV0dXJuIGY/ITE6TGEoYSxiLGQsYywhMSl9aWYoXCJvYmplY3RcIj09PWgpe2ZvcihrIGluIGIpaWYoZj1iW2tdLCFGKGYpJiYheihmKSYmKGc9az09PWMsIUxhKGc/YTphW2tdLGYsZCxjLGcsZykpKXJldHVybiExO3JldHVybiEwfXJldHVybiBkKGEsYik7Y2FzZSBcImZ1bmN0aW9uXCI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gZChhLGIpfX1mdW5jdGlvbiBxYyhhKXtyZXR1cm4gbnVsbD09PVxuYT9cIm51bGxcIjp0eXBlb2YgYX1mdW5jdGlvbiBQZChhKXt2YXIgYj1hLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihhLGMsZSl7eihjKSYmKGM9Yi5DVVJSRU5DWV9TWU0pO3ooZSkmJihlPWIuUEFUVEVSTlNbMV0ubWF4RnJhYyk7cmV0dXJuIG51bGw9PWE/YTpUZChhLGIuUEFUVEVSTlNbMV0sYi5HUk9VUF9TRVAsYi5ERUNJTUFMX1NFUCxlKS5yZXBsYWNlKC9cXHUwMEE0L2csYyl9fWZ1bmN0aW9uIFJkKGEpe3ZhciBiPWEuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7cmV0dXJuIG51bGw9PWE/YTpUZChhLGIuUEFUVEVSTlNbMF0sYi5HUk9VUF9TRVAsYi5ERUNJTUFMX1NFUCxjKX19ZnVuY3Rpb24gUGcoYSl7dmFyIGI9MCxkLGMsZSxmLGc7LTE8KGM9YS5pbmRleE9mKFVkKSkmJihhPWEucmVwbGFjZShVZCxcIlwiKSk7MDwoZT1hLnNlYXJjaCgvZS9pKSk/KDA+YyYmKGM9ZSksYys9K2Euc2xpY2UoZSsxKSxhPWEuc3Vic3RyaW5nKDAsZSkpOjA+YyYmKGM9XG5hLmxlbmd0aCk7Zm9yKGU9MDthLmNoYXJBdChlKT09PXJjO2UrKyk7aWYoZT09PShnPWEubGVuZ3RoKSlkPVswXSxjPTE7ZWxzZXtmb3IoZy0tO2EuY2hhckF0KGcpPT09cmM7KWctLTtjLT1lO2Q9W107Zm9yKGY9MDtlPD1nO2UrKyxmKyspZFtmXT0rYS5jaGFyQXQoZSl9Yz5WZCYmKGQ9ZC5zcGxpY2UoMCxWZC0xKSxiPWMtMSxjPTEpO3JldHVybntkOmQsZTpiLGk6Y319ZnVuY3Rpb24gUWcoYSxiLGQsYyl7dmFyIGU9YS5kLGY9ZS5sZW5ndGgtYS5pO2I9eihiKT9NYXRoLm1pbihNYXRoLm1heChkLGYpLGMpOitiO2Q9YithLmk7Yz1lW2RdO2lmKDA8ZCl7ZS5zcGxpY2UoTWF0aC5tYXgoYS5pLGQpKTtmb3IodmFyIGc9ZDtnPGUubGVuZ3RoO2crKyllW2ddPTB9ZWxzZSBmb3IoZj1NYXRoLm1heCgwLGYpLGEuaT0xLGUubGVuZ3RoPU1hdGgubWF4KDEsZD1iKzEpLGVbMF09MCxnPTE7ZzxkO2crKyllW2ddPTA7aWYoNTw9YylpZigwPmQtMSl7Zm9yKGM9MDtjPmQ7Yy0tKWUudW5zaGlmdCgwKSxcbmEuaSsrO2UudW5zaGlmdCgxKTthLmkrK31lbHNlIGVbZC0xXSsrO2Zvcig7ZjxNYXRoLm1heCgwLGIpO2YrKyllLnB1c2goMCk7aWYoYj1lLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGEsYixjLGQpe2IrPWE7ZFtjXT1iJTEwO3JldHVybiBNYXRoLmZsb29yKGIvMTApfSwwKSllLnVuc2hpZnQoYiksYS5pKyt9ZnVuY3Rpb24gVGQoYSxiLGQsYyxlKXtpZighSChhKSYmIVooYSl8fGlzTmFOKGEpKXJldHVyblwiXCI7dmFyIGY9IWlzRmluaXRlKGEpLGc9ITEsaD1NYXRoLmFicyhhKStcIlwiLGs9XCJcIjtpZihmKWs9XCJcXHUyMjFlXCI7ZWxzZXtnPVBnKGgpO1FnKGcsZSxiLm1pbkZyYWMsYi5tYXhGcmFjKTtrPWcuZDtoPWcuaTtlPWcuZTtmPVtdO2ZvcihnPWsucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJiFifSwhMCk7MD5oOylrLnVuc2hpZnQoMCksaCsrOzA8aD9mPWsuc3BsaWNlKGgsay5sZW5ndGgpOihmPWssaz1bMF0pO2g9W107Zm9yKGsubGVuZ3RoPj1iLmxnU2l6ZSYmaC51bnNoaWZ0KGsuc3BsaWNlKC1iLmxnU2l6ZSxcbmsubGVuZ3RoKS5qb2luKFwiXCIpKTtrLmxlbmd0aD5iLmdTaXplOyloLnVuc2hpZnQoay5zcGxpY2UoLWIuZ1NpemUsay5sZW5ndGgpLmpvaW4oXCJcIikpO2subGVuZ3RoJiZoLnVuc2hpZnQoay5qb2luKFwiXCIpKTtrPWguam9pbihkKTtmLmxlbmd0aCYmKGsrPWMrZi5qb2luKFwiXCIpKTtlJiYoays9XCJlK1wiK2UpfXJldHVybiAwPmEmJiFnP2IubmVnUHJlK2srYi5uZWdTdWY6Yi5wb3NQcmUraytiLnBvc1N1Zn1mdW5jdGlvbiBOYihhLGIsZCxjKXt2YXIgZT1cIlwiO2lmKDA+YXx8YyYmMD49YSljP2E9LWErMTooYT0tYSxlPVwiLVwiKTtmb3IoYT1cIlwiK2E7YS5sZW5ndGg8YjspYT1yYythO2QmJihhPWEuc3Vic3RyKGEubGVuZ3RoLWIpKTtyZXR1cm4gZSthfWZ1bmN0aW9uIFkoYSxiLGQsYyxlKXtkPWR8fDA7cmV0dXJuIGZ1bmN0aW9uKGYpe2Y9ZltcImdldFwiK2FdKCk7aWYoMDxkfHxmPi1kKWYrPWQ7MD09PWYmJi0xMj09PWQmJihmPTEyKTtyZXR1cm4gTmIoZixiLGMsZSl9fWZ1bmN0aW9uIG5iKGEsXG5iLGQpe3JldHVybiBmdW5jdGlvbihjLGUpe3ZhciBmPWNbXCJnZXRcIithXSgpLGc9eGIoKGQ/XCJTVEFOREFMT05FXCI6XCJcIikrKGI/XCJTSE9SVFwiOlwiXCIpK2EpO3JldHVybiBlW2ddW2ZdfX1mdW5jdGlvbiBXZChhKXt2YXIgYj0obmV3IERhdGUoYSwwLDEpKS5nZXREYXkoKTtyZXR1cm4gbmV3IERhdGUoYSwwLCg0Pj1iPzU6MTIpLWIpfWZ1bmN0aW9uIFhkKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZD1XZChiLmdldEZ1bGxZZWFyKCkpO2I9K25ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCksYi5nZXREYXRlKCkrKDQtYi5nZXREYXkoKSkpLStkO2I9MStNYXRoLnJvdW5kKGIvNjA0OEU1KTtyZXR1cm4gTmIoYixhKX19ZnVuY3Rpb24gc2MoYSxiKXtyZXR1cm4gMD49YS5nZXRGdWxsWWVhcigpP2IuRVJBU1swXTpiLkVSQVNbMV19ZnVuY3Rpb24gUWQoYSl7ZnVuY3Rpb24gYihhKXt2YXIgYjtpZihiPWEubWF0Y2goZCkpe2E9bmV3IERhdGUoMCk7dmFyIGY9MCxnPTAsXG5oPWJbOF0/YS5zZXRVVENGdWxsWWVhcjphLnNldEZ1bGxZZWFyLGs9Yls4XT9hLnNldFVUQ0hvdXJzOmEuc2V0SG91cnM7Yls5XSYmKGY9YWEoYls5XStiWzEwXSksZz1hYShiWzldK2JbMTFdKSk7aC5jYWxsKGEsYWEoYlsxXSksYWEoYlsyXSktMSxhYShiWzNdKSk7Zj1hYShiWzRdfHwwKS1mO2c9YWEoYls1XXx8MCktZztoPWFhKGJbNl18fDApO2I9TWF0aC5yb3VuZCgxRTMqcGFyc2VGbG9hdChcIjAuXCIrKGJbN118fDApKSk7ay5jYWxsKGEsZixnLGgsYil9cmV0dXJuIGF9dmFyIGQ9L14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87cmV0dXJuIGZ1bmN0aW9uKGMsZCxmKXt2YXIgZz1cIlwiLGg9W10sayxsO2Q9ZHx8XCJtZWRpdW1EYXRlXCI7ZD1hLkRBVEVUSU1FX0ZPUk1BVFNbZF18fGQ7SChjKSYmKGM9UmcudGVzdChjKT9hYShjKTpiKGMpKTtaKGMpJiZcbihjPW5ldyBEYXRlKGMpKTtpZighYmEoYyl8fCFpc0Zpbml0ZShjLmdldFRpbWUoKSkpcmV0dXJuIGM7Zm9yKDtkOykobD1TZy5leGVjKGQpKT8oaD1iYihoLGwsMSksZD1oLnBvcCgpKTooaC5wdXNoKGQpLGQ9bnVsbCk7dmFyIG09Yy5nZXRUaW1lem9uZU9mZnNldCgpO2YmJihtPUZjKGYsbSksYz1WYihjLGYsITApKTtxKGgsZnVuY3Rpb24oYil7az1UZ1tiXTtnKz1rP2soYyxhLkRBVEVUSU1FX0ZPUk1BVFMsbSk6XCInJ1wiPT09Yj9cIidcIjpiLnJlcGxhY2UoLyheJ3wnJCkvZyxcIlwiKS5yZXBsYWNlKC8nJy9nLFwiJ1wiKX0pO3JldHVybiBnfX1mdW5jdGlvbiBLZygpe3JldHVybiBmdW5jdGlvbihhLGIpe3ooYikmJihiPTIpO3JldHVybiBkYihhLGIpfX1mdW5jdGlvbiBMZygpe3JldHVybiBmdW5jdGlvbihhLGIsZCl7Yj1JbmZpbml0eT09PU1hdGguYWJzKE51bWJlcihiKSk/TnVtYmVyKGIpOmFhKGIpO2lmKFgoYikpcmV0dXJuIGE7WihhKSYmKGE9YS50b1N0cmluZygpKTtpZighcmEoYSkpcmV0dXJuIGE7XG5kPSFkfHxpc05hTihkKT8wOmFhKGQpO2Q9MD5kP01hdGgubWF4KDAsYS5sZW5ndGgrZCk6ZDtyZXR1cm4gMDw9Yj90YyhhLGQsZCtiKTowPT09ZD90YyhhLGIsYS5sZW5ndGgpOnRjKGEsTWF0aC5tYXgoMCxkK2IpLGQpfX1mdW5jdGlvbiB0YyhhLGIsZCl7cmV0dXJuIEgoYSk/YS5zbGljZShiLGQpOnRhLmNhbGwoYSxiLGQpfWZ1bmN0aW9uIFNkKGEpe2Z1bmN0aW9uIGIoYil7cmV0dXJuIGIubWFwKGZ1bmN0aW9uKGIpe3ZhciBjPTEsZD1aYTtpZihGKGIpKWQ9YjtlbHNlIGlmKEgoYikpe2lmKFwiK1wiPT09Yi5jaGFyQXQoMCl8fFwiLVwiPT09Yi5jaGFyQXQoMCkpYz1cIi1cIj09PWIuY2hhckF0KDApPy0xOjEsYj1iLnN1YnN0cmluZygxKTtpZihcIlwiIT09YiYmKGQ9YShiKSxkLmNvbnN0YW50KSl2YXIgZT1kKCksZD1mdW5jdGlvbihhKXtyZXR1cm4gYVtlXX19cmV0dXJue2dldDpkLGRlc2NlbmRpbmc6Y319KX1mdW5jdGlvbiBkKGEpe3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJib29sZWFuXCI6Y2FzZSBcInN0cmluZ1wiOnJldHVybiEwO1xuZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPTAsZD1hLnR5cGUsaz1iLnR5cGU7aWYoZD09PWspe3ZhciBrPWEudmFsdWUsbD1iLnZhbHVlO1wic3RyaW5nXCI9PT1kPyhrPWsudG9Mb3dlckNhc2UoKSxsPWwudG9Mb3dlckNhc2UoKSk6XCJvYmplY3RcIj09PWQmJihJKGspJiYoaz1hLmluZGV4KSxJKGwpJiYobD1iLmluZGV4KSk7ayE9PWwmJihjPWs8bD8tMToxKX1lbHNlIGM9ZDxrPy0xOjE7cmV0dXJuIGN9cmV0dXJuIGZ1bmN0aW9uKGEsZixnLGgpe2lmKG51bGw9PWEpcmV0dXJuIGE7aWYoIXJhKGEpKXRocm93IE4oXCJvcmRlckJ5XCIpKFwibm90YXJyYXlcIixhKTtLKGYpfHwoZj1bZl0pOzA9PT1mLmxlbmd0aCYmKGY9W1wiK1wiXSk7dmFyIGs9YihmKSxsPWc/LTE6MSxtPUYoaCk/aDpjO2E9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm57dmFsdWU6YSx0aWVCcmVha2VyOnt2YWx1ZTpiLHR5cGU6XCJudW1iZXJcIixpbmRleDpifSxwcmVkaWNhdGVWYWx1ZXM6ay5tYXAoZnVuY3Rpb24oYyl7dmFyIGU9XG5jLmdldChhKTtjPXR5cGVvZiBlO2lmKG51bGw9PT1lKWM9XCJzdHJpbmdcIixlPVwibnVsbFwiO2Vsc2UgaWYoXCJvYmplY3RcIj09PWMpYTp7aWYoRihlLnZhbHVlT2YpJiYoZT1lLnZhbHVlT2YoKSxkKGUpKSlicmVhayBhO0NjKGUpJiYoZT1lLnRvU3RyaW5nKCksZChlKSl9cmV0dXJue3ZhbHVlOmUsdHlwZTpjLGluZGV4OmJ9fSl9fSk7YS5zb3J0KGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1rLmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1tKGEucHJlZGljYXRlVmFsdWVzW2NdLGIucHJlZGljYXRlVmFsdWVzW2NdKTtpZihlKXJldHVybiBlKmtbY10uZGVzY2VuZGluZypsfXJldHVybiBtKGEudGllQnJlYWtlcixiLnRpZUJyZWFrZXIpKmx9KTtyZXR1cm4gYT1hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZX0pfX1mdW5jdGlvbiBVYShhKXtGKGEpJiYoYT17bGluazphfSk7YS5yZXN0cmljdD1hLnJlc3RyaWN0fHxcIkFDXCI7cmV0dXJuIG1hKGEpfWZ1bmN0aW9uIFlkKGEsYixkLFxuYyxlKXt2YXIgZj10aGlzLGc9W107Zi4kZXJyb3I9e307Zi4kJHN1Y2Nlc3M9e307Zi4kcGVuZGluZz12b2lkIDA7Zi4kbmFtZT1lKGIubmFtZXx8Yi5uZ0Zvcm18fFwiXCIpKGQpO2YuJGRpcnR5PSExO2YuJHByaXN0aW5lPSEwO2YuJHZhbGlkPSEwO2YuJGludmFsaWQ9ITE7Zi4kc3VibWl0dGVkPSExO2YuJCRwYXJlbnRGb3JtPU9iO2YuJHJvbGxiYWNrVmlld1ZhbHVlPWZ1bmN0aW9uKCl7cShnLGZ1bmN0aW9uKGEpe2EuJHJvbGxiYWNrVmlld1ZhbHVlKCl9KX07Zi4kY29tbWl0Vmlld1ZhbHVlPWZ1bmN0aW9uKCl7cShnLGZ1bmN0aW9uKGEpe2EuJGNvbW1pdFZpZXdWYWx1ZSgpfSl9O2YuJGFkZENvbnRyb2w9ZnVuY3Rpb24oYSl7UWEoYS4kbmFtZSxcImlucHV0XCIpO2cucHVzaChhKTthLiRuYW1lJiYoZlthLiRuYW1lXT1hKTthLiQkcGFyZW50Rm9ybT1mfTtmLiQkcmVuYW1lQ29udHJvbD1mdW5jdGlvbihhLGIpe3ZhciBjPWEuJG5hbWU7ZltjXT09PWEmJmRlbGV0ZSBmW2NdO2ZbYl09XG5hO2EuJG5hbWU9Yn07Zi4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihhKXthLiRuYW1lJiZmW2EuJG5hbWVdPT09YSYmZGVsZXRlIGZbYS4kbmFtZV07cShmLiRwZW5kaW5nLGZ1bmN0aW9uKGIsYyl7Zi4kc2V0VmFsaWRpdHkoYyxudWxsLGEpfSk7cShmLiRlcnJvcixmdW5jdGlvbihiLGMpe2YuJHNldFZhbGlkaXR5KGMsbnVsbCxhKX0pO3EoZi4kJHN1Y2Nlc3MsZnVuY3Rpb24oYixjKXtmLiRzZXRWYWxpZGl0eShjLG51bGwsYSl9KTthYihnLGEpO2EuJCRwYXJlbnRGb3JtPU9ifTtaZCh7Y3RybDp0aGlzLCRlbGVtZW50OmEsc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hW2JdO2Q/LTE9PT1kLmluZGV4T2YoYykmJmQucHVzaChjKTphW2JdPVtjXX0sdW5zZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWFbYl07ZCYmKGFiKGQsYyksMD09PWQubGVuZ3RoJiZkZWxldGUgYVtiXSl9LCRhbmltYXRlOmN9KTtmLiRzZXREaXJ0eT1mdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoYSxWYSk7Yy5hZGRDbGFzcyhhLFxuUGIpO2YuJGRpcnR5PSEwO2YuJHByaXN0aW5lPSExO2YuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfTtmLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpe2Muc2V0Q2xhc3MoYSxWYSxQYitcIiBuZy1zdWJtaXR0ZWRcIik7Zi4kZGlydHk9ITE7Zi4kcHJpc3RpbmU9ITA7Zi4kc3VibWl0dGVkPSExO3EoZyxmdW5jdGlvbihhKXthLiRzZXRQcmlzdGluZSgpfSl9O2YuJHNldFVudG91Y2hlZD1mdW5jdGlvbigpe3EoZyxmdW5jdGlvbihhKXthLiRzZXRVbnRvdWNoZWQoKX0pfTtmLiRzZXRTdWJtaXR0ZWQ9ZnVuY3Rpb24oKXtjLmFkZENsYXNzKGEsXCJuZy1zdWJtaXR0ZWRcIik7Zi4kc3VibWl0dGVkPSEwO2YuJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKX19ZnVuY3Rpb24gdWMoYSl7YS4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGIpe3JldHVybiBhLiRpc0VtcHR5KGIpP2I6Yi50b1N0cmluZygpfSl9ZnVuY3Rpb24gV2EoYSxiLGQsYyxlLGYpe3ZhciBnPVAoYlswXS50eXBlKTtpZighZS5hbmRyb2lkKXt2YXIgaD1cbiExO2Iub24oXCJjb21wb3NpdGlvbnN0YXJ0XCIsZnVuY3Rpb24oKXtoPSEwfSk7Yi5vbihcImNvbXBvc2l0aW9uZW5kXCIsZnVuY3Rpb24oKXtoPSExO2woKX0pfXZhciBrLGw9ZnVuY3Rpb24oYSl7ayYmKGYuZGVmZXIuY2FuY2VsKGspLGs9bnVsbCk7aWYoIWgpe3ZhciBlPWIudmFsKCk7YT1hJiZhLnR5cGU7XCJwYXNzd29yZFwiPT09Z3x8ZC5uZ1RyaW0mJlwiZmFsc2VcIj09PWQubmdUcmltfHwoZT1VKGUpKTsoYy4kdmlld1ZhbHVlIT09ZXx8XCJcIj09PWUmJmMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSYmYy4kc2V0Vmlld1ZhbHVlKGUsYSl9fTtpZihlLmhhc0V2ZW50KFwiaW5wdXRcIikpYi5vbihcImlucHV0XCIsbCk7ZWxzZXt2YXIgbT1mdW5jdGlvbihhLGIsYyl7a3x8KGs9Zi5kZWZlcihmdW5jdGlvbigpe2s9bnVsbDtiJiZiLnZhbHVlPT09Y3x8bChhKX0pKX07Yi5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmtleUNvZGU7OTE9PT1ifHwxNTxiJiYxOT5ifHwzNzw9YiYmNDA+PWJ8fFxubShhLHRoaXMsdGhpcy52YWx1ZSl9KTtpZihlLmhhc0V2ZW50KFwicGFzdGVcIikpYi5vbihcInBhc3RlIGN1dFwiLG0pfWIub24oXCJjaGFuZ2VcIixsKTtpZigkZFtnXSYmYy4kJGhhc05hdGl2ZVZhbGlkYXRvcnMmJmc9PT1kLnR5cGUpYi5vbihcImtleWRvd24gd2hlZWwgbW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7aWYoIWspe3ZhciBiPXRoaXMudmFsaWRpdHksYz1iLmJhZElucHV0LGQ9Yi50eXBlTWlzbWF0Y2g7az1mLmRlZmVyKGZ1bmN0aW9uKCl7az1udWxsO2IuYmFkSW5wdXQ9PT1jJiZiLnR5cGVNaXNtYXRjaD09PWR8fGwoYSl9KX19KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYT1jLiRpc0VtcHR5KGMuJHZpZXdWYWx1ZSk/XCJcIjpjLiR2aWV3VmFsdWU7Yi52YWwoKSE9PWEmJmIudmFsKGEpfX1mdW5jdGlvbiBRYihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMpe3ZhciBlLGY7aWYoYmEoZCkpcmV0dXJuIGQ7aWYoSChkKSl7J1wiJz09PWQuY2hhckF0KDApJiYnXCInPT09ZC5jaGFyQXQoZC5sZW5ndGgtXG4xKSYmKGQ9ZC5zdWJzdHJpbmcoMSxkLmxlbmd0aC0xKSk7aWYoVWcudGVzdChkKSlyZXR1cm4gbmV3IERhdGUoZCk7YS5sYXN0SW5kZXg9MDtpZihlPWEuZXhlYyhkKSlyZXR1cm4gZS5zaGlmdCgpLGY9Yz97eXl5eTpjLmdldEZ1bGxZZWFyKCksTU06Yy5nZXRNb250aCgpKzEsZGQ6Yy5nZXREYXRlKCksSEg6Yy5nZXRIb3VycygpLG1tOmMuZ2V0TWludXRlcygpLHNzOmMuZ2V0U2Vjb25kcygpLHNzczpjLmdldE1pbGxpc2Vjb25kcygpLzFFM306e3l5eXk6MTk3MCxNTToxLGRkOjEsSEg6MCxtbTowLHNzOjAsc3NzOjB9LHEoZSxmdW5jdGlvbihhLGMpe2M8Yi5sZW5ndGgmJihmW2JbY11dPSthKX0pLG5ldyBEYXRlKGYueXl5eSxmLk1NLTEsZi5kZCxmLkhILGYubW0sZi5zc3x8MCwxRTMqZi5zc3N8fDApfXJldHVybiBOYU59fWZ1bmN0aW9uIG9iKGEsYixkLGMpe3JldHVybiBmdW5jdGlvbihlLGYsZyxoLGssbCxtKXtmdW5jdGlvbiBuKGEpe3JldHVybiBhJiYhKGEuZ2V0VGltZSYmXG5hLmdldFRpbWUoKSE9PWEuZ2V0VGltZSgpKX1mdW5jdGlvbiBwKGEpe3JldHVybiB1KGEpJiYhYmEoYSk/ZChhKXx8dm9pZCAwOmF9dmMoZSxmLGcsaCk7V2EoZSxmLGcsaCxrLGwpO3ZhciB4PWgmJmguJG9wdGlvbnMmJmguJG9wdGlvbnMudGltZXpvbmUscTtoLiQkcGFyc2VyTmFtZT1hO2guJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXtpZihoLiRpc0VtcHR5KGEpKXJldHVybiBudWxsO2lmKGIudGVzdChhKSlyZXR1cm4gYT1kKGEscSkseCYmKGE9VmIoYSx4KSksYX0pO2guJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtpZihhJiYhYmEoYSkpdGhyb3cgcGIoXCJkYXRlZm10XCIsYSk7aWYobihhKSlyZXR1cm4ocT1hKSYmeCYmKHE9VmIocSx4LCEwKSksbShcImRhdGVcIikoYSxjLHgpO3E9bnVsbDtyZXR1cm5cIlwifSk7aWYodShnLm1pbil8fGcubmdNaW4pe3ZhciB0O2guJHZhbGlkYXRvcnMubWluPWZ1bmN0aW9uKGEpe3JldHVybiFuKGEpfHx6KHQpfHxkKGEpPj10fTtnLiRvYnNlcnZlKFwibWluXCIsXG5mdW5jdGlvbihhKXt0PXAoYSk7aC4kdmFsaWRhdGUoKX0pfWlmKHUoZy5tYXgpfHxnLm5nTWF4KXt2YXIgcztoLiR2YWxpZGF0b3JzLm1heD1mdW5jdGlvbihhKXtyZXR1cm4hbihhKXx8eihzKXx8ZChhKTw9c307Zy4kb2JzZXJ2ZShcIm1heFwiLGZ1bmN0aW9uKGEpe3M9cChhKTtoLiR2YWxpZGF0ZSgpfSl9fX1mdW5jdGlvbiB2YyhhLGIsZCxjKXsoYy4kJGhhc05hdGl2ZVZhbGlkYXRvcnM9SShiWzBdLnZhbGlkaXR5KSkmJmMuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXt2YXIgYz1iLnByb3AoXCJ2YWxpZGl0eVwiKXx8e307cmV0dXJuIGMuYmFkSW5wdXR8fGMudHlwZU1pc21hdGNoP3ZvaWQgMDphfSl9ZnVuY3Rpb24gYWUoYSl7YS4kJHBhcnNlck5hbWU9XCJudW1iZXJcIjthLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYil7aWYoYS4kaXNFbXB0eShiKSlyZXR1cm4gbnVsbDtpZihWZy50ZXN0KGIpKXJldHVybiBwYXJzZUZsb2F0KGIpfSk7YS4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGIpe2lmKCFhLiRpc0VtcHR5KGIpKXtpZighWihiKSl0aHJvdyBwYihcIm51bWZtdFwiLFxuYik7Yj1iLnRvU3RyaW5nKCl9cmV0dXJuIGJ9KX1mdW5jdGlvbiBxYihhKXt1KGEpJiYhWihhKSYmKGE9cGFyc2VGbG9hdChhKSk7cmV0dXJuIFgoYSk/dm9pZCAwOmF9ZnVuY3Rpb24gd2MoYSl7dmFyIGI9YS50b1N0cmluZygpLGQ9Yi5pbmRleE9mKFwiLlwiKTtyZXR1cm4tMT09PWQ/LTE8YSYmMT5hJiYoYT0vZS0oXFxkKykkLy5leGVjKGIpKT9OdW1iZXIoYVsxXSk6MDpiLmxlbmd0aC1kLTF9ZnVuY3Rpb24gYmUoYSxiLGQsYyxlKXtpZih1KGMpKXthPWEoYyk7aWYoIWEuY29uc3RhbnQpdGhyb3cgcGIoXCJjb25zdGV4cHJcIixkLGMpO3JldHVybiBhKGIpfXJldHVybiBlfWZ1bmN0aW9uIHhjKGEsYil7YT1cIm5nQ2xhc3NcIithO3JldHVybltcIiRhbmltYXRlXCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPVtdLGQ9MDthOmZvcig7ZDxhLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1hW2RdLG09MDttPGIubGVuZ3RoO20rKylpZihlPT09YlttXSljb250aW51ZSBhO2MucHVzaChlKX1yZXR1cm4gY31cbmZ1bmN0aW9uIGUoYSl7dmFyIGI9W107cmV0dXJuIEsoYSk/KHEoYSxmdW5jdGlvbihhKXtiPWIuY29uY2F0KGUoYSkpfSksYik6SChhKT9hLnNwbGl0KFwiIFwiKTpJKGEpPyhxKGEsZnVuY3Rpb24oYSxjKXthJiYoYj1iLmNvbmNhdChjLnNwbGl0KFwiIFwiKSkpfSksYik6YX1yZXR1cm57cmVzdHJpY3Q6XCJBQ1wiLGxpbms6ZnVuY3Rpb24oZixnLGgpe2Z1bmN0aW9uIGsoYSl7YT1sKGEsMSk7aC4kYWRkQ2xhc3MoYSl9ZnVuY3Rpb24gbChhLGIpe3ZhciBjPWcuZGF0YShcIiRjbGFzc0NvdW50c1wiKXx8UygpLGQ9W107cShhLGZ1bmN0aW9uKGEpe2lmKDA8Ynx8Y1thXSljW2FdPShjW2FdfHwwKStiLGNbYV09PT0rKDA8YikmJmQucHVzaChhKX0pO2cuZGF0YShcIiRjbGFzc0NvdW50c1wiLGMpO3JldHVybiBkLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIG0oYSxiKXt2YXIgZT1jKGIsYSksZj1jKGEsYiksZT1sKGUsMSksZj1sKGYsLTEpO2UmJmUubGVuZ3RoJiZkLmFkZENsYXNzKGcsZSk7ZiYmZi5sZW5ndGgmJlxuZC5yZW1vdmVDbGFzcyhnLGYpfWZ1bmN0aW9uIG4oYSl7aWYoITA9PT1ifHwoZi4kaW5kZXgmMSk9PT1iKXt2YXIgYz1lKGF8fFtdKTtpZighcClrKGMpO2Vsc2UgaWYoIW9hKGEscCkpe3ZhciBkPWUocCk7bShkLGMpfX1wPUsoYSk/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGlhKGEpfSk6aWEoYSl9dmFyIHA7Zi4kd2F0Y2goaFthXSxuLCEwKTtoLiRvYnNlcnZlKFwiY2xhc3NcIixmdW5jdGlvbihiKXtuKGYuJGV2YWwoaFthXSkpfSk7XCJuZ0NsYXNzXCIhPT1hJiZmLiR3YXRjaChcIiRpbmRleFwiLGZ1bmN0aW9uKGMsZCl7dmFyIGc9YyYxO2lmKGchPT0oZCYxKSl7dmFyIG09ZShmLiRldmFsKGhbYV0pKTtnPT09Yj9rKG0pOihnPWwobSwtMSksaC4kcmVtb3ZlQ2xhc3MoZykpfX0pfX19XX1mdW5jdGlvbiBaZChhKXtmdW5jdGlvbiBiKGEsYil7YiYmIWZbYV0/KGsuYWRkQ2xhc3MoZSxhKSxmW2FdPSEwKTohYiYmZlthXSYmKGsucmVtb3ZlQ2xhc3MoZSxhKSxmW2FdPSExKX1mdW5jdGlvbiBkKGEsXG5jKXthPWE/XCItXCIrSmMoYSxcIi1cIik6XCJcIjtiKHJiK2EsITA9PT1jKTtiKGNlK2EsITE9PT1jKX12YXIgYz1hLmN0cmwsZT1hLiRlbGVtZW50LGY9e30sZz1hLnNldCxoPWEudW5zZXQsaz1hLiRhbmltYXRlO2ZbY2VdPSEoZltyYl09ZS5oYXNDbGFzcyhyYikpO2MuJHNldFZhbGlkaXR5PWZ1bmN0aW9uKGEsZSxmKXt6KGUpPyhjLiRwZW5kaW5nfHwoYy4kcGVuZGluZz17fSksZyhjLiRwZW5kaW5nLGEsZikpOihjLiRwZW5kaW5nJiZoKGMuJHBlbmRpbmcsYSxmKSxkZShjLiRwZW5kaW5nKSYmKGMuJHBlbmRpbmc9dm9pZCAwKSk7SWEoZSk/ZT8oaChjLiRlcnJvcixhLGYpLGcoYy4kJHN1Y2Nlc3MsYSxmKSk6KGcoYy4kZXJyb3IsYSxmKSxoKGMuJCRzdWNjZXNzLGEsZikpOihoKGMuJGVycm9yLGEsZiksaChjLiQkc3VjY2VzcyxhLGYpKTtjLiRwZW5kaW5nPyhiKGVlLCEwKSxjLiR2YWxpZD1jLiRpbnZhbGlkPXZvaWQgMCxkKFwiXCIsbnVsbCkpOihiKGVlLCExKSxjLiR2YWxpZD1kZShjLiRlcnJvciksXG5jLiRpbnZhbGlkPSFjLiR2YWxpZCxkKFwiXCIsYy4kdmFsaWQpKTtlPWMuJHBlbmRpbmcmJmMuJHBlbmRpbmdbYV0/dm9pZCAwOmMuJGVycm9yW2FdPyExOmMuJCRzdWNjZXNzW2FdPyEwOm51bGw7ZChhLGUpO2MuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eShhLGUsYyl9fWZ1bmN0aW9uIGRlKGEpe2lmKGEpZm9yKHZhciBiIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShiKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgV2c9L15cXC8oLispXFwvKFthLXpdKikkLyxzYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFA9ZnVuY3Rpb24oYSl7cmV0dXJuIEgoYSk/YS50b0xvd2VyQ2FzZSgpOmF9LHhiPWZ1bmN0aW9uKGEpe3JldHVybiBIKGEpP2EudG9VcHBlckNhc2UoKTphfSxGYSxFLHhhLHRhPVtdLnNsaWNlLHBnPVtdLnNwbGljZSxYZz1bXS5wdXNoLG5hPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsRGM9T2JqZWN0LmdldFByb3RvdHlwZU9mLHZhPU4oXCJuZ1wiKSxnYT1CLmFuZ3VsYXJ8fFxuKEIuYW5ndWxhcj17fSksWGIsc2I9MDtGYT1CLmRvY3VtZW50LmRvY3VtZW50TW9kZTt2YXIgWD1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGEpe3JldHVybiBhIT09YX07Qy4kaW5qZWN0PVtdO1phLiRpbmplY3Q9W107dmFyIEs9QXJyYXkuaXNBcnJheSxwZT0vXlxcW29iamVjdCAoPzpVaW50OHxVaW50OENsYW1wZWR8VWludDE2fFVpbnQzMnxJbnQ4fEludDE2fEludDMyfEZsb2F0MzJ8RmxvYXQ2NClBcnJheVxcXSQvLFU9ZnVuY3Rpb24oYSl7cmV0dXJuIEgoYSk/YS50cmltKCk6YX0sTGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKFstKClcXFtcXF17fSs/Ki4kXFxefCw6IzwhXFxcXF0pL2csXCJcXFxcJDFcIikucmVwbGFjZSgvXFx4MDgvZyxcIlxcXFx4MDhcIil9LHlhPWZ1bmN0aW9uKCl7aWYoIXUoeWEucnVsZXMpKXt2YXIgYT1CLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmctY3NwXVwiKXx8Qi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtbmctY3NwXVwiKTtpZihhKXt2YXIgYj1cbmEuZ2V0QXR0cmlidXRlKFwibmctY3NwXCIpfHxhLmdldEF0dHJpYnV0ZShcImRhdGEtbmctY3NwXCIpO3lhLnJ1bGVzPXtub1Vuc2FmZUV2YWw6IWJ8fC0xIT09Yi5pbmRleE9mKFwibm8tdW5zYWZlLWV2YWxcIiksbm9JbmxpbmVTdHlsZTohYnx8LTEhPT1iLmluZGV4T2YoXCJuby1pbmxpbmUtc3R5bGVcIil9fWVsc2V7YT15YTt0cnl7bmV3IEZ1bmN0aW9uKFwiXCIpLGI9ITF9Y2F0Y2goZCl7Yj0hMH1hLnJ1bGVzPXtub1Vuc2FmZUV2YWw6Yixub0lubGluZVN0eWxlOiExfX19cmV0dXJuIHlhLnJ1bGVzfSx1Yj1mdW5jdGlvbigpe2lmKHUodWIubmFtZV8pKXJldHVybiB1Yi5uYW1lXzt2YXIgYSxiLGQ9TmEubGVuZ3RoLGMsZTtmb3IoYj0wO2I8ZDsrK2IpaWYoYz1OYVtiXSxhPUIuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltcIitjLnJlcGxhY2UoXCI6XCIsXCJcXFxcOlwiKStcImpxXVwiKSl7ZT1hLmdldEF0dHJpYnV0ZShjK1wianFcIik7YnJlYWt9cmV0dXJuIHViLm5hbWVfPWV9LHNlPS86L2csTmE9W1wibmctXCIsXG5cImRhdGEtbmctXCIsXCJuZzpcIixcIngtbmctXCJdLHZlPWZ1bmN0aW9uKGEpe2lmKCFhLmN1cnJlbnRTY3JpcHQpcmV0dXJuITA7dmFyIGI9YS5jdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZShcInNyY1wiKSxkPWEuY3JlYXRlRWxlbWVudChcImFcIik7ZC5ocmVmPWI7Yj1kLnByb3RvY29sO2lmKGEubG9jYXRpb24ucHJvdG9jb2w9PT1iKXJldHVybiEwO3N3aXRjaChiKXtjYXNlIFwiaHR0cDpcIjpjYXNlIFwiaHR0cHM6XCI6Y2FzZSBcImZ0cDpcIjpjYXNlIFwiYmxvYjpcIjpjYXNlIFwiZmlsZTpcIjpjYXNlIFwiZGF0YTpcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0oQi5kb2N1bWVudCkseWU9L1tBLVpdL2csS2M9ITEsTWE9MyxDZT17ZnVsbDpcIjEuNS45XCIsbWFqb3I6MSxtaW5vcjo1LGRvdDo5LGNvZGVOYW1lOlwidGltZXR1cm5pbmctbG9ja2Rvd25cIn07VC5leHBhbmRvPVwibmczMzlcIjt2YXIgaGI9VC5jYWNoZT17fSxkZz0xO1QuX2RhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2FjaGVbYVt0aGlzLmV4cGFuZG9dXXx8XG57fX07dmFyIFpmPS8oWzpcXC1fXSsoLikpL2csJGY9L15tb3ooW0EtWl0pLyxCYj17bW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIsbW91c2VlbnRlcjpcIm1vdXNlb3ZlclwifSxaYj1OKFwianFMaXRlXCIpLGNnPS9ePChbXFx3LV0rKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyxZYj0vPHwmIz9cXHcrOy8sYWc9LzwoW1xcdzotXSspLyxiZz0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLGphPXtvcHRpb246WzEsJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcblwiXCJdfTtqYS5vcHRncm91cD1qYS5vcHRpb247amEudGJvZHk9amEudGZvb3Q9amEuY29sZ3JvdXA9amEuY2FwdGlvbj1qYS50aGVhZDtqYS50aD1qYS50ZDt2YXIgaWc9Qi5Ob2RlLnByb3RvdHlwZS5jb250YWluc3x8ZnVuY3Rpb24oYSl7cmV0dXJuISEodGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKSYxNil9LE9hPVQucHJvdG90eXBlPXtyZWFkeTpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZHx8KGQ9ITAsYSgpKX12YXIgZD0hMTtcImNvbXBsZXRlXCI9PT1CLmRvY3VtZW50LnJlYWR5U3RhdGU/Qi5zZXRUaW1lb3V0KGIpOih0aGlzLm9uKFwiRE9NQ29udGVudExvYWRlZFwiLGIpLFQoQikub24oXCJsb2FkXCIsYikpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPVtdO3EodGhpcyxmdW5jdGlvbihiKXthLnB1c2goXCJcIitiKX0pO3JldHVyblwiW1wiK2Euam9pbihcIiwgXCIpK1wiXVwifSxlcTpmdW5jdGlvbihhKXtyZXR1cm4gMDw9YT9FKHRoaXNbYV0pOkUodGhpc1t0aGlzLmxlbmd0aCtcbmFdKX0sbGVuZ3RoOjAscHVzaDpYZyxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sSGI9e307cShcIm11bHRpcGxlIHNlbGVjdGVkIGNoZWNrZWQgZGlzYWJsZWQgcmVhZE9ubHkgcmVxdWlyZWQgb3BlblwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtIYltQKGEpXT1hfSk7dmFyIGJkPXt9O3EoXCJpbnB1dCBzZWxlY3Qgb3B0aW9uIHRleHRhcmVhIGJ1dHRvbiBmb3JtIGRldGFpbHNcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7YmRbYV09ITB9KTt2YXIgamQ9e25nTWlubGVuZ3RoOlwibWlubGVuZ3RoXCIsbmdNYXhsZW5ndGg6XCJtYXhsZW5ndGhcIixuZ01pbjpcIm1pblwiLG5nTWF4OlwibWF4XCIsbmdQYXR0ZXJuOlwicGF0dGVyblwifTtxKHtkYXRhOmFjLHJlbW92ZURhdGE6Z2IsaGFzRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gaGJbYS5uZzMzOV0pcmV0dXJuITA7cmV0dXJuITF9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxkPWEubGVuZ3RoO2I8ZDtiKyspZ2IoYVtiXSl9fSxcbmZ1bmN0aW9uKGEsYil7VFtiXT1hfSk7cSh7ZGF0YTphYyxpbmhlcml0ZWREYXRhOkZiLHNjb3BlOmZ1bmN0aW9uKGEpe3JldHVybiBFLmRhdGEoYSxcIiRzY29wZVwiKXx8RmIoYS5wYXJlbnROb2RlfHxhLFtcIiRpc29sYXRlU2NvcGVcIixcIiRzY29wZVwiXSl9LGlzb2xhdGVTY29wZTpmdW5jdGlvbihhKXtyZXR1cm4gRS5kYXRhKGEsXCIkaXNvbGF0ZVNjb3BlXCIpfHxFLmRhdGEoYSxcIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlXCIpfSxjb250cm9sbGVyOlpjLGluamVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBGYihhLFwiJGluamVjdG9yXCIpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7YS5yZW1vdmVBdHRyaWJ1dGUoYil9LGhhc0NsYXNzOkNiLGNzczpmdW5jdGlvbihhLGIsZCl7Yj1mYihiKTtpZih1KGQpKWEuc3R5bGVbYl09ZDtlbHNlIHJldHVybiBhLnN0eWxlW2JdfSxhdHRyOmZ1bmN0aW9uKGEsYixkKXt2YXIgYz1hLm5vZGVUeXBlO2lmKGMhPT1NYSYmMiE9PWMmJjghPT1jKWlmKGM9UChiKSxcbkhiW2NdKWlmKHUoZCkpZD8oYVtiXT0hMCxhLnNldEF0dHJpYnV0ZShiLGMpKTooYVtiXT0hMSxhLnJlbW92ZUF0dHJpYnV0ZShjKSk7ZWxzZSByZXR1cm4gYVtiXXx8KGEuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oYil8fEMpLnNwZWNpZmllZD9jOnZvaWQgMDtlbHNlIGlmKHUoZCkpYS5zZXRBdHRyaWJ1dGUoYixkKTtlbHNlIGlmKGEuZ2V0QXR0cmlidXRlKXJldHVybiBhPWEuZ2V0QXR0cmlidXRlKGIsMiksbnVsbD09PWE/dm9pZCAwOmF9LHByb3A6ZnVuY3Rpb24oYSxiLGQpe2lmKHUoZCkpYVtiXT1kO2Vsc2UgcmV0dXJuIGFbYl19LHRleHQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7aWYoeihkKSl7dmFyIGM9YS5ub2RlVHlwZTtyZXR1cm4gMT09PWN8fGM9PT1NYT9hLnRleHRDb250ZW50OlwiXCJ9YS50ZXh0Q29udGVudD1kfWEuJGR2PVwiXCI7cmV0dXJuIGF9KCksdmFsOmZ1bmN0aW9uKGEsYil7aWYoeihiKSl7aWYoYS5tdWx0aXBsZSYmXCJzZWxlY3RcIj09PXVhKGEpKXt2YXIgZD1cbltdO3EoYS5vcHRpb25zLGZ1bmN0aW9uKGEpe2Euc2VsZWN0ZWQmJmQucHVzaChhLnZhbHVlfHxhLnRleHQpfSk7cmV0dXJuIDA9PT1kLmxlbmd0aD9udWxsOmR9cmV0dXJuIGEudmFsdWV9YS52YWx1ZT1ifSxodG1sOmZ1bmN0aW9uKGEsYil7aWYoeihiKSlyZXR1cm4gYS5pbm5lckhUTUw7emIoYSwhMCk7YS5pbm5lckhUTUw9Yn0sZW1wdHk6JGN9LGZ1bmN0aW9uKGEsYil7VC5wcm90b3R5cGVbYl09ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGc9dGhpcy5sZW5ndGg7aWYoYSE9PSRjJiZ6KDI9PT1hLmxlbmd0aCYmYSE9PUNiJiZhIT09WmM/YjpjKSl7aWYoSShiKSl7Zm9yKGU9MDtlPGc7ZSsrKWlmKGE9PT1hYylhKHRoaXNbZV0sYik7ZWxzZSBmb3IoZiBpbiBiKWEodGhpc1tlXSxmLGJbZl0pO3JldHVybiB0aGlzfWU9YS4kZHY7Zz16KGUpP01hdGgubWluKGcsMSk6Zztmb3IoZj0wO2Y8ZztmKyspe3ZhciBoPWEodGhpc1tmXSxiLGMpO2U9ZT9lK2g6aH1yZXR1cm4gZX1mb3IoZT0wO2U8XG5nO2UrKylhKHRoaXNbZV0sYixjKTtyZXR1cm4gdGhpc319KTtxKHtyZW1vdmVEYXRhOmdiLG9uOmZ1bmN0aW9uKGEsYixkLGMpe2lmKHUoYykpdGhyb3cgWmIoXCJvbmFyZ3NcIik7aWYoVWMoYSkpe2M9QWIoYSwhMCk7dmFyIGU9Yy5ldmVudHMsZj1jLmhhbmRsZTtmfHwoZj1jLmhhbmRsZT1mZyhhLGUpKTtjPTA8PWIuaW5kZXhPZihcIiBcIik/Yi5zcGxpdChcIiBcIik6W2JdO2Zvcih2YXIgZz1jLmxlbmd0aCxoPWZ1bmN0aW9uKGIsYyxnKXt2YXIgaD1lW2JdO2h8fChoPWVbYl09W10saC5zcGVjaWFsSGFuZGxlcldyYXBwZXI9YyxcIiRkZXN0cm95XCI9PT1ifHxnfHxhLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSk7aC5wdXNoKGQpfTtnLS07KWI9Y1tnXSxCYltiXT8oaChCYltiXSxoZyksaChiLHZvaWQgMCwhMCkpOmgoYil9fSxvZmY6WWMsb25lOmZ1bmN0aW9uKGEsYixkKXthPUUoYSk7YS5vbihiLGZ1bmN0aW9uIGUoKXthLm9mZihiLGQpO2Eub2ZmKGIsZSl9KTthLm9uKGIsZCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEsXG5iKXt2YXIgZCxjPWEucGFyZW50Tm9kZTt6YihhKTtxKG5ldyBUKGIpLGZ1bmN0aW9uKGIpe2Q/Yy5pbnNlcnRCZWZvcmUoYixkLm5leHRTaWJsaW5nKTpjLnJlcGxhY2VDaGlsZChiLGEpO2Q9Yn0pfSxjaGlsZHJlbjpmdW5jdGlvbihhKXt2YXIgYj1bXTtxKGEuY2hpbGROb2RlcyxmdW5jdGlvbihhKXsxPT09YS5ub2RlVHlwZSYmYi5wdXNoKGEpfSk7cmV0dXJuIGJ9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8YS5jaGlsZE5vZGVzfHxbXX0sYXBwZW5kOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YS5ub2RlVHlwZTtpZigxPT09ZHx8MTE9PT1kKXtiPW5ldyBUKGIpO2Zvcih2YXIgZD0wLGM9Yi5sZW5ndGg7ZDxjO2QrKylhLmFwcGVuZENoaWxkKGJbZF0pfX0scHJlcGVuZDpmdW5jdGlvbihhLGIpe2lmKDE9PT1hLm5vZGVUeXBlKXt2YXIgZD1hLmZpcnN0Q2hpbGQ7cShuZXcgVChiKSxmdW5jdGlvbihiKXthLmluc2VydEJlZm9yZShiLGQpfSl9fSxcbndyYXA6ZnVuY3Rpb24oYSxiKXtXYyhhLEUoYikuZXEoMCkuY2xvbmUoKVswXSl9LHJlbW92ZTpHYixkZXRhY2g6ZnVuY3Rpb24oYSl7R2IoYSwhMCl9LGFmdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YSxjPWEucGFyZW50Tm9kZTtiPW5ldyBUKGIpO2Zvcih2YXIgZT0wLGY9Yi5sZW5ndGg7ZTxmO2UrKyl7dmFyIGc9YltlXTtjLmluc2VydEJlZm9yZShnLGQubmV4dFNpYmxpbmcpO2Q9Z319LGFkZENsYXNzOkViLHJlbW92ZUNsYXNzOkRiLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYixkKXtiJiZxKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe3ZhciBlPWQ7eihlKSYmKGU9IUNiKGEsYikpOyhlP0ViOkRiKShhLGIpfSl9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4oYT1hLnBhcmVudE5vZGUpJiYxMSE9PWEubm9kZVR5cGU/YTpudWxsfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5leHRFbGVtZW50U2libGluZ30sZmluZDpmdW5jdGlvbihhLGIpe3JldHVybiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lP1xuYS5nZXRFbGVtZW50c0J5VGFnTmFtZShiKTpbXX0sY2xvbmU6JGIsdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjLGUsZj1iLnR5cGV8fGIsZz1BYihhKTtpZihnPShnPWcmJmcuZXZlbnRzKSYmZ1tmXSljPXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0saXNEZWZhdWx0UHJldmVudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITA9PT10aGlzLmRlZmF1bHRQcmV2ZW50ZWR9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPSEwfSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR9LHN0b3BQcm9wYWdhdGlvbjpDLHR5cGU6Zix0YXJnZXQ6YX0sYi50eXBlJiYoYz1SKGMsYikpLGI9aWEoZyksZT1kP1tjXS5jb25jYXQoZCk6W2NdLHEoYixmdW5jdGlvbihiKXtjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCl8fFxuYi5hcHBseShhLGUpfSl9fSxmdW5jdGlvbihhLGIpe1QucHJvdG90eXBlW2JdPWZ1bmN0aW9uKGIsYyxlKXtmb3IodmFyIGYsZz0wLGg9dGhpcy5sZW5ndGg7ZzxoO2crKyl6KGYpPyhmPWEodGhpc1tnXSxiLGMsZSksdShmKSYmKGY9RShmKSkpOlhjKGYsYSh0aGlzW2ddLGIsYyxlKSk7cmV0dXJuIHUoZik/Zjp0aGlzfTtULnByb3RvdHlwZS5iaW5kPVQucHJvdG90eXBlLm9uO1QucHJvdG90eXBlLnVuYmluZD1ULnByb3RvdHlwZS5vZmZ9KTtSYS5wcm90b3R5cGU9e3B1dDpmdW5jdGlvbihhLGIpe3RoaXNbemEoYSx0aGlzLm5leHRVaWQpXT1ifSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbemEoYSx0aGlzLm5leHRVaWQpXX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbYT16YShhLHRoaXMubmV4dFVpZCldO2RlbGV0ZSB0aGlzW2FdO3JldHVybiBifX07dmFyIFhmPVtmdW5jdGlvbigpe3RoaXMuJGdldD1bZnVuY3Rpb24oKXtyZXR1cm4gUmF9XX1dLGtnPS9eKFteXFwoXSs/KT0+LyxcbmxnPS9eW15cXChdKlxcKFxccyooW15cXCldKilcXCkvbSxZZz0vLC8sWmc9L15cXHMqKF8/KShcXFMrPylcXDFcXHMqJC8samc9LygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL21nLERhPU4oXCIkaW5qZWN0b3JcIik7ZWIuJCRhbm5vdGF0ZT1mdW5jdGlvbihhLGIsZCl7dmFyIGM7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpe2lmKCEoYz1hLiRpbmplY3QpKXtjPVtdO2lmKGEubGVuZ3RoKXtpZihiKXRocm93IEgoZCkmJmR8fChkPWEubmFtZXx8bWcoYSkpLERhKFwic3RyaWN0ZGlcIixkKTtiPWNkKGEpO3EoYlsxXS5zcGxpdChZZyksZnVuY3Rpb24oYSl7YS5yZXBsYWNlKFpnLGZ1bmN0aW9uKGEsYixkKXtjLnB1c2goZCl9KX0pfWEuJGluamVjdD1jfX1lbHNlIEsoYSk/KGI9YS5sZW5ndGgtMSxQYShhW2JdLFwiZm5cIiksYz1hLnNsaWNlKDAsYikpOlBhKGEsXCJmblwiLCEwKTtyZXR1cm4gY307dmFyIGZlPU4oXCIkYW5pbWF0ZVwiKSxwZj1mdW5jdGlvbigpe3RoaXMuJGdldD1DfSxxZj1mdW5jdGlvbigpe3ZhciBhPVxubmV3IFJhLGI9W107dGhpcy4kZ2V0PVtcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGQsYyl7ZnVuY3Rpb24gZShhLGIsYyl7dmFyIGQ9ITE7YiYmKGI9SChiKT9iLnNwbGl0KFwiIFwiKTpLKGIpP2I6W10scShiLGZ1bmN0aW9uKGIpe2ImJihkPSEwLGFbYl09Yyl9KSk7cmV0dXJuIGR9ZnVuY3Rpb24gZigpe3EoYixmdW5jdGlvbihiKXt2YXIgYz1hLmdldChiKTtpZihjKXt2YXIgZD1uZyhiLmF0dHIoXCJjbGFzc1wiKSksZT1cIlwiLGY9XCJcIjtxKGMsZnVuY3Rpb24oYSxiKXthIT09ISFkW2JdJiYoYT9lKz0oZS5sZW5ndGg/XCIgXCI6XCJcIikrYjpmKz0oZi5sZW5ndGg/XCIgXCI6XCJcIikrYil9KTtxKGIsZnVuY3Rpb24oYSl7ZSYmRWIoYSxlKTtmJiZEYihhLGYpfSk7YS5yZW1vdmUoYil9fSk7Yi5sZW5ndGg9MH1yZXR1cm57ZW5hYmxlZDpDLG9uOkMsb2ZmOkMscGluOkMscHVzaDpmdW5jdGlvbihnLGgsayxsKXtsJiZsKCk7az1rfHx7fTtrLmZyb20mJmcuY3NzKGsuZnJvbSk7XG5rLnRvJiZnLmNzcyhrLnRvKTtpZihrLmFkZENsYXNzfHxrLnJlbW92ZUNsYXNzKWlmKGg9ay5hZGRDbGFzcyxsPWsucmVtb3ZlQ2xhc3Msaz1hLmdldChnKXx8e30saD1lKGssaCwhMCksbD1lKGssbCwhMSksaHx8bClhLnB1dChnLGspLGIucHVzaChnKSwxPT09Yi5sZW5ndGgmJmMuJCRwb3N0RGlnZXN0KGYpO2c9bmV3IGQ7Zy5jb21wbGV0ZSgpO3JldHVybiBnfX19XX0sbmY9W1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuJCRyZWdpc3RlcmVkQW5pbWF0aW9ucz1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oZCxjKXtpZihkJiZcIi5cIiE9PWQuY2hhckF0KDApKXRocm93IGZlKFwibm90Y3NlbFwiLGQpO3ZhciBlPWQrXCItYW5pbWF0aW9uXCI7Yi4kJHJlZ2lzdGVyZWRBbmltYXRpb25zW2Quc3Vic3RyKDEpXT1lO2EuZmFjdG9yeShlLGMpfTt0aGlzLmNsYXNzTmFtZUZpbHRlcj1mdW5jdGlvbihhKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmXG4odGhpcy4kJGNsYXNzTmFtZUZpbHRlcj1hIGluc3RhbmNlb2YgUmVnRXhwP2E6bnVsbCkmJi8oXFxzK3xcXC8pbmctYW5pbWF0ZShcXHMrfFxcLykvLnRlc3QodGhpcy4kJGNsYXNzTmFtZUZpbHRlci50b1N0cmluZygpKSl0aHJvdyBmZShcIm5vbmdjbHNcIixcIm5nLWFuaW1hdGVcIik7cmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXJ9O3RoaXMuJGdldD1bXCIkJGFuaW1hdGVRdWV1ZVwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxjLGQpe2lmKGQpe3ZhciBoO2E6e2ZvcihoPTA7aDxkLmxlbmd0aDtoKyspe3ZhciBrPWRbaF07aWYoMT09PWsubm9kZVR5cGUpe2g9azticmVhayBhfX1oPXZvaWQgMH0haHx8aC5wYXJlbnROb2RlfHxoLnByZXZpb3VzRWxlbWVudFNpYmxpbmd8fChkPW51bGwpfWQ/ZC5hZnRlcihhKTpjLnByZXBlbmQoYSl9cmV0dXJue29uOmEub24sb2ZmOmEub2ZmLHBpbjphLnBpbixlbmFibGVkOmEuZW5hYmxlZCxjYW5jZWw6ZnVuY3Rpb24oYSl7YS5lbmQmJmEuZW5kKCl9LFxuZW50ZXI6ZnVuY3Rpb24oZSxmLGcsaCl7Zj1mJiZFKGYpO2c9ZyYmRShnKTtmPWZ8fGcucGFyZW50KCk7YihlLGYsZyk7cmV0dXJuIGEucHVzaChlLFwiZW50ZXJcIixFYShoKSl9LG1vdmU6ZnVuY3Rpb24oZSxmLGcsaCl7Zj1mJiZFKGYpO2c9ZyYmRShnKTtmPWZ8fGcucGFyZW50KCk7YihlLGYsZyk7cmV0dXJuIGEucHVzaChlLFwibW92ZVwiLEVhKGgpKX0sbGVhdmU6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5wdXNoKGIsXCJsZWF2ZVwiLEVhKGMpLGZ1bmN0aW9uKCl7Yi5yZW1vdmUoKX0pfSxhZGRDbGFzczpmdW5jdGlvbihiLGMsZyl7Zz1FYShnKTtnLmFkZENsYXNzPWpiKGcuYWRkY2xhc3MsYyk7cmV0dXJuIGEucHVzaChiLFwiYWRkQ2xhc3NcIixnKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYixjLGcpe2c9RWEoZyk7Zy5yZW1vdmVDbGFzcz1qYihnLnJlbW92ZUNsYXNzLGMpO3JldHVybiBhLnB1c2goYixcInJlbW92ZUNsYXNzXCIsZyl9LHNldENsYXNzOmZ1bmN0aW9uKGIsYyxnLGgpe2g9RWEoaCk7XG5oLmFkZENsYXNzPWpiKGguYWRkQ2xhc3MsYyk7aC5yZW1vdmVDbGFzcz1qYihoLnJlbW92ZUNsYXNzLGcpO3JldHVybiBhLnB1c2goYixcInNldENsYXNzXCIsaCl9LGFuaW1hdGU6ZnVuY3Rpb24oYixjLGcsaCxrKXtrPUVhKGspO2suZnJvbT1rLmZyb20/UihrLmZyb20sYyk6YztrLnRvPWsudG8/UihrLnRvLGcpOmc7ay50ZW1wQ2xhc3Nlcz1qYihrLnRlbXBDbGFzc2VzLGh8fFwibmctaW5saW5lLWFuaW1hdGVcIik7cmV0dXJuIGEucHVzaChiLFwiYW5pbWF0ZVwiLGspfX19XX1dLHNmPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiQkckFGXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXtkLnB1c2goYik7MTxkLmxlbmd0aHx8YShmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8ZC5sZW5ndGg7YSsrKWRbYV0oKTtkPVtdfSl9dmFyIGQ9W107cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9ITE7YihmdW5jdGlvbigpe2E9ITB9KTtyZXR1cm4gZnVuY3Rpb24oZCl7YT9kKCk6YihkKX19fV19LHJmPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVxuW1wiJHFcIixcIiRzbmlmZmVyXCIsXCIkJGFuaW1hdGVBc3luY1J1blwiLFwiJGRvY3VtZW50XCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihhKXt0aGlzLnNldEhvc3QoYSk7dmFyIGI9ZCgpO3RoaXMuX2RvbmVDYWxsYmFja3M9W107dGhpcy5fdGljaz1mdW5jdGlvbihhKXt2YXIgZD1jWzBdO2QmJmQuaGlkZGVuP2UoYSwwLCExKTpiKGEpfTt0aGlzLl9zdGF0ZT0wfWYuY2hhaW49ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aWYoZD09PWEubGVuZ3RoKWIoITApO2Vsc2UgYVtkXShmdW5jdGlvbihhKXshMT09PWE/YighMSk6KGQrKyxjKCkpfSl9dmFyIGQ9MDtjKCl9O2YuYWxsPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhmKXtlPWUmJmY7KytkPT09YS5sZW5ndGgmJmIoZSl9dmFyIGQ9MCxlPSEwO3EoYSxmdW5jdGlvbihhKXthLmRvbmUoYyl9KX07Zi5wcm90b3R5cGU9e3NldEhvc3Q6ZnVuY3Rpb24oYSl7dGhpcy5ob3N0PWF8fHt9fSxkb25lOmZ1bmN0aW9uKGEpezI9PT1cbnRoaXMuX3N0YXRlP2EoKTp0aGlzLl9kb25lQ2FsbGJhY2tzLnB1c2goYSl9LHByb2dyZXNzOkMsZ2V0UHJvbWlzZTpmdW5jdGlvbigpe2lmKCF0aGlzLnByb21pc2Upe3ZhciBiPXRoaXM7dGhpcy5wcm9taXNlPWEoZnVuY3Rpb24oYSxjKXtiLmRvbmUoZnVuY3Rpb24oYil7ITE9PT1iP2MoKTphKCl9KX0pfXJldHVybiB0aGlzLnByb21pc2V9LHRoZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRQcm9taXNlKCkudGhlbihhLGIpfSxcImNhdGNoXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpW1wiY2F0Y2hcIl0oYSl9LFwiZmluYWxseVwiOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFByb21pc2UoKVtcImZpbmFsbHlcIl0oYSl9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnBhdXNlJiZ0aGlzLmhvc3QucGF1c2UoKX0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnJlc3VtZSYmdGhpcy5ob3N0LnJlc3VtZSgpfSxlbmQ6ZnVuY3Rpb24oKXt0aGlzLmhvc3QuZW5kJiZcbnRoaXMuaG9zdC5lbmQoKTt0aGlzLl9yZXNvbHZlKCEwKX0sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LmNhbmNlbCYmdGhpcy5ob3N0LmNhbmNlbCgpO3RoaXMuX3Jlc29sdmUoITEpfSxjb21wbGV0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzOzA9PT1iLl9zdGF0ZSYmKGIuX3N0YXRlPTEsYi5fdGljayhmdW5jdGlvbigpe2IuX3Jlc29sdmUoYSl9KSl9LF9yZXNvbHZlOmZ1bmN0aW9uKGEpezIhPT10aGlzLl9zdGF0ZSYmKHEodGhpcy5fZG9uZUNhbGxiYWNrcyxmdW5jdGlvbihiKXtiKGEpfSksdGhpcy5fZG9uZUNhbGxiYWNrcy5sZW5ndGg9MCx0aGlzLl9zdGF0ZT0yKX19O3JldHVybiBmfV19LG9mPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiQkckFGXCIsXCIkcVwiLFwiJCRBbmltYXRlUnVubmVyXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihiLGUpe2Z1bmN0aW9uIGYoKXthKGZ1bmN0aW9uKCl7Zy5hZGRDbGFzcyYmKGIuYWRkQ2xhc3MoZy5hZGRDbGFzcyksZy5hZGRDbGFzcz1cbm51bGwpO2cucmVtb3ZlQ2xhc3MmJihiLnJlbW92ZUNsYXNzKGcucmVtb3ZlQ2xhc3MpLGcucmVtb3ZlQ2xhc3M9bnVsbCk7Zy50byYmKGIuY3NzKGcudG8pLGcudG89bnVsbCk7aHx8ay5jb21wbGV0ZSgpO2g9ITB9KTtyZXR1cm4ga312YXIgZz1lfHx7fTtnLiQkcHJlcGFyZWR8fChnPXBhKGcpKTtnLmNsZWFudXBTdHlsZXMmJihnLmZyb209Zy50bz1udWxsKTtnLmZyb20mJihiLmNzcyhnLmZyb20pLGcuZnJvbT1udWxsKTt2YXIgaCxrPW5ldyBkO3JldHVybntzdGFydDpmLGVuZDpmfX19XX0sZGE9TihcIiRjb21waWxlXCIpLGdjPW5ldyBmdW5jdGlvbigpe307TWMuJGluamVjdD1bXCIkcHJvdmlkZVwiLFwiJCRzYW5pdGl6ZVVyaVByb3ZpZGVyXCJdO0liLnByb3RvdHlwZS5pc0ZpcnN0Q2hhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZT09PWdjfTt2YXIgZWQ9L14oKD86eHxkYXRhKVs6XFwtX10pL2kscWc9TihcIiRjb250cm9sbGVyXCIpLGtkPS9eKFxcUyspKFxccythc1xccysoW1xcdyRdKykpPyQvLFxueWY9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJGRvY3VtZW50XCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I/IWIubm9kZVR5cGUmJmIgaW5zdGFuY2VvZiBFJiYoYj1iWzBdKTpiPWFbMF0uYm9keTtyZXR1cm4gYi5vZmZzZXRXaWR0aCsxfX1dfSxsZD1cImFwcGxpY2F0aW9uL2pzb25cIixqYz17XCJDb250ZW50LVR5cGVcIjpsZCtcIjtjaGFyc2V0PXV0Zi04XCJ9LHNnPS9eXFxbfF5cXHsoPyFcXHspLyx0Zz17XCJbXCI6L10kLyxcIntcIjovfSQvfSxyZz0vXlxcKVxcXVxcfScsP1xcbi8sJGc9TihcIiRodHRwXCIpLHBkPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3Rocm93ICRnKFwibGVnYWN5XCIsYSk7fX0sS2E9Z2EuJGludGVycG9sYXRlTWluRXJyPU4oXCIkaW50ZXJwb2xhdGVcIik7S2EudGhyb3dOb2NvbmNhdD1mdW5jdGlvbihhKXt0aHJvdyBLYShcIm5vY29uY2F0XCIsYSk7fTtLYS5pbnRlcnI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gS2EoXCJpbnRlcnJcIixhLGIudG9TdHJpbmcoKSl9O3ZhciBHZj1cbmZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWZ1bmN0aW9uKGEpe2IuZGF0YT1hO2IuY2FsbGVkPSEwfTtiLmlkPWE7cmV0dXJuIGJ9dmFyIGQ9YS5hbmd1bGFyLmNhbGxiYWNrcyxjPXt9O3JldHVybntjcmVhdGVDYWxsYmFjazpmdW5jdGlvbihhKXthPVwiX1wiKyhkLiQkY291bnRlcisrKS50b1N0cmluZygzNik7dmFyIGY9XCJhbmd1bGFyLmNhbGxiYWNrcy5cIithLGc9YihhKTtjW2ZdPWRbYV09ZztyZXR1cm4gZn0sd2FzQ2FsbGVkOmZ1bmN0aW9uKGEpe3JldHVybiBjW2FdLmNhbGxlZH0sZ2V0UmVzcG9uc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV0uZGF0YX0scmVtb3ZlQ2FsbGJhY2s6ZnVuY3Rpb24oYSl7ZGVsZXRlIGRbY1thXS5pZF07ZGVsZXRlIGNbYV19fX1dfSxhaD0vXihbXlxcPyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8kLyx2Zz17aHR0cDo4MCxodHRwczo0NDMsZnRwOjIxfSxsYj1OKFwiJGxvY2F0aW9uXCIpLFxud2c9L15cXHMqW1xcXFwvXXsyLH0vLGJoPXskJGFic1VybDpcIlwiLCQkaHRtbDU6ITEsJCRyZXBsYWNlOiExLGFic1VybDpKYihcIiQkYWJzVXJsXCIpLHVybDpmdW5jdGlvbihhKXtpZih6KGEpKXJldHVybiB0aGlzLiQkdXJsO3ZhciBiPWFoLmV4ZWMoYSk7KGJbMV18fFwiXCI9PT1hKSYmdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChiWzFdKSk7KGJbMl18fGJbMV18fFwiXCI9PT1hKSYmdGhpcy5zZWFyY2goYlszXXx8XCJcIik7dGhpcy5oYXNoKGJbNV18fFwiXCIpO3JldHVybiB0aGlzfSxwcm90b2NvbDpKYihcIiQkcHJvdG9jb2xcIiksaG9zdDpKYihcIiQkaG9zdFwiKSxwb3J0OkpiKFwiJCRwb3J0XCIpLHBhdGg6dWQoXCIkJHBhdGhcIixmdW5jdGlvbihhKXthPW51bGwhPT1hP2EudG9TdHJpbmcoKTpcIlwiO3JldHVyblwiL1wiPT09YS5jaGFyQXQoMCk/YTpcIi9cIithfSksc2VhcmNoOmZ1bmN0aW9uKGEsYil7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdGhpcy4kJHNlYXJjaDtjYXNlIDE6aWYoSChhKXx8XG5aKGEpKWE9YS50b1N0cmluZygpLHRoaXMuJCRzZWFyY2g9SGMoYSk7ZWxzZSBpZihJKGEpKWE9cGEoYSx7fSkscShhLGZ1bmN0aW9uKGIsYyl7bnVsbD09YiYmZGVsZXRlIGFbY119KSx0aGlzLiQkc2VhcmNoPWE7ZWxzZSB0aHJvdyBsYihcImlzcmNoYXJnXCIpO2JyZWFrO2RlZmF1bHQ6eihiKXx8bnVsbD09PWI/ZGVsZXRlIHRoaXMuJCRzZWFyY2hbYV06dGhpcy4kJHNlYXJjaFthXT1ifXRoaXMuJCRjb21wb3NlKCk7cmV0dXJuIHRoaXN9LGhhc2g6dWQoXCIkJGhhc2hcIixmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWE/YS50b1N0cmluZygpOlwiXCJ9KSxyZXBsYWNlOmZ1bmN0aW9uKCl7dGhpcy4kJHJlcGxhY2U9ITA7cmV0dXJuIHRoaXN9fTtxKFt0ZCxtYyxsY10sZnVuY3Rpb24oYSl7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiaCk7YS5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oYil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuJCRzdGF0ZTtpZihhIT09bGN8fCF0aGlzLiQkaHRtbDUpdGhyb3cgbGIoXCJub3N0YXRlXCIpO1xudGhpcy4kJHN0YXRlPXooYik/bnVsbDpiO3JldHVybiB0aGlzfX0pO3ZhciBlYT1OKFwiJHBhcnNlXCIpLHdkPVtdLmNvbnN0cnVjdG9yLHhkPSghMSkuY29uc3RydWN0b3IseWQ9RnVuY3Rpb24uY29uc3RydWN0b3IsemQ9KDApLmNvbnN0cnVjdG9yLEFkPXt9LmNvbnN0cnVjdG9yLEJkPVwiXCIuY29uc3RydWN0b3IsQmc9d2QucHJvdG90eXBlLENnPXhkLnByb3RvdHlwZSxMYj15ZC5wcm90b3R5cGUsRGc9emQucHJvdG90eXBlLENkPUFkLnByb3RvdHlwZSxFZz1CZC5wcm90b3R5cGUseWc9TGIuY2FsbCx6Zz1MYi5hcHBseSxBZz1MYi5iaW5kLEdnPUNkLnZhbHVlT2YsUmI9UygpO3EoXCIrIC0gKiAvICUgPT09ICE9PSA9PSAhPSA8ID4gPD0gPj0gJiYgfHwgISA9IHxcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7UmJbYV09ITB9KTt2YXIgY2g9e246XCJcXG5cIixmOlwiXFxmXCIscjpcIlxcclwiLHQ6XCJcXHRcIix2OlwiXFx2XCIsXCInXCI6XCInXCIsJ1wiJzonXCInfSxvYz1mdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9YX07XG5vYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm9jLGxleDpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLmluZGV4PTA7Zm9yKHRoaXMudG9rZW5zPVtdO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspaWYoYT10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLCdcIic9PT1hfHxcIidcIj09PWEpdGhpcy5yZWFkU3RyaW5nKGEpO2Vsc2UgaWYodGhpcy5pc051bWJlcihhKXx8XCIuXCI9PT1hJiZ0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSl0aGlzLnJlYWROdW1iZXIoKTtlbHNlIGlmKHRoaXMuaXNJZGVudGlmaWVyU3RhcnQodGhpcy5wZWVrTXVsdGljaGFyKCkpKXRoaXMucmVhZElkZW50KCk7ZWxzZSBpZih0aGlzLmlzKGEsXCIoKXt9W10uLDs6P1wiKSl0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6YX0pLHRoaXMuaW5kZXgrKztlbHNlIGlmKHRoaXMuaXNXaGl0ZXNwYWNlKGEpKXRoaXMuaW5kZXgrKztlbHNle3ZhciBiPWErdGhpcy5wZWVrKCksZD1iK3RoaXMucGVlaygyKSxcbmM9UmJbYl0sZT1SYltkXTtSYlthXXx8Y3x8ZT8oYT1lP2Q6Yz9iOmEsdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmEsb3BlcmF0b3I6ITB9KSx0aGlzLmluZGV4Kz1hLmxlbmd0aCk6dGhpcy50aHJvd0Vycm9yKFwiVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciBcIix0aGlzLmluZGV4LHRoaXMuaW5kZXgrMSl9cmV0dXJuIHRoaXMudG9rZW5zfSxpczpmdW5jdGlvbihhLGIpe3JldHVybi0xIT09Yi5pbmRleE9mKGEpfSxwZWVrOmZ1bmN0aW9uKGEpe2E9YXx8MTtyZXR1cm4gdGhpcy5pbmRleCthPHRoaXMudGV4dC5sZW5ndGg/dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4K2EpOiExfSxpc051bWJlcjpmdW5jdGlvbihhKXtyZXR1cm5cIjBcIjw9YSYmXCI5XCI+PWEmJlwic3RyaW5nXCI9PT10eXBlb2YgYX0saXNXaGl0ZXNwYWNlOmZ1bmN0aW9uKGEpe3JldHVyblwiIFwiPT09YXx8XCJcXHJcIj09PWF8fFwiXFx0XCI9PT1hfHxcIlxcblwiPT09YXx8XCJcXHZcIj09PWF8fFwiXFx1MDBhMFwiPT09XG5hfSxpc0lkZW50aWZpZXJTdGFydDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllclN0YXJ0P3RoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJTdGFydChhLHRoaXMuY29kZVBvaW50QXQoYSkpOnRoaXMuaXNWYWxpZElkZW50aWZpZXJTdGFydChhKX0saXNWYWxpZElkZW50aWZpZXJTdGFydDpmdW5jdGlvbihhKXtyZXR1cm5cImFcIjw9YSYmXCJ6XCI+PWF8fFwiQVwiPD1hJiZcIlpcIj49YXx8XCJfXCI9PT1hfHxcIiRcIj09PWF9LGlzSWRlbnRpZmllckNvbnRpbnVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWU/dGhpcy5vcHRpb25zLmlzSWRlbnRpZmllckNvbnRpbnVlKGEsdGhpcy5jb2RlUG9pbnRBdChhKSk6dGhpcy5pc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlKGEpfSxpc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXNWYWxpZElkZW50aWZpZXJTdGFydChhLGIpfHx0aGlzLmlzTnVtYmVyKGEpfSxcbmNvZGVQb2ludEF0OmZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5sZW5ndGg/YS5jaGFyQ29kZUF0KDApOihhLmNoYXJDb2RlQXQoMCk8PDEwKSthLmNoYXJDb2RlQXQoMSktNTY2MTM4ODh9LHBlZWtNdWx0aWNoYXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLGI9dGhpcy5wZWVrKCk7aWYoIWIpcmV0dXJuIGE7dmFyIGQ9YS5jaGFyQ29kZUF0KDApLGM9Yi5jaGFyQ29kZUF0KDApO3JldHVybiA1NTI5Njw9ZCYmNTYzMTk+PWQmJjU2MzIwPD1jJiY1NzM0Mz49Yz9hK2I6YX0saXNFeHBPcGVyYXRvcjpmdW5jdGlvbihhKXtyZXR1cm5cIi1cIj09PWF8fFwiK1wiPT09YXx8dGhpcy5pc051bWJlcihhKX0sdGhyb3dFcnJvcjpmdW5jdGlvbihhLGIsZCl7ZD1kfHx0aGlzLmluZGV4O2I9dShiKT9cInMgXCIrYitcIi1cIit0aGlzLmluZGV4K1wiIFtcIit0aGlzLnRleHQuc3Vic3RyaW5nKGIsZCkrXCJdXCI6XCIgXCIrZDt0aHJvdyBlYShcImxleGVyclwiLGEsYix0aGlzLnRleHQpO1xufSxyZWFkTnVtYmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVwiXCIsYj10aGlzLmluZGV4O3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBkPVAodGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSk7aWYoXCIuXCI9PT1kfHx0aGlzLmlzTnVtYmVyKGQpKWErPWQ7ZWxzZXt2YXIgYz10aGlzLnBlZWsoKTtpZihcImVcIj09PWQmJnRoaXMuaXNFeHBPcGVyYXRvcihjKSlhKz1kO2Vsc2UgaWYodGhpcy5pc0V4cE9wZXJhdG9yKGQpJiZjJiZ0aGlzLmlzTnVtYmVyKGMpJiZcImVcIj09PWEuY2hhckF0KGEubGVuZ3RoLTEpKWErPWQ7ZWxzZSBpZighdGhpcy5pc0V4cE9wZXJhdG9yKGQpfHxjJiZ0aGlzLmlzTnVtYmVyKGMpfHxcImVcIiE9PWEuY2hhckF0KGEubGVuZ3RoLTEpKWJyZWFrO2Vsc2UgdGhpcy50aHJvd0Vycm9yKFwiSW52YWxpZCBleHBvbmVudFwiKX10aGlzLmluZGV4Kyt9dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6Yix0ZXh0OmEsY29uc3RhbnQ6ITAsdmFsdWU6TnVtYmVyKGEpfSl9LFxucmVhZElkZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbmRleDtmb3IodGhpcy5pbmRleCs9dGhpcy5wZWVrTXVsdGljaGFyKCkubGVuZ3RoO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBiPXRoaXMucGVla011bHRpY2hhcigpO2lmKCF0aGlzLmlzSWRlbnRpZmllckNvbnRpbnVlKGIpKWJyZWFrO3RoaXMuaW5kZXgrPWIubGVuZ3RofXRoaXMudG9rZW5zLnB1c2goe2luZGV4OmEsdGV4dDp0aGlzLnRleHQuc2xpY2UoYSx0aGlzLmluZGV4KSxpZGVudGlmaWVyOiEwfSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbmRleDt0aGlzLmluZGV4Kys7Zm9yKHZhciBkPVwiXCIsYz1hLGU9ITE7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGY9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxjPWMrZjtpZihlKVwidVwiPT09Zj8oZT10aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXgrMSx0aGlzLmluZGV4KzUpLGUubWF0Y2goL1tcXGRhLWZdezR9L2kpfHxcbnRoaXMudGhyb3dFcnJvcihcIkludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcXFx1XCIrZStcIl1cIiksdGhpcy5pbmRleCs9NCxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUsMTYpKSk6ZCs9Y2hbZl18fGYsZT0hMTtlbHNlIGlmKFwiXFxcXFwiPT09ZillPSEwO2Vsc2V7aWYoZj09PWEpe3RoaXMuaW5kZXgrKzt0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpiLHRleHQ6Yyxjb25zdGFudDohMCx2YWx1ZTpkfSk7cmV0dXJufWQrPWZ9dGhpcy5pbmRleCsrfXRoaXMudGhyb3dFcnJvcihcIlVudGVybWluYXRlZCBxdW90ZVwiLGIpfX07dmFyIHI9ZnVuY3Rpb24oYSxiKXt0aGlzLmxleGVyPWE7dGhpcy5vcHRpb25zPWJ9O3IuUHJvZ3JhbT1cIlByb2dyYW1cIjtyLkV4cHJlc3Npb25TdGF0ZW1lbnQ9XCJFeHByZXNzaW9uU3RhdGVtZW50XCI7ci5Bc3NpZ25tZW50RXhwcmVzc2lvbj1cIkFzc2lnbm1lbnRFeHByZXNzaW9uXCI7ci5Db25kaXRpb25hbEV4cHJlc3Npb249XCJDb25kaXRpb25hbEV4cHJlc3Npb25cIjtcbnIuTG9naWNhbEV4cHJlc3Npb249XCJMb2dpY2FsRXhwcmVzc2lvblwiO3IuQmluYXJ5RXhwcmVzc2lvbj1cIkJpbmFyeUV4cHJlc3Npb25cIjtyLlVuYXJ5RXhwcmVzc2lvbj1cIlVuYXJ5RXhwcmVzc2lvblwiO3IuQ2FsbEV4cHJlc3Npb249XCJDYWxsRXhwcmVzc2lvblwiO3IuTWVtYmVyRXhwcmVzc2lvbj1cIk1lbWJlckV4cHJlc3Npb25cIjtyLklkZW50aWZpZXI9XCJJZGVudGlmaWVyXCI7ci5MaXRlcmFsPVwiTGl0ZXJhbFwiO3IuQXJyYXlFeHByZXNzaW9uPVwiQXJyYXlFeHByZXNzaW9uXCI7ci5Qcm9wZXJ0eT1cIlByb3BlcnR5XCI7ci5PYmplY3RFeHByZXNzaW9uPVwiT2JqZWN0RXhwcmVzc2lvblwiO3IuVGhpc0V4cHJlc3Npb249XCJUaGlzRXhwcmVzc2lvblwiO3IuTG9jYWxzRXhwcmVzc2lvbj1cIkxvY2Fsc0V4cHJlc3Npb25cIjtyLk5HVmFsdWVQYXJhbWV0ZXI9XCJOR1ZhbHVlUGFyYW1ldGVyXCI7ci5wcm90b3R5cGU9e2FzdDpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLnRva2Vucz10aGlzLmxleGVyLmxleChhKTtcbmE9dGhpcy5wcm9ncmFtKCk7MCE9PXRoaXMudG9rZW5zLmxlbmd0aCYmdGhpcy50aHJvd0Vycm9yKFwiaXMgYW4gdW5leHBlY3RlZCB0b2tlblwiLHRoaXMudG9rZW5zWzBdKTtyZXR1cm4gYX0scHJvZ3JhbTpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXTs7KWlmKDA8dGhpcy50b2tlbnMubGVuZ3RoJiYhdGhpcy5wZWVrKFwifVwiLFwiKVwiLFwiO1wiLFwiXVwiKSYmYS5wdXNoKHRoaXMuZXhwcmVzc2lvblN0YXRlbWVudCgpKSwhdGhpcy5leHBlY3QoXCI7XCIpKXJldHVybnt0eXBlOnIuUHJvZ3JhbSxib2R5OmF9fSxleHByZXNzaW9uU3RhdGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ci5FeHByZXNzaW9uU3RhdGVtZW50LGV4cHJlc3Npb246dGhpcy5maWx0ZXJDaGFpbigpfX0sZmlsdGVyQ2hhaW46ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5leHByZXNzaW9uKCk7dGhpcy5leHBlY3QoXCJ8XCIpOylhPXRoaXMuZmlsdGVyKGEpO3JldHVybiBhfSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxcbmFzc2lnbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlcm5hcnkoKTt0aGlzLmV4cGVjdChcIj1cIikmJihhPXt0eXBlOnIuQXNzaWdubWVudEV4cHJlc3Npb24sbGVmdDphLHJpZ2h0OnRoaXMuYXNzaWdubWVudCgpLG9wZXJhdG9yOlwiPVwifSk7cmV0dXJuIGF9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvZ2ljYWxPUigpLGIsZDtyZXR1cm4gdGhpcy5leHBlY3QoXCI/XCIpJiYoYj10aGlzLmV4cHJlc3Npb24oKSx0aGlzLmNvbnN1bWUoXCI6XCIpKT8oZD10aGlzLmV4cHJlc3Npb24oKSx7dHlwZTpyLkNvbmRpdGlvbmFsRXhwcmVzc2lvbix0ZXN0OmEsYWx0ZXJuYXRlOmIsY29uc2VxdWVudDpkfSk6YX0sbG9naWNhbE9SOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubG9naWNhbEFORCgpO3RoaXMuZXhwZWN0KFwifHxcIik7KWE9e3R5cGU6ci5Mb2dpY2FsRXhwcmVzc2lvbixvcGVyYXRvcjpcInx8XCIsbGVmdDphLHJpZ2h0OnRoaXMubG9naWNhbEFORCgpfTtyZXR1cm4gYX0sbG9naWNhbEFORDpmdW5jdGlvbigpe2Zvcih2YXIgYT1cbnRoaXMuZXF1YWxpdHkoKTt0aGlzLmV4cGVjdChcIiYmXCIpOylhPXt0eXBlOnIuTG9naWNhbEV4cHJlc3Npb24sb3BlcmF0b3I6XCImJlwiLGxlZnQ6YSxyaWdodDp0aGlzLmVxdWFsaXR5KCl9O3JldHVybiBhfSxlcXVhbGl0eTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnJlbGF0aW9uYWwoKSxiO2I9dGhpcy5leHBlY3QoXCI9PVwiLFwiIT1cIixcIj09PVwiLFwiIT09XCIpOylhPXt0eXBlOnIuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMucmVsYXRpb25hbCgpfTtyZXR1cm4gYX0scmVsYXRpb25hbDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmFkZGl0aXZlKCksYjtiPXRoaXMuZXhwZWN0KFwiPFwiLFwiPlwiLFwiPD1cIixcIj49XCIpOylhPXt0eXBlOnIuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMuYWRkaXRpdmUoKX07cmV0dXJuIGF9LGFkZGl0aXZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubXVsdGlwbGljYXRpdmUoKSxcbmI7Yj10aGlzLmV4cGVjdChcIitcIixcIi1cIik7KWE9e3R5cGU6ci5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy5tdWx0aXBsaWNhdGl2ZSgpfTtyZXR1cm4gYX0sbXVsdGlwbGljYXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy51bmFyeSgpLGI7Yj10aGlzLmV4cGVjdChcIipcIixcIi9cIixcIiVcIik7KWE9e3R5cGU6ci5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy51bmFyeSgpfTtyZXR1cm4gYX0sdW5hcnk6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4oYT10aGlzLmV4cGVjdChcIitcIixcIi1cIixcIiFcIikpP3t0eXBlOnIuVW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmEudGV4dCxwcmVmaXg6ITAsYXJndW1lbnQ6dGhpcy51bmFyeSgpfTp0aGlzLnByaW1hcnkoKX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBhO3RoaXMuZXhwZWN0KFwiKFwiKT8oYT10aGlzLmZpbHRlckNoYWluKCksdGhpcy5jb25zdW1lKFwiKVwiKSk6XG50aGlzLmV4cGVjdChcIltcIik/YT10aGlzLmFycmF5RGVjbGFyYXRpb24oKTp0aGlzLmV4cGVjdChcIntcIik/YT10aGlzLm9iamVjdCgpOnRoaXMuc2VsZlJlZmVyZW50aWFsLmhhc093blByb3BlcnR5KHRoaXMucGVlaygpLnRleHQpP2E9cGEodGhpcy5zZWxmUmVmZXJlbnRpYWxbdGhpcy5jb25zdW1lKCkudGV4dF0pOnRoaXMub3B0aW9ucy5saXRlcmFscy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KT9hPXt0eXBlOnIuTGl0ZXJhbCx2YWx1ZTp0aGlzLm9wdGlvbnMubGl0ZXJhbHNbdGhpcy5jb25zdW1lKCkudGV4dF19OnRoaXMucGVlaygpLmlkZW50aWZpZXI/YT10aGlzLmlkZW50aWZpZXIoKTp0aGlzLnBlZWsoKS5jb25zdGFudD9hPXRoaXMuY29uc3RhbnQoKTp0aGlzLnRocm93RXJyb3IoXCJub3QgYSBwcmltYXJ5IGV4cHJlc3Npb25cIix0aGlzLnBlZWsoKSk7Zm9yKHZhciBiO2I9dGhpcy5leHBlY3QoXCIoXCIsXCJbXCIsXCIuXCIpOylcIihcIj09PWIudGV4dD8oYT17dHlwZTpyLkNhbGxFeHByZXNzaW9uLFxuY2FsbGVlOmEsYXJndW1lbnRzOnRoaXMucGFyc2VBcmd1bWVudHMoKX0sdGhpcy5jb25zdW1lKFwiKVwiKSk6XCJbXCI9PT1iLnRleHQ/KGE9e3R5cGU6ci5NZW1iZXJFeHByZXNzaW9uLG9iamVjdDphLHByb3BlcnR5OnRoaXMuZXhwcmVzc2lvbigpLGNvbXB1dGVkOiEwfSx0aGlzLmNvbnN1bWUoXCJdXCIpKTpcIi5cIj09PWIudGV4dD9hPXt0eXBlOnIuTWVtYmVyRXhwcmVzc2lvbixvYmplY3Q6YSxwcm9wZXJ0eTp0aGlzLmlkZW50aWZpZXIoKSxjb21wdXRlZDohMX06dGhpcy50aHJvd0Vycm9yKFwiSU1QT1NTSUJMRVwiKTtyZXR1cm4gYX0sZmlsdGVyOmZ1bmN0aW9uKGEpe2E9W2FdO2Zvcih2YXIgYj17dHlwZTpyLkNhbGxFeHByZXNzaW9uLGNhbGxlZTp0aGlzLmlkZW50aWZpZXIoKSxhcmd1bWVudHM6YSxmaWx0ZXI6ITB9O3RoaXMuZXhwZWN0KFwiOlwiKTspYS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtyZXR1cm4gYn0scGFyc2VBcmd1bWVudHM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihcIilcIiE9PVxudGhpcy5wZWVrVG9rZW4oKS50ZXh0KXtkbyBhLnB1c2godGhpcy5maWx0ZXJDaGFpbigpKTt3aGlsZSh0aGlzLmV4cGVjdChcIixcIikpfXJldHVybiBhfSxpZGVudGlmaWVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25zdW1lKCk7YS5pZGVudGlmaWVyfHx0aGlzLnRocm93RXJyb3IoXCJpcyBub3QgYSB2YWxpZCBpZGVudGlmaWVyXCIsYSk7cmV0dXJue3R5cGU6ci5JZGVudGlmaWVyLG5hbWU6YS50ZXh0fX0sY29uc3RhbnQ6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpyLkxpdGVyYWwsdmFsdWU6dGhpcy5jb25zdW1lKCkudmFsdWV9fSxhcnJheURlY2xhcmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9W107aWYoXCJdXCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2Rve2lmKHRoaXMucGVlayhcIl1cIikpYnJlYWs7YS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKX13aGlsZSh0aGlzLmV4cGVjdChcIixcIikpfXRoaXMuY29uc3VtZShcIl1cIik7cmV0dXJue3R5cGU6ci5BcnJheUV4cHJlc3Npb24sZWxlbWVudHM6YX19LFxub2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9W10sYjtpZihcIn1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwifVwiKSlicmVhaztiPXt0eXBlOnIuUHJvcGVydHksa2luZDpcImluaXRcIn07dGhpcy5wZWVrKCkuY29uc3RhbnQ/KGIua2V5PXRoaXMuY29uc3RhbnQoKSxiLmNvbXB1dGVkPSExLHRoaXMuY29uc3VtZShcIjpcIiksYi52YWx1ZT10aGlzLmV4cHJlc3Npb24oKSk6dGhpcy5wZWVrKCkuaWRlbnRpZmllcj8oYi5rZXk9dGhpcy5pZGVudGlmaWVyKCksYi5jb21wdXRlZD0hMSx0aGlzLnBlZWsoXCI6XCIpPyh0aGlzLmNvbnN1bWUoXCI6XCIpLGIudmFsdWU9dGhpcy5leHByZXNzaW9uKCkpOmIudmFsdWU9Yi5rZXkpOnRoaXMucGVlayhcIltcIik/KHRoaXMuY29uc3VtZShcIltcIiksYi5rZXk9dGhpcy5leHByZXNzaW9uKCksdGhpcy5jb25zdW1lKFwiXVwiKSxiLmNvbXB1dGVkPSEwLHRoaXMuY29uc3VtZShcIjpcIiksYi52YWx1ZT10aGlzLmV4cHJlc3Npb24oKSk6dGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIixcbnRoaXMucGVlaygpKTthLnB1c2goYil9d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKX10aGlzLmNvbnN1bWUoXCJ9XCIpO3JldHVybnt0eXBlOnIuT2JqZWN0RXhwcmVzc2lvbixwcm9wZXJ0aWVzOmF9fSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGEsYil7dGhyb3cgZWEoXCJzeW50YXhcIixiLnRleHQsYSxiLmluZGV4KzEsdGhpcy50ZXh0LHRoaXMudGV4dC5zdWJzdHJpbmcoYi5pbmRleCkpO30sY29uc3VtZTpmdW5jdGlvbihhKXtpZigwPT09dGhpcy50b2tlbnMubGVuZ3RoKXRocm93IGVhKFwidWVvZVwiLHRoaXMudGV4dCk7dmFyIGI9dGhpcy5leHBlY3QoYSk7Ynx8dGhpcy50aHJvd0Vycm9yKFwiaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFtcIithK1wiXVwiLHRoaXMucGVlaygpKTtyZXR1cm4gYn0scGVla1Rva2VuOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBlYShcInVlb2VcIix0aGlzLnRleHQpO3JldHVybiB0aGlzLnRva2Vuc1swXX0scGVlazpmdW5jdGlvbihhLGIsXG5kLGMpe3JldHVybiB0aGlzLnBlZWtBaGVhZCgwLGEsYixkLGMpfSxwZWVrQWhlYWQ6ZnVuY3Rpb24oYSxiLGQsYyxlKXtpZih0aGlzLnRva2Vucy5sZW5ndGg+YSl7YT10aGlzLnRva2Vuc1thXTt2YXIgZj1hLnRleHQ7aWYoZj09PWJ8fGY9PT1kfHxmPT09Y3x8Zj09PWV8fCEoYnx8ZHx8Y3x8ZSkpcmV0dXJuIGF9cmV0dXJuITF9LGV4cGVjdDpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4oYT10aGlzLnBlZWsoYSxiLGQsYykpPyh0aGlzLnRva2Vucy5zaGlmdCgpLGEpOiExfSxzZWxmUmVmZXJlbnRpYWw6e1widGhpc1wiOnt0eXBlOnIuVGhpc0V4cHJlc3Npb259LCRsb2NhbHM6e3R5cGU6ci5Mb2NhbHNFeHByZXNzaW9ufX19O0lkLnByb3RvdHlwZT17Y29tcGlsZTpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMsYz10aGlzLmFzdEJ1aWxkZXIuYXN0KGEpO3RoaXMuc3RhdGU9e25leHRJZDowLGZpbHRlcnM6e30sZXhwZW5zaXZlQ2hlY2tzOmIsZm46e3ZhcnM6W10sYm9keTpbXSxvd246e319LFxuYXNzaWduOnt2YXJzOltdLGJvZHk6W10sb3duOnt9fSxpbnB1dHM6W119O1coYyxkLiRmaWx0ZXIpO3ZhciBlPVwiXCIsZjt0aGlzLnN0YWdlPVwiYXNzaWduXCI7aWYoZj1HZChjKSl0aGlzLnN0YXRlLmNvbXB1dGluZz1cImFzc2lnblwiLGU9dGhpcy5uZXh0SWQoKSx0aGlzLnJlY3Vyc2UoZixlKSx0aGlzLnJldHVybl8oZSksZT1cImZuLmFzc2lnbj1cIit0aGlzLmdlbmVyYXRlRnVuY3Rpb24oXCJhc3NpZ25cIixcInMsdixsXCIpO2Y9RWQoYy5ib2R5KTtkLnN0YWdlPVwiaW5wdXRzXCI7cShmLGZ1bmN0aW9uKGEsYil7dmFyIGM9XCJmblwiK2I7ZC5zdGF0ZVtjXT17dmFyczpbXSxib2R5OltdLG93bjp7fX07ZC5zdGF0ZS5jb21wdXRpbmc9Yzt2YXIgZT1kLm5leHRJZCgpO2QucmVjdXJzZShhLGUpO2QucmV0dXJuXyhlKTtkLnN0YXRlLmlucHV0cy5wdXNoKGMpO2Eud2F0Y2hJZD1ifSk7dGhpcy5zdGF0ZS5jb21wdXRpbmc9XCJmblwiO3RoaXMuc3RhZ2U9XCJtYWluXCI7dGhpcy5yZWN1cnNlKGMpO2U9J1wiJyt0aGlzLlVTRStcblwiIFwiK3RoaXMuU1RSSUNUKydcIjtcXG4nK3RoaXMuZmlsdGVyUHJlZml4KCkrXCJ2YXIgZm49XCIrdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKFwiZm5cIixcInMsbCxhLGlcIikrZSt0aGlzLndhdGNoRm5zKCkrXCJyZXR1cm4gZm47XCI7ZT0obmV3IEZ1bmN0aW9uKFwiJGZpbHRlclwiLFwiZW5zdXJlU2FmZU1lbWJlck5hbWVcIixcImVuc3VyZVNhZmVPYmplY3RcIixcImVuc3VyZVNhZmVGdW5jdGlvblwiLFwiZ2V0U3RyaW5nVmFsdWVcIixcImVuc3VyZVNhZmVBc3NpZ25Db250ZXh0XCIsXCJpZkRlZmluZWRcIixcInBsdXNcIixcInRleHRcIixlKSkodGhpcy4kZmlsdGVyLFRhLHFhLHZkLHhnLEtiLEZnLERkLGEpO3RoaXMuc3RhdGU9dGhpcy5zdGFnZT12b2lkIDA7ZS5saXRlcmFsPUhkKGMpO2UuY29uc3RhbnQ9Yy5jb25zdGFudDtyZXR1cm4gZX0sVVNFOlwidXNlXCIsU1RSSUNUOlwic3RyaWN0XCIsd2F0Y2hGbnM6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuc3RhdGUuaW5wdXRzLGQ9dGhpcztxKGIsZnVuY3Rpb24oYil7YS5wdXNoKFwidmFyIFwiK1xuYitcIj1cIitkLmdlbmVyYXRlRnVuY3Rpb24oYixcInNcIikpfSk7Yi5sZW5ndGgmJmEucHVzaChcImZuLmlucHV0cz1bXCIrYi5qb2luKFwiLFwiKStcIl07XCIpO3JldHVybiBhLmpvaW4oXCJcIil9LGdlbmVyYXRlRnVuY3Rpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImZ1bmN0aW9uKFwiK2IrXCIpe1wiK3RoaXMudmFyc1ByZWZpeChhKSt0aGlzLmJvZHkoYSkrXCJ9O1wifSxmaWx0ZXJQcmVmaXg6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXM7cSh0aGlzLnN0YXRlLmZpbHRlcnMsZnVuY3Rpb24oZCxjKXthLnB1c2goZCtcIj0kZmlsdGVyKFwiK2IuZXNjYXBlKGMpK1wiKVwiKX0pO3JldHVybiBhLmxlbmd0aD9cInZhciBcIithLmpvaW4oXCIsXCIpK1wiO1wiOlwiXCJ9LHZhcnNQcmVmaXg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0udmFycy5sZW5ndGg/XCJ2YXIgXCIrdGhpcy5zdGF0ZVthXS52YXJzLmpvaW4oXCIsXCIpK1wiO1wiOlwiXCJ9LGJvZHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0uYm9keS5qb2luKFwiXCIpfSxcbnJlY3Vyc2U6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe3ZhciBnLGgsaz10aGlzLGwsbSxuO2M9Y3x8QztpZighZiYmdShhLndhdGNoSWQpKWI9Ynx8dGhpcy5uZXh0SWQoKSx0aGlzLmlmXyhcImlcIix0aGlzLmxhenlBc3NpZ24oYix0aGlzLmNvbXB1dGVkTWVtYmVyKFwiaVwiLGEud2F0Y2hJZCkpLHRoaXMubGF6eVJlY3Vyc2UoYSxiLGQsYyxlLCEwKSk7ZWxzZSBzd2l0Y2goYS50eXBlKXtjYXNlIHIuUHJvZ3JhbTpxKGEuYm9keSxmdW5jdGlvbihiLGMpe2sucmVjdXJzZShiLmV4cHJlc3Npb24sdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihhKXtoPWF9KTtjIT09YS5ib2R5Lmxlbmd0aC0xP2suY3VycmVudCgpLmJvZHkucHVzaChoLFwiO1wiKTprLnJldHVybl8oaCl9KTticmVhaztjYXNlIHIuTGl0ZXJhbDptPXRoaXMuZXNjYXBlKGEudmFsdWUpO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHIuVW5hcnlFeHByZXNzaW9uOnRoaXMucmVjdXJzZShhLmFyZ3VtZW50LHZvaWQgMCx2b2lkIDAsXG5mdW5jdGlvbihhKXtoPWF9KTttPWEub3BlcmF0b3IrXCIoXCIrdGhpcy5pZkRlZmluZWQoaCwwKStcIilcIjt0aGlzLmFzc2lnbihiLG0pO2MobSk7YnJlYWs7Y2FzZSByLkJpbmFyeUV4cHJlc3Npb246dGhpcy5yZWN1cnNlKGEubGVmdCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKGEpe2c9YX0pO3RoaXMucmVjdXJzZShhLnJpZ2h0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oYSl7aD1hfSk7bT1cIitcIj09PWEub3BlcmF0b3I/dGhpcy5wbHVzKGcsaCk6XCItXCI9PT1hLm9wZXJhdG9yP3RoaXMuaWZEZWZpbmVkKGcsMCkrYS5vcGVyYXRvcit0aGlzLmlmRGVmaW5lZChoLDApOlwiKFwiK2crXCIpXCIrYS5vcGVyYXRvcitcIihcIitoK1wiKVwiO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHIuTG9naWNhbEV4cHJlc3Npb246Yj1ifHx0aGlzLm5leHRJZCgpO2sucmVjdXJzZShhLmxlZnQsYik7ay5pZl8oXCImJlwiPT09YS5vcGVyYXRvcj9iOmsubm90KGIpLGsubGF6eVJlY3Vyc2UoYS5yaWdodCxiKSk7XG5jKGIpO2JyZWFrO2Nhc2Ugci5Db25kaXRpb25hbEV4cHJlc3Npb246Yj1ifHx0aGlzLm5leHRJZCgpO2sucmVjdXJzZShhLnRlc3QsYik7ay5pZl8oYixrLmxhenlSZWN1cnNlKGEuYWx0ZXJuYXRlLGIpLGsubGF6eVJlY3Vyc2UoYS5jb25zZXF1ZW50LGIpKTtjKGIpO2JyZWFrO2Nhc2Ugci5JZGVudGlmaWVyOmI9Ynx8dGhpcy5uZXh0SWQoKTtkJiYoZC5jb250ZXh0PVwiaW5wdXRzXCI9PT1rLnN0YWdlP1wic1wiOnRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksdGhpcy5nZXRIYXNPd25Qcm9wZXJ0eShcImxcIixhLm5hbWUpK1wiP2w6c1wiKSxkLmNvbXB1dGVkPSExLGQubmFtZT1hLm5hbWUpO1RhKGEubmFtZSk7ay5pZl8oXCJpbnB1dHNcIj09PWsuc3RhZ2V8fGsubm90KGsuZ2V0SGFzT3duUHJvcGVydHkoXCJsXCIsYS5uYW1lKSksZnVuY3Rpb24oKXtrLmlmXyhcImlucHV0c1wiPT09ay5zdGFnZXx8XCJzXCIsZnVuY3Rpb24oKXtlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5ub25Db21wdXRlZE1lbWJlcihcInNcIixcbmEubmFtZSkpLGsubGF6eUFzc2lnbihrLm5vbkNvbXB1dGVkTWVtYmVyKFwic1wiLGEubmFtZSksXCJ7fVwiKSk7ay5hc3NpZ24oYixrLm5vbkNvbXB1dGVkTWVtYmVyKFwic1wiLGEubmFtZSkpfSl9LGImJmsubGF6eUFzc2lnbihiLGsubm9uQ29tcHV0ZWRNZW1iZXIoXCJsXCIsYS5uYW1lKSkpOyhrLnN0YXRlLmV4cGVuc2l2ZUNoZWNrc3x8TWIoYS5uYW1lKSkmJmsuYWRkRW5zdXJlU2FmZU9iamVjdChiKTtjKGIpO2JyZWFrO2Nhc2Ugci5NZW1iZXJFeHByZXNzaW9uOmc9ZCYmKGQuY29udGV4dD10aGlzLm5leHRJZCgpKXx8dGhpcy5uZXh0SWQoKTtiPWJ8fHRoaXMubmV4dElkKCk7ay5yZWN1cnNlKGEub2JqZWN0LGcsdm9pZCAwLGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGcpLGZ1bmN0aW9uKCl7ZSYmMSE9PWUmJmsuYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoZyk7aWYoYS5jb21wdXRlZCloPWsubmV4dElkKCksay5yZWN1cnNlKGEucHJvcGVydHksaCksay5nZXRTdHJpbmdWYWx1ZShoKSxcbmsuYWRkRW5zdXJlU2FmZU1lbWJlck5hbWUoaCksZSYmMSE9PWUmJmsuaWZfKGsubm90KGsuY29tcHV0ZWRNZW1iZXIoZyxoKSksay5sYXp5QXNzaWduKGsuY29tcHV0ZWRNZW1iZXIoZyxoKSxcInt9XCIpKSxtPWsuZW5zdXJlU2FmZU9iamVjdChrLmNvbXB1dGVkTWVtYmVyKGcsaCkpLGsuYXNzaWduKGIsbSksZCYmKGQuY29tcHV0ZWQ9ITAsZC5uYW1lPWgpO2Vsc2V7VGEoYS5wcm9wZXJ0eS5uYW1lKTtlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5ub25Db21wdXRlZE1lbWJlcihnLGEucHJvcGVydHkubmFtZSkpLGsubGF6eUFzc2lnbihrLm5vbkNvbXB1dGVkTWVtYmVyKGcsYS5wcm9wZXJ0eS5uYW1lKSxcInt9XCIpKTttPWsubm9uQ29tcHV0ZWRNZW1iZXIoZyxhLnByb3BlcnR5Lm5hbWUpO2lmKGsuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzfHxNYihhLnByb3BlcnR5Lm5hbWUpKW09ay5lbnN1cmVTYWZlT2JqZWN0KG0pO2suYXNzaWduKGIsbSk7ZCYmKGQuY29tcHV0ZWQ9ITEsZC5uYW1lPWEucHJvcGVydHkubmFtZSl9fSxcbmZ1bmN0aW9uKCl7ay5hc3NpZ24oYixcInVuZGVmaW5lZFwiKX0pO2MoYil9LCEhZSk7YnJlYWs7Y2FzZSByLkNhbGxFeHByZXNzaW9uOmI9Ynx8dGhpcy5uZXh0SWQoKTthLmZpbHRlcj8oaD1rLmZpbHRlcihhLmNhbGxlZS5uYW1lKSxsPVtdLHEoYS5hcmd1bWVudHMsZnVuY3Rpb24oYSl7dmFyIGI9ay5uZXh0SWQoKTtrLnJlY3Vyc2UoYSxiKTtsLnB1c2goYil9KSxtPWgrXCIoXCIrbC5qb2luKFwiLFwiKStcIilcIixrLmFzc2lnbihiLG0pLGMoYikpOihoPWsubmV4dElkKCksZz17fSxsPVtdLGsucmVjdXJzZShhLmNhbGxlZSxoLGcsZnVuY3Rpb24oKXtrLmlmXyhrLm5vdE51bGwoaCksZnVuY3Rpb24oKXtrLmFkZEVuc3VyZVNhZmVGdW5jdGlvbihoKTtxKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2sucmVjdXJzZShhLGsubmV4dElkKCksdm9pZCAwLGZ1bmN0aW9uKGEpe2wucHVzaChrLmVuc3VyZVNhZmVPYmplY3QoYSkpfSl9KTtnLm5hbWU/KGsuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzfHxrLmFkZEVuc3VyZVNhZmVPYmplY3QoZy5jb250ZXh0KSxcbm09ay5tZW1iZXIoZy5jb250ZXh0LGcubmFtZSxnLmNvbXB1dGVkKStcIihcIitsLmpvaW4oXCIsXCIpK1wiKVwiKTptPWgrXCIoXCIrbC5qb2luKFwiLFwiKStcIilcIjttPWsuZW5zdXJlU2FmZU9iamVjdChtKTtrLmFzc2lnbihiLG0pfSxmdW5jdGlvbigpe2suYXNzaWduKGIsXCJ1bmRlZmluZWRcIil9KTtjKGIpfSkpO2JyZWFrO2Nhc2Ugci5Bc3NpZ25tZW50RXhwcmVzc2lvbjpoPXRoaXMubmV4dElkKCk7Zz17fTtpZighRmQoYS5sZWZ0KSl0aHJvdyBlYShcImx2YWxcIik7dGhpcy5yZWN1cnNlKGEubGVmdCx2b2lkIDAsZyxmdW5jdGlvbigpe2suaWZfKGsubm90TnVsbChnLmNvbnRleHQpLGZ1bmN0aW9uKCl7ay5yZWN1cnNlKGEucmlnaHQsaCk7ay5hZGRFbnN1cmVTYWZlT2JqZWN0KGsubWVtYmVyKGcuY29udGV4dCxnLm5hbWUsZy5jb21wdXRlZCkpO2suYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoZy5jb250ZXh0KTttPWsubWVtYmVyKGcuY29udGV4dCxnLm5hbWUsZy5jb21wdXRlZCkrYS5vcGVyYXRvcitcbmg7ay5hc3NpZ24oYixtKTtjKGJ8fG0pfSl9LDEpO2JyZWFrO2Nhc2Ugci5BcnJheUV4cHJlc3Npb246bD1bXTtxKGEuZWxlbWVudHMsZnVuY3Rpb24oYSl7ay5yZWN1cnNlKGEsay5uZXh0SWQoKSx2b2lkIDAsZnVuY3Rpb24oYSl7bC5wdXNoKGEpfSl9KTttPVwiW1wiK2wuam9pbihcIixcIikrXCJdXCI7dGhpcy5hc3NpZ24oYixtKTtjKG0pO2JyZWFrO2Nhc2Ugci5PYmplY3RFeHByZXNzaW9uOmw9W107bj0hMTtxKGEucHJvcGVydGllcyxmdW5jdGlvbihhKXthLmNvbXB1dGVkJiYobj0hMCl9KTtuPyhiPWJ8fHRoaXMubmV4dElkKCksdGhpcy5hc3NpZ24oYixcInt9XCIpLHEoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2EuY29tcHV0ZWQ/KGc9ay5uZXh0SWQoKSxrLnJlY3Vyc2UoYS5rZXksZykpOmc9YS5rZXkudHlwZT09PXIuSWRlbnRpZmllcj9hLmtleS5uYW1lOlwiXCIrYS5rZXkudmFsdWU7aD1rLm5leHRJZCgpO2sucmVjdXJzZShhLnZhbHVlLGgpO2suYXNzaWduKGsubWVtYmVyKGIsZyxcbmEuY29tcHV0ZWQpLGgpfSkpOihxKGEucHJvcGVydGllcyxmdW5jdGlvbihiKXtrLnJlY3Vyc2UoYi52YWx1ZSxhLmNvbnN0YW50P3ZvaWQgMDprLm5leHRJZCgpLHZvaWQgMCxmdW5jdGlvbihhKXtsLnB1c2goay5lc2NhcGUoYi5rZXkudHlwZT09PXIuSWRlbnRpZmllcj9iLmtleS5uYW1lOlwiXCIrYi5rZXkudmFsdWUpK1wiOlwiK2EpfSl9KSxtPVwie1wiK2wuam9pbihcIixcIikrXCJ9XCIsdGhpcy5hc3NpZ24oYixtKSk7YyhifHxtKTticmVhaztjYXNlIHIuVGhpc0V4cHJlc3Npb246dGhpcy5hc3NpZ24oYixcInNcIik7YyhcInNcIik7YnJlYWs7Y2FzZSByLkxvY2Fsc0V4cHJlc3Npb246dGhpcy5hc3NpZ24oYixcImxcIik7YyhcImxcIik7YnJlYWs7Y2FzZSByLk5HVmFsdWVQYXJhbWV0ZXI6dGhpcy5hc3NpZ24oYixcInZcIiksYyhcInZcIil9fSxnZXRIYXNPd25Qcm9wZXJ0eTpmdW5jdGlvbihhLGIpe3ZhciBkPWErXCIuXCIrYixjPXRoaXMuY3VycmVudCgpLm93bjtjLmhhc093blByb3BlcnR5KGQpfHwoY1tkXT1cbnRoaXMubmV4dElkKCExLGErXCImJihcIit0aGlzLmVzY2FwZShiKStcIiBpbiBcIithK1wiKVwiKSk7cmV0dXJuIGNbZF19LGFzc2lnbjpmdW5jdGlvbihhLGIpe2lmKGEpcmV0dXJuIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaChhLFwiPVwiLGIsXCI7XCIpLGF9LGZpbHRlcjpmdW5jdGlvbihhKXt0aGlzLnN0YXRlLmZpbHRlcnMuaGFzT3duUHJvcGVydHkoYSl8fCh0aGlzLnN0YXRlLmZpbHRlcnNbYV09dGhpcy5uZXh0SWQoITApKTtyZXR1cm4gdGhpcy5zdGF0ZS5maWx0ZXJzW2FdfSxpZkRlZmluZWQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImlmRGVmaW5lZChcIithK1wiLFwiK3RoaXMuZXNjYXBlKGIpK1wiKVwifSxwbHVzOmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJwbHVzKFwiK2ErXCIsXCIrYitcIilcIn0scmV0dXJuXzpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goXCJyZXR1cm4gXCIsYSxcIjtcIil9LGlmXzpmdW5jdGlvbihhLGIsZCl7aWYoITA9PT1hKWIoKTtlbHNle3ZhciBjPXRoaXMuY3VycmVudCgpLmJvZHk7XG5jLnB1c2goXCJpZihcIixhLFwiKXtcIik7YigpO2MucHVzaChcIn1cIik7ZCYmKGMucHVzaChcImVsc2V7XCIpLGQoKSxjLnB1c2goXCJ9XCIpKX19LG5vdDpmdW5jdGlvbihhKXtyZXR1cm5cIiEoXCIrYStcIilcIn0sbm90TnVsbDpmdW5jdGlvbihhKXtyZXR1cm4gYStcIiE9bnVsbFwifSxub25Db21wdXRlZE1lbWJlcjpmdW5jdGlvbihhLGIpe3ZhciBkPS9bXiRfYS16QS1aMC05XS9nO3JldHVybi9eWyRfYS16QS1aXVskX2EtekEtWjAtOV0qJC8udGVzdChiKT9hK1wiLlwiK2I6YSsnW1wiJytiLnJlcGxhY2UoZCx0aGlzLnN0cmluZ0VzY2FwZUZuKSsnXCJdJ30sY29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStcIltcIitiK1wiXVwifSxtZW1iZXI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBkP3RoaXMuY29tcHV0ZWRNZW1iZXIoYSxiKTp0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGEsYil9LGFkZEVuc3VyZVNhZmVPYmplY3Q6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZU9iamVjdChhKSxcblwiO1wiKX0sYWRkRW5zdXJlU2FmZU1lbWJlck5hbWU6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZU1lbWJlck5hbWUoYSksXCI7XCIpfSxhZGRFbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUZ1bmN0aW9uKGEpLFwiO1wiKX0sYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoYSksXCI7XCIpfSxlbnN1cmVTYWZlT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZU9iamVjdChcIithK1wiLHRleHQpXCJ9LGVuc3VyZVNhZmVNZW1iZXJOYW1lOmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZU1lbWJlck5hbWUoXCIrYStcIix0ZXh0KVwifSxlbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJlbnN1cmVTYWZlRnVuY3Rpb24oXCIrYStcIix0ZXh0KVwifSxcbmdldFN0cmluZ1ZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMuYXNzaWduKGEsXCJnZXRTdHJpbmdWYWx1ZShcIithK1wiKVwiKX0sZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJlbnN1cmVTYWZlQXNzaWduQ29udGV4dChcIithK1wiLHRleHQpXCJ9LGxhenlSZWN1cnNlOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXt2YXIgZz10aGlzO3JldHVybiBmdW5jdGlvbigpe2cucmVjdXJzZShhLGIsZCxjLGUsZil9fSxsYXp5QXNzaWduOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtkLmFzc2lnbihhLGIpfX0sc3RyaW5nRXNjYXBlUmVnZXg6L1teIGEtekEtWjAtOV0vZyxzdHJpbmdFc2NhcGVGbjpmdW5jdGlvbihhKXtyZXR1cm5cIlxcXFx1XCIrKFwiMDAwMFwiK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0sZXNjYXBlOmZ1bmN0aW9uKGEpe2lmKEgoYSkpcmV0dXJuXCInXCIrYS5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsdGhpcy5zdHJpbmdFc2NhcGVGbikrXG5cIidcIjtpZihaKGEpKXJldHVybiBhLnRvU3RyaW5nKCk7aWYoITA9PT1hKXJldHVyblwidHJ1ZVwiO2lmKCExPT09YSlyZXR1cm5cImZhbHNlXCI7aWYobnVsbD09PWEpcmV0dXJuXCJudWxsXCI7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhKXJldHVyblwidW5kZWZpbmVkXCI7dGhyb3cgZWEoXCJlc2NcIik7fSxuZXh0SWQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1cInZcIit0aGlzLnN0YXRlLm5leHRJZCsrO2F8fHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChkKyhiP1wiPVwiK2I6XCJcIikpO3JldHVybiBkfSxjdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5zdGF0ZS5jb21wdXRpbmddfX07SmQucHJvdG90eXBlPXtjb21waWxlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjPXRoaXMuYXN0QnVpbGRlci5hc3QoYSk7dGhpcy5leHByZXNzaW9uPWE7dGhpcy5leHBlbnNpdmVDaGVja3M9YjtXKGMsZC4kZmlsdGVyKTt2YXIgZSxmO2lmKGU9R2QoYykpZj10aGlzLnJlY3Vyc2UoZSk7ZT1FZChjLmJvZHkpO1xudmFyIGc7ZSYmKGc9W10scShlLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZC5yZWN1cnNlKGEpO2EuaW5wdXQ9YztnLnB1c2goYyk7YS53YXRjaElkPWJ9KSk7dmFyIGg9W107cShjLmJvZHksZnVuY3Rpb24oYSl7aC5wdXNoKGQucmVjdXJzZShhLmV4cHJlc3Npb24pKX0pO2U9MD09PWMuYm9keS5sZW5ndGg/QzoxPT09Yy5ib2R5Lmxlbmd0aD9oWzBdOmZ1bmN0aW9uKGEsYil7dmFyIGM7cShoLGZ1bmN0aW9uKGQpe2M9ZChhLGIpfSk7cmV0dXJuIGN9O2YmJihlLmFzc2lnbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYoYSxjLGIpfSk7ZyYmKGUuaW5wdXRzPWcpO2UubGl0ZXJhbD1IZChjKTtlLmNvbnN0YW50PWMuY29uc3RhbnQ7cmV0dXJuIGV9LHJlY3Vyc2U6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjLGUsZj10aGlzLGc7aWYoYS5pbnB1dClyZXR1cm4gdGhpcy5pbnB1dHMoYS5pbnB1dCxhLndhdGNoSWQpO3N3aXRjaChhLnR5cGUpe2Nhc2Ugci5MaXRlcmFsOnJldHVybiB0aGlzLnZhbHVlKGEudmFsdWUsXG5iKTtjYXNlIHIuVW5hcnlFeHByZXNzaW9uOnJldHVybiBlPXRoaXMucmVjdXJzZShhLmFyZ3VtZW50KSx0aGlzW1widW5hcnlcIithLm9wZXJhdG9yXShlLGIpO2Nhc2Ugci5CaW5hcnlFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQpLGU9dGhpcy5yZWN1cnNlKGEucmlnaHQpLHRoaXNbXCJiaW5hcnlcIithLm9wZXJhdG9yXShjLGUsYik7Y2FzZSByLkxvZ2ljYWxFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQpLGU9dGhpcy5yZWN1cnNlKGEucmlnaHQpLHRoaXNbXCJiaW5hcnlcIithLm9wZXJhdG9yXShjLGUsYik7Y2FzZSByLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpyZXR1cm4gdGhpc1tcInRlcm5hcnk/OlwiXSh0aGlzLnJlY3Vyc2UoYS50ZXN0KSx0aGlzLnJlY3Vyc2UoYS5hbHRlcm5hdGUpLHRoaXMucmVjdXJzZShhLmNvbnNlcXVlbnQpLGIpO2Nhc2Ugci5JZGVudGlmaWVyOnJldHVybiBUYShhLm5hbWUsZi5leHByZXNzaW9uKSxmLmlkZW50aWZpZXIoYS5uYW1lLFxuZi5leHBlbnNpdmVDaGVja3N8fE1iKGEubmFtZSksYixkLGYuZXhwcmVzc2lvbik7Y2FzZSByLk1lbWJlckV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEub2JqZWN0LCExLCEhZCksYS5jb21wdXRlZHx8KFRhKGEucHJvcGVydHkubmFtZSxmLmV4cHJlc3Npb24pLGU9YS5wcm9wZXJ0eS5uYW1lKSxhLmNvbXB1dGVkJiYoZT10aGlzLnJlY3Vyc2UoYS5wcm9wZXJ0eSkpLGEuY29tcHV0ZWQ/dGhpcy5jb21wdXRlZE1lbWJlcihjLGUsYixkLGYuZXhwcmVzc2lvbik6dGhpcy5ub25Db21wdXRlZE1lbWJlcihjLGUsZi5leHBlbnNpdmVDaGVja3MsYixkLGYuZXhwcmVzc2lvbik7Y2FzZSByLkNhbGxFeHByZXNzaW9uOnJldHVybiBnPVtdLHEoYS5hcmd1bWVudHMsZnVuY3Rpb24oYSl7Zy5wdXNoKGYucmVjdXJzZShhKSl9KSxhLmZpbHRlciYmKGU9dGhpcy4kZmlsdGVyKGEuY2FsbGVlLm5hbWUpKSxhLmZpbHRlcnx8KGU9dGhpcy5yZWN1cnNlKGEuY2FsbGVlLCEwKSksYS5maWx0ZXI/XG5mdW5jdGlvbihhLGMsZCxmKXtmb3IodmFyIG49W10scD0wO3A8Zy5sZW5ndGg7KytwKW4ucHVzaChnW3BdKGEsYyxkLGYpKTthPWUuYXBwbHkodm9pZCAwLG4sZik7cmV0dXJuIGI/e2NvbnRleHQ6dm9pZCAwLG5hbWU6dm9pZCAwLHZhbHVlOmF9OmF9OmZ1bmN0aW9uKGEsYyxkLG0pe3ZhciBuPWUoYSxjLGQsbSkscDtpZihudWxsIT1uLnZhbHVlKXtxYShuLmNvbnRleHQsZi5leHByZXNzaW9uKTt2ZChuLnZhbHVlLGYuZXhwcmVzc2lvbik7cD1bXTtmb3IodmFyIHE9MDtxPGcubGVuZ3RoOysrcSlwLnB1c2gocWEoZ1txXShhLGMsZCxtKSxmLmV4cHJlc3Npb24pKTtwPXFhKG4udmFsdWUuYXBwbHkobi5jb250ZXh0LHApLGYuZXhwcmVzc2lvbil9cmV0dXJuIGI/e3ZhbHVlOnB9OnB9O2Nhc2Ugci5Bc3NpZ25tZW50RXhwcmVzc2lvbjpyZXR1cm4gYz10aGlzLnJlY3Vyc2UoYS5sZWZ0LCEwLDEpLGU9dGhpcy5yZWN1cnNlKGEucmlnaHQpLGZ1bmN0aW9uKGEsZCxnLG0pe3ZhciBuPWMoYSxcbmQsZyxtKTthPWUoYSxkLGcsbSk7cWEobi52YWx1ZSxmLmV4cHJlc3Npb24pO0tiKG4uY29udGV4dCk7bi5jb250ZXh0W24ubmFtZV09YTtyZXR1cm4gYj97dmFsdWU6YX06YX07Y2FzZSByLkFycmF5RXhwcmVzc2lvbjpyZXR1cm4gZz1bXSxxKGEuZWxlbWVudHMsZnVuY3Rpb24oYSl7Zy5wdXNoKGYucmVjdXJzZShhKSl9KSxmdW5jdGlvbihhLGMsZCxlKXtmb3IodmFyIGY9W10scD0wO3A8Zy5sZW5ndGg7KytwKWYucHVzaChnW3BdKGEsYyxkLGUpKTtyZXR1cm4gYj97dmFsdWU6Zn06Zn07Y2FzZSByLk9iamVjdEV4cHJlc3Npb246cmV0dXJuIGc9W10scShhLnByb3BlcnRpZXMsZnVuY3Rpb24oYSl7YS5jb21wdXRlZD9nLnB1c2goe2tleTpmLnJlY3Vyc2UoYS5rZXkpLGNvbXB1dGVkOiEwLHZhbHVlOmYucmVjdXJzZShhLnZhbHVlKX0pOmcucHVzaCh7a2V5OmEua2V5LnR5cGU9PT1yLklkZW50aWZpZXI/YS5rZXkubmFtZTpcIlwiK2Eua2V5LnZhbHVlLGNvbXB1dGVkOiExLHZhbHVlOmYucmVjdXJzZShhLnZhbHVlKX0pfSksXG5mdW5jdGlvbihhLGMsZCxlKXtmb3IodmFyIGY9e30scD0wO3A8Zy5sZW5ndGg7KytwKWdbcF0uY29tcHV0ZWQ/ZltnW3BdLmtleShhLGMsZCxlKV09Z1twXS52YWx1ZShhLGMsZCxlKTpmW2dbcF0ua2V5XT1nW3BdLnZhbHVlKGEsYyxkLGUpO3JldHVybiBiP3t2YWx1ZTpmfTpmfTtjYXNlIHIuVGhpc0V4cHJlc3Npb246cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBiP3t2YWx1ZTphfTphfTtjYXNlIHIuTG9jYWxzRXhwcmVzc2lvbjpyZXR1cm4gZnVuY3Rpb24oYSxjKXtyZXR1cm4gYj97dmFsdWU6Y306Y307Y2FzZSByLk5HVmFsdWVQYXJhbWV0ZXI6cmV0dXJuIGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYj97dmFsdWU6ZH06ZH19fSxcInVuYXJ5K1wiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9YShkLGMsZSxmKTtkPXUoZCk/K2Q6MDtyZXR1cm4gYj97dmFsdWU6ZH06ZH19LFwidW5hcnktXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsXG5mKXtkPWEoZCxjLGUsZik7ZD11KGQpPy1kOjA7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fSxcInVuYXJ5IVwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9IWEoZCxjLGUsZik7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fSxcImJpbmFyeStcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPWEoYyxlLGYsZyk7Yz1iKGMsZSxmLGcpO2g9RGQoaCxjKTtyZXR1cm4gZD97dmFsdWU6aH06aH19LFwiYmluYXJ5LVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7dmFyIGg9YShjLGUsZixnKTtjPWIoYyxlLGYsZyk7aD0odShoKT9oOjApLSh1KGMpP2M6MCk7cmV0dXJuIGQ/e3ZhbHVlOmh9Omh9fSxcImJpbmFyeSpcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSpiKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnkvXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLFxuZSxmLGcpe2M9YShjLGUsZixnKS9iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnklXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyklYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PT09XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk9PT1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnkhPT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSE9PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT09XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk9PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeSE9XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLFxuZSxmLGcpe2M9YShjLGUsZixnKSE9YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PFwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPGIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT5cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT5iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk8PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPD1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk+PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPj1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnkmJlwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1cbmEoYyxlLGYsZykmJmIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeXx8XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyl8fGIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcInRlcm5hcnk/OlwiOmZ1bmN0aW9uKGEsYixkLGMpe3JldHVybiBmdW5jdGlvbihlLGYsZyxoKXtlPWEoZSxmLGcsaCk/YihlLGYsZyxoKTpkKGUsZixnLGgpO3JldHVybiBjP3t2YWx1ZTplfTplfX0sdmFsdWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYj97Y29udGV4dDp2b2lkIDAsbmFtZTp2b2lkIDAsdmFsdWU6YX06YX19LGlkZW50aWZpZXI6ZnVuY3Rpb24oYSxiLGQsYyxlKXtyZXR1cm4gZnVuY3Rpb24oZixnLGgsayl7Zj1nJiZhIGluIGc/ZzpmO2MmJjEhPT1jJiZmJiYhZlthXSYmKGZbYV09e30pO2c9Zj9mW2FdOnZvaWQgMDtiJiZxYShnLGUpO3JldHVybiBkP3tjb250ZXh0OmYsbmFtZTphLFxudmFsdWU6Z306Z319LGNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYixkLGMsZSl7cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe3ZhciBsPWEoZixnLGgsayksbSxuO251bGwhPWwmJihtPWIoZixnLGgsayksbSs9XCJcIixUYShtLGUpLGMmJjEhPT1jJiYoS2IobCksbCYmIWxbbV0mJihsW21dPXt9KSksbj1sW21dLHFhKG4sZSkpO3JldHVybiBkP3tjb250ZXh0OmwsbmFtZTptLHZhbHVlOm59Om59fSxub25Db21wdXRlZE1lbWJlcjpmdW5jdGlvbihhLGIsZCxjLGUsZil7cmV0dXJuIGZ1bmN0aW9uKGcsaCxrLGwpe2c9YShnLGgsayxsKTtlJiYxIT09ZSYmKEtiKGcpLGcmJiFnW2JdJiYoZ1tiXT17fSkpO2g9bnVsbCE9Zz9nW2JdOnZvaWQgMDsoZHx8TWIoYikpJiZxYShoLGYpO3JldHVybiBjP3tjb250ZXh0OmcsbmFtZTpiLHZhbHVlOmh9Omh9fSxpbnB1dHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7cmV0dXJuIGY/ZltiXTphKGQsYyxlKX19fTt2YXIgcGM9XG5mdW5jdGlvbihhLGIsZCl7dGhpcy5sZXhlcj1hO3RoaXMuJGZpbHRlcj1iO3RoaXMub3B0aW9ucz1kO3RoaXMuYXN0PW5ldyByKGEsZCk7dGhpcy5hc3RDb21waWxlcj1kLmNzcD9uZXcgSmQodGhpcy5hc3QsYik6bmV3IElkKHRoaXMuYXN0LGIpfTtwYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnBjLHBhcnNlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFzdENvbXBpbGVyLmNvbXBpbGUoYSx0aGlzLm9wdGlvbnMuZXhwZW5zaXZlQ2hlY2tzKX19O3ZhciBmYT1OKFwiJHNjZVwiKSxsYT17SFRNTDpcImh0bWxcIixDU1M6XCJjc3NcIixVUkw6XCJ1cmxcIixSRVNPVVJDRV9VUkw6XCJyZXNvdXJjZVVybFwiLEpTOlwianNcIn0sSWc9TihcIiRjb21waWxlXCIpLFY9Qi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSxOZD1DYShCLmxvY2F0aW9uLmhyZWYpO09kLiRpbmplY3Q9W1wiJGRvY3VtZW50XCJdO1RjLiRpbmplY3Q9W1wiJHByb3ZpZGVcIl07dmFyIFZkPTIyLFVkPVwiLlwiLHJjPVwiMFwiO1BkLiRpbmplY3Q9W1wiJGxvY2FsZVwiXTtcblJkLiRpbmplY3Q9W1wiJGxvY2FsZVwiXTt2YXIgVGc9e3l5eXk6WShcIkZ1bGxZZWFyXCIsNCwwLCExLCEwKSx5eTpZKFwiRnVsbFllYXJcIiwyLDAsITAsITApLHk6WShcIkZ1bGxZZWFyXCIsMSwwLCExLCEwKSxNTU1NOm5iKFwiTW9udGhcIiksTU1NOm5iKFwiTW9udGhcIiwhMCksTU06WShcIk1vbnRoXCIsMiwxKSxNOlkoXCJNb250aFwiLDEsMSksTExMTDpuYihcIk1vbnRoXCIsITEsITApLGRkOlkoXCJEYXRlXCIsMiksZDpZKFwiRGF0ZVwiLDEpLEhIOlkoXCJIb3Vyc1wiLDIpLEg6WShcIkhvdXJzXCIsMSksaGg6WShcIkhvdXJzXCIsMiwtMTIpLGg6WShcIkhvdXJzXCIsMSwtMTIpLG1tOlkoXCJNaW51dGVzXCIsMiksbTpZKFwiTWludXRlc1wiLDEpLHNzOlkoXCJTZWNvbmRzXCIsMiksczpZKFwiU2Vjb25kc1wiLDEpLHNzczpZKFwiTWlsbGlzZWNvbmRzXCIsMyksRUVFRTpuYihcIkRheVwiKSxFRUU6bmIoXCJEYXlcIiwhMCksYTpmdW5jdGlvbihhLGIpe3JldHVybiAxMj5hLmdldEhvdXJzKCk/Yi5BTVBNU1swXTpiLkFNUE1TWzFdfSxaOmZ1bmN0aW9uKGEsXG5iLGQpe2E9LTEqZDtyZXR1cm4gYT0oMDw9YT9cIitcIjpcIlwiKSsoTmIoTWF0aFswPGE/XCJmbG9vclwiOlwiY2VpbFwiXShhLzYwKSwyKStOYihNYXRoLmFicyhhJTYwKSwyKSl9LHd3OlhkKDIpLHc6WGQoMSksRzpzYyxHRzpzYyxHR0c6c2MsR0dHRzpmdW5jdGlvbihhLGIpe3JldHVybiAwPj1hLmdldEZ1bGxZZWFyKCk/Yi5FUkFOQU1FU1swXTpiLkVSQU5BTUVTWzFdfX0sU2c9LygoPzpbXnlNTGRIaG1zYVpFd0cnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xMK3xkK3xIK3xoK3xtK3xzK3xhfFp8Ryt8dyspKSguKikvLFJnPS9eXFwtP1xcZCskLztRZC4kaW5qZWN0PVtcIiRsb2NhbGVcIl07dmFyIE1nPW1hKFApLE5nPW1hKHhiKTtTZC4kaW5qZWN0PVtcIiRwYXJzZVwiXTt2YXIgRWU9bWEoe3Jlc3RyaWN0OlwiRVwiLGNvbXBpbGU6ZnVuY3Rpb24oYSxiKXtpZighYi5ocmVmJiYhYi54bGlua0hyZWYpcmV0dXJuIGZ1bmN0aW9uKGEsYil7aWYoXCJhXCI9PT1iWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlPVxuXCJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXVwiPT09bmEuY2FsbChiLnByb3AoXCJocmVmXCIpKT9cInhsaW5rOmhyZWZcIjpcImhyZWZcIjtiLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtiLmF0dHIoZSl8fGEucHJldmVudERlZmF1bHQoKX0pfX19fSkseWI9e307cShIYixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSxkLGUpe2EuJHdhdGNoKGVbY10sZnVuY3Rpb24oYSl7ZS4kc2V0KGIsISFhKX0pfWlmKFwibXVsdGlwbGVcIiE9PWEpe3ZhciBjPUJhKFwibmctXCIrYiksZT1kO1wiY2hlY2tlZFwiPT09YSYmKGU9ZnVuY3Rpb24oYSxiLGUpe2UubmdNb2RlbCE9PWVbY10mJmQoYSxiLGUpfSk7eWJbY109ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscHJpb3JpdHk6MTAwLGxpbms6ZX19fX0pO3EoamQsZnVuY3Rpb24oYSxiKXt5YltiXT1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eToxMDAsbGluazpmdW5jdGlvbihhLGMsZSl7aWYoXCJuZ1BhdHRlcm5cIj09PWImJlwiL1wiPT09ZS5uZ1BhdHRlcm4uY2hhckF0KDApJiZcbihjPWUubmdQYXR0ZXJuLm1hdGNoKFdnKSkpe2UuJHNldChcIm5nUGF0dGVyblwiLG5ldyBSZWdFeHAoY1sxXSxjWzJdKSk7cmV0dXJufWEuJHdhdGNoKGVbYl0sZnVuY3Rpb24oYSl7ZS4kc2V0KGIsYSl9KX19fX0pO3EoW1wic3JjXCIsXCJzcmNzZXRcIixcImhyZWZcIl0sZnVuY3Rpb24oYSl7dmFyIGI9QmEoXCJuZy1cIithKTt5YltiXT1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eTo5OSxsaW5rOmZ1bmN0aW9uKGQsYyxlKXt2YXIgZj1hLGc9YTtcImhyZWZcIj09PWEmJlwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PW5hLmNhbGwoYy5wcm9wKFwiaHJlZlwiKSkmJihnPVwieGxpbmtIcmVmXCIsZS4kYXR0cltnXT1cInhsaW5rOmhyZWZcIixmPW51bGwpO2UuJG9ic2VydmUoYixmdW5jdGlvbihiKXtiPyhlLiRzZXQoZyxiKSxGYSYmZiYmYy5wcm9wKGYsZVtnXSkpOlwiaHJlZlwiPT09YSYmZS4kc2V0KGcsbnVsbCl9KX19fX0pO3ZhciBPYj17JGFkZENvbnRyb2w6QywkJHJlbmFtZUNvbnRyb2w6ZnVuY3Rpb24oYSxcbmIpe2EuJG5hbWU9Yn0sJHJlbW92ZUNvbnRyb2w6Qywkc2V0VmFsaWRpdHk6Qywkc2V0RGlydHk6Qywkc2V0UHJpc3RpbmU6Qywkc2V0U3VibWl0dGVkOkN9O1lkLiRpbmplY3Q9W1wiJGVsZW1lbnRcIixcIiRhdHRyc1wiLFwiJHNjb3BlXCIsXCIkYW5pbWF0ZVwiLFwiJGludGVycG9sYXRlXCJdO3ZhciBnZT1mdW5jdGlvbihhKXtyZXR1cm5bXCIkdGltZW91dFwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBjKGEpe3JldHVyblwiXCI9PT1hP2QoJ3RoaXNbXCJcIl0nKS5hc3NpZ246ZChhKS5hc3NpZ258fEN9cmV0dXJue25hbWU6XCJmb3JtXCIscmVzdHJpY3Q6YT9cIkVBQ1wiOlwiRVwiLHJlcXVpcmU6W1wiZm9ybVwiLFwiXl4/Zm9ybVwiXSxjb250cm9sbGVyOllkLGNvbXBpbGU6ZnVuY3Rpb24oZCxmKXtkLmFkZENsYXNzKFZhKS5hZGRDbGFzcyhyYik7dmFyIGc9Zi5uYW1lP1wibmFtZVwiOmEmJmYubmdGb3JtP1wibmdGb3JtXCI6ITE7cmV0dXJue3ByZTpmdW5jdGlvbihhLGQsZSxmKXt2YXIgbj1mWzBdO2lmKCEoXCJhY3Rpb25cImluXG5lKSl7dmFyIHA9ZnVuY3Rpb24oYil7YS4kYXBwbHkoZnVuY3Rpb24oKXtuLiRjb21taXRWaWV3VmFsdWUoKTtuLiRzZXRTdWJtaXR0ZWQoKX0pO2IucHJldmVudERlZmF1bHQoKX07ZFswXS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIscCwhMSk7ZC5vbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtiKGZ1bmN0aW9uKCl7ZFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIscCwhMSl9LDAsITEpfSl9KGZbMV18fG4uJCRwYXJlbnRGb3JtKS4kYWRkQ29udHJvbChuKTt2YXIgcT1nP2Mobi4kbmFtZSk6QztnJiYocShhLG4pLGUuJG9ic2VydmUoZyxmdW5jdGlvbihiKXtuLiRuYW1lIT09YiYmKHEoYSx2b2lkIDApLG4uJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChuLGIpLHE9YyhuLiRuYW1lKSxxKGEsbikpfSkpO2Qub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7bi4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2wobik7cShhLHZvaWQgMCk7UihuLE9iKX0pfX19fX1dfSxGZT1cbmdlKCksUmU9Z2UoITApLFVnPS9eXFxkezQsfS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyg/OlsrLV1bMC0yXVxcZDpbMC01XVxcZHxaKSQvLGRoPS9eW2Etel1bYS16XFxkListXSo6XFwvKig/OlteOkBdKyg/OjpbXkBdKyk/QCk/KD86W15cXHM6Lz8jXSt8XFxbW2EtZlxcZDpdK1xcXSkoPzo6XFxkKyk/KD86XFwvW14/I10qKT8oPzpcXD9bXiNdKik/KD86Iy4qKT8kL2ksZWg9L14oPz0uezEsMjU0fSQpKD89LnsxLDY0fUApWy0hIyQlJicqK1xcLzAtOT0/QS1aXl9gYS16e3x9fl0rKFxcLlstISMkJSYnKitcXC8wLTk9P0EtWl5fYGEtent8fX5dKykqQFtBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8oXFwuW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dezAsNjF9W0EtWmEtejAtOV0pPykqJC8sVmc9L15cXHMqKFxcLXxcXCspPyhcXGQrfChcXGQqKFxcLlxcZCopKSkoW2VFXVsrLV0/XFxkKyk/XFxzKiQvLGhlPS9eKFxcZHs0LH0pLShcXGR7Mn0pLShcXGR7Mn0pJC8sXG5pZT0vXihcXGR7NCx9KS0oXFxkXFxkKS0oXFxkXFxkKVQoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLyx5Yz0vXihcXGR7NCx9KS1XKFxcZFxcZCkkLyxqZT0vXihcXGR7NCx9KS0oXFxkXFxkKSQvLGtlPS9eKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC8sJGQ9UygpO3EoW1wiZGF0ZVwiLFwiZGF0ZXRpbWUtbG9jYWxcIixcIm1vbnRoXCIsXCJ0aW1lXCIsXCJ3ZWVrXCJdLGZ1bmN0aW9uKGEpeyRkW2FdPSEwfSk7dmFyIGxlPXt0ZXh0OmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtXYShhLGIsZCxjLGUsZik7dWMoYyl9LGRhdGU6b2IoXCJkYXRlXCIsaGUsUWIoaGUsW1wieXl5eVwiLFwiTU1cIixcImRkXCJdKSxcInl5eXktTU0tZGRcIiksXCJkYXRldGltZS1sb2NhbFwiOm9iKFwiZGF0ZXRpbWVsb2NhbFwiLGllLFFiKGllLFwieXl5eSBNTSBkZCBISCBtbSBzcyBzc3NcIi5zcGxpdChcIiBcIikpLFwieXl5eS1NTS1kZFRISDptbTpzcy5zc3NcIiksdGltZTpvYihcInRpbWVcIixrZSxRYihrZSxbXCJISFwiLFwibW1cIixcblwic3NcIixcInNzc1wiXSksXCJISDptbTpzcy5zc3NcIiksd2VlazpvYihcIndlZWtcIix5YyxmdW5jdGlvbihhLGIpe2lmKGJhKGEpKXJldHVybiBhO2lmKEgoYSkpe3ljLmxhc3RJbmRleD0wO3ZhciBkPXljLmV4ZWMoYSk7aWYoZCl7dmFyIGM9K2RbMV0sZT0rZFsyXSxmPWQ9MCxnPTAsaD0wLGs9V2QoYyksZT03KihlLTEpO2ImJihkPWIuZ2V0SG91cnMoKSxmPWIuZ2V0TWludXRlcygpLGc9Yi5nZXRTZWNvbmRzKCksaD1iLmdldE1pbGxpc2Vjb25kcygpKTtyZXR1cm4gbmV3IERhdGUoYywwLGsuZ2V0RGF0ZSgpK2UsZCxmLGcsaCl9fXJldHVybiBOYU59LFwieXl5eS1Xd3dcIiksbW9udGg6b2IoXCJtb250aFwiLGplLFFiKGplLFtcInl5eXlcIixcIk1NXCJdKSxcInl5eXktTU1cIiksbnVtYmVyOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXt2YyhhLGIsZCxjKTtXYShhLGIsZCxjLGUsZik7YWUoYyk7dmFyIGcsaDtpZih1KGQubWluKXx8ZC5uZ01pbiljLiR2YWxpZGF0b3JzLm1pbj1mdW5jdGlvbihhKXtyZXR1cm4gYy4kaXNFbXB0eShhKXx8XG56KGcpfHxhPj1nfSxkLiRvYnNlcnZlKFwibWluXCIsZnVuY3Rpb24oYSl7Zz1xYihhKTtjLiR2YWxpZGF0ZSgpfSk7aWYodShkLm1heCl8fGQubmdNYXgpYy4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuJGlzRW1wdHkoYSl8fHooaCl8fGE8PWh9LGQuJG9ic2VydmUoXCJtYXhcIixmdW5jdGlvbihhKXtoPXFiKGEpO2MuJHZhbGlkYXRlKCl9KX0sdXJsOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtXYShhLGIsZCxjLGUsZik7dWMoYyk7Yy4kJHBhcnNlck5hbWU9XCJ1cmxcIjtjLiR2YWxpZGF0b3JzLnVybD1mdW5jdGlvbihhLGIpe3ZhciBkPWF8fGI7cmV0dXJuIGMuJGlzRW1wdHkoZCl8fGRoLnRlc3QoZCl9fSxlbWFpbDpmdW5jdGlvbihhLGIsZCxjLGUsZil7V2EoYSxiLGQsYyxlLGYpO3VjKGMpO2MuJCRwYXJzZXJOYW1lPVwiZW1haWxcIjtjLiR2YWxpZGF0b3JzLmVtYWlsPWZ1bmN0aW9uKGEsYil7dmFyIGQ9YXx8YjtyZXR1cm4gYy4kaXNFbXB0eShkKXx8ZWgudGVzdChkKX19LFxucmFkaW86ZnVuY3Rpb24oYSxiLGQsYyl7eihkLm5hbWUpJiZiLmF0dHIoXCJuYW1lXCIsKytzYik7Yi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YlswXS5jaGVja2VkJiZjLiRzZXRWaWV3VmFsdWUoZC52YWx1ZSxhJiZhLnR5cGUpfSk7Yy4kcmVuZGVyPWZ1bmN0aW9uKCl7YlswXS5jaGVja2VkPWQudmFsdWU9PT1jLiR2aWV3VmFsdWV9O2QuJG9ic2VydmUoXCJ2YWx1ZVwiLGMuJHJlbmRlcil9LHJhbmdlOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtmdW5jdGlvbiBnKGEsYyl7Yi5hdHRyKGEsZFthXSk7ZC4kb2JzZXJ2ZShhLGMpfWZ1bmN0aW9uIGgoYSl7bj1xYihhKTtYKGMuJG1vZGVsVmFsdWUpfHwobT8oYT1iLnZhbCgpLG4+YSYmKGE9bixiLnZhbChhKSksYy4kc2V0Vmlld1ZhbHVlKGEpKTpjLiR2YWxpZGF0ZSgpKX1mdW5jdGlvbiBrKGEpe3A9cWIoYSk7WChjLiRtb2RlbFZhbHVlKXx8KG0/KGE9Yi52YWwoKSxwPGEmJihiLnZhbChwKSxhPXA8bj9uOnApLGMuJHNldFZpZXdWYWx1ZShhKSk6XG5jLiR2YWxpZGF0ZSgpKX1mdW5jdGlvbiBsKGEpe3E9cWIoYSk7WChjLiRtb2RlbFZhbHVlKXx8KG0mJmMuJHZpZXdWYWx1ZSE9PWIudmFsKCk/Yy4kc2V0Vmlld1ZhbHVlKGIudmFsKCkpOmMuJHZhbGlkYXRlKCkpfXZjKGEsYixkLGMpO2FlKGMpO1dhKGEsYixkLGMsZSxmKTt2YXIgbT1jLiQkaGFzTmF0aXZlVmFsaWRhdG9ycyYmXCJyYW5nZVwiPT09YlswXS50eXBlLG49bT8wOnZvaWQgMCxwPW0/MTAwOnZvaWQgMCxxPW0/MTp2b2lkIDAscj1iWzBdLnZhbGlkaXR5O2E9dShkLm1pbik7ZT11KGQubWF4KTtmPXUoZC5zdGVwKTt2YXIgdD1jLiRyZW5kZXI7Yy4kcmVuZGVyPW0mJnUoci5yYW5nZVVuZGVyZmxvdykmJnUoci5yYW5nZU92ZXJmbG93KT9mdW5jdGlvbigpe3QoKTtjLiRzZXRWaWV3VmFsdWUoYi52YWwoKSl9OnQ7YSYmKGMuJHZhbGlkYXRvcnMubWluPW0/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy4kaXNFbXB0eShiKXx8eihuKXx8Yj49bn0sXG5nKFwibWluXCIsaCkpO2UmJihjLiR2YWxpZGF0b3JzLm1heD1tP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGMuJGlzRW1wdHkoYil8fHoocCl8fGI8PXB9LGcoXCJtYXhcIixrKSk7ZiYmKGMuJHZhbGlkYXRvcnMuc3RlcD1tP2Z1bmN0aW9uKCl7cmV0dXJuIXIuc3RlcE1pc21hdGNofTpmdW5jdGlvbihhLGIpe3ZhciBkO2lmKCEoZD1jLiRpc0VtcHR5KGIpfHx6KHEpKSl7ZD1ufHwwO3ZhciBlPXEsZj1OdW1iZXIoYik7aWYoKGZ8MCkhPT1mfHwoZHwwKSE9PWR8fChlfDApIT09ZSl7dmFyIGc9TWF0aC5tYXgod2MoZiksd2MoZCksd2MoZSkpLGc9TWF0aC5wb3coMTAsZyksZj1mKmc7ZCo9ZztlKj1nfWQ9MD09PShmLWQpJWV9cmV0dXJuIGR9LGcoXCJzdGVwXCIsbCkpfSxjaGVja2JveDpmdW5jdGlvbihhLGIsZCxjLGUsZixnLGgpe3ZhciBrPWJlKGgsYSxcIm5nVHJ1ZVZhbHVlXCIsZC5uZ1RydWVWYWx1ZSwhMCksbD1iZShoLGEsXCJuZ0ZhbHNlVmFsdWVcIixkLm5nRmFsc2VWYWx1ZSxcbiExKTtiLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtjLiRzZXRWaWV3VmFsdWUoYlswXS5jaGVja2VkLGEmJmEudHlwZSl9KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXtiWzBdLmNoZWNrZWQ9Yy4kdmlld1ZhbHVlfTtjLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiExPT09YX07Yy4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBvYShhLGspfSk7Yy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBhP2s6bH0pfSxoaWRkZW46QyxidXR0b246QyxzdWJtaXQ6QyxyZXNldDpDLGZpbGU6Q30sTmM9W1wiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCIsXCIkZmlsdGVyXCIsXCIkcGFyc2VcIixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/bmdNb2RlbFwiXSxsaW5rOntwcmU6ZnVuY3Rpb24oZSxmLGcsaCl7aWYoaFswXSl7dmFyIGs9UChnLnR5cGUpO1wicmFuZ2VcIiE9PWt8fGcuaGFzT3duUHJvcGVydHkoXCJuZ0lucHV0UmFuZ2VcIil8fChrPVwidGV4dFwiKTtcbihsZVtrXXx8bGUudGV4dCkoZSxmLGcsaFswXSxiLGEsZCxjKX19fX19XSxmaD0vXih0cnVlfGZhbHNlfFxcZCspJC8samY9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZmgudGVzdChiLm5nVmFsdWUpP2Z1bmN0aW9uKGEsYixlKXtlLiRzZXQoXCJ2YWx1ZVwiLGEuJGV2YWwoZS5uZ1ZhbHVlKSl9OmZ1bmN0aW9uKGEsYixlKXthLiR3YXRjaChlLm5nVmFsdWUsZnVuY3Rpb24oYSl7ZS4kc2V0KFwidmFsdWVcIixhKX0pfX19fSxKZT1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkFDXCIsY29tcGlsZTpmdW5jdGlvbihiKXthLiQkYWRkQmluZGluZ0NsYXNzKGIpO3JldHVybiBmdW5jdGlvbihiLGMsZSl7YS4kJGFkZEJpbmRpbmdJbmZvKGMsZS5uZ0JpbmQpO2M9Y1swXTtiLiR3YXRjaChlLm5nQmluZCxmdW5jdGlvbihhKXtjLnRleHRDb250ZW50PXooYSk/XCJcIjphfSl9fX19XSxMZT1cbltcIiRpbnRlcnBvbGF0ZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbihhLGIpe3JldHVybntjb21waWxlOmZ1bmN0aW9uKGQpe2IuJCRhZGRCaW5kaW5nQ2xhc3MoZCk7cmV0dXJuIGZ1bmN0aW9uKGMsZCxmKXtjPWEoZC5hdHRyKGYuJGF0dHIubmdCaW5kVGVtcGxhdGUpKTtiLiQkYWRkQmluZGluZ0luZm8oZCxjLmV4cHJlc3Npb25zKTtkPWRbMF07Zi4kb2JzZXJ2ZShcIm5nQmluZFRlbXBsYXRlXCIsZnVuY3Rpb24oYSl7ZC50ZXh0Q29udGVudD16KGEpP1wiXCI6YX0pfX19fV0sS2U9W1wiJHNjZVwiLFwiJHBhcnNlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29tcGlsZTpmdW5jdGlvbihjLGUpe3ZhciBmPWIoZS5uZ0JpbmRIdG1sKSxnPWIoZS5uZ0JpbmRIdG1sLGZ1bmN0aW9uKGIpe3JldHVybiBhLnZhbHVlT2YoYil9KTtkLiQkYWRkQmluZGluZ0NsYXNzKGMpO3JldHVybiBmdW5jdGlvbihiLGMsZSl7ZC4kJGFkZEJpbmRpbmdJbmZvKGMsZS5uZ0JpbmRIdG1sKTtcbmIuJHdhdGNoKGcsZnVuY3Rpb24oKXt2YXIgZD1mKGIpO2MuaHRtbChhLmdldFRydXN0ZWRIdG1sKGQpfHxcIlwiKX0pfX19fV0saGY9bWEoe3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCJuZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtjLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKXthLiRldmFsKGQubmdDaGFuZ2UpfSl9fSksTWU9eGMoXCJcIiwhMCksT2U9eGMoXCJPZGRcIiwwKSxOZT14YyhcIkV2ZW5cIiwxKSxQZT1VYSh7Y29tcGlsZTpmdW5jdGlvbihhLGIpe2IuJHNldChcIm5nQ2xvYWtcIix2b2lkIDApO2EucmVtb3ZlQ2xhc3MoXCJuZy1jbG9ha1wiKX19KSxRZT1bZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6ITAsY29udHJvbGxlcjpcIkBcIixwcmlvcml0eTo1MDB9fV0sU2M9e30sZ2g9e2JsdXI6ITAsZm9jdXM6ITB9O3EoXCJjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2Vtb3ZlIG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBrZXlkb3duIGtleXVwIGtleXByZXNzIHN1Ym1pdCBmb2N1cyBibHVyIGNvcHkgY3V0IHBhc3RlXCIuc3BsaXQoXCIgXCIpLFxuZnVuY3Rpb24oYSl7dmFyIGI9QmEoXCJuZy1cIithKTtTY1tiXT1bXCIkcGFyc2VcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihkLGMpe3JldHVybntyZXN0cmljdDpcIkFcIixjb21waWxlOmZ1bmN0aW9uKGUsZil7dmFyIGc9ZChmW2JdLG51bGwsITApO3JldHVybiBmdW5jdGlvbihiLGQpe2Qub24oYSxmdW5jdGlvbihkKXt2YXIgZT1mdW5jdGlvbigpe2coYix7JGV2ZW50OmR9KX07Z2hbYV0mJmMuJCRwaGFzZT9iLiRldmFsQXN5bmMoZSk6Yi4kYXBwbHkoZSl9KX19fX1dfSk7dmFyIFRlPVtcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJue211bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjYwMCx0ZXJtaW5hbDohMCxyZXN0cmljdDpcIkFcIiwkJHRsYjohMCxsaW5rOmZ1bmN0aW9uKGQsYyxlLGYsZyl7dmFyIGgsayxsO2QuJHdhdGNoKGUubmdJZixmdW5jdGlvbihkKXtkP2t8fGcoZnVuY3Rpb24oZCxmKXtrPWY7ZFtkLmxlbmd0aCsrXT1cbmIuJCRjcmVhdGVDb21tZW50KFwiZW5kIG5nSWZcIixlLm5nSWYpO2g9e2Nsb25lOmR9O2EuZW50ZXIoZCxjLnBhcmVudCgpLGMpfSk6KGwmJihsLnJlbW92ZSgpLGw9bnVsbCksayYmKGsuJGRlc3Ryb3koKSxrPW51bGwpLGgmJihsPXdiKGguY2xvbmUpLGEubGVhdmUobCkudGhlbihmdW5jdGlvbigpe2w9bnVsbH0pLGg9bnVsbCkpfSl9fX1dLFVlPVtcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiRhbmNob3JTY3JvbGxcIixcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHByaW9yaXR5OjQwMCx0ZXJtaW5hbDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLGNvbnRyb2xsZXI6Z2Eubm9vcCxjb21waWxlOmZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5uZ0luY2x1ZGV8fGUuc3JjLGc9ZS5vbmxvYWR8fFwiXCIsaD1lLmF1dG9zY3JvbGw7cmV0dXJuIGZ1bmN0aW9uKGMsZSxtLG4scCl7dmFyIHE9MCxyLHQscyxEPWZ1bmN0aW9uKCl7dCYmKHQucmVtb3ZlKCksdD1udWxsKTtyJiZcbihyLiRkZXN0cm95KCkscj1udWxsKTtzJiYoZC5sZWF2ZShzKS50aGVuKGZ1bmN0aW9uKCl7dD1udWxsfSksdD1zLHM9bnVsbCl9O2MuJHdhdGNoKGYsZnVuY3Rpb24oZil7dmFyIG09ZnVuY3Rpb24oKXshdShoKXx8aCYmIWMuJGV2YWwoaCl8fGIoKX0sdz0rK3E7Zj8oYShmLCEwKS50aGVuKGZ1bmN0aW9uKGEpe2lmKCFjLiQkZGVzdHJveWVkJiZ3PT09cSl7dmFyIGI9Yy4kbmV3KCk7bi50ZW1wbGF0ZT1hO2E9cChiLGZ1bmN0aW9uKGEpe0QoKTtkLmVudGVyKGEsbnVsbCxlKS50aGVuKG0pfSk7cj1iO3M9YTtyLiRlbWl0KFwiJGluY2x1ZGVDb250ZW50TG9hZGVkXCIsZik7Yy4kZXZhbChnKX19LGZ1bmN0aW9uKCl7Yy4kJGRlc3Ryb3llZHx8dyE9PXF8fChEKCksYy4kZW1pdChcIiRpbmNsdWRlQ29udGVudEVycm9yXCIsZikpfSksYy4kZW1pdChcIiRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFwiLGYpKTooRCgpLG4udGVtcGxhdGU9bnVsbCl9KX19fX1dLGxmPVtcIiRjb21waWxlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIsXG5wcmlvcml0eTotNDAwLHJlcXVpcmU6XCJuZ0luY2x1ZGVcIixsaW5rOmZ1bmN0aW9uKGIsZCxjLGUpe25hLmNhbGwoZFswXSkubWF0Y2goL1NWRy8pPyhkLmVtcHR5KCksYShWYyhlLnRlbXBsYXRlLEIuZG9jdW1lbnQpLmNoaWxkTm9kZXMpKGIsZnVuY3Rpb24oYSl7ZC5hcHBlbmQoYSl9LHtmdXR1cmVQYXJlbnRFbGVtZW50OmR9KSk6KGQuaHRtbChlLnRlbXBsYXRlKSxhKGQuY29udGVudHMoKSkoYikpfX19XSxWZT1VYSh7cHJpb3JpdHk6NDUwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsYixkKXthLiRldmFsKGQubmdJbml0KX19fX0pLGdmPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHByaW9yaXR5OjEwMCxyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7dmFyIGU9Yi5hdHRyKGQuJGF0dHIubmdMaXN0KXx8XCIsIFwiLGY9XCJmYWxzZVwiIT09ZC5uZ1RyaW0sZz1mP1UoZSk6ZTtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoIXooYSkpe3ZhciBiPVxuW107YSYmcShhLnNwbGl0KGcpLGZ1bmN0aW9uKGEpe2EmJmIucHVzaChmP1UoYSk6YSl9KTtyZXR1cm4gYn19KTtjLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoSyhhKSlyZXR1cm4gYS5qb2luKGUpfSk7Yy4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8IWEubGVuZ3RofX19fSxyYj1cIm5nLXZhbGlkXCIsY2U9XCJuZy1pbnZhbGlkXCIsVmE9XCJuZy1wcmlzdGluZVwiLFBiPVwibmctZGlydHlcIixlZT1cIm5nLXBlbmRpbmdcIixwYj1OKFwibmdNb2RlbFwiKSxoaD1bXCIkc2NvcGVcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkYXR0cnNcIixcIiRlbGVtZW50XCIsXCIkcGFyc2VcIixcIiRhbmltYXRlXCIsXCIkdGltZW91dFwiLFwiJHJvb3RTY29wZVwiLFwiJHFcIixcIiRpbnRlcnBvbGF0ZVwiLGZ1bmN0aW9uKGEsYixkLGMsZSxmLGcsaCxrLGwpe3RoaXMuJG1vZGVsVmFsdWU9dGhpcy4kdmlld1ZhbHVlPU51bWJlci5OYU47dGhpcy4kJHJhd01vZGVsVmFsdWU9dm9pZCAwO3RoaXMuJHZhbGlkYXRvcnM9e307XG50aGlzLiRhc3luY1ZhbGlkYXRvcnM9e307dGhpcy4kcGFyc2Vycz1bXTt0aGlzLiRmb3JtYXR0ZXJzPVtdO3RoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnM9W107dGhpcy4kdW50b3VjaGVkPSEwO3RoaXMuJHRvdWNoZWQ9ITE7dGhpcy4kcHJpc3RpbmU9ITA7dGhpcy4kZGlydHk9ITE7dGhpcy4kdmFsaWQ9ITA7dGhpcy4kaW52YWxpZD0hMTt0aGlzLiRlcnJvcj17fTt0aGlzLiQkc3VjY2Vzcz17fTt0aGlzLiRwZW5kaW5nPXZvaWQgMDt0aGlzLiRuYW1lPWwoZC5uYW1lfHxcIlwiLCExKShhKTt0aGlzLiQkcGFyZW50Rm9ybT1PYjt2YXIgbT1lKGQubmdNb2RlbCksbj1tLmFzc2lnbixwPW0scj1uLEo9bnVsbCx0LHM9dGhpczt0aGlzLiQkc2V0T3B0aW9ucz1mdW5jdGlvbihhKXtpZigocy4kb3B0aW9ucz1hKSYmYS5nZXR0ZXJTZXR0ZXIpe3ZhciBiPWUoZC5uZ01vZGVsK1wiKClcIiksZj1lKGQubmdNb2RlbCtcIigkJCRwKVwiKTtwPWZ1bmN0aW9uKGEpe3ZhciBjPW0oYSk7RihjKSYmKGM9YihhKSk7XG5yZXR1cm4gY307cj1mdW5jdGlvbihhLGIpe0YobShhKSk/ZihhLHskJCRwOmJ9KTpuKGEsYil9fWVsc2UgaWYoIW0uYXNzaWduKXRocm93IHBiKFwibm9uYXNzaWduXCIsZC5uZ01vZGVsLHdhKGMpKTt9O3RoaXMuJHJlbmRlcj1DO3RoaXMuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSl8fFwiXCI9PT1hfHxudWxsPT09YXx8YSE9PWF9O3RoaXMuJCR1cGRhdGVFbXB0eUNsYXNzZXM9ZnVuY3Rpb24oYSl7cy4kaXNFbXB0eShhKT8oZi5yZW1vdmVDbGFzcyhjLFwibmctbm90LWVtcHR5XCIpLGYuYWRkQ2xhc3MoYyxcIm5nLWVtcHR5XCIpKTooZi5yZW1vdmVDbGFzcyhjLFwibmctZW1wdHlcIiksZi5hZGRDbGFzcyhjLFwibmctbm90LWVtcHR5XCIpKX07dmFyIEQ9MDtaZCh7Y3RybDp0aGlzLCRlbGVtZW50OmMsc2V0OmZ1bmN0aW9uKGEsYil7YVtiXT0hMH0sdW5zZXQ6ZnVuY3Rpb24oYSxiKXtkZWxldGUgYVtiXX0sJGFuaW1hdGU6Zn0pO3RoaXMuJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7cy4kZGlydHk9XG4hMTtzLiRwcmlzdGluZT0hMDtmLnJlbW92ZUNsYXNzKGMsUGIpO2YuYWRkQ2xhc3MoYyxWYSl9O3RoaXMuJHNldERpcnR5PWZ1bmN0aW9uKCl7cy4kZGlydHk9ITA7cy4kcHJpc3RpbmU9ITE7Zi5yZW1vdmVDbGFzcyhjLFZhKTtmLmFkZENsYXNzKGMsUGIpO3MuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfTt0aGlzLiRzZXRVbnRvdWNoZWQ9ZnVuY3Rpb24oKXtzLiR0b3VjaGVkPSExO3MuJHVudG91Y2hlZD0hMDtmLnNldENsYXNzKGMsXCJuZy11bnRvdWNoZWRcIixcIm5nLXRvdWNoZWRcIil9O3RoaXMuJHNldFRvdWNoZWQ9ZnVuY3Rpb24oKXtzLiR0b3VjaGVkPSEwO3MuJHVudG91Y2hlZD0hMTtmLnNldENsYXNzKGMsXCJuZy10b3VjaGVkXCIsXCJuZy11bnRvdWNoZWRcIil9O3RoaXMuJHJvbGxiYWNrVmlld1ZhbHVlPWZ1bmN0aW9uKCl7Zy5jYW5jZWwoSik7cy4kdmlld1ZhbHVlPXMuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO3MuJHJlbmRlcigpfTt0aGlzLiR2YWxpZGF0ZT1mdW5jdGlvbigpe2lmKCFYKHMuJG1vZGVsVmFsdWUpKXt2YXIgYT1cbnMuJCRyYXdNb2RlbFZhbHVlLGI9cy4kdmFsaWQsYz1zLiRtb2RlbFZhbHVlLGQ9cy4kb3B0aW9ucyYmcy4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7cy4kJHJ1blZhbGlkYXRvcnMoYSxzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbihlKXtkfHxiPT09ZXx8KHMuJG1vZGVsVmFsdWU9ZT9hOnZvaWQgMCxzLiRtb2RlbFZhbHVlIT09YyYmcy4kJHdyaXRlTW9kZWxUb1Njb3BlKCkpfSl9fTt0aGlzLiQkcnVuVmFsaWRhdG9ycz1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe3ZhciBjPSEwO3Eocy4kdmFsaWRhdG9ycyxmdW5jdGlvbihkLGUpe3ZhciBnPWQoYSxiKTtjPWMmJmc7ZihlLGcpfSk7cmV0dXJuIGM/ITA6KHEocy4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKGEsYil7ZihiLG51bGwpfSksITEpfWZ1bmN0aW9uIGUoKXt2YXIgYz1bXSxkPSEwO3Eocy4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKGUsZyl7dmFyIGg9ZShhLGIpO2lmKCFofHwhRihoLnRoZW4pKXRocm93IHBiKFwibm9wcm9taXNlXCIsXG5oKTtmKGcsdm9pZCAwKTtjLnB1c2goaC50aGVuKGZ1bmN0aW9uKCl7ZihnLCEwKX0sZnVuY3Rpb24oKXtkPSExO2YoZywhMSl9KSl9KTtjLmxlbmd0aD9rLmFsbChjKS50aGVuKGZ1bmN0aW9uKCl7ZyhkKX0sQyk6ZyghMCl9ZnVuY3Rpb24gZihhLGIpe2g9PT1EJiZzLiRzZXRWYWxpZGl0eShhLGIpfWZ1bmN0aW9uIGcoYSl7aD09PUQmJmMoYSl9RCsrO3ZhciBoPUQ7KGZ1bmN0aW9uKCl7dmFyIGE9cy4kJHBhcnNlck5hbWV8fFwicGFyc2VcIjtpZih6KHQpKWYoYSxudWxsKTtlbHNlIHJldHVybiB0fHwocShzLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKGEsYil7ZihiLG51bGwpfSkscShzLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24oYSxiKXtmKGIsbnVsbCl9KSksZihhLHQpLHQ7cmV0dXJuITB9KSgpP2QoKT9lKCk6ZyghMSk6ZyghMSl9O3RoaXMuJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPXMuJHZpZXdWYWx1ZTtnLmNhbmNlbChKKTtpZihzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSE9PVxuYXx8XCJcIj09PWEmJnMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKXMuJCR1cGRhdGVFbXB0eUNsYXNzZXMoYSkscy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9YSxzLiRwcmlzdGluZSYmdGhpcy4kc2V0RGlydHkoKSx0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSgpfTt0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZT1mdW5jdGlvbigpe3ZhciBiPXMuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO2lmKHQ9eihiKT92b2lkIDA6ITApZm9yKHZhciBjPTA7YzxzLiRwYXJzZXJzLmxlbmd0aDtjKyspaWYoYj1zLiRwYXJzZXJzW2NdKGIpLHooYikpe3Q9ITE7YnJlYWt9WChzLiRtb2RlbFZhbHVlKSYmKHMuJG1vZGVsVmFsdWU9cChhKSk7dmFyIGQ9cy4kbW9kZWxWYWx1ZSxlPXMuJG9wdGlvbnMmJnMuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO3MuJCRyYXdNb2RlbFZhbHVlPWI7ZSYmKHMuJG1vZGVsVmFsdWU9YixzLiRtb2RlbFZhbHVlIT09ZCYmcy4kJHdyaXRlTW9kZWxUb1Njb3BlKCkpO3MuJCRydW5WYWxpZGF0b3JzKGIsXG5zLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbihhKXtlfHwocy4kbW9kZWxWYWx1ZT1hP2I6dm9pZCAwLHMuJG1vZGVsVmFsdWUhPT1kJiZzLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX07dGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlPWZ1bmN0aW9uKCl7cihhLHMuJG1vZGVsVmFsdWUpO3Eocy4kdmlld0NoYW5nZUxpc3RlbmVycyxmdW5jdGlvbihhKXt0cnl7YSgpfWNhdGNoKGMpe2IoYyl9fSl9O3RoaXMuJHNldFZpZXdWYWx1ZT1mdW5jdGlvbihhLGIpe3MuJHZpZXdWYWx1ZT1hO3MuJG9wdGlvbnMmJiFzLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdHx8cy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGIpfTt0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQ9ZnVuY3Rpb24oYil7dmFyIGM9MCxkPXMuJG9wdGlvbnM7ZCYmdShkLmRlYm91bmNlKSYmKGQ9ZC5kZWJvdW5jZSxaKGQpP2M9ZDpaKGRbYl0pP2M9ZFtiXTpaKGRbXCJkZWZhdWx0XCJdKSYmKGM9ZFtcImRlZmF1bHRcIl0pKTtcbmcuY2FuY2VsKEopO2M/Sj1nKGZ1bmN0aW9uKCl7cy4kY29tbWl0Vmlld1ZhbHVlKCl9LGMpOmguJCRwaGFzZT9zLiRjb21taXRWaWV3VmFsdWUoKTphLiRhcHBseShmdW5jdGlvbigpe3MuJGNvbW1pdFZpZXdWYWx1ZSgpfSl9O2EuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIGI9cChhKTtpZihiIT09cy4kbW9kZWxWYWx1ZSYmKHMuJG1vZGVsVmFsdWU9PT1zLiRtb2RlbFZhbHVlfHxiPT09Yikpe3MuJG1vZGVsVmFsdWU9cy4kJHJhd01vZGVsVmFsdWU9Yjt0PXZvaWQgMDtmb3IodmFyIGM9cy4kZm9ybWF0dGVycyxkPWMubGVuZ3RoLGU9YjtkLS07KWU9Y1tkXShlKTtzLiR2aWV3VmFsdWUhPT1lJiYocy4kJHVwZGF0ZUVtcHR5Q2xhc3NlcyhlKSxzLiR2aWV3VmFsdWU9cy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9ZSxzLiRyZW5kZXIoKSxzLiQkcnVuVmFsaWRhdG9ycyhzLiRtb2RlbFZhbHVlLHMuJHZpZXdWYWx1ZSxDKSl9cmV0dXJuIGJ9KX1dLGZmPVtcIiRyb290U2NvcGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsXG5yZXF1aXJlOltcIm5nTW9kZWxcIixcIl4/Zm9ybVwiLFwiXj9uZ01vZGVsT3B0aW9uc1wiXSxjb250cm9sbGVyOmhoLHByaW9yaXR5OjEsY29tcGlsZTpmdW5jdGlvbihiKXtiLmFkZENsYXNzKFZhKS5hZGRDbGFzcyhcIm5nLXVudG91Y2hlZFwiKS5hZGRDbGFzcyhyYik7cmV0dXJue3ByZTpmdW5jdGlvbihhLGIsZSxmKXt2YXIgZz1mWzBdO2I9ZlsxXXx8Zy4kJHBhcmVudEZvcm07Zy4kJHNldE9wdGlvbnMoZlsyXSYmZlsyXS4kb3B0aW9ucyk7Yi4kYWRkQ29udHJvbChnKTtlLiRvYnNlcnZlKFwibmFtZVwiLGZ1bmN0aW9uKGEpe2cuJG5hbWUhPT1hJiZnLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2woZyxhKX0pO2EuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2cuJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKGcpfSl9LHBvc3Q6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGc9ZlswXTtpZihnLiRvcHRpb25zJiZnLiRvcHRpb25zLnVwZGF0ZU9uKWMub24oZy4kb3B0aW9ucy51cGRhdGVPbixcbmZ1bmN0aW9uKGEpe2cuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdChhJiZhLnR5cGUpfSk7Yy5vbihcImJsdXJcIixmdW5jdGlvbigpe2cuJHRvdWNoZWR8fChhLiQkcGhhc2U/Yi4kZXZhbEFzeW5jKGcuJHNldFRvdWNoZWQpOmIuJGFwcGx5KGcuJHNldFRvdWNoZWQpKX0pfX19fX1dLGloPS8oXFxzK3xeKWRlZmF1bHQoXFxzK3wkKS8sa2Y9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixcIiRhdHRyc1wiLGZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpczt0aGlzLiRvcHRpb25zPXBhKGEuJGV2YWwoYi5uZ01vZGVsT3B0aW9ucykpO3UodGhpcy4kb3B0aW9ucy51cGRhdGVPbik/KHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0PSExLHRoaXMuJG9wdGlvbnMudXBkYXRlT249VSh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uLnJlcGxhY2UoaWgsZnVuY3Rpb24oKXtkLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMDtyZXR1cm5cIiBcIn0pKSk6dGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9XG4hMH1dfX0sV2U9VWEoe3Rlcm1pbmFsOiEwLHByaW9yaXR5OjFFM30pLGpoPU4oXCJuZ09wdGlvbnNcIiksa2g9L15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2dyb3VwXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2Rpc2FibGVcXHMrd2hlblxccysoW1xcc1xcU10rPykpP1xccytmb3JcXHMrKD86KFtcXCRcXHddW1xcJFxcd10qKXwoPzpcXChcXHMqKFtcXCRcXHddW1xcJFxcd10qKVxccyosXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqXFwpKSlcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/JC8sZGY9W1wiJGNvbXBpbGVcIixcIiRkb2N1bWVudFwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGMoYSxiLGMpe2Z1bmN0aW9uIGUoYSxiLGMsZCxmKXt0aGlzLnNlbGVjdFZhbHVlPWE7dGhpcy52aWV3VmFsdWU9Yjt0aGlzLmxhYmVsPWM7dGhpcy5ncm91cD1kO3RoaXMuZGlzYWJsZWQ9Zn1mdW5jdGlvbiBmKGEpe3ZhciBiO2lmKCFxJiZyYShhKSliPVxuYTtlbHNle2I9W107Zm9yKHZhciBjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmXCIkXCIhPT1jLmNoYXJBdCgwKSYmYi5wdXNoKGMpfXJldHVybiBifXZhciBuPWEubWF0Y2goa2gpO2lmKCFuKXRocm93IGpoKFwiaWV4cFwiLGEsd2EoYikpO3ZhciBwPW5bNV18fG5bN10scT1uWzZdO2E9LyBhcyAvLnRlc3QoblswXSkmJm5bMV07dmFyIHI9bls5XTtiPWQoblsyXT9uWzFdOnApO3ZhciB0PWEmJmQoYSl8fGIscz1yJiZkKHIpLHU9cj9mdW5jdGlvbihhLGIpe3JldHVybiBzKGMsYil9OmZ1bmN0aW9uKGEpe3JldHVybiB6YShhKX0seT1mdW5jdGlvbihhLGIpe3JldHVybiB1KGEsQShhLGIpKX0sej1kKG5bMl18fG5bMV0pLHc9ZChuWzNdfHxcIlwiKSxDPWQobls0XXx8XCJcIiksRj1kKG5bOF0pLEI9e30sQT1xP2Z1bmN0aW9uKGEsYil7QltxXT1iO0JbcF09YTtyZXR1cm4gQn06ZnVuY3Rpb24oYSl7QltwXT1hO3JldHVybiBCfTtyZXR1cm57dHJhY2tCeTpyLGdldFRyYWNrQnlWYWx1ZTp5LGdldFdhdGNoYWJsZXM6ZChGLFxuZnVuY3Rpb24oYSl7dmFyIGI9W107YT1hfHxbXTtmb3IodmFyIGQ9ZihhKSxlPWQubGVuZ3RoLGc9MDtnPGU7ZysrKXt2YXIgaD1hPT09ZD9nOmRbZ10sbD1hW2hdLGg9QShsLGgpLGw9dShsLGgpO2IucHVzaChsKTtpZihuWzJdfHxuWzFdKWw9eihjLGgpLGIucHVzaChsKTtuWzRdJiYoaD1DKGMsaCksYi5wdXNoKGgpKX1yZXR1cm4gYn0pLGdldE9wdGlvbnM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj17fSxkPUYoYyl8fFtdLGc9ZihkKSxoPWcubGVuZ3RoLG49MDtuPGg7bisrKXt2YXIgcD1kPT09Zz9uOmdbbl0scT1BKGRbcF0scCkscz10KGMscSkscD11KHMscSkseD16KGMscSksQj13KGMscSkscT1DKGMscSkscz1uZXcgZShwLHMseCxCLHEpO2EucHVzaChzKTtiW3BdPXN9cmV0dXJue2l0ZW1zOmEsc2VsZWN0VmFsdWVNYXA6YixnZXRPcHRpb25Gcm9tVmlld1ZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBiW3koYSldfSxnZXRWaWV3VmFsdWVGcm9tT3B0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiByP1xuZ2EuY29weShhLnZpZXdWYWx1ZSk6YS52aWV3VmFsdWV9fX19fXZhciBlPUIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxmPUIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGdyb3VwXCIpO3JldHVybntyZXN0cmljdDpcIkFcIix0ZXJtaW5hbDohMCxyZXF1aXJlOltcInNlbGVjdFwiLFwibmdNb2RlbFwiXSxsaW5rOntwcmU6ZnVuY3Rpb24oYSxiLGMsZCl7ZFswXS5yZWdpc3Rlck9wdGlvbj1DfSxwb3N0OmZ1bmN0aW9uKGQsaCxrLGwpe2Z1bmN0aW9uIG0oYSxiKXthLmVsZW1lbnQ9YjtiLmRpc2FibGVkPWEuZGlzYWJsZWQ7YS5sYWJlbCE9PWIubGFiZWwmJihiLmxhYmVsPWEubGFiZWwsYi50ZXh0Q29udGVudD1hLmxhYmVsKTthLnZhbHVlIT09Yi52YWx1ZSYmKGIudmFsdWU9YS5zZWxlY3RWYWx1ZSl9ZnVuY3Rpb24gbigpe3ZhciBhPXcmJnAucmVhZFZhbHVlKCk7aWYodylmb3IodmFyIGI9dy5pdGVtcy5sZW5ndGgtMTswPD1iO2ItLSl7dmFyIGM9dy5pdGVtc1tiXTt1KGMuZ3JvdXApP1xuR2IoYy5lbGVtZW50LnBhcmVudE5vZGUpOkdiKGMuZWxlbWVudCl9dz1CLmdldE9wdGlvbnMoKTt2YXIgZD17fTt5JiZoLnByZXBlbmQodCk7dy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiO2lmKHUoYS5ncm91cCkpe2I9ZFthLmdyb3VwXTtifHwoYj1mLmNsb25lTm9kZSghMSksRi5hcHBlbmRDaGlsZChiKSxiLmxhYmVsPW51bGw9PT1hLmdyb3VwP1wibnVsbFwiOmEuZ3JvdXAsZFthLmdyb3VwXT1iKTt2YXIgYz1lLmNsb25lTm9kZSghMSl9ZWxzZSBiPUYsYz1lLmNsb25lTm9kZSghMSk7Yi5hcHBlbmRDaGlsZChjKTttKGEsYyl9KTtoWzBdLmFwcGVuZENoaWxkKEYpO3IuJHJlbmRlcigpO3IuJGlzRW1wdHkoYSl8fChiPXAucmVhZFZhbHVlKCksKEIudHJhY2tCeXx8ej9vYShhLGIpOmE9PT1iKXx8KHIuJHNldFZpZXdWYWx1ZShiKSxyLiRyZW5kZXIoKSkpfXZhciBwPWxbMF0scj1sWzFdLHo9ay5tdWx0aXBsZSx0O2w9MDtmb3IodmFyIHM9aC5jaGlsZHJlbigpLEQ9cy5sZW5ndGg7bDxcbkQ7bCsrKWlmKFwiXCI9PT1zW2xdLnZhbHVlKXt0PXMuZXEobCk7YnJlYWt9dmFyIHk9ISF0LEM9RShlLmNsb25lTm9kZSghMSkpO0MudmFsKFwiP1wiKTt2YXIgdyxCPWMoay5uZ09wdGlvbnMsaCxkKSxGPWJbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLEg9ZnVuY3Rpb24oKXt5P3QucmVtb3ZlQXR0cihcInNlbGVjdGVkXCIpOnQucmVtb3ZlKCl9O3o/KHIuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fDA9PT1hLmxlbmd0aH0scC53cml0ZVZhbHVlPWZ1bmN0aW9uKGEpe3cuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihhKXthLmVsZW1lbnQuc2VsZWN0ZWQ9ITF9KTthJiZhLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoYT13LmdldE9wdGlvbkZyb21WaWV3VmFsdWUoYSkpYS5lbGVtZW50LnNlbGVjdGVkPSEwfSl9LHAucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9aC52YWwoKXx8W10sYj1bXTtxKGEsZnVuY3Rpb24oYSl7KGE9dy5zZWxlY3RWYWx1ZU1hcFthXSkmJiFhLmRpc2FibGVkJiZcbmIucHVzaCh3LmdldFZpZXdWYWx1ZUZyb21PcHRpb24oYSkpfSk7cmV0dXJuIGJ9LEIudHJhY2tCeSYmZC4kd2F0Y2hDb2xsZWN0aW9uKGZ1bmN0aW9uKCl7aWYoSyhyLiR2aWV3VmFsdWUpKXJldHVybiByLiR2aWV3VmFsdWUubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBCLmdldFRyYWNrQnlWYWx1ZShhKX0pfSxmdW5jdGlvbigpe3IuJHJlbmRlcigpfSkpOihwLndyaXRlVmFsdWU9ZnVuY3Rpb24oYSl7dmFyIGI9dy5zZWxlY3RWYWx1ZU1hcFtoLnZhbCgpXSxjPXcuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZShhKTtiJiZiLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwic2VsZWN0ZWRcIik7Yz8oaFswXS52YWx1ZSE9PWMuc2VsZWN0VmFsdWUmJihDLnJlbW92ZSgpLEgoKSxoWzBdLnZhbHVlPWMuc2VsZWN0VmFsdWUsYy5lbGVtZW50LnNlbGVjdGVkPSEwKSxjLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIixcInNlbGVjdGVkXCIpKTpudWxsPT09YXx8eT8oQy5yZW1vdmUoKSx5fHxoLnByZXBlbmQodCksXG5oLnZhbChcIlwiKSx0LnByb3AoXCJzZWxlY3RlZFwiLCEwKSx0LmF0dHIoXCJzZWxlY3RlZFwiLCEwKSk6KEgoKSxoLnByZXBlbmQoQyksaC52YWwoXCI/XCIpLEMucHJvcChcInNlbGVjdGVkXCIsITApLEMuYXR0cihcInNlbGVjdGVkXCIsITApKX0scC5yZWFkVmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT13LnNlbGVjdFZhbHVlTWFwW2gudmFsKCldO3JldHVybiBhJiYhYS5kaXNhYmxlZD8oSCgpLEMucmVtb3ZlKCksdy5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKGEpKTpudWxsfSxCLnRyYWNrQnkmJmQuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIEIuZ2V0VHJhY2tCeVZhbHVlKHIuJHZpZXdWYWx1ZSl9LGZ1bmN0aW9uKCl7ci4kcmVuZGVyKCl9KSk7eT8odC5yZW1vdmUoKSxhKHQpKGQpLHQucmVtb3ZlQ2xhc3MoXCJuZy1zY29wZVwiKSk6dD1FKGUuY2xvbmVOb2RlKCExKSk7aC5lbXB0eSgpO24oKTtkLiR3YXRjaENvbGxlY3Rpb24oQi5nZXRXYXRjaGFibGVzLG4pfX19fV0sWGU9W1wiJGxvY2FsZVwiLFwiJGludGVycG9sYXRlXCIsXG5cIiRsb2dcIixmdW5jdGlvbihhLGIsZCl7dmFyIGM9L3t9L2csZT0vXndoZW4oTWludXMpPyguKykkLztyZXR1cm57bGluazpmdW5jdGlvbihmLGcsaCl7ZnVuY3Rpb24gayhhKXtnLnRleHQoYXx8XCJcIil9dmFyIGw9aC5jb3VudCxtPWguJGF0dHIud2hlbiYmZy5hdHRyKGguJGF0dHIud2hlbiksbj1oLm9mZnNldHx8MCxwPWYuJGV2YWwobSl8fHt9LHI9e30sdT1iLnN0YXJ0U3ltYm9sKCksdD1iLmVuZFN5bWJvbCgpLHM9dStsK1wiLVwiK24rdCxEPWdhLm5vb3AseTtxKGgsZnVuY3Rpb24oYSxiKXt2YXIgYz1lLmV4ZWMoYik7YyYmKGM9KGNbMV0/XCItXCI6XCJcIikrUChjWzJdKSxwW2NdPWcuYXR0cihoLiRhdHRyW2JdKSl9KTtxKHAsZnVuY3Rpb24oYSxkKXtyW2RdPWIoYS5yZXBsYWNlKGMscykpfSk7Zi4kd2F0Y2gobCxmdW5jdGlvbihiKXt2YXIgYz1wYXJzZUZsb2F0KGIpLGU9WChjKTtlfHxjIGluIHB8fChjPWEucGx1cmFsQ2F0KGMtbikpO2M9PT15fHxlJiZYKHkpfHwoRCgpLGU9cltjXSxcbnooZSk/KG51bGwhPWImJmQuZGVidWcoXCJuZ1BsdXJhbGl6ZTogbm8gcnVsZSBkZWZpbmVkIGZvciAnXCIrYytcIicgaW4gXCIrbSksRD1DLGsoKSk6RD1mLiR3YXRjaChlLGspLHk9Yyl9KX19fV0sWWU9W1wiJHBhcnNlXCIsXCIkYW5pbWF0ZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbihhLGIsZCl7dmFyIGM9TihcIm5nUmVwZWF0XCIpLGU9ZnVuY3Rpb24oYSxiLGMsZCxlLG0sbil7YVtjXT1kO2UmJihhW2VdPW0pO2EuJGluZGV4PWI7YS4kZmlyc3Q9MD09PWI7YS4kbGFzdD1iPT09bi0xO2EuJG1pZGRsZT0hKGEuJGZpcnN0fHxhLiRsYXN0KTthLiRvZGQ9IShhLiRldmVuPTA9PT0oYiYxKSl9O3JldHVybntyZXN0cmljdDpcIkFcIixtdWx0aUVsZW1lbnQ6ITAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixwcmlvcml0eToxRTMsdGVybWluYWw6ITAsJCR0bGI6ITAsY29tcGlsZTpmdW5jdGlvbihmLGcpe3ZhciBoPWcubmdSZXBlYXQsaz1kLiQkY3JlYXRlQ29tbWVudChcImVuZCBuZ1JlcGVhdFwiLGgpLGw9aC5tYXRjaCgvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzKiQvKTtcbmlmKCFsKXRocm93IGMoXCJpZXhwXCIsaCk7dmFyIG09bFsxXSxuPWxbMl0scD1sWzNdLHI9bFs0XSxsPW0ubWF0Y2goL14oPzooXFxzKltcXCRcXHddKyl8XFwoXFxzKihbXFwkXFx3XSspXFxzKixcXHMqKFtcXCRcXHddKylcXHMqXFwpKSQvKTtpZighbCl0aHJvdyBjKFwiaWlkZXhwXCIsbSk7dmFyIHU9bFszXXx8bFsxXSx0PWxbMl07aWYocCYmKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3QocCl8fC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XFwkaW5kZXh8XFwkZmlyc3R8XFwkbWlkZGxlfFxcJGxhc3R8XFwkZXZlbnxcXCRvZGR8XFwkcGFyZW50fFxcJHJvb3R8XFwkaWQpJC8udGVzdChwKSkpdGhyb3cgYyhcImJhZGlkZW50XCIscCk7dmFyIHMseix5LEMsdz17JGlkOnphfTtyP3M9YShyKTooeT1mdW5jdGlvbihhLGIpe3JldHVybiB6YShiKX0sQz1mdW5jdGlvbihhKXtyZXR1cm4gYX0pO3JldHVybiBmdW5jdGlvbihhLGQsZixnLGwpe3MmJih6PWZ1bmN0aW9uKGIsYyxkKXt0JiYod1t0XT1iKTt3W3VdPWM7dy4kaW5kZXg9XG5kO3JldHVybiBzKGEsdyl9KTt2YXIgbT1TKCk7YS4kd2F0Y2hDb2xsZWN0aW9uKG4sZnVuY3Rpb24oZil7dmFyIGcsbixzPWRbMF0scix4PVMoKSx3LEIsRixBLEgsRSxJO3AmJihhW3BdPWYpO2lmKHJhKGYpKUg9ZixuPXp8fHk7ZWxzZSBmb3IoSSBpbiBuPXp8fEMsSD1bXSxmKXNhLmNhbGwoZixJKSYmXCIkXCIhPT1JLmNoYXJBdCgwKSYmSC5wdXNoKEkpO3c9SC5sZW5ndGg7ST1BcnJheSh3KTtmb3IoZz0wO2c8dztnKyspaWYoQj1mPT09SD9nOkhbZ10sRj1mW0JdLEE9bihCLEYsZyksbVtBXSlFPW1bQV0sZGVsZXRlIG1bQV0seFtBXT1FLElbZ109RTtlbHNle2lmKHhbQV0pdGhyb3cgcShJLGZ1bmN0aW9uKGEpe2EmJmEuc2NvcGUmJihtW2EuaWRdPWEpfSksYyhcImR1cGVzXCIsaCxBLEYpO0lbZ109e2lkOkEsc2NvcGU6dm9pZCAwLGNsb25lOnZvaWQgMH07eFtBXT0hMH1mb3IociBpbiBtKXtFPW1bcl07QT13YihFLmNsb25lKTtiLmxlYXZlKEEpO2lmKEFbMF0ucGFyZW50Tm9kZSlmb3IoZz1cbjAsbj1BLmxlbmd0aDtnPG47ZysrKUFbZ10uJCROR19SRU1PVkVEPSEwO0Uuc2NvcGUuJGRlc3Ryb3koKX1mb3IoZz0wO2c8dztnKyspaWYoQj1mPT09SD9nOkhbZ10sRj1mW0JdLEU9SVtnXSxFLnNjb3BlKXtyPXM7ZG8gcj1yLm5leHRTaWJsaW5nO3doaWxlKHImJnIuJCROR19SRU1PVkVEKTtFLmNsb25lWzBdIT09ciYmYi5tb3ZlKHdiKEUuY2xvbmUpLG51bGwscyk7cz1FLmNsb25lW0UuY2xvbmUubGVuZ3RoLTFdO2UoRS5zY29wZSxnLHUsRix0LEIsdyl9ZWxzZSBsKGZ1bmN0aW9uKGEsYyl7RS5zY29wZT1jO3ZhciBkPWsuY2xvbmVOb2RlKCExKTthW2EubGVuZ3RoKytdPWQ7Yi5lbnRlcihhLG51bGwscyk7cz1kO0UuY2xvbmU9YTt4W0UuaWRdPUU7ZShFLnNjb3BlLGcsdSxGLHQsQix3KX0pO209eH0pfX19fV0sWmU9W1wiJGFuaW1hdGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYixkLGMpe2IuJHdhdGNoKGMubmdTaG93LFxuZnVuY3Rpb24oYil7YVtiP1wicmVtb3ZlQ2xhc3NcIjpcImFkZENsYXNzXCJdKGQsXCJuZy1oaWRlXCIse3RlbXBDbGFzc2VzOlwibmctaGlkZS1hbmltYXRlXCJ9KX0pfX19XSxTZT1bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkFcIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihiLGQsYyl7Yi4kd2F0Y2goYy5uZ0hpZGUsZnVuY3Rpb24oYil7YVtiP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKGQsXCJuZy1oaWRlXCIse3RlbXBDbGFzc2VzOlwibmctaGlkZS1hbmltYXRlXCJ9KX0pfX19XSwkZT1VYShmdW5jdGlvbihhLGIsZCl7YS4kd2F0Y2goZC5uZ1N0eWxlLGZ1bmN0aW9uKGEsZCl7ZCYmYSE9PWQmJnEoZCxmdW5jdGlvbihhLGMpe2IuY3NzKGMsXCJcIil9KTthJiZiLmNzcyhhKX0sITApfSksYWY9W1wiJGFuaW1hdGVcIixcIiRjb21waWxlXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVxdWlyZTpcIm5nU3dpdGNoXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixmdW5jdGlvbigpe3RoaXMuY2FzZXM9XG57fX1dLGxpbms6ZnVuY3Rpb24oZCxjLGUsZil7dmFyIGc9W10saD1bXSxrPVtdLGw9W10sbT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe2Euc3BsaWNlKGIsMSl9fTtkLiR3YXRjaChlLm5nU3dpdGNofHxlLm9uLGZ1bmN0aW9uKGMpe3ZhciBkLGU7ZD0wO2ZvcihlPWsubGVuZ3RoO2Q8ZTsrK2QpYS5jYW5jZWwoa1tkXSk7ZD1rLmxlbmd0aD0wO2ZvcihlPWwubGVuZ3RoO2Q8ZTsrK2Qpe3ZhciByPXdiKGhbZF0uY2xvbmUpO2xbZF0uJGRlc3Ryb3koKTsoa1tkXT1hLmxlYXZlKHIpKS50aGVuKG0oayxkKSl9aC5sZW5ndGg9MDtsLmxlbmd0aD0wOyhnPWYuY2FzZXNbXCIhXCIrY118fGYuY2FzZXNbXCI/XCJdKSYmcShnLGZ1bmN0aW9uKGMpe2MudHJhbnNjbHVkZShmdW5jdGlvbihkLGUpe2wucHVzaChlKTt2YXIgZj1jLmVsZW1lbnQ7ZFtkLmxlbmd0aCsrXT1iLiQkY3JlYXRlQ29tbWVudChcImVuZCBuZ1N3aXRjaFdoZW5cIik7aC5wdXNoKHtjbG9uZTpkfSk7YS5lbnRlcihkLGYucGFyZW50KCksXG5mKX0pfSl9KX19fV0sYmY9VWEoe3RyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOlwiXm5nU3dpdGNoXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyxlKXtjLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXT1jLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXXx8W107Yy5jYXNlc1tcIiFcIitkLm5nU3dpdGNoV2hlbl0ucHVzaCh7dHJhbnNjbHVkZTplLGVsZW1lbnQ6Yn0pfX0pLGNmPVVhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjEyMDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsYixkLGMsZSl7Yy5jYXNlc1tcIj9cIl09Yy5jYXNlc1tcIj9cIl18fFtdO2MuY2FzZXNbXCI/XCJdLnB1c2goe3RyYW5zY2x1ZGU6ZSxlbGVtZW50OmJ9KX19KSxsaD1OKFwibmdUcmFuc2NsdWRlXCIpLGVmPVtcIiRjb21waWxlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRUFDXCIsdGVybWluYWw6ITAsY29tcGlsZTpmdW5jdGlvbihiKXt2YXIgZD1cbmEoYi5jb250ZW50cygpKTtiLmVtcHR5KCk7cmV0dXJuIGZ1bmN0aW9uKGEsYixmLGcsaCl7ZnVuY3Rpb24gaygpe2QoYSxmdW5jdGlvbihhKXtiLmFwcGVuZChhKX0pfWlmKCFoKXRocm93IGxoKFwib3JwaGFuXCIsd2EoYikpO2YubmdUcmFuc2NsdWRlPT09Zi4kYXR0ci5uZ1RyYW5zY2x1ZGUmJihmLm5nVHJhbnNjbHVkZT1cIlwiKTtmPWYubmdUcmFuc2NsdWRlfHxmLm5nVHJhbnNjbHVkZVNsb3Q7aChmdW5jdGlvbihhLGMpe2EubGVuZ3RoP2IuYXBwZW5kKGEpOihrKCksYy4kZGVzdHJveSgpKX0sbnVsbCxmKTtmJiYhaC5pc1Nsb3RGaWxsZWQoZikmJmsoKX19fX1dLEdlPVtcIiR0ZW1wbGF0ZUNhY2hlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiEwLGNvbXBpbGU6ZnVuY3Rpb24oYixkKXtcInRleHQvbmctdGVtcGxhdGVcIj09PWQudHlwZSYmYS5wdXQoZC5pZCxiWzBdLnRleHQpfX19XSxtaD17JHNldFZpZXdWYWx1ZTpDLCRyZW5kZXI6Q30sbmg9W1wiJGVsZW1lbnRcIixcblwiJHNjb3BlXCIsZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGM9bmV3IFJhO2QubmdNb2RlbEN0cmw9bWg7ZC51bmtub3duT3B0aW9uPUUoQi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtkLnJlbmRlclVua25vd25PcHRpb249ZnVuY3Rpb24oYil7Yj1cIj8gXCIremEoYikrXCIgP1wiO2QudW5rbm93bk9wdGlvbi52YWwoYik7YS5wcmVwZW5kKGQudW5rbm93bk9wdGlvbik7YS52YWwoYil9O2IuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2QucmVuZGVyVW5rbm93bk9wdGlvbj1DfSk7ZC5yZW1vdmVVbmtub3duT3B0aW9uPWZ1bmN0aW9uKCl7ZC51bmtub3duT3B0aW9uLnBhcmVudCgpJiZkLnVua25vd25PcHRpb24ucmVtb3ZlKCl9O2QucmVhZFZhbHVlPWZ1bmN0aW9uKCl7ZC5yZW1vdmVVbmtub3duT3B0aW9uKCk7cmV0dXJuIGEudmFsKCl9O2Qud3JpdGVWYWx1ZT1mdW5jdGlvbihiKXtkLmhhc09wdGlvbihiKT8oZC5yZW1vdmVVbmtub3duT3B0aW9uKCksYS52YWwoYiksXG5cIlwiPT09YiYmZC5lbXB0eU9wdGlvbi5wcm9wKFwic2VsZWN0ZWRcIiwhMCkpOm51bGw9PWImJmQuZW1wdHlPcHRpb24/KGQucmVtb3ZlVW5rbm93bk9wdGlvbigpLGEudmFsKFwiXCIpKTpkLnJlbmRlclVua25vd25PcHRpb24oYil9O2QuYWRkT3B0aW9uPWZ1bmN0aW9uKGEsYil7aWYoOCE9PWJbMF0ubm9kZVR5cGUpe1FhKGEsJ1wib3B0aW9uIHZhbHVlXCInKTtcIlwiPT09YSYmKGQuZW1wdHlPcHRpb249Yik7dmFyIGc9Yy5nZXQoYSl8fDA7Yy5wdXQoYSxnKzEpO2QubmdNb2RlbEN0cmwuJHJlbmRlcigpO2JbMF0uaGFzQXR0cmlidXRlKFwic2VsZWN0ZWRcIikmJihiWzBdLnNlbGVjdGVkPSEwKX19O2QucmVtb3ZlT3B0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPWMuZ2V0KGEpO2ImJigxPT09Yj8oYy5yZW1vdmUoYSksXCJcIj09PWEmJihkLmVtcHR5T3B0aW9uPXZvaWQgMCkpOmMucHV0KGEsYi0xKSl9O2QuaGFzT3B0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiEhYy5nZXQoYSl9O2QucmVnaXN0ZXJPcHRpb249XG5mdW5jdGlvbihhLGIsYyxoLGspe2lmKGgpe3ZhciBsO2MuJG9ic2VydmUoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGEpe3UobCkmJmQucmVtb3ZlT3B0aW9uKGwpO2w9YTtkLmFkZE9wdGlvbihhLGIpfSl9ZWxzZSBrP2EuJHdhdGNoKGssZnVuY3Rpb24oYSxlKXtjLiRzZXQoXCJ2YWx1ZVwiLGEpO2UhPT1hJiZkLnJlbW92ZU9wdGlvbihlKTtkLmFkZE9wdGlvbihhLGIpfSk6ZC5hZGRPcHRpb24oYy52YWx1ZSxiKTtiLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2QucmVtb3ZlT3B0aW9uKGMudmFsdWUpO2QubmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9fV0sSGU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCJzZWxlY3RcIixcIj9uZ01vZGVsXCJdLGNvbnRyb2xsZXI6bmgscHJpb3JpdHk6MSxsaW5rOntwcmU6ZnVuY3Rpb24oYSxiLGQsYyl7dmFyIGU9Y1sxXTtpZihlKXt2YXIgZj1jWzBdO2YubmdNb2RlbEN0cmw9ZTtiLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXthLiRhcHBseShmdW5jdGlvbigpe2UuJHNldFZpZXdWYWx1ZShmLnJlYWRWYWx1ZSgpKX0pfSk7XG5pZihkLm11bHRpcGxlKXtmLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPVtdO3EoYi5maW5kKFwib3B0aW9uXCIpLGZ1bmN0aW9uKGIpe2Iuc2VsZWN0ZWQmJmEucHVzaChiLnZhbHVlKX0pO3JldHVybiBhfTtmLndyaXRlVmFsdWU9ZnVuY3Rpb24oYSl7dmFyIGM9bmV3IFJhKGEpO3EoYi5maW5kKFwib3B0aW9uXCIpLGZ1bmN0aW9uKGEpe2Euc2VsZWN0ZWQ9dShjLmdldChhLnZhbHVlKSl9KX07dmFyIGcsaD1OYU47YS4kd2F0Y2goZnVuY3Rpb24oKXtoIT09ZS4kdmlld1ZhbHVlfHxvYShnLGUuJHZpZXdWYWx1ZSl8fChnPWlhKGUuJHZpZXdWYWx1ZSksZS4kcmVuZGVyKCkpO2g9ZS4kdmlld1ZhbHVlfSk7ZS4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8MD09PWEubGVuZ3RofX19fSxwb3N0OmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWNbMV07aWYoZSl7dmFyIGY9Y1swXTtlLiRyZW5kZXI9ZnVuY3Rpb24oKXtmLndyaXRlVmFsdWUoZS4kdmlld1ZhbHVlKX19fX19fSxJZT1bXCIkaW50ZXJwb2xhdGVcIixcbmZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVcIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihiLGQpe2lmKHUoZC52YWx1ZSkpdmFyIGM9YShkLnZhbHVlLCEwKTtlbHNle3ZhciBlPWEoYi50ZXh0KCksITApO2V8fGQuJHNldChcInZhbHVlXCIsYi50ZXh0KCkpfXJldHVybiBmdW5jdGlvbihhLGIsZCl7dmFyIGs9Yi5wYXJlbnQoKTsoaz1rLmRhdGEoXCIkc2VsZWN0Q29udHJvbGxlclwiKXx8ay5wYXJlbnQoKS5kYXRhKFwiJHNlbGVjdENvbnRyb2xsZXJcIikpJiZrLnJlZ2lzdGVyT3B0aW9uKGEsYixkLGMsZSl9fX19XSxQYz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe2MmJihkLnJlcXVpcmVkPSEwLGMuJHZhbGlkYXRvcnMucmVxdWlyZWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hZC5yZXF1aXJlZHx8IWMuJGlzRW1wdHkoYil9LGQuJG9ic2VydmUoXCJyZXF1aXJlZFwiLGZ1bmN0aW9uKCl7Yy4kdmFsaWRhdGUoKX0pKX19fSxcbk9jPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7aWYoYyl7dmFyIGUsZj1kLm5nUGF0dGVybnx8ZC5wYXR0ZXJuO2QuJG9ic2VydmUoXCJwYXR0ZXJuXCIsZnVuY3Rpb24oYSl7SChhKSYmMDxhLmxlbmd0aCYmKGE9bmV3IFJlZ0V4cChcIl5cIithK1wiJFwiKSk7aWYoYSYmIWEudGVzdCl0aHJvdyBOKFwibmdQYXR0ZXJuXCIpKFwibm9yZWdleHBcIixmLGEsd2EoYikpO2U9YXx8dm9pZCAwO2MuJHZhbGlkYXRlKCl9KTtjLiR2YWxpZGF0b3JzLnBhdHRlcm49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy4kaXNFbXB0eShiKXx8eihlKXx8ZS50ZXN0KGIpfX19fX0sUmM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtpZihjKXt2YXIgZT0tMTtkLiRvYnNlcnZlKFwibWF4bGVuZ3RoXCIsZnVuY3Rpb24oYSl7YT1hYShhKTtlPVgoYSk/LTE6YTtjLiR2YWxpZGF0ZSgpfSk7XG5jLiR2YWxpZGF0b3JzLm1heGxlbmd0aD1mdW5jdGlvbihhLGIpe3JldHVybiAwPmV8fGMuJGlzRW1wdHkoYil8fGIubGVuZ3RoPD1lfX19fX0sUWM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtpZihjKXt2YXIgZT0wO2QuJG9ic2VydmUoXCJtaW5sZW5ndGhcIixmdW5jdGlvbihhKXtlPWFhKGEpfHwwO2MuJHZhbGlkYXRlKCl9KTtjLiR2YWxpZGF0b3JzLm1pbmxlbmd0aD1mdW5jdGlvbihhLGIpe3JldHVybiBjLiRpc0VtcHR5KGIpfHxiLmxlbmd0aD49ZX19fX19O0IuYW5ndWxhci5ib290c3RyYXA/Qi5jb25zb2xlJiZjb25zb2xlLmxvZyhcIldBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS5cIik6KHplKCksQmUoZ2EpLGdhLm1vZHVsZShcIm5nTG9jYWxlXCIsW10sW1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2ErPVwiXCI7dmFyIGI9YS5pbmRleE9mKFwiLlwiKTtcbnJldHVybi0xPT1iPzA6YS5sZW5ndGgtYi0xfWEudmFsdWUoXCIkbG9jYWxlXCIse0RBVEVUSU1FX0ZPUk1BVFM6e0FNUE1TOltcIkFNXCIsXCJQTVwiXSxEQVk6XCJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheVwiLnNwbGl0KFwiIFwiKSxFUkFOQU1FUzpbXCJCZWZvcmUgQ2hyaXN0XCIsXCJBbm5vIERvbWluaVwiXSxFUkFTOltcIkJDXCIsXCJBRFwiXSxGSVJTVERBWU9GV0VFSzo2LE1PTlRIOlwiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlclwiLnNwbGl0KFwiIFwiKSxTSE9SVERBWTpcIlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdFwiLnNwbGl0KFwiIFwiKSxTSE9SVE1PTlRIOlwiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWNcIi5zcGxpdChcIiBcIiksU1RBTkRBTE9ORU1PTlRIOlwiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlclwiLnNwbGl0KFwiIFwiKSxcbldFRUtFTkRSQU5HRTpbNSw2XSxmdWxsRGF0ZTpcIkVFRUUsIE1NTU0gZCwgeVwiLGxvbmdEYXRlOlwiTU1NTSBkLCB5XCIsbWVkaXVtOlwiTU1NIGQsIHkgaDptbTpzcyBhXCIsbWVkaXVtRGF0ZTpcIk1NTSBkLCB5XCIsbWVkaXVtVGltZTpcImg6bW06c3MgYVwiLFwic2hvcnRcIjpcIk0vZC95eSBoOm1tIGFcIixzaG9ydERhdGU6XCJNL2QveXlcIixzaG9ydFRpbWU6XCJoOm1tIGFcIn0sTlVNQkVSX0ZPUk1BVFM6e0NVUlJFTkNZX1NZTTpcIiRcIixERUNJTUFMX1NFUDpcIi5cIixHUk9VUF9TRVA6XCIsXCIsUEFUVEVSTlM6W3tnU2l6ZTozLGxnU2l6ZTozLG1heEZyYWM6MyxtaW5GcmFjOjAsbWluSW50OjEsbmVnUHJlOlwiLVwiLG5lZ1N1ZjpcIlwiLHBvc1ByZTpcIlwiLHBvc1N1ZjpcIlwifSx7Z1NpemU6MyxsZ1NpemU6MyxtYXhGcmFjOjIsbWluRnJhYzoyLG1pbkludDoxLG5lZ1ByZTpcIi1cXHUwMGE0XCIsbmVnU3VmOlwiXCIscG9zUHJlOlwiXFx1MDBhNFwiLHBvc1N1ZjpcIlwifV19LGlkOlwiZW4tdXNcIixsb2NhbGVJRDpcImVuX1VTXCIscGx1cmFsQ2F0OmZ1bmN0aW9uKGEsXG5jKXt2YXIgZT1hfDAsZj1jO3ZvaWQgMD09PWYmJihmPU1hdGgubWluKGIoYSksMykpO01hdGgucG93KDEwLGYpO3JldHVybiAxPT1lJiYwPT1mP1wib25lXCI6XCJvdGhlclwifX0pfV0pLEUoQi5kb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt1ZShCLmRvY3VtZW50LEljKX0pKX0pKHdpbmRvdyk7IXdpbmRvdy5hbmd1bGFyLiQkY3NwKCkubm9JbmxpbmVTdHlsZSYmd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+QGNoYXJzZXQgXCJVVEYtOFwiO1tuZ1xcXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcXFw6Zm9ybXtkaXNwbGF5OmJsb2NrO30ubmctYW5pbWF0ZS1zaGlte3Zpc2liaWxpdHk6aGlkZGVuO30ubmctYW5jaG9ye3Bvc2l0aW9uOmFic29sdXRlO308L3N0eWxlPicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci5taW4uanMubWFwXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYW5ndWxhci9hbmd1bGFyLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 21 */
/***/ function(module, exports, __webpack_require__) {

eval("__webpack_require__(20);\nmodule.exports = angular;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2FuZ3VsYXIvaW5kZXguanM/YTk0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL2FuZ3VsYXIubWluJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGFuZ3VsYXI7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYW5ndWxhci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 22 */
/***/ function(module, exports) {

eval("app.controller(\"announceController\", function($scope, $stateParams, AuthService, NotifyService, AnnounceService) {\r\n  console.log(\"announceController\"); // DEBUGG\r\n  $scope.announces = [];\r\n  $scope.announce = {};\r\n  $scope.newAnnounce = {};\r\n  $scope.announceCounter = 0;\r\n  $scope.announceQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.announceCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('announceCounter', $scope.announceCounter);\r\n    AnnounceService.index().then(function success(response) {\r\n      $scope.announces = response.data.announces;\r\n      $scope.announceQuantity = response.data.announceQuantity;\r\n      $scope.announce = {};\r\n      $scope.newAnnounce = {};\r\n      if (!response.data.announces.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.announceCounter) {\r\n      $scope.announceCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('announceCounter', $scope.announceCounter);\r\n    AnnounceService.index().then(function success(response) {\r\n      $scope.announces = response.data.announces;\r\n      $scope.announceQuantity = response.data.announceQuantity;\r\n      $scope.announce = {};\r\n      $scope.newAnnounce = {}\r\n    });\r\n  };\r\n\r\n  $scope.fetchAnnounces = function() {\r\n    $scope.announceCounter = 0;\r\n    AuthService.header('announceCounter', $scope.announceCounter);\r\n    AnnounceService.index().then(\r\n      function success(response) {\r\n        $scope.announces = response.data.announces;\r\n        $scope.announceQuantity = response.data.announceQuantity;\r\n        $scope.announce = {};\r\n        $scope.newAnnounce = {}\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  $scope.fetchAnnounces();\r\n\r\n  $scope.storeAnnounce = function(announce) {\r\n    $scope.announceCounter = 0;\r\n    AuthService.header('announceCounter', $scope.announceCounter);\r\n    AnnounceService.store(announce).then(\r\n      function success(response) {\r\n        $scope.announces = response.data.announces;\r\n        $scope.announceQuantity = response.data.announceQuantity;\r\n        $scope.announce = {};\r\n        $scope.newAnnounce = {};\r\n        AuthService.redirect('dashboard.announces');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.updateAnnounce = function(announce) {\r\n    $scope.announceCounter = 0;\r\n    AuthService.header('announceCounter', $scope.announceCounter);\r\n    AnnounceService.update(announce).then(\r\n      function success(response) {\r\n        $scope.announces = response.data.announces;\r\n        $scope.announceQuantity = response.data.announceQuantity;\r\n        $scope.announce = {};\r\n        $scope.newAnnounce = {};\r\n        AuthService.redirect('dashboard.announces');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.editAnnounce = function() {\r\n    AnnounceService.edit($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.rowAnnounce = response.data.announce;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (AuthService.checkRoute('dashboard.editannounce')) { $scope.editAnnounce() }\r\n\r\n  $scope.destroyAnnounce = function(announce) {\r\n    $scope.announceCounter = 0;\r\n    AuthService.header('announceCounter', $scope.announceCounter);\r\n    AnnounceService.destroy(announce).then(\r\n      function success(response) {\r\n        $scope.announces = response.data.announces;\r\n        $scope.announceQuantity = response.data.announceQuantity;\r\n        $scope.announce = {};\r\n        $scope.newAnnounce = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2Fubm91bmNlQ29udHJvbGxlci5qcz8yMmQ2Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5jb250cm9sbGVyKFwiYW5ub3VuY2VDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBBdXRoU2VydmljZSwgTm90aWZ5U2VydmljZSwgQW5ub3VuY2VTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJhbm5vdW5jZUNvbnRyb2xsZXJcIik7IC8vIERFQlVHR1xyXG4gICRzY29wZS5hbm5vdW5jZXMgPSBbXTtcclxuICAkc2NvcGUuYW5ub3VuY2UgPSB7fTtcclxuICAkc2NvcGUubmV3QW5ub3VuY2UgPSB7fTtcclxuICAkc2NvcGUuYW5ub3VuY2VDb3VudGVyID0gMDtcclxuICAkc2NvcGUuYW5ub3VuY2VRdWFudGl0eSA9IDA7XHJcbiAgJHNjb3BlLmFsbG93TmV4dCA9IHRydWU7XHJcbiAgJHNjb3BlLmFsbG93QmFjayA9IGZhbHNlO1xyXG5cclxuICAvLyBQQUdFUiBORVhUXHJcbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghJHNjb3BlLmFsbG93TmV4dCkgeyByZXR1cm4gfVxyXG4gICAgJHNjb3BlLmFubm91bmNlQ291bnRlciArPSAxO1xyXG4gICAgJHNjb3BlLmFsbG93QmFjayA9IHRydWU7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ2Fubm91bmNlQ291bnRlcicsICRzY29wZS5hbm5vdW5jZUNvdW50ZXIpO1xyXG4gICAgQW5ub3VuY2VTZXJ2aWNlLmluZGV4KCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS5hbm5vdW5jZXMgPSByZXNwb25zZS5kYXRhLmFubm91bmNlcztcclxuICAgICAgJHNjb3BlLmFubm91bmNlUXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLmFubm91bmNlUXVhbnRpdHk7XHJcbiAgICAgICRzY29wZS5hbm5vdW5jZSA9IHt9O1xyXG4gICAgICAkc2NvcGUubmV3QW5ub3VuY2UgPSB7fTtcclxuICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLmFubm91bmNlcy5sZW5ndGgpIHsgJHNjb3BlLmFsbG93TmV4dCA9IGZhbHNlIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgLy8gUEFHRVIgQkFDS1xyXG4gICRzY29wZS5iYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoJHNjb3BlLmFubm91bmNlQ291bnRlcikge1xyXG4gICAgICAkc2NvcGUuYW5ub3VuY2VDb3VudGVyIC09IDE7XHJcbiAgICAgICRzY29wZS5hbGxvd0JhY2sgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuYWxsb3dOZXh0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRzY29wZS5hbGxvd0JhY2sgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdhbm5vdW5jZUNvdW50ZXInLCAkc2NvcGUuYW5ub3VuY2VDb3VudGVyKTtcclxuICAgIEFubm91bmNlU2VydmljZS5pbmRleCgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUuYW5ub3VuY2VzID0gcmVzcG9uc2UuZGF0YS5hbm5vdW5jZXM7XHJcbiAgICAgICRzY29wZS5hbm5vdW5jZVF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5hbm5vdW5jZVF1YW50aXR5O1xyXG4gICAgICAkc2NvcGUuYW5ub3VuY2UgPSB7fTtcclxuICAgICAgJHNjb3BlLm5ld0Fubm91bmNlID0ge31cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5mZXRjaEFubm91bmNlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLmFubm91bmNlQ291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ2Fubm91bmNlQ291bnRlcicsICRzY29wZS5hbm5vdW5jZUNvdW50ZXIpO1xyXG4gICAgQW5ub3VuY2VTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5hbm5vdW5jZXMgPSByZXNwb25zZS5kYXRhLmFubm91bmNlcztcclxuICAgICAgICAkc2NvcGUuYW5ub3VuY2VRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEuYW5ub3VuY2VRdWFudGl0eTtcclxuICAgICAgICAkc2NvcGUuYW5ub3VuY2UgPSB7fTtcclxuICAgICAgICAkc2NvcGUubmV3QW5ub3VuY2UgPSB7fVxyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS5mZXRjaEFubm91bmNlcygpO1xyXG5cclxuICAkc2NvcGUuc3RvcmVBbm5vdW5jZSA9IGZ1bmN0aW9uKGFubm91bmNlKSB7XHJcbiAgICAkc2NvcGUuYW5ub3VuY2VDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignYW5ub3VuY2VDb3VudGVyJywgJHNjb3BlLmFubm91bmNlQ291bnRlcik7XHJcbiAgICBBbm5vdW5jZVNlcnZpY2Uuc3RvcmUoYW5ub3VuY2UpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuYW5ub3VuY2VzID0gcmVzcG9uc2UuZGF0YS5hbm5vdW5jZXM7XHJcbiAgICAgICAgJHNjb3BlLmFubm91bmNlUXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLmFubm91bmNlUXVhbnRpdHk7XHJcbiAgICAgICAgJHNjb3BlLmFubm91bmNlID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld0Fubm91bmNlID0ge307XHJcbiAgICAgICAgQXV0aFNlcnZpY2UucmVkaXJlY3QoJ2Rhc2hib2FyZC5hbm5vdW5jZXMnKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS51cGRhdGVBbm5vdW5jZSA9IGZ1bmN0aW9uKGFubm91bmNlKSB7XHJcbiAgICAkc2NvcGUuYW5ub3VuY2VDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignYW5ub3VuY2VDb3VudGVyJywgJHNjb3BlLmFubm91bmNlQ291bnRlcik7XHJcbiAgICBBbm5vdW5jZVNlcnZpY2UudXBkYXRlKGFubm91bmNlKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmFubm91bmNlcyA9IHJlc3BvbnNlLmRhdGEuYW5ub3VuY2VzO1xyXG4gICAgICAgICRzY29wZS5hbm5vdW5jZVF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5hbm5vdW5jZVF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5hbm5vdW5jZSA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdBbm5vdW5jZSA9IHt9O1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlZGlyZWN0KCdkYXNoYm9hcmQuYW5ub3VuY2VzJyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ0xvcyBkYXRvcyBwcm9wb3JjaW9uYWRvcyBzb24gaW5jb3JyZWN0b3MuJyk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuICAkc2NvcGUuZWRpdEFubm91bmNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBBbm5vdW5jZVNlcnZpY2UuZWRpdCgkc3RhdGVQYXJhbXMuc2x1ZykudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5yb3dBbm5vdW5jZSA9IHJlc3BvbnNlLmRhdGEuYW5ub3VuY2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbiAgaWYgKEF1dGhTZXJ2aWNlLmNoZWNrUm91dGUoJ2Rhc2hib2FyZC5lZGl0YW5ub3VuY2UnKSkgeyAkc2NvcGUuZWRpdEFubm91bmNlKCkgfVxyXG5cclxuICAkc2NvcGUuZGVzdHJveUFubm91bmNlID0gZnVuY3Rpb24oYW5ub3VuY2UpIHtcclxuICAgICRzY29wZS5hbm5vdW5jZUNvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdhbm5vdW5jZUNvdW50ZXInLCAkc2NvcGUuYW5ub3VuY2VDb3VudGVyKTtcclxuICAgIEFubm91bmNlU2VydmljZS5kZXN0cm95KGFubm91bmNlKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmFubm91bmNlcyA9IHJlc3BvbnNlLmRhdGEuYW5ub3VuY2VzO1xyXG4gICAgICAgICRzY29wZS5hbm5vdW5jZVF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5hbm5vdW5jZVF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5hbm5vdW5jZSA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdBbm5vdW5jZSA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMb3MgZGF0b3MgcHJvcG9yY2lvbmFkb3Mgc29uIGluY29ycmVjdG9zLicpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2Fubm91bmNlQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 23 */
/***/ function(module, exports) {

eval("app.controller(\"blogController\", function($scope, AuthService, NotifyService, PostService, TagService) {\r\n  console.log(\"blogController\"); // DEBUGG\r\n  $scope.choice_tag = {name: 'Ninguna'};\r\n  $scope.posts = [];\r\n  $scope.postCounter = 0;\r\n  $scope.busy = false;\r\n  $scope.busyIcon = true;\r\n\r\n  $scope.fetchPosts = function() {\r\n    $scope.busyIcon = true;\r\n    $scope.busy = true;\r\n    AuthService.header('choice_tag', $scope.choice_tag.name);\r\n    AuthService.header('postCounter', $scope.postCounter);\r\n    PostService.index().then(\r\n      function success(response) {\r\n        $scope.postCounter += 1;\r\n        // Push new posts\r\n        $.each(response.data.posts, function(index, val) {\r\n          $scope.posts.push(val);\r\n        });\r\n        $scope.busy = false;\r\n        $scope.busyIcon = false;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        $scope.busy = true;\r\n        $scope.busyIcon = false;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.cleanPosts = function() {\r\n    $scope.posts = [];\r\n    $scope.postCounter = 0;\r\n    $scope.busyIcon = true;\r\n    $scope.busy = true;\r\n    AuthService.header('choice_tag', $scope.choice_tag.name);\r\n    AuthService.header('postCounter', $scope.postCounter);\r\n    PostService.index().then(\r\n      function success(response) {\r\n        $scope.postCounter += 1;\r\n        // Push new posts\r\n        $.each(response.data.posts, function(index, val) {\r\n          $scope.posts.push(val);\r\n        });\r\n        $scope.busy = false;\r\n        $scope.busyIcon = false;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        $scope.busy = true;\r\n        $scope.busyText = '';\r\n        $scope.busyIcon = false;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.fetchTags = function() {\r\n    TagService.index().then(function success(response) {\r\n      $scope.tags = response.data.tags;\r\n    });\r\n  };\r\n  $scope.fetchTags();\r\n\r\n  $scope.changeTag = function(tagName) {\r\n    $scope.choice_tag = {name: tagName};\r\n    $scope.cleanPosts();\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2Jsb2dDb250cm9sbGVyLmpzP2FhZjMiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJibG9nQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlLCBQb3N0U2VydmljZSwgVGFnU2VydmljZSkge1xyXG4gIGNvbnNvbGUubG9nKFwiYmxvZ0NvbnRyb2xsZXJcIik7IC8vIERFQlVHR1xyXG4gICRzY29wZS5jaG9pY2VfdGFnID0ge25hbWU6ICdOaW5ndW5hJ307XHJcbiAgJHNjb3BlLnBvc3RzID0gW107XHJcbiAgJHNjb3BlLnBvc3RDb3VudGVyID0gMDtcclxuICAkc2NvcGUuYnVzeSA9IGZhbHNlO1xyXG4gICRzY29wZS5idXN5SWNvbiA9IHRydWU7XHJcblxyXG4gICRzY29wZS5mZXRjaFBvc3RzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUuYnVzeUljb24gPSB0cnVlO1xyXG4gICAgJHNjb3BlLmJ1c3kgPSB0cnVlO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdjaG9pY2VfdGFnJywgJHNjb3BlLmNob2ljZV90YWcubmFtZSk7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Bvc3RDb3VudGVyJywgJHNjb3BlLnBvc3RDb3VudGVyKTtcclxuICAgIFBvc3RTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wb3N0Q291bnRlciArPSAxO1xyXG4gICAgICAgIC8vIFB1c2ggbmV3IHBvc3RzXHJcbiAgICAgICAgJC5lYWNoKHJlc3BvbnNlLmRhdGEucG9zdHMsIGZ1bmN0aW9uKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICRzY29wZS5wb3N0cy5wdXNoKHZhbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3kgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuYnVzeUljb24gPSBmYWxzZTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3kgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5idXN5SWNvbiA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5jbGVhblBvc3RzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUucG9zdHMgPSBbXTtcclxuICAgICRzY29wZS5wb3N0Q291bnRlciA9IDA7XHJcbiAgICAkc2NvcGUuYnVzeUljb24gPSB0cnVlO1xyXG4gICAgJHNjb3BlLmJ1c3kgPSB0cnVlO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdjaG9pY2VfdGFnJywgJHNjb3BlLmNob2ljZV90YWcubmFtZSk7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Bvc3RDb3VudGVyJywgJHNjb3BlLnBvc3RDb3VudGVyKTtcclxuICAgIFBvc3RTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wb3N0Q291bnRlciArPSAxO1xyXG4gICAgICAgIC8vIFB1c2ggbmV3IHBvc3RzXHJcbiAgICAgICAgJC5lYWNoKHJlc3BvbnNlLmRhdGEucG9zdHMsIGZ1bmN0aW9uKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICRzY29wZS5wb3N0cy5wdXNoKHZhbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3kgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuYnVzeUljb24gPSBmYWxzZTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3kgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5idXN5VGV4dCA9ICcnO1xyXG4gICAgICAgICRzY29wZS5idXN5SWNvbiA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5mZXRjaFRhZ3MgPSBmdW5jdGlvbigpIHtcclxuICAgIFRhZ1NlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLnRhZ3MgPSByZXNwb25zZS5kYXRhLnRhZ3M7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gICRzY29wZS5mZXRjaFRhZ3MoKTtcclxuXHJcbiAgJHNjb3BlLmNoYW5nZVRhZyA9IGZ1bmN0aW9uKHRhZ05hbWUpIHtcclxuICAgICRzY29wZS5jaG9pY2VfdGFnID0ge25hbWU6IHRhZ05hbWV9O1xyXG4gICAgJHNjb3BlLmNsZWFuUG9zdHMoKTtcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9jb250cm9sbGVycy9ibG9nQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 24 */
/***/ function(module, exports) {

eval("app.controller(\"categoryController\", function($scope, $stateParams, AuthService, NotifyService, CategoryService) {\r\n  console.log(\"categoryController\"); // DEBUGG\r\n  $scope.categories = [];\r\n  $scope.category = {};\r\n  $scope.newCategory = {};\r\n  $scope.categoryCounter = 0;\r\n  $scope.categoryQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.categoryCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('categoryCounter', $scope.categoryCounter);\r\n    CategoryService.index().then(function success(response) {\r\n      $scope.categories = response.data.categories;\r\n      $scope.categoryQuantity = response.data.categoryQuantity;\r\n      $scope.category = {};\r\n      $scope.newCategory = {};\r\n      if (!response.data.categories.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.categoryCounter) {\r\n      $scope.categoryCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('categoryCounter', $scope.categoryCounter);\r\n    CategoryService.index().then(function success(response) {\r\n      $scope.categories = response.data.categories;\r\n      $scope.categoryQuantity = response.data.categoryQuantity;\r\n      $scope.category = {};\r\n      $scope.newCategory = {}\r\n    });\r\n  };\r\n\r\n  $scope.fetchCategories = function() {\r\n    $scope.categoryCounter = 0;\r\n    AuthService.header('categoryCounter', $scope.categoryCounter);\r\n    CategoryService.index().then(\r\n      function success(response) {\r\n        $scope.categories = response.data.categories;\r\n        $scope.categoryQuantity = response.data.categoryQuantity;\r\n        $scope.category = {};\r\n        $scope.newCategory = {}\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (!$stateParams.slug) { $scope.fetchCategories() }\r\n\r\n  $scope.showCategory = function() {\r\n    $scope.categoryCounter = 0;\r\n    AuthService.header('categoryCounter', $scope.categoryCounter);\r\n    CategoryService.show($stateParams.slug).then(function success(response) {\r\n      $scope.categories = {};\r\n      $scope.category = response.category.data;\r\n      $scope.newCategory = {}\r\n    });\r\n  };\r\n  if ($stateParams.slug) { $scope.showCategory() }\r\n\r\n  $scope.storeCategory = function(category) {\r\n    $scope.categoryCounter = 0;\r\n    AuthService.header('categoryCounter', $scope.categoryCounter);\r\n    CategoryService.store(category).then(\r\n      function success(response) {\r\n        $scope.categories = response.data.categories;\r\n        $scope.categoryQuantity = response.data.categoryQuantity;\r\n        $scope.category = {};\r\n        $scope.newCategory = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.updateCategory = function(category) {\r\n    $scope.categoryCounter = 0;\r\n    AuthService.header('categoryCounter', $scope.categoryCounter);\r\n    CategoryService.update(category).then(\r\n      function success(response) {\r\n        $scope.categories = response.data.categories;\r\n        $scope.categoryQuantity = response.data.categoryQuantity;\r\n        $scope.category = {};\r\n        $scope.newCategory = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.destroyCategory = function(category) {\r\n    $scope.categoryCounter = 0;\r\n    AuthService.header('categoryCounter', $scope.categoryCounter);\r\n    CategoryService.destroy(category).then(\r\n      function success(response) {\r\n        $scope.categories = response.data.categories;\r\n        $scope.categoryQuantity = response.data.categoryQuantity;\r\n        $scope.category = {};\r\n        $scope.newCategory = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2NhdGVnb3J5Q29udHJvbGxlci5qcz9iM2NjIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5jb250cm9sbGVyKFwiY2F0ZWdvcnlDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBBdXRoU2VydmljZSwgTm90aWZ5U2VydmljZSwgQ2F0ZWdvcnlTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJjYXRlZ29yeUNvbnRyb2xsZXJcIik7IC8vIERFQlVHR1xyXG4gICRzY29wZS5jYXRlZ29yaWVzID0gW107XHJcbiAgJHNjb3BlLmNhdGVnb3J5ID0ge307XHJcbiAgJHNjb3BlLm5ld0NhdGVnb3J5ID0ge307XHJcbiAgJHNjb3BlLmNhdGVnb3J5Q291bnRlciA9IDA7XHJcbiAgJHNjb3BlLmNhdGVnb3J5UXVhbnRpdHkgPSAwO1xyXG4gICRzY29wZS5hbGxvd05leHQgPSB0cnVlO1xyXG4gICRzY29wZS5hbGxvd0JhY2sgPSBmYWxzZTtcclxuXHJcbiAgLy8gUEFHRVIgTkVYVFxyXG4gICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoISRzY29wZS5hbGxvd05leHQpIHsgcmV0dXJuIH1cclxuICAgICRzY29wZS5jYXRlZ29yeUNvdW50ZXIgKz0gMTtcclxuICAgICRzY29wZS5hbGxvd0JhY2sgPSB0cnVlO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdjYXRlZ29yeUNvdW50ZXInLCAkc2NvcGUuY2F0ZWdvcnlDb3VudGVyKTtcclxuICAgIENhdGVnb3J5U2VydmljZS5pbmRleCgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IHJlc3BvbnNlLmRhdGEuY2F0ZWdvcmllcztcclxuICAgICAgJHNjb3BlLmNhdGVnb3J5UXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLmNhdGVnb3J5UXVhbnRpdHk7XHJcbiAgICAgICRzY29wZS5jYXRlZ29yeSA9IHt9O1xyXG4gICAgICAkc2NvcGUubmV3Q2F0ZWdvcnkgPSB7fTtcclxuICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLmNhdGVnb3JpZXMubGVuZ3RoKSB7ICRzY29wZS5hbGxvd05leHQgPSBmYWxzZSB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIC8vIFBBR0VSIEJBQ0tcclxuICAkc2NvcGUuYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCRzY29wZS5jYXRlZ29yeUNvdW50ZXIpIHtcclxuICAgICAgJHNjb3BlLmNhdGVnb3J5Q291bnRlciAtPSAxO1xyXG4gICAgICAkc2NvcGUuYWxsb3dCYWNrID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLmFsbG93TmV4dCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkc2NvcGUuYWxsb3dCYWNrID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignY2F0ZWdvcnlDb3VudGVyJywgJHNjb3BlLmNhdGVnb3J5Q291bnRlcik7XHJcbiAgICBDYXRlZ29yeVNlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSByZXNwb25zZS5kYXRhLmNhdGVnb3JpZXM7XHJcbiAgICAgICRzY29wZS5jYXRlZ29yeVF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5jYXRlZ29yeVF1YW50aXR5O1xyXG4gICAgICAkc2NvcGUuY2F0ZWdvcnkgPSB7fTtcclxuICAgICAgJHNjb3BlLm5ld0NhdGVnb3J5ID0ge31cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5mZXRjaENhdGVnb3JpZXMgPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS5jYXRlZ29yeUNvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdjYXRlZ29yeUNvdW50ZXInLCAkc2NvcGUuY2F0ZWdvcnlDb3VudGVyKTtcclxuICAgIENhdGVnb3J5U2VydmljZS5pbmRleCgpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IHJlc3BvbnNlLmRhdGEuY2F0ZWdvcmllcztcclxuICAgICAgICAkc2NvcGUuY2F0ZWdvcnlRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEuY2F0ZWdvcnlRdWFudGl0eTtcclxuICAgICAgICAkc2NvcGUuY2F0ZWdvcnkgPSB7fTtcclxuICAgICAgICAkc2NvcGUubmV3Q2F0ZWdvcnkgPSB7fVxyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gIGlmICghJHN0YXRlUGFyYW1zLnNsdWcpIHsgJHNjb3BlLmZldGNoQ2F0ZWdvcmllcygpIH1cclxuXHJcbiAgJHNjb3BlLnNob3dDYXRlZ29yeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLmNhdGVnb3J5Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ2NhdGVnb3J5Q291bnRlcicsICRzY29wZS5jYXRlZ29yeUNvdW50ZXIpO1xyXG4gICAgQ2F0ZWdvcnlTZXJ2aWNlLnNob3coJHN0YXRlUGFyYW1zLnNsdWcpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IHt9O1xyXG4gICAgICAkc2NvcGUuY2F0ZWdvcnkgPSByZXNwb25zZS5jYXRlZ29yeS5kYXRhO1xyXG4gICAgICAkc2NvcGUubmV3Q2F0ZWdvcnkgPSB7fVxyXG4gICAgfSk7XHJcbiAgfTtcclxuICBpZiAoJHN0YXRlUGFyYW1zLnNsdWcpIHsgJHNjb3BlLnNob3dDYXRlZ29yeSgpIH1cclxuXHJcbiAgJHNjb3BlLnN0b3JlQ2F0ZWdvcnkgPSBmdW5jdGlvbihjYXRlZ29yeSkge1xyXG4gICAgJHNjb3BlLmNhdGVnb3J5Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ2NhdGVnb3J5Q291bnRlcicsICRzY29wZS5jYXRlZ29yeUNvdW50ZXIpO1xyXG4gICAgQ2F0ZWdvcnlTZXJ2aWNlLnN0b3JlKGNhdGVnb3J5KS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSByZXNwb25zZS5kYXRhLmNhdGVnb3JpZXM7XHJcbiAgICAgICAgJHNjb3BlLmNhdGVnb3J5UXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLmNhdGVnb3J5UXVhbnRpdHk7XHJcbiAgICAgICAgJHNjb3BlLmNhdGVnb3J5ID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld0NhdGVnb3J5ID0ge307XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ0xvcyBkYXRvcyBwcm9wb3JjaW9uYWRvcyBzb24gaW5jb3JyZWN0b3MuJyk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuICAkc2NvcGUudXBkYXRlQ2F0ZWdvcnkgPSBmdW5jdGlvbihjYXRlZ29yeSkge1xyXG4gICAgJHNjb3BlLmNhdGVnb3J5Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ2NhdGVnb3J5Q291bnRlcicsICRzY29wZS5jYXRlZ29yeUNvdW50ZXIpO1xyXG4gICAgQ2F0ZWdvcnlTZXJ2aWNlLnVwZGF0ZShjYXRlZ29yeSkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5jYXRlZ29yaWVzID0gcmVzcG9uc2UuZGF0YS5jYXRlZ29yaWVzO1xyXG4gICAgICAgICRzY29wZS5jYXRlZ29yeVF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5jYXRlZ29yeVF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5jYXRlZ29yeSA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdDYXRlZ29yeSA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMb3MgZGF0b3MgcHJvcG9yY2lvbmFkb3Mgc29uIGluY29ycmVjdG9zLicpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbiAgJHNjb3BlLmRlc3Ryb3lDYXRlZ29yeSA9IGZ1bmN0aW9uKGNhdGVnb3J5KSB7XHJcbiAgICAkc2NvcGUuY2F0ZWdvcnlDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignY2F0ZWdvcnlDb3VudGVyJywgJHNjb3BlLmNhdGVnb3J5Q291bnRlcik7XHJcbiAgICBDYXRlZ29yeVNlcnZpY2UuZGVzdHJveShjYXRlZ29yeSkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5jYXRlZ29yaWVzID0gcmVzcG9uc2UuZGF0YS5jYXRlZ29yaWVzO1xyXG4gICAgICAgICRzY29wZS5jYXRlZ29yeVF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5jYXRlZ29yeVF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5jYXRlZ29yeSA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdDYXRlZ29yeSA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMb3MgZGF0b3MgcHJvcG9yY2lvbmFkb3Mgc29uIGluY29ycmVjdG9zLicpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2NhdGVnb3J5Q29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 25 */
/***/ function(module, exports) {

eval("app.controller(\"chatController\", function($scope, $rootScope, $pusher, AuthService, NotifyService, ChatService) {\r\n  console.log(\"chatController\"); // DEBUGG\r\n  $scope.newMessage = {};\r\n  $scope.messages = [];\r\n  $scope.disabled = false;\r\n  $rootScope.connected = false;\r\n\r\n  var client, pusher, channel;\r\n\r\n  $scope.connect = function() {\r\n    $rootScope.chatActive = true;\r\n    $rootScope.connected = true;\r\n    client = new Pusher(AuthService.get('PUSHER_KEY'));\r\n    pusher = $pusher(client);\r\n    channel = pusher.subscribe(AuthService.get('room_name'));\r\n    NotifyService.send('Notificacion del sistema', 'Se ha conectado a la sala con exito.');\r\n\r\n    channel.bind('new-message', function(response) {\r\n      if (!response.room_active) {\r\n        $scope.disconnect();\r\n      } else {\r\n        $scope.messages.push(response.message);\r\n      }\r\n    });\r\n  };\r\n\r\n  $scope.disconnect = function() {\r\n    $rootScope.chatActive = false;\r\n    $rootScope.connected = false;\r\n    channel.unbind('new-message');\r\n    pusher.unsubscribe(AuthService.get('room_name'));\r\n    AuthService.remove('room_active');\r\n    AuthService.remove('room_name');\r\n    NotifyService.send('Notificacion del sistema', 'La sala ha sido cerrada por el administrador.');\r\n  };\r\n\r\n  $scope.send = function(message) {\r\n    $scope.disabled = true;\r\n    AuthService.header('room_name', AuthService.get('room_name'));\r\n    ChatService.store(message).then(\r\n      function success(response) {\r\n        $scope.disabled = false;\r\n        $scope.newMessage = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.disabled = false;\r\n        $scope.newMessage = {};\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', response.data);\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.sendByEnter = function(event, message) {\r\n    if (event.which !== 13) { return }\r\n    $scope.disabled = true;\r\n    AuthService.header('room_name', AuthService.get('room_name'));\r\n    ChatService.store(message).then(\r\n      function success(response) {\r\n        $scope.disabled = false;\r\n        $scope.newMessage = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.disabled = false;\r\n        $scope.newMessage = {};\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', response.data);\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.closeRoom = function() {\r\n    $scope.disabled = true;\r\n    AuthService.header('room_name', AuthService.get('room_name'));\r\n    ChatService.destroy().then(\r\n      function success(response) {\r\n        $scope.disabled = false;\r\n        $scope.newMessage = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.disabled = false;\r\n        $scope.newMessage = {};\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', response.data);\r\n      }\r\n    );\r\n  };\r\n\r\n  $rootScope.fetchMessages = function() {\r\n    if ($rootScope.connected) {return};\r\n    $scope.disabled = true;\r\n    AuthService.header('room_name', AuthService.get('room_name'));\r\n    ChatService.index().then(\r\n      function success(response) {\r\n        $scope.disabled = false;\r\n        $scope.newMessage = {};\r\n        $scope.messages = response.data.messages.reverse();\r\n        $scope.connect();\r\n      },\r\n      function fail(response) {\r\n        $scope.disabled = false;\r\n        $scope.newMessage = {};\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', response.data);\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2NoYXRDb250cm9sbGVyLmpzPzc3ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJjaGF0Q29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUsICRwdXNoZXIsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlLCBDaGF0U2VydmljZSkge1xyXG4gIGNvbnNvbGUubG9nKFwiY2hhdENvbnRyb2xsZXJcIik7IC8vIERFQlVHR1xyXG4gICRzY29wZS5uZXdNZXNzYWdlID0ge307XHJcbiAgJHNjb3BlLm1lc3NhZ2VzID0gW107XHJcbiAgJHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgJHJvb3RTY29wZS5jb25uZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgdmFyIGNsaWVudCwgcHVzaGVyLCBjaGFubmVsO1xyXG5cclxuICAkc2NvcGUuY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHJvb3RTY29wZS5jaGF0QWN0aXZlID0gdHJ1ZTtcclxuICAgICRyb290U2NvcGUuY29ubmVjdGVkID0gdHJ1ZTtcclxuICAgIGNsaWVudCA9IG5ldyBQdXNoZXIoQXV0aFNlcnZpY2UuZ2V0KCdQVVNIRVJfS0VZJykpO1xyXG4gICAgcHVzaGVyID0gJHB1c2hlcihjbGllbnQpO1xyXG4gICAgY2hhbm5lbCA9IHB1c2hlci5zdWJzY3JpYmUoQXV0aFNlcnZpY2UuZ2V0KCdyb29tX25hbWUnKSk7XHJcbiAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdTZSBoYSBjb25lY3RhZG8gYSBsYSBzYWxhIGNvbiBleGl0by4nKTtcclxuXHJcbiAgICBjaGFubmVsLmJpbmQoJ25ldy1tZXNzYWdlJywgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKCFyZXNwb25zZS5yb29tX2FjdGl2ZSkge1xyXG4gICAgICAgICRzY29wZS5kaXNjb25uZWN0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLnB1c2gocmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkcm9vdFNjb3BlLmNoYXRBY3RpdmUgPSBmYWxzZTtcclxuICAgICRyb290U2NvcGUuY29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICBjaGFubmVsLnVuYmluZCgnbmV3LW1lc3NhZ2UnKTtcclxuICAgIHB1c2hlci51bnN1YnNjcmliZShBdXRoU2VydmljZS5nZXQoJ3Jvb21fbmFtZScpKTtcclxuICAgIEF1dGhTZXJ2aWNlLnJlbW92ZSgncm9vbV9hY3RpdmUnKTtcclxuICAgIEF1dGhTZXJ2aWNlLnJlbW92ZSgncm9vbV9uYW1lJyk7XHJcbiAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMYSBzYWxhIGhhIHNpZG8gY2VycmFkYSBwb3IgZWwgYWRtaW5pc3RyYWRvci4nKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuc2VuZCA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICRzY29wZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Jvb21fbmFtZScsIEF1dGhTZXJ2aWNlLmdldCgncm9vbV9uYW1lJykpO1xyXG4gICAgQ2hhdFNlcnZpY2Uuc3RvcmUobWVzc2FnZSkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5uZXdNZXNzYWdlID0ge307XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUubmV3TWVzc2FnZSA9IHt9O1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuc2VuZEJ5RW50ZXIgPSBmdW5jdGlvbihldmVudCwgbWVzc2FnZSkge1xyXG4gICAgaWYgKGV2ZW50LndoaWNoICE9PSAxMykgeyByZXR1cm4gfVxyXG4gICAgJHNjb3BlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigncm9vbV9uYW1lJywgQXV0aFNlcnZpY2UuZ2V0KCdyb29tX25hbWUnKSk7XHJcbiAgICBDaGF0U2VydmljZS5zdG9yZShtZXNzYWdlKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLm5ld01lc3NhZ2UgPSB7fTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5uZXdNZXNzYWdlID0ge307XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5jbG9zZVJvb20gPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Jvb21fbmFtZScsIEF1dGhTZXJ2aWNlLmdldCgncm9vbV9uYW1lJykpO1xyXG4gICAgQ2hhdFNlcnZpY2UuZGVzdHJveSgpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUubmV3TWVzc2FnZSA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLm5ld01lc3NhZ2UgPSB7fTtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgcmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgJHJvb3RTY29wZS5mZXRjaE1lc3NhZ2VzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoJHJvb3RTY29wZS5jb25uZWN0ZWQpIHtyZXR1cm59O1xyXG4gICAgJHNjb3BlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigncm9vbV9uYW1lJywgQXV0aFNlcnZpY2UuZ2V0KCdyb29tX25hbWUnKSk7XHJcbiAgICBDaGF0U2VydmljZS5pbmRleCgpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUubmV3TWVzc2FnZSA9IHt9O1xyXG4gICAgICAgICRzY29wZS5tZXNzYWdlcyA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZXMucmV2ZXJzZSgpO1xyXG4gICAgICAgICRzY29wZS5jb25uZWN0KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUubmV3TWVzc2FnZSA9IHt9O1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9jb250cm9sbGVycy9jaGF0Q29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 26 */
/***/ function(module, exports) {

eval("app.controller(\"chatRequestController\", function($scope, $rootScope, AuthService, NotifyService, ChatRequestService) {\r\n  console.log(\"chatRequestController\"); // DEBUGG\r\n  $scope.requests = [];\r\n  $scope.request = {};\r\n  $scope.requestCounter = 0;\r\n  $rootScope.requestQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.requestCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('requestCounter', $scope.requestCounter);\r\n    ChatRequestService.index().then(function success(response) {\r\n      $scope.requests = response.data.chatRequests;\r\n      $scope.requestQuantity = response.data.requestQuantity;\r\n      $scope.request = {};\r\n      if (!response.data.chatRequests.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.requestCounter) {\r\n      $scope.requestCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('requestCounter', $scope.requestCounter);\r\n    ChatRequestService.index().then(function success(response) {\r\n      $scope.requests = response.data.chatRequests;\r\n      $scope.requestQuantity = response.data.requestQuantity;\r\n      $scope.request = {};\r\n    });\r\n  };\r\n\r\n  $scope.fetchRequests = function() {\r\n    if (AuthService.checkRoles(['client', 'general']) || !AuthService.get('userActive')) { return }\r\n    $scope.requestCounter = 0;\r\n    AuthService.header('requestCounter', $scope.requestCounter);\r\n    ChatRequestService.index().then(\r\n      function success(response) {\r\n        $scope.requests = response.data.chatRequests;\r\n        $scope.requestQuantity = response.data.requestQuantity;\r\n        $scope.request = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  $scope.fetchRequests();\r\n  repeat('15s', $scope.fetchRequests);\r\n\r\n  $rootScope.storeRequest = function() {\r\n    if (AuthService.checkRoles(['admin']) || !AuthService.get('userActive')) { return }\r\n    ChatRequestService.store($scope.request).then(\r\n      function success(response) {\r\n        $scope.request = {};\r\n        NotifyService.send('Notificacion del sistema', 'Solicitud creada con exito.');\r\n      },\r\n      function fail(response) {\r\n        $scope.request = {};\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Usted ya posee una solicitud en espera.');\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.destroyRequest = function(request) {\r\n    $scope.requestCounter = 0;\r\n    AuthService.header('requestCounter', $scope.requestCounter);\r\n    ChatRequestService.destroy(request).then(\r\n      function success(response) {\r\n        $scope.requests = response.data.chatRequests;\r\n        $scope.requestQuantity = response.data.requestQuantity;\r\n        $scope.request = {};\r\n        $scope.fetchRequests();\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.acceptRequest = function(request) {\r\n    ChatRequestService.acceptRequest(request).then(\r\n      function success(response) {\r\n        AuthService.put('room_active', response.data.room_active, 30);\r\n        AuthService.put('room_name', response.data.room_name, 30);\r\n        $scope.request = {};\r\n        if (response.data.room_name && response.data.room_active && AuthService.get('userActive')) {\r\n          $rootScope.fetchMessages();\r\n        }\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2NoYXRSZXF1ZXN0Q29udHJvbGxlci5qcz8zZTZmIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5jb250cm9sbGVyKFwiY2hhdFJlcXVlc3RDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSwgQXV0aFNlcnZpY2UsIE5vdGlmeVNlcnZpY2UsIENoYXRSZXF1ZXN0U2VydmljZSkge1xyXG4gIGNvbnNvbGUubG9nKFwiY2hhdFJlcXVlc3RDb250cm9sbGVyXCIpOyAvLyBERUJVR0dcclxuICAkc2NvcGUucmVxdWVzdHMgPSBbXTtcclxuICAkc2NvcGUucmVxdWVzdCA9IHt9O1xyXG4gICRzY29wZS5yZXF1ZXN0Q291bnRlciA9IDA7XHJcbiAgJHJvb3RTY29wZS5yZXF1ZXN0UXVhbnRpdHkgPSAwO1xyXG4gICRzY29wZS5hbGxvd05leHQgPSB0cnVlO1xyXG4gICRzY29wZS5hbGxvd0JhY2sgPSBmYWxzZTtcclxuXHJcbiAgLy8gUEFHRVIgTkVYVFxyXG4gICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoISRzY29wZS5hbGxvd05leHQpIHsgcmV0dXJuIH1cclxuICAgICRzY29wZS5yZXF1ZXN0Q291bnRlciArPSAxO1xyXG4gICAgJHNjb3BlLmFsbG93QmFjayA9IHRydWU7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3JlcXVlc3RDb3VudGVyJywgJHNjb3BlLnJlcXVlc3RDb3VudGVyKTtcclxuICAgIENoYXRSZXF1ZXN0U2VydmljZS5pbmRleCgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUucmVxdWVzdHMgPSByZXNwb25zZS5kYXRhLmNoYXRSZXF1ZXN0cztcclxuICAgICAgJHNjb3BlLnJlcXVlc3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucmVxdWVzdFF1YW50aXR5O1xyXG4gICAgICAkc2NvcGUucmVxdWVzdCA9IHt9O1xyXG4gICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuY2hhdFJlcXVlc3RzLmxlbmd0aCkgeyAkc2NvcGUuYWxsb3dOZXh0ID0gZmFsc2UgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuICAvLyBQQUdFUiBCQUNLXHJcbiAgJHNjb3BlLmJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICgkc2NvcGUucmVxdWVzdENvdW50ZXIpIHtcclxuICAgICAgJHNjb3BlLnJlcXVlc3RDb3VudGVyIC09IDE7XHJcbiAgICAgICRzY29wZS5hbGxvd0JhY2sgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuYWxsb3dOZXh0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRzY29wZS5hbGxvd0JhY2sgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdyZXF1ZXN0Q291bnRlcicsICRzY29wZS5yZXF1ZXN0Q291bnRlcik7XHJcbiAgICBDaGF0UmVxdWVzdFNlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLnJlcXVlc3RzID0gcmVzcG9uc2UuZGF0YS5jaGF0UmVxdWVzdHM7XHJcbiAgICAgICRzY29wZS5yZXF1ZXN0UXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnJlcXVlc3RRdWFudGl0eTtcclxuICAgICAgJHNjb3BlLnJlcXVlc3QgPSB7fTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5mZXRjaFJlcXVlc3RzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb2xlcyhbJ2NsaWVudCcsICdnZW5lcmFsJ10pIHx8ICFBdXRoU2VydmljZS5nZXQoJ3VzZXJBY3RpdmUnKSkgeyByZXR1cm4gfVxyXG4gICAgJHNjb3BlLnJlcXVlc3RDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigncmVxdWVzdENvdW50ZXInLCAkc2NvcGUucmVxdWVzdENvdW50ZXIpO1xyXG4gICAgQ2hhdFJlcXVlc3RTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5yZXF1ZXN0cyA9IHJlc3BvbnNlLmRhdGEuY2hhdFJlcXVlc3RzO1xyXG4gICAgICAgICRzY29wZS5yZXF1ZXN0UXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnJlcXVlc3RRdWFudGl0eTtcclxuICAgICAgICAkc2NvcGUucmVxdWVzdCA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS5mZXRjaFJlcXVlc3RzKCk7XHJcbiAgcmVwZWF0KCcxNXMnLCAkc2NvcGUuZmV0Y2hSZXF1ZXN0cyk7XHJcblxyXG4gICRyb290U2NvcGUuc3RvcmVSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb2xlcyhbJ2FkbWluJ10pIHx8ICFBdXRoU2VydmljZS5nZXQoJ3VzZXJBY3RpdmUnKSkgeyByZXR1cm4gfVxyXG4gICAgQ2hhdFJlcXVlc3RTZXJ2aWNlLnN0b3JlKCRzY29wZS5yZXF1ZXN0KS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnJlcXVlc3QgPSB7fTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdTb2xpY2l0dWQgY3JlYWRhIGNvbiBleGl0by4nKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5yZXF1ZXN0ID0ge307XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdVc3RlZCB5YSBwb3NlZSB1bmEgc29saWNpdHVkIGVuIGVzcGVyYS4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuZGVzdHJveVJlcXVlc3QgPSBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbiAgICAkc2NvcGUucmVxdWVzdENvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdyZXF1ZXN0Q291bnRlcicsICRzY29wZS5yZXF1ZXN0Q291bnRlcik7XHJcbiAgICBDaGF0UmVxdWVzdFNlcnZpY2UuZGVzdHJveShyZXF1ZXN0KS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnJlcXVlc3RzID0gcmVzcG9uc2UuZGF0YS5jaGF0UmVxdWVzdHM7XHJcbiAgICAgICAgJHNjb3BlLnJlcXVlc3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucmVxdWVzdFF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5yZXF1ZXN0ID0ge307XHJcbiAgICAgICAgJHNjb3BlLmZldGNoUmVxdWVzdHMoKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuYWNjZXB0UmVxdWVzdCA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuICAgIENoYXRSZXF1ZXN0U2VydmljZS5hY2NlcHRSZXF1ZXN0KHJlcXVlc3QpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICBBdXRoU2VydmljZS5wdXQoJ3Jvb21fYWN0aXZlJywgcmVzcG9uc2UuZGF0YS5yb29tX2FjdGl2ZSwgMzApO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgncm9vbV9uYW1lJywgcmVzcG9uc2UuZGF0YS5yb29tX25hbWUsIDMwKTtcclxuICAgICAgICAkc2NvcGUucmVxdWVzdCA9IHt9O1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJvb21fbmFtZSAmJiByZXNwb25zZS5kYXRhLnJvb21fYWN0aXZlICYmIEF1dGhTZXJ2aWNlLmdldCgndXNlckFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLmZldGNoTWVzc2FnZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ0xvcyBkYXRvcyBwcm9wb3JjaW9uYWRvcyBzb24gaW5jb3JyZWN0b3MuJyk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvY29udHJvbGxlcnMvY2hhdFJlcXVlc3RDb250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 27 */
/***/ function(module, exports) {

eval("app.controller(\"commentController\", function($scope, $stateParams, AuthService, NotifyService, CommentService) {\r\n  console.log(\"commentController\"); // DEBUGG\r\n  $scope.newComment = {};\r\n  $scope.comments = [];\r\n  $scope.replyComment = {};\r\n  $scope.blockquote = {};\r\n  $scope.commentCounter = 0;\r\n  $scope.busy = false;\r\n  $scope.busyIcon = true;\r\n\r\n  $scope.fetchComments = function() {\r\n    $scope.busyIcon = true;\r\n    $scope.busy = true;\r\n    AuthService.header('commentCounter', $scope.commentCounter);\r\n    CommentService.index($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.newComment = {};\r\n        $scope.commentCounter += 1;\r\n        // Push new comments\r\n        $.each(response.data.comments, function(index, val) {\r\n          $scope.comments.push(val);\r\n        });\r\n        $scope.busy = false;\r\n        $scope.busyIcon = false;\r\n        $scope.notFound = false;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        $scope.busy = true;\r\n        $scope.busyIcon = false;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.storeComment = function(comment) {\r\n    $scope.commentCounter = 0;\r\n    AuthService.header('commentCounter', $scope.commentCounter);\r\n    CommentService.store(comment, $stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.comments = response.data.comments;\r\n        $scope.newComment = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.destroyComment = function(comment) {\r\n    $scope.commentCounter = 0;\r\n    AuthService.header('commentCounter', $scope.commentCounter);\r\n    CommentService.destroy(comment, $stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.comments = response.data.comments;\r\n        $scope.newComment = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.storeReply = function(comment) {\r\n    comment.reply_id = $scope.blockquote.id;\r\n    $scope.commentCounter = 0;\r\n    AuthService.header('commentCounter', $scope.commentCounter);\r\n    CommentService.store(comment, $stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.comments = response.data.comments;\r\n        $scope.newComment = {};\r\n        $scope.cleanReply();\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.setReply = function(comment) {\r\n    $scope.blockquote = comment;\r\n  };\r\n\r\n  $scope.cleanReply = function() {\r\n    $scope.blockquote = {};\r\n    $scope.replyComment = {};\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2NvbW1lbnRDb250cm9sbGVyLmpzPzAwMjYiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJjb21tZW50Q29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgQXV0aFNlcnZpY2UsIE5vdGlmeVNlcnZpY2UsIENvbW1lbnRTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJjb21tZW50Q29udHJvbGxlclwiKTsgLy8gREVCVUdHXHJcbiAgJHNjb3BlLm5ld0NvbW1lbnQgPSB7fTtcclxuICAkc2NvcGUuY29tbWVudHMgPSBbXTtcclxuICAkc2NvcGUucmVwbHlDb21tZW50ID0ge307XHJcbiAgJHNjb3BlLmJsb2NrcXVvdGUgPSB7fTtcclxuICAkc2NvcGUuY29tbWVudENvdW50ZXIgPSAwO1xyXG4gICRzY29wZS5idXN5ID0gZmFsc2U7XHJcbiAgJHNjb3BlLmJ1c3lJY29uID0gdHJ1ZTtcclxuXHJcbiAgJHNjb3BlLmZldGNoQ29tbWVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS5idXN5SWNvbiA9IHRydWU7XHJcbiAgICAkc2NvcGUuYnVzeSA9IHRydWU7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ2NvbW1lbnRDb3VudGVyJywgJHNjb3BlLmNvbW1lbnRDb3VudGVyKTtcclxuICAgIENvbW1lbnRTZXJ2aWNlLmluZGV4KCRzdGF0ZVBhcmFtcy5zbHVnKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLm5ld0NvbW1lbnQgPSB7fTtcclxuICAgICAgICAkc2NvcGUuY29tbWVudENvdW50ZXIgKz0gMTtcclxuICAgICAgICAvLyBQdXNoIG5ldyBjb21tZW50c1xyXG4gICAgICAgICQuZWFjaChyZXNwb25zZS5kYXRhLmNvbW1lbnRzLCBmdW5jdGlvbihpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAkc2NvcGUuY29tbWVudHMucHVzaCh2YWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRzY29wZS5idXN5ID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3lJY29uID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLm5vdEZvdW5kID0gZmFsc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICRzY29wZS5idXN5ID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuYnVzeUljb24gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuc3RvcmVDb21tZW50ID0gZnVuY3Rpb24oY29tbWVudCkge1xyXG4gICAgJHNjb3BlLmNvbW1lbnRDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignY29tbWVudENvdW50ZXInLCAkc2NvcGUuY29tbWVudENvdW50ZXIpO1xyXG4gICAgQ29tbWVudFNlcnZpY2Uuc3RvcmUoY29tbWVudCwgJHN0YXRlUGFyYW1zLnNsdWcpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhLmNvbW1lbnRzO1xyXG4gICAgICAgICRzY29wZS5uZXdDb21tZW50ID0ge307XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5kZXN0cm95Q29tbWVudCA9IGZ1bmN0aW9uKGNvbW1lbnQpIHtcclxuICAgICRzY29wZS5jb21tZW50Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ2NvbW1lbnRDb3VudGVyJywgJHNjb3BlLmNvbW1lbnRDb3VudGVyKTtcclxuICAgIENvbW1lbnRTZXJ2aWNlLmRlc3Ryb3koY29tbWVudCwgJHN0YXRlUGFyYW1zLnNsdWcpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhLmNvbW1lbnRzO1xyXG4gICAgICAgICRzY29wZS5uZXdDb21tZW50ID0ge307XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5zdG9yZVJlcGx5ID0gZnVuY3Rpb24oY29tbWVudCkge1xyXG4gICAgY29tbWVudC5yZXBseV9pZCA9ICRzY29wZS5ibG9ja3F1b3RlLmlkO1xyXG4gICAgJHNjb3BlLmNvbW1lbnRDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignY29tbWVudENvdW50ZXInLCAkc2NvcGUuY29tbWVudENvdW50ZXIpO1xyXG4gICAgQ29tbWVudFNlcnZpY2Uuc3RvcmUoY29tbWVudCwgJHN0YXRlUGFyYW1zLnNsdWcpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhLmNvbW1lbnRzO1xyXG4gICAgICAgICRzY29wZS5uZXdDb21tZW50ID0ge307XHJcbiAgICAgICAgJHNjb3BlLmNsZWFuUmVwbHkoKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnNldFJlcGx5ID0gZnVuY3Rpb24oY29tbWVudCkge1xyXG4gICAgJHNjb3BlLmJsb2NrcXVvdGUgPSBjb21tZW50O1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5jbGVhblJlcGx5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUuYmxvY2txdW90ZSA9IHt9O1xyXG4gICAgJHNjb3BlLnJlcGx5Q29tbWVudCA9IHt9O1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2NvbW1lbnRDb250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 28 */
/***/ function(module, exports) {

eval("app.controller(\"contactController\", function($scope, $rootScope, AuthService, NotifyService, ContactService) {\r\n  console.log(\"contactController\"); // DEBUGG\r\n  $rootScope.form = {};\r\n\r\n  $scope.storeForm = function(form) {\r\n    ContactService.store(form).then(\r\n      function success(response) {\r\n        $scope.form = {};\r\n        NotifyService.send('Notificacion del sistema', response.data.message);\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2NvbnRhY3RDb250cm9sbGVyLmpzPzIyOWIiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJjb250YWN0Q29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlLCBDb250YWN0U2VydmljZSkge1xyXG4gIGNvbnNvbGUubG9nKFwiY29udGFjdENvbnRyb2xsZXJcIik7IC8vIERFQlVHR1xyXG4gICRyb290U2NvcGUuZm9ybSA9IHt9O1xyXG5cclxuICAkc2NvcGUuc3RvcmVGb3JtID0gZnVuY3Rpb24oZm9ybSkge1xyXG4gICAgQ29udGFjdFNlcnZpY2Uuc3RvcmUoZm9ybSkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5mb3JtID0ge307XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCByZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMb3MgZGF0b3MgcHJvcG9yY2lvbmFkb3Mgc29uIGluY29ycmVjdG9zLicpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2NvbnRhY3RDb250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 29 */
/***/ function(module, exports) {

eval("app.controller(\"generalController\", function($scope, $rootScope, AuthService, NotifyService) {\r\n  console.log(\"generalController\");\r\n  $rootScope.showDebug = false;\r\n  $scope.role = AuthService.get('userRole');\r\n  $rootScope.isActive = AuthService.get('userActive');\r\n\r\n  $scope.logout = function() {\r\n    AuthService.remove('room_name');\r\n    AuthService.remove('room_active');\r\n    AuthService.remove('userToken');\r\n    AuthService.remove('userRole');\r\n    AuthService.remove('userActive');\r\n    $rootScope.isActive = false;\r\n    $rootScope.chatActive = false;\r\n    $rootScope.form = {};\r\n    $scope.role = 'general';\r\n    NotifyService.send('Notificacion del sistema', 'Usted ha cerrado sesion correctamente.');\r\n    AuthService.redirect('/');\r\n  };\r\n  $rootScope.isAdmin = function() {\r\n    return AuthService.checkRoles(['admin']);\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2dlbmVyYWxDb250cm9sbGVyLmpzPzQ4ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJnZW5lcmFsQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJnZW5lcmFsQ29udHJvbGxlclwiKTtcclxuICAkcm9vdFNjb3BlLnNob3dEZWJ1ZyA9IGZhbHNlO1xyXG4gICRzY29wZS5yb2xlID0gQXV0aFNlcnZpY2UuZ2V0KCd1c2VyUm9sZScpO1xyXG4gICRyb290U2NvcGUuaXNBY3RpdmUgPSBBdXRoU2VydmljZS5nZXQoJ3VzZXJBY3RpdmUnKTtcclxuXHJcbiAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgQXV0aFNlcnZpY2UucmVtb3ZlKCdyb29tX25hbWUnKTtcclxuICAgIEF1dGhTZXJ2aWNlLnJlbW92ZSgncm9vbV9hY3RpdmUnKTtcclxuICAgIEF1dGhTZXJ2aWNlLnJlbW92ZSgndXNlclRva2VuJyk7XHJcbiAgICBBdXRoU2VydmljZS5yZW1vdmUoJ3VzZXJSb2xlJyk7XHJcbiAgICBBdXRoU2VydmljZS5yZW1vdmUoJ3VzZXJBY3RpdmUnKTtcclxuICAgICRyb290U2NvcGUuaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgICRyb290U2NvcGUuY2hhdEFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgJHJvb3RTY29wZS5mb3JtID0ge307XHJcbiAgICAkc2NvcGUucm9sZSA9ICdnZW5lcmFsJztcclxuICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ1VzdGVkIGhhIGNlcnJhZG8gc2VzaW9uIGNvcnJlY3RhbWVudGUuJyk7XHJcbiAgICBBdXRoU2VydmljZS5yZWRpcmVjdCgnLycpO1xyXG4gIH07XHJcbiAgJHJvb3RTY29wZS5pc0FkbWluID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gQXV0aFNlcnZpY2UuY2hlY2tSb2xlcyhbJ2FkbWluJ10pO1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2dlbmVyYWxDb250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 30 */
/***/ function(module, exports) {

eval("app.controller('googleMapController', function($scope, AuthService, NotifyService, GoogleMapService) {\r\n  console.log(\"googleMapController\");\r\n\r\n  $scope.map = {\r\n    center: [39.74, -74.18],\r\n    zoom: 8\r\n  };\r\n\r\n  $scope.positions = {\r\n    eeuu: [39.74, -74.18],\r\n    argentina: [40.74, -74.18],\r\n    venezuela: [41.74, -74.18]\r\n  };\r\n\r\n  $scope.markers = {\r\n    eeuu: [39.74, -74.18],\r\n    argentina: [40.74, -74.18],\r\n    venezuela: [41.74, -74.18]\r\n  };\r\n\r\n  $scope.changePosition = function(name) {\r\n    $scope.map.center = $scope.positions[name];\r\n    $scope.map.zoom = 8;\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2dvb2dsZU1hcENvbnRyb2xsZXIuanM/MDM0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuY29udHJvbGxlcignZ29vZ2xlTWFwQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgQXV0aFNlcnZpY2UsIE5vdGlmeVNlcnZpY2UsIEdvb2dsZU1hcFNlcnZpY2UpIHtcclxuICBjb25zb2xlLmxvZyhcImdvb2dsZU1hcENvbnRyb2xsZXJcIik7XHJcblxyXG4gICRzY29wZS5tYXAgPSB7XHJcbiAgICBjZW50ZXI6IFszOS43NCwgLTc0LjE4XSxcclxuICAgIHpvb206IDhcclxuICB9O1xyXG5cclxuICAkc2NvcGUucG9zaXRpb25zID0ge1xyXG4gICAgZWV1dTogWzM5Ljc0LCAtNzQuMThdLFxyXG4gICAgYXJnZW50aW5hOiBbNDAuNzQsIC03NC4xOF0sXHJcbiAgICB2ZW5lenVlbGE6IFs0MS43NCwgLTc0LjE4XVxyXG4gIH07XHJcblxyXG4gICRzY29wZS5tYXJrZXJzID0ge1xyXG4gICAgZWV1dTogWzM5Ljc0LCAtNzQuMThdLFxyXG4gICAgYXJnZW50aW5hOiBbNDAuNzQsIC03NC4xOF0sXHJcbiAgICB2ZW5lenVlbGE6IFs0MS43NCwgLTc0LjE4XVxyXG4gIH07XHJcblxyXG4gICRzY29wZS5jaGFuZ2VQb3NpdGlvbiA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICRzY29wZS5tYXAuY2VudGVyID0gJHNjb3BlLnBvc2l0aW9uc1tuYW1lXTtcclxuICAgICRzY29wZS5tYXAuem9vbSA9IDg7XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvY29udHJvbGxlcnMvZ29vZ2xlTWFwQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 31 */
/***/ function(module, exports) {

eval("app.controller(\"inventoryController\", function($scope, $stateParams, AuthService, NotifyService, SolutionService, ProjectService, CategoryService) {\r\n  console.log(\"inventoryController\");\r\n  $scope.categories = [];\r\n  $scope.projects = [];\r\n  $scope.solutions = [];\r\n  $scope.solution = {};\r\n  $scope.newSolution = {};\r\n  $scope.solutionCounter = 0;\r\n  $scope.solutionQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n  $scope.slickConfig = {\r\n    enabled: true,\r\n    mobileFirst: true,\r\n    autoplay: true,\r\n    draggable: true,\r\n    dots: true,\r\n    arrows: true,\r\n    slidesToShow: 2,\r\n    slidesToScroll: 1,\r\n    centerMode: true,\r\n    autoplaySpeed: 2000,\r\n    method: {},\r\n    event: {\r\n      beforeChange: function (event, slick, currentSlide, nextSlide) {\r\n      },\r\n      afterChange: function (event, slick, currentSlide, nextSlide) {\r\n      }\r\n    },\r\n    responsive: [\r\n      {\r\n        breakpoint: 920,\r\n        settings: {\r\n          centerMode: true,\r\n          centerPadding: '20px',\r\n          autoplay: true,\r\n          autoplaySpeed: 2000,\r\n          arrows: true,\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 480,\r\n        settings: {\r\n          centerMode: false,\r\n          centerPadding: '0px',\r\n          autoplay: true,\r\n          autoplaySpeed: 2000,\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1,\r\n          arrows: false,\r\n        }\r\n      }\r\n    ]\r\n  };\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.solutionCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('solutionCounter', $scope.solutionCounter);\r\n    SolutionService.index().then(function success(response) {\r\n      $scope.solutions = response.data.solutions;\r\n      $scope.solutionQuantity = response.data.solutionQuantity;\r\n      $scope.solution = {};\r\n      $scope.newSolution = {};\r\n      if (!response.data.solutions.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.solutionCounter) {\r\n      $scope.solutionCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('solutionCounter', $scope.solutionCounter);\r\n    SolutionService.index().then(function success(response) {\r\n      $scope.solutions = response.data.solutions;\r\n      $scope.solutionQuantity = response.data.solutionQuantity;\r\n      $scope.solution = {};\r\n      $scope.newSolution = {}\r\n    });\r\n  };\r\n\r\n  $scope.fetchSolutions = function() {\r\n    $scope.solutionCounter = 0;\r\n    AuthService.header('solutionCounter', $scope.solutionCounter);\r\n    SolutionService.index().then(\r\n      function success(response) {\r\n        $scope.solutions = response.data.solutions;\r\n        $scope.solutionQuantity = response.data.solutionQuantity;\r\n        $scope.solution = {};\r\n        $scope.newSolution = {}\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (!$stateParams.slug) { $scope.fetchSolutions() }\r\n\r\n  $scope.fetchCategories = function() {\r\n    CategoryService.indexNames().then(function success(response) {\r\n      $scope.categories = response.data.categories;\r\n    });\r\n  };\r\n  if (AuthService.checkRoute('dashboard.createsolution') || AuthService.checkRoute('dashboard.editsolution')) { $scope.fetchCategories() }\r\n\r\n  $scope.storeSolution = function(solution) {\r\n    $scope.solutionCounter = 0;\r\n    AuthService.header('solutionCounter', $scope.solutionCounter);\r\n    SolutionService.store(solution).then(\r\n      function success(response) {\r\n        console.log(response);\r\n        $scope.solutions = response.data.solutions;\r\n        $scope.solutionQuantity = response.data.solutionQuantity;\r\n        $scope.solution = {};\r\n        $scope.newSolution = {};\r\n        AuthService.redirect('dashboard.inventory');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.editSolution = function() {\r\n    SolutionService.edit($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.newSolution = response.data.solution;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (AuthService.checkRoute('dashboard.editsolution')) { $scope.editSolution() }\r\n\r\n  $scope.updateSolution = function(solution) {\r\n    $scope.solutionCounter = 0;\r\n    AuthService.header('solutionCounter', $scope.solutionCounter);\r\n    SolutionService.update(solution).then(\r\n      function success(response) {\r\n        $scope.solutions = response.data.solutions;\r\n        $scope.solutionQuantity = response.data.solutionQuantity;\r\n        AuthService.redirect('dashboard.inventory');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.destroySolution = function(solution) {\r\n    $scope.solutionCounter = 0;\r\n    AuthService.header('solutionCounter', $scope.solutionCounter);\r\n    SolutionService.destroy(solution).then(\r\n      function success(response) {\r\n        $scope.solutions = response.data.solutions;\r\n        $scope.solutionQuantity = response.data.solutionQuantity;\r\n        $scope.solution = {};\r\n        $scope.newSolution = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2ludmVudG9yeUNvbnRyb2xsZXIuanM/YjE2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuY29udHJvbGxlcihcImludmVudG9yeUNvbnRyb2xsZXJcIiwgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlLCBTb2x1dGlvblNlcnZpY2UsIFByb2plY3RTZXJ2aWNlLCBDYXRlZ29yeVNlcnZpY2UpIHtcclxuICBjb25zb2xlLmxvZyhcImludmVudG9yeUNvbnRyb2xsZXJcIik7XHJcbiAgJHNjb3BlLmNhdGVnb3JpZXMgPSBbXTtcclxuICAkc2NvcGUucHJvamVjdHMgPSBbXTtcclxuICAkc2NvcGUuc29sdXRpb25zID0gW107XHJcbiAgJHNjb3BlLnNvbHV0aW9uID0ge307XHJcbiAgJHNjb3BlLm5ld1NvbHV0aW9uID0ge307XHJcbiAgJHNjb3BlLnNvbHV0aW9uQ291bnRlciA9IDA7XHJcbiAgJHNjb3BlLnNvbHV0aW9uUXVhbnRpdHkgPSAwO1xyXG4gICRzY29wZS5hbGxvd05leHQgPSB0cnVlO1xyXG4gICRzY29wZS5hbGxvd0JhY2sgPSBmYWxzZTtcclxuICAkc2NvcGUuc2xpY2tDb25maWcgPSB7XHJcbiAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgbW9iaWxlRmlyc3Q6IHRydWUsXHJcbiAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgIGRvdHM6IHRydWUsXHJcbiAgICBhcnJvd3M6IHRydWUsXHJcbiAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICBhdXRvcGxheVNwZWVkOiAyMDAwLFxyXG4gICAgbWV0aG9kOiB7fSxcclxuICAgIGV2ZW50OiB7XHJcbiAgICAgIGJlZm9yZUNoYW5nZTogZnVuY3Rpb24gKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpIHtcclxuICAgICAgfSxcclxuICAgICAgYWZ0ZXJDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSwgbmV4dFNsaWRlKSB7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA5MjAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMjBweCcsXHJcbiAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDIwMDAsXHJcbiAgICAgICAgICBhcnJvd3M6IHRydWUsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNDgwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZSxcclxuICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICBhdXRvcGxheVNwZWVkOiAyMDAwLFxyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH07XHJcblxyXG4gIC8vIFBBR0VSIE5FWFRcclxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCEkc2NvcGUuYWxsb3dOZXh0KSB7IHJldHVybiB9XHJcbiAgICAkc2NvcGUuc29sdXRpb25Db3VudGVyICs9IDE7XHJcbiAgICAkc2NvcGUuYWxsb3dCYWNrID0gdHJ1ZTtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignc29sdXRpb25Db3VudGVyJywgJHNjb3BlLnNvbHV0aW9uQ291bnRlcik7XHJcbiAgICBTb2x1dGlvblNlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLnNvbHV0aW9ucyA9IHJlc3BvbnNlLmRhdGEuc29sdXRpb25zO1xyXG4gICAgICAkc2NvcGUuc29sdXRpb25RdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEuc29sdXRpb25RdWFudGl0eTtcclxuICAgICAgJHNjb3BlLnNvbHV0aW9uID0ge307XHJcbiAgICAgICRzY29wZS5uZXdTb2x1dGlvbiA9IHt9O1xyXG4gICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuc29sdXRpb25zLmxlbmd0aCkgeyAkc2NvcGUuYWxsb3dOZXh0ID0gZmFsc2UgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuICAvLyBQQUdFUiBCQUNLXHJcbiAgJHNjb3BlLmJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICgkc2NvcGUuc29sdXRpb25Db3VudGVyKSB7XHJcbiAgICAgICRzY29wZS5zb2x1dGlvbkNvdW50ZXIgLT0gMTtcclxuICAgICAgJHNjb3BlLmFsbG93QmFjayA9IHRydWU7XHJcbiAgICAgICRzY29wZS5hbGxvd05leHQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHNjb3BlLmFsbG93QmFjayA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3NvbHV0aW9uQ291bnRlcicsICRzY29wZS5zb2x1dGlvbkNvdW50ZXIpO1xyXG4gICAgU29sdXRpb25TZXJ2aWNlLmluZGV4KCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS5zb2x1dGlvbnMgPSByZXNwb25zZS5kYXRhLnNvbHV0aW9ucztcclxuICAgICAgJHNjb3BlLnNvbHV0aW9uUXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnNvbHV0aW9uUXVhbnRpdHk7XHJcbiAgICAgICRzY29wZS5zb2x1dGlvbiA9IHt9O1xyXG4gICAgICAkc2NvcGUubmV3U29sdXRpb24gPSB7fVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmZldGNoU29sdXRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUuc29sdXRpb25Db3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignc29sdXRpb25Db3VudGVyJywgJHNjb3BlLnNvbHV0aW9uQ291bnRlcik7XHJcbiAgICBTb2x1dGlvblNlcnZpY2UuaW5kZXgoKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnNvbHV0aW9ucyA9IHJlc3BvbnNlLmRhdGEuc29sdXRpb25zO1xyXG4gICAgICAgICRzY29wZS5zb2x1dGlvblF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5zb2x1dGlvblF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5zb2x1dGlvbiA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdTb2x1dGlvbiA9IHt9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbiAgaWYgKCEkc3RhdGVQYXJhbXMuc2x1ZykgeyAkc2NvcGUuZmV0Y2hTb2x1dGlvbnMoKSB9XHJcblxyXG4gICRzY29wZS5mZXRjaENhdGVnb3JpZXMgPSBmdW5jdGlvbigpIHtcclxuICAgIENhdGVnb3J5U2VydmljZS5pbmRleE5hbWVzKCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS5jYXRlZ29yaWVzID0gcmVzcG9uc2UuZGF0YS5jYXRlZ29yaWVzO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb3V0ZSgnZGFzaGJvYXJkLmNyZWF0ZXNvbHV0aW9uJykgfHwgQXV0aFNlcnZpY2UuY2hlY2tSb3V0ZSgnZGFzaGJvYXJkLmVkaXRzb2x1dGlvbicpKSB7ICRzY29wZS5mZXRjaENhdGVnb3JpZXMoKSB9XHJcblxyXG4gICRzY29wZS5zdG9yZVNvbHV0aW9uID0gZnVuY3Rpb24oc29sdXRpb24pIHtcclxuICAgICRzY29wZS5zb2x1dGlvbkNvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdzb2x1dGlvbkNvdW50ZXInLCAkc2NvcGUuc29sdXRpb25Db3VudGVyKTtcclxuICAgIFNvbHV0aW9uU2VydmljZS5zdG9yZShzb2x1dGlvbikudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAkc2NvcGUuc29sdXRpb25zID0gcmVzcG9uc2UuZGF0YS5zb2x1dGlvbnM7XHJcbiAgICAgICAgJHNjb3BlLnNvbHV0aW9uUXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnNvbHV0aW9uUXVhbnRpdHk7XHJcbiAgICAgICAgJHNjb3BlLnNvbHV0aW9uID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld1NvbHV0aW9uID0ge307XHJcbiAgICAgICAgQXV0aFNlcnZpY2UucmVkaXJlY3QoJ2Rhc2hib2FyZC5pbnZlbnRvcnknKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS5lZGl0U29sdXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgIFNvbHV0aW9uU2VydmljZS5lZGl0KCRzdGF0ZVBhcmFtcy5zbHVnKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLm5ld1NvbHV0aW9uID0gcmVzcG9uc2UuZGF0YS5zb2x1dGlvbjtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb3V0ZSgnZGFzaGJvYXJkLmVkaXRzb2x1dGlvbicpKSB7ICRzY29wZS5lZGl0U29sdXRpb24oKSB9XHJcblxyXG4gICRzY29wZS51cGRhdGVTb2x1dGlvbiA9IGZ1bmN0aW9uKHNvbHV0aW9uKSB7XHJcbiAgICAkc2NvcGUuc29sdXRpb25Db3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignc29sdXRpb25Db3VudGVyJywgJHNjb3BlLnNvbHV0aW9uQ291bnRlcik7XHJcbiAgICBTb2x1dGlvblNlcnZpY2UudXBkYXRlKHNvbHV0aW9uKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnNvbHV0aW9ucyA9IHJlc3BvbnNlLmRhdGEuc29sdXRpb25zO1xyXG4gICAgICAgICRzY29wZS5zb2x1dGlvblF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5zb2x1dGlvblF1YW50aXR5O1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlZGlyZWN0KCdkYXNoYm9hcmQuaW52ZW50b3J5Jyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ0xvcyBkYXRvcyBwcm9wb3JjaW9uYWRvcyBzb24gaW5jb3JyZWN0b3MuJyk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuICAkc2NvcGUuZGVzdHJveVNvbHV0aW9uID0gZnVuY3Rpb24oc29sdXRpb24pIHtcclxuICAgICRzY29wZS5zb2x1dGlvbkNvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdzb2x1dGlvbkNvdW50ZXInLCAkc2NvcGUuc29sdXRpb25Db3VudGVyKTtcclxuICAgIFNvbHV0aW9uU2VydmljZS5kZXN0cm95KHNvbHV0aW9uKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnNvbHV0aW9ucyA9IHJlc3BvbnNlLmRhdGEuc29sdXRpb25zO1xyXG4gICAgICAgICRzY29wZS5zb2x1dGlvblF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5zb2x1dGlvblF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5zb2x1dGlvbiA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdTb2x1dGlvbiA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMb3MgZGF0b3MgcHJvcG9yY2lvbmFkb3Mgc29uIGluY29ycmVjdG9zLicpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2ludmVudG9yeUNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 32 */
/***/ function(module, exports) {

eval("app.controller(\"loginController\", function($scope, $rootScope, AuthService, NotifyService, ProfileService) {\r\n  console.log(\"loginController\");\r\n  $scope.user = {};\r\n\r\n  $scope.fetchProfile = function() {\r\n    ProfileService.show().then(function success(response) {\r\n      $rootScope.form.email = response.data.email;\r\n      $rootScope.form.name = response.data.person.first_name + \" \" + response.data.person.last_name;\r\n    });\r\n  };\r\n  $scope.login = function(user) {\r\n    AuthService.login(user).then(\r\n      function success(response) {\r\n        AuthService.put('userToken', response.data.userToken, 7);\r\n        AuthService.put('userRole', response.data.userRole, 7);\r\n        AuthService.put('userActive', true, 7);\r\n        AuthService.put('PUSHER_KEY', response.data.pusher_key, 7);\r\n        AuthService.put('room_name', response.data.room_name, 7);\r\n        AuthService.put('room_active', response.data.room_active, 7);\r\n        AuthService.header('userToken', response.data.userToken);\r\n        $rootScope.isActive = true;\r\n        $rootScope.chatActive = response.data.room_active;\r\n        $scope.user = {};\r\n        $scope.fetchProfile();\r\n        if (response.data.room_active) {$rootScope.fetchMessages()};\r\n        NotifyService.send('Notificacion del sistema', 'Usted ha iniciado sesion correctamente.');\r\n        AuthService.redirect('/');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', response.data);\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL2xvZ2luQ29udHJvbGxlci5qcz9lNjY5Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5jb250cm9sbGVyKFwibG9naW5Db250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSwgQXV0aFNlcnZpY2UsIE5vdGlmeVNlcnZpY2UsIFByb2ZpbGVTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJsb2dpbkNvbnRyb2xsZXJcIik7XHJcbiAgJHNjb3BlLnVzZXIgPSB7fTtcclxuXHJcbiAgJHNjb3BlLmZldGNoUHJvZmlsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgUHJvZmlsZVNlcnZpY2Uuc2hvdygpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkcm9vdFNjb3BlLmZvcm0uZW1haWwgPSByZXNwb25zZS5kYXRhLmVtYWlsO1xyXG4gICAgICAkcm9vdFNjb3BlLmZvcm0ubmFtZSA9IHJlc3BvbnNlLmRhdGEucGVyc29uLmZpcnN0X25hbWUgKyBcIiBcIiArIHJlc3BvbnNlLmRhdGEucGVyc29uLmxhc3RfbmFtZTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24odXNlcikge1xyXG4gICAgQXV0aFNlcnZpY2UubG9naW4odXNlcikudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgndXNlclRva2VuJywgcmVzcG9uc2UuZGF0YS51c2VyVG9rZW4sIDcpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgndXNlclJvbGUnLCByZXNwb25zZS5kYXRhLnVzZXJSb2xlLCA3KTtcclxuICAgICAgICBBdXRoU2VydmljZS5wdXQoJ3VzZXJBY3RpdmUnLCB0cnVlLCA3KTtcclxuICAgICAgICBBdXRoU2VydmljZS5wdXQoJ1BVU0hFUl9LRVknLCByZXNwb25zZS5kYXRhLnB1c2hlcl9rZXksIDcpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgncm9vbV9uYW1lJywgcmVzcG9uc2UuZGF0YS5yb29tX25hbWUsIDcpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgncm9vbV9hY3RpdmUnLCByZXNwb25zZS5kYXRhLnJvb21fYWN0aXZlLCA3KTtcclxuICAgICAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3VzZXJUb2tlbicsIHJlc3BvbnNlLmRhdGEudXNlclRva2VuKTtcclxuICAgICAgICAkcm9vdFNjb3BlLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAkcm9vdFNjb3BlLmNoYXRBY3RpdmUgPSByZXNwb25zZS5kYXRhLnJvb21fYWN0aXZlO1xyXG4gICAgICAgICRzY29wZS51c2VyID0ge307XHJcbiAgICAgICAgJHNjb3BlLmZldGNoUHJvZmlsZSgpO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJvb21fYWN0aXZlKSB7JHJvb3RTY29wZS5mZXRjaE1lc3NhZ2VzKCl9O1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ1VzdGVkIGhhIGluaWNpYWRvIHNlc2lvbiBjb3JyZWN0YW1lbnRlLicpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlZGlyZWN0KCcvJyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgcmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvY29udHJvbGxlcnMvbG9naW5Db250cm9sbGVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 33 */
/***/ function(module, exports) {

eval("app.controller(\"postController\", function($scope, $stateParams, AuthService, NotifyService, PostService, TagService) {\r\n  console.log(\"postController\");\r\n  $scope.tags = [];\r\n  $scope.posts = [];\r\n  $scope.post = {};\r\n  $scope.newPost = {};\r\n  $scope.postCounter = 0;\r\n  $scope.postQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n  AuthService.header('choice_tag', 'Ninguna');\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.postCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('postCounter', $scope.postCounter);\r\n    PostService.index().then(function success(response) {\r\n      $scope.posts = response.data.posts;\r\n      $scope.postQuantity = response.data.postQuantity;\r\n      $scope.post = {};\r\n      $scope.newPost = {};\r\n      if (!response.data.posts.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.postCounter) {\r\n      $scope.postCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('postCounter', $scope.postCounter);\r\n    PostService.index().then(function success(response) {\r\n      $scope.posts = response.data.posts;\r\n      $scope.postQuantity = response.data.postQuantity;\r\n      $scope.post = {};\r\n      $scope.newPost = {}\r\n    });\r\n  };\r\n\r\n  $scope.fetchTags = function() {\r\n    TagService.indexNames().then(function success(response) {\r\n      $scope.tags = response.data.tags;\r\n    });\r\n  };\r\n  if (AuthService.checkRoute('dashboard.editpost') || AuthService.checkRoute('dashboard.createpost')) {\r\n    $scope.fetchTags();\r\n  }\r\n\r\n  $scope.fetchPosts = function() {\r\n    $scope.postCounter = 0;\r\n    AuthService.header('postCounter', $scope.postCounter);\r\n    PostService.index().then(\r\n      function success(response) {\r\n        $scope.posts = response.data.posts;\r\n        $scope.postQuantity = response.data.postQuantity;\r\n        $scope.post = {};\r\n        $scope.newPost = {}\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (!$stateParams.slug) { $scope.fetchPosts() }\r\n\r\n  $scope.showPost = function() {\r\n    PostService.show($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.post = response.data.post;\r\n    },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (AuthService.checkRoute('post')) { $scope.showPost() }\r\n\r\n  $scope.storePost = function(post) {\r\n    $scope.postCounter = 0;\r\n    AuthService.header('postCounter', $scope.postCounter);\r\n    PostService.store(post).then(\r\n      function success(response) {\r\n        $scope.posts = response.data.posts;\r\n        $scope.postQuantity = response.data.postQuantity;\r\n        $scope.post = {};\r\n        $scope.newPost = {};\r\n        AuthService.redirect('dashboard.posts');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.editPost = function() {\r\n    PostService.edit($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.newPost = response.data.post;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (AuthService.checkRoute('dashboard.editpost')) { $scope.editPost() }\r\n\r\n  $scope.updatePost = function(post) {\r\n    $scope.postCounter = 0;\r\n    AuthService.header('postCounter', $scope.postCounter);\r\n    PostService.update(post).then(\r\n      function success(response) {\r\n        $scope.posts = response.data.posts;\r\n        $scope.postQuantity = response.data.postQuantity;\r\n        AuthService.redirect('dashboard.posts');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.destroyPost = function(post) {\r\n    $scope.postCounter = 0;\r\n    AuthService.header('postCounter', $scope.postCounter);\r\n    PostService.destroy(post).then(\r\n      function success(response) {\r\n        $scope.posts = response.data.posts;\r\n        $scope.postQuantity = response.data.postQuantity;\r\n        $scope.post = {};\r\n        $scope.newPost = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3Bvc3RDb250cm9sbGVyLmpzP2UzZjYiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJwb3N0Q29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgQXV0aFNlcnZpY2UsIE5vdGlmeVNlcnZpY2UsIFBvc3RTZXJ2aWNlLCBUYWdTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJwb3N0Q29udHJvbGxlclwiKTtcclxuICAkc2NvcGUudGFncyA9IFtdO1xyXG4gICRzY29wZS5wb3N0cyA9IFtdO1xyXG4gICRzY29wZS5wb3N0ID0ge307XHJcbiAgJHNjb3BlLm5ld1Bvc3QgPSB7fTtcclxuICAkc2NvcGUucG9zdENvdW50ZXIgPSAwO1xyXG4gICRzY29wZS5wb3N0UXVhbnRpdHkgPSAwO1xyXG4gICRzY29wZS5hbGxvd05leHQgPSB0cnVlO1xyXG4gICRzY29wZS5hbGxvd0JhY2sgPSBmYWxzZTtcclxuICBBdXRoU2VydmljZS5oZWFkZXIoJ2Nob2ljZV90YWcnLCAnTmluZ3VuYScpO1xyXG5cclxuICAvLyBQQUdFUiBORVhUXHJcbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghJHNjb3BlLmFsbG93TmV4dCkgeyByZXR1cm4gfVxyXG4gICAgJHNjb3BlLnBvc3RDb3VudGVyICs9IDE7XHJcbiAgICAkc2NvcGUuYWxsb3dCYWNrID0gdHJ1ZTtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigncG9zdENvdW50ZXInLCAkc2NvcGUucG9zdENvdW50ZXIpO1xyXG4gICAgUG9zdFNlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLnBvc3RzID0gcmVzcG9uc2UuZGF0YS5wb3N0cztcclxuICAgICAgJHNjb3BlLnBvc3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucG9zdFF1YW50aXR5O1xyXG4gICAgICAkc2NvcGUucG9zdCA9IHt9O1xyXG4gICAgICAkc2NvcGUubmV3UG9zdCA9IHt9O1xyXG4gICAgICBpZiAoIXJlc3BvbnNlLmRhdGEucG9zdHMubGVuZ3RoKSB7ICRzY29wZS5hbGxvd05leHQgPSBmYWxzZSB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIC8vIFBBR0VSIEJBQ0tcclxuICAkc2NvcGUuYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCRzY29wZS5wb3N0Q291bnRlcikge1xyXG4gICAgICAkc2NvcGUucG9zdENvdW50ZXIgLT0gMTtcclxuICAgICAgJHNjb3BlLmFsbG93QmFjayA9IHRydWU7XHJcbiAgICAgICRzY29wZS5hbGxvd05leHQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHNjb3BlLmFsbG93QmFjayA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Bvc3RDb3VudGVyJywgJHNjb3BlLnBvc3RDb3VudGVyKTtcclxuICAgIFBvc3RTZXJ2aWNlLmluZGV4KCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS5wb3N0cyA9IHJlc3BvbnNlLmRhdGEucG9zdHM7XHJcbiAgICAgICRzY29wZS5wb3N0UXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnBvc3RRdWFudGl0eTtcclxuICAgICAgJHNjb3BlLnBvc3QgPSB7fTtcclxuICAgICAgJHNjb3BlLm5ld1Bvc3QgPSB7fVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmZldGNoVGFncyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgVGFnU2VydmljZS5pbmRleE5hbWVzKCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS50YWdzID0gcmVzcG9uc2UuZGF0YS50YWdzO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb3V0ZSgnZGFzaGJvYXJkLmVkaXRwb3N0JykgfHwgQXV0aFNlcnZpY2UuY2hlY2tSb3V0ZSgnZGFzaGJvYXJkLmNyZWF0ZXBvc3QnKSkge1xyXG4gICAgJHNjb3BlLmZldGNoVGFncygpO1xyXG4gIH1cclxuXHJcbiAgJHNjb3BlLmZldGNoUG9zdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS5wb3N0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Bvc3RDb3VudGVyJywgJHNjb3BlLnBvc3RDb3VudGVyKTtcclxuICAgIFBvc3RTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wb3N0cyA9IHJlc3BvbnNlLmRhdGEucG9zdHM7XHJcbiAgICAgICAgJHNjb3BlLnBvc3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucG9zdFF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5wb3N0ID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld1Bvc3QgPSB7fVxyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gIGlmICghJHN0YXRlUGFyYW1zLnNsdWcpIHsgJHNjb3BlLmZldGNoUG9zdHMoKSB9XHJcblxyXG4gICRzY29wZS5zaG93UG9zdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgUG9zdFNlcnZpY2Uuc2hvdygkc3RhdGVQYXJhbXMuc2x1ZykudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wb3N0ID0gcmVzcG9uc2UuZGF0YS5wb3N0O1xyXG4gICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb3V0ZSgncG9zdCcpKSB7ICRzY29wZS5zaG93UG9zdCgpIH1cclxuXHJcbiAgJHNjb3BlLnN0b3JlUG9zdCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuICAgICRzY29wZS5wb3N0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Bvc3RDb3VudGVyJywgJHNjb3BlLnBvc3RDb3VudGVyKTtcclxuICAgIFBvc3RTZXJ2aWNlLnN0b3JlKHBvc3QpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUucG9zdHMgPSByZXNwb25zZS5kYXRhLnBvc3RzO1xyXG4gICAgICAgICRzY29wZS5wb3N0UXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnBvc3RRdWFudGl0eTtcclxuICAgICAgICAkc2NvcGUucG9zdCA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdQb3N0ID0ge307XHJcbiAgICAgICAgQXV0aFNlcnZpY2UucmVkaXJlY3QoJ2Rhc2hib2FyZC5wb3N0cycpO1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMb3MgZGF0b3MgcHJvcG9yY2lvbmFkb3Mgc29uIGluY29ycmVjdG9zLicpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbiAgJHNjb3BlLmVkaXRQb3N0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBQb3N0U2VydmljZS5lZGl0KCRzdGF0ZVBhcmFtcy5zbHVnKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLm5ld1Bvc3QgPSByZXNwb25zZS5kYXRhLnBvc3Q7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbiAgaWYgKEF1dGhTZXJ2aWNlLmNoZWNrUm91dGUoJ2Rhc2hib2FyZC5lZGl0cG9zdCcpKSB7ICRzY29wZS5lZGl0UG9zdCgpIH1cclxuXHJcbiAgJHNjb3BlLnVwZGF0ZVBvc3QgPSBmdW5jdGlvbihwb3N0KSB7XHJcbiAgICAkc2NvcGUucG9zdENvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdwb3N0Q291bnRlcicsICRzY29wZS5wb3N0Q291bnRlcik7XHJcbiAgICBQb3N0U2VydmljZS51cGRhdGUocG9zdCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wb3N0cyA9IHJlc3BvbnNlLmRhdGEucG9zdHM7XHJcbiAgICAgICAgJHNjb3BlLnBvc3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucG9zdFF1YW50aXR5O1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlZGlyZWN0KCdkYXNoYm9hcmQucG9zdHMnKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS5kZXN0cm95UG9zdCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuICAgICRzY29wZS5wb3N0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Bvc3RDb3VudGVyJywgJHNjb3BlLnBvc3RDb3VudGVyKTtcclxuICAgIFBvc3RTZXJ2aWNlLmRlc3Ryb3kocG9zdCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wb3N0cyA9IHJlc3BvbnNlLmRhdGEucG9zdHM7XHJcbiAgICAgICAgJHNjb3BlLnBvc3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucG9zdFF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5wb3N0ID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld1Bvc3QgPSB7fTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9jb250cm9sbGVycy9wb3N0Q29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 34 */
/***/ function(module, exports) {

eval("app.controller(\"profileController\", function($scope, AuthService, NotifyService, ProfileService) {\r\n  console.log(\"profileController\"); // DEBUGG\r\n  AuthService.checkRoles(['client', 'admin']);\r\n  $scope.user = {};\r\n  $scope.fullName = '';\r\n\r\n  $scope.fetchProfile = function() {\r\n    ProfileService.show().then(function success(response) {\r\n      $scope.user = response.data;\r\n      $scope.fullName = response.data.person.first_name + \" \" + response.data.person.last_name;\r\n    });\r\n  };\r\n  $scope.fetchProfile();\r\n  $scope.updateProfile = function(user) {\r\n    ProfileService.update(user).then(\r\n      function success(response) {\r\n        $scope.user = {};\r\n        $scope.user = response.data;\r\n        $scope.user.person.date_of_birth.toLocaleString().replace('at ', '');\r\n        $scope.fullName = response.data.person.first_name + \" \" + response.data.person.last_name;\r\n        NotifyService.send('Aviso del sistema', 'Su perfil ha sido modificado con exito.');\r\n      },\r\n      function fail(response) {\r\n        NotifyService.send('Aviso del sistema', response.data);\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3Byb2ZpbGVDb250cm9sbGVyLmpzPzM3ZmQiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJwcm9maWxlQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlLCBQcm9maWxlU2VydmljZSkge1xyXG4gIGNvbnNvbGUubG9nKFwicHJvZmlsZUNvbnRyb2xsZXJcIik7IC8vIERFQlVHR1xyXG4gIEF1dGhTZXJ2aWNlLmNoZWNrUm9sZXMoWydjbGllbnQnLCAnYWRtaW4nXSk7XHJcbiAgJHNjb3BlLnVzZXIgPSB7fTtcclxuICAkc2NvcGUuZnVsbE5hbWUgPSAnJztcclxuXHJcbiAgJHNjb3BlLmZldGNoUHJvZmlsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgUHJvZmlsZVNlcnZpY2Uuc2hvdygpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUudXNlciA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICRzY29wZS5mdWxsTmFtZSA9IHJlc3BvbnNlLmRhdGEucGVyc29uLmZpcnN0X25hbWUgKyBcIiBcIiArIHJlc3BvbnNlLmRhdGEucGVyc29uLmxhc3RfbmFtZTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgJHNjb3BlLmZldGNoUHJvZmlsZSgpO1xyXG4gICRzY29wZS51cGRhdGVQcm9maWxlID0gZnVuY3Rpb24odXNlcikge1xyXG4gICAgUHJvZmlsZVNlcnZpY2UudXBkYXRlKHVzZXIpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUudXNlciA9IHt9O1xyXG4gICAgICAgICRzY29wZS51c2VyID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAkc2NvcGUudXNlci5wZXJzb24uZGF0ZV9vZl9iaXJ0aC50b0xvY2FsZVN0cmluZygpLnJlcGxhY2UoJ2F0ICcsICcnKTtcclxuICAgICAgICAkc2NvcGUuZnVsbE5hbWUgPSByZXNwb25zZS5kYXRhLnBlcnNvbi5maXJzdF9uYW1lICsgXCIgXCIgKyByZXNwb25zZS5kYXRhLnBlcnNvbi5sYXN0X25hbWU7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdBdmlzbyBkZWwgc2lzdGVtYScsICdTdSBwZXJmaWwgaGEgc2lkbyBtb2RpZmljYWRvIGNvbiBleGl0by4nKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnQXZpc28gZGVsIHNpc3RlbWEnLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9jb250cm9sbGVycy9wcm9maWxlQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 35 */
/***/ function(module, exports) {

eval("app.controller(\"projectController\", function($scope, $stateParams, AuthService, NotifyService, ProjectService, SolutionService) {\r\n  console.log(\"projectController\");\r\n  $scope.projects = [];\r\n  $scope.project = {};\r\n  $scope.newProject = {};\r\n  $scope.solutions = [];\r\n  $scope.projectCounter = 0;\r\n  $scope.projectQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.projectCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('projectCounter', $scope.projectCounter);\r\n    ProjectService.index().then(function success(response) {\r\n      $scope.projects = response.data.projects;\r\n      $scope.projectQuantity = response.data.projectQuantity;\r\n      $scope.project = {};\r\n      $scope.newProject = {};\r\n      if (!response.data.projects.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.projectCounter) {\r\n      $scope.projectCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('projectCounter', $scope.projectCounter);\r\n    ProjectService.index().then(function success(response) {\r\n      $scope.projects = response.data.projects;\r\n      $scope.projectQuantity = response.data.projectQuantity;\r\n      $scope.project = {};\r\n      $scope.newProject = {}\r\n    });\r\n  };\r\n\r\n  $scope.fetchSolutions = function() {\r\n    SolutionService.indexNames().then(function success(response) {\r\n      $scope.solutions = response.data.solutions;\r\n    });\r\n  };\r\n  if (AuthService.checkRoute('dashboard.editproject') || AuthService.checkRoute('dashboard.createproject')) {\r\n    $scope.fetchSolutions();\r\n  }\r\n\r\n  $scope.fetchProjects = function() {\r\n    $scope.projectCounter = 0;\r\n    AuthService.header('projectCounter', $scope.projectCounter);\r\n    ProjectService.index().then(\r\n      function success(response) {\r\n        $scope.projects = response.data.projects;\r\n        $scope.projectQuantity = response.data.projectQuantity;\r\n        $scope.project = {};\r\n        $scope.newProject = {}\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (!$stateParams.slug) { $scope.fetchProjects() }\r\n\r\n  $scope.showProject = function() {\r\n    ProjectService.show($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.project = response.data.project;\r\n    },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (AuthService.checkRoute('project')) { $scope.showProject() }\r\n\r\n  $scope.storeProject = function(project) {\r\n    $scope.projectCounter = 0;\r\n    AuthService.header('projectCounter', $scope.projectCounter);\r\n    ProjectService.store(project).then(\r\n      function success(response) {\r\n        $scope.projects = response.data.projects;\r\n        $scope.projectQuantity = response.data.projectQuantity;\r\n        $scope.project = {};\r\n        $scope.newProject = {};\r\n        AuthService.redirect('dashboard.projects');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.editProject = function() {\r\n    ProjectService.edit($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.newProject = response.data.project;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (AuthService.checkRoute('dashboard.editproject')) { $scope.editProject() }\r\n\r\n  $scope.updateProject = function(project) {\r\n    $scope.projectCounter = 0;\r\n    AuthService.header('projectCounter', $scope.projectCounter);\r\n    ProjectService.update(project).then(\r\n      function success(response) {\r\n        $scope.projects = response.data.projects;\r\n        $scope.projectQuantity = response.data.projectQuantity;\r\n        AuthService.redirect('dashboard.projects');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.destroyProject = function(project) {\r\n    $scope.projectCounter = 0;\r\n    AuthService.header('projectCounter', $scope.projectCounter);\r\n    ProjectService.destroy(project).then(\r\n      function success(response) {\r\n        $scope.projects = response.data.projects;\r\n        $scope.projectQuantity = response.data.projectQuantity;\r\n        $scope.project = {};\r\n        $scope.newProject = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3Byb2plY3RDb250cm9sbGVyLmpzPzczMjEiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJwcm9qZWN0Q29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgQXV0aFNlcnZpY2UsIE5vdGlmeVNlcnZpY2UsIFByb2plY3RTZXJ2aWNlLCBTb2x1dGlvblNlcnZpY2UpIHtcclxuICBjb25zb2xlLmxvZyhcInByb2plY3RDb250cm9sbGVyXCIpO1xyXG4gICRzY29wZS5wcm9qZWN0cyA9IFtdO1xyXG4gICRzY29wZS5wcm9qZWN0ID0ge307XHJcbiAgJHNjb3BlLm5ld1Byb2plY3QgPSB7fTtcclxuICAkc2NvcGUuc29sdXRpb25zID0gW107XHJcbiAgJHNjb3BlLnByb2plY3RDb3VudGVyID0gMDtcclxuICAkc2NvcGUucHJvamVjdFF1YW50aXR5ID0gMDtcclxuICAkc2NvcGUuYWxsb3dOZXh0ID0gdHJ1ZTtcclxuICAkc2NvcGUuYWxsb3dCYWNrID0gZmFsc2U7XHJcblxyXG4gIC8vIFBBR0VSIE5FWFRcclxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCEkc2NvcGUuYWxsb3dOZXh0KSB7IHJldHVybiB9XHJcbiAgICAkc2NvcGUucHJvamVjdENvdW50ZXIgKz0gMTtcclxuICAgICRzY29wZS5hbGxvd0JhY2sgPSB0cnVlO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdwcm9qZWN0Q291bnRlcicsICRzY29wZS5wcm9qZWN0Q291bnRlcik7XHJcbiAgICBQcm9qZWN0U2VydmljZS5pbmRleCgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUucHJvamVjdHMgPSByZXNwb25zZS5kYXRhLnByb2plY3RzO1xyXG4gICAgICAkc2NvcGUucHJvamVjdFF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS5wcm9qZWN0UXVhbnRpdHk7XHJcbiAgICAgICRzY29wZS5wcm9qZWN0ID0ge307XHJcbiAgICAgICRzY29wZS5uZXdQcm9qZWN0ID0ge307XHJcbiAgICAgIGlmICghcmVzcG9uc2UuZGF0YS5wcm9qZWN0cy5sZW5ndGgpIHsgJHNjb3BlLmFsbG93TmV4dCA9IGZhbHNlIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgLy8gUEFHRVIgQkFDS1xyXG4gICRzY29wZS5iYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoJHNjb3BlLnByb2plY3RDb3VudGVyKSB7XHJcbiAgICAgICRzY29wZS5wcm9qZWN0Q291bnRlciAtPSAxO1xyXG4gICAgICAkc2NvcGUuYWxsb3dCYWNrID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLmFsbG93TmV4dCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkc2NvcGUuYWxsb3dCYWNrID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigncHJvamVjdENvdW50ZXInLCAkc2NvcGUucHJvamVjdENvdW50ZXIpO1xyXG4gICAgUHJvamVjdFNlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLnByb2plY3RzID0gcmVzcG9uc2UuZGF0YS5wcm9qZWN0cztcclxuICAgICAgJHNjb3BlLnByb2plY3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucHJvamVjdFF1YW50aXR5O1xyXG4gICAgICAkc2NvcGUucHJvamVjdCA9IHt9O1xyXG4gICAgICAkc2NvcGUubmV3UHJvamVjdCA9IHt9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuZmV0Y2hTb2x1dGlvbnMgPSBmdW5jdGlvbigpIHtcclxuICAgIFNvbHV0aW9uU2VydmljZS5pbmRleE5hbWVzKCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS5zb2x1dGlvbnMgPSByZXNwb25zZS5kYXRhLnNvbHV0aW9ucztcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgaWYgKEF1dGhTZXJ2aWNlLmNoZWNrUm91dGUoJ2Rhc2hib2FyZC5lZGl0cHJvamVjdCcpIHx8IEF1dGhTZXJ2aWNlLmNoZWNrUm91dGUoJ2Rhc2hib2FyZC5jcmVhdGVwcm9qZWN0JykpIHtcclxuICAgICRzY29wZS5mZXRjaFNvbHV0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgJHNjb3BlLmZldGNoUHJvamVjdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS5wcm9qZWN0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Byb2plY3RDb3VudGVyJywgJHNjb3BlLnByb2plY3RDb3VudGVyKTtcclxuICAgIFByb2plY3RTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wcm9qZWN0cyA9IHJlc3BvbnNlLmRhdGEucHJvamVjdHM7XHJcbiAgICAgICAgJHNjb3BlLnByb2plY3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucHJvamVjdFF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5wcm9qZWN0ID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld1Byb2plY3QgPSB7fVxyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gIGlmICghJHN0YXRlUGFyYW1zLnNsdWcpIHsgJHNjb3BlLmZldGNoUHJvamVjdHMoKSB9XHJcblxyXG4gICRzY29wZS5zaG93UHJvamVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgUHJvamVjdFNlcnZpY2Uuc2hvdygkc3RhdGVQYXJhbXMuc2x1ZykudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wcm9qZWN0ID0gcmVzcG9uc2UuZGF0YS5wcm9qZWN0O1xyXG4gICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb3V0ZSgncHJvamVjdCcpKSB7ICRzY29wZS5zaG93UHJvamVjdCgpIH1cclxuXHJcbiAgJHNjb3BlLnN0b3JlUHJvamVjdCA9IGZ1bmN0aW9uKHByb2plY3QpIHtcclxuICAgICRzY29wZS5wcm9qZWN0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Byb2plY3RDb3VudGVyJywgJHNjb3BlLnByb2plY3RDb3VudGVyKTtcclxuICAgIFByb2plY3RTZXJ2aWNlLnN0b3JlKHByb2plY3QpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUucHJvamVjdHMgPSByZXNwb25zZS5kYXRhLnByb2plY3RzO1xyXG4gICAgICAgICRzY29wZS5wcm9qZWN0UXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnByb2plY3RRdWFudGl0eTtcclxuICAgICAgICAkc2NvcGUucHJvamVjdCA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdQcm9qZWN0ID0ge307XHJcbiAgICAgICAgQXV0aFNlcnZpY2UucmVkaXJlY3QoJ2Rhc2hib2FyZC5wcm9qZWN0cycpO1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMb3MgZGF0b3MgcHJvcG9yY2lvbmFkb3Mgc29uIGluY29ycmVjdG9zLicpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbiAgJHNjb3BlLmVkaXRQcm9qZWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBQcm9qZWN0U2VydmljZS5lZGl0KCRzdGF0ZVBhcmFtcy5zbHVnKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLm5ld1Byb2plY3QgPSByZXNwb25zZS5kYXRhLnByb2plY3Q7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbiAgaWYgKEF1dGhTZXJ2aWNlLmNoZWNrUm91dGUoJ2Rhc2hib2FyZC5lZGl0cHJvamVjdCcpKSB7ICRzY29wZS5lZGl0UHJvamVjdCgpIH1cclxuXHJcbiAgJHNjb3BlLnVwZGF0ZVByb2plY3QgPSBmdW5jdGlvbihwcm9qZWN0KSB7XHJcbiAgICAkc2NvcGUucHJvamVjdENvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCdwcm9qZWN0Q291bnRlcicsICRzY29wZS5wcm9qZWN0Q291bnRlcik7XHJcbiAgICBQcm9qZWN0U2VydmljZS51cGRhdGUocHJvamVjdCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wcm9qZWN0cyA9IHJlc3BvbnNlLmRhdGEucHJvamVjdHM7XHJcbiAgICAgICAgJHNjb3BlLnByb2plY3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucHJvamVjdFF1YW50aXR5O1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlZGlyZWN0KCdkYXNoYm9hcmQucHJvamVjdHMnKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS5kZXN0cm95UHJvamVjdCA9IGZ1bmN0aW9uKHByb2plY3QpIHtcclxuICAgICRzY29wZS5wcm9qZWN0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Byb2plY3RDb3VudGVyJywgJHNjb3BlLnByb2plY3RDb3VudGVyKTtcclxuICAgIFByb2plY3RTZXJ2aWNlLmRlc3Ryb3kocHJvamVjdCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wcm9qZWN0cyA9IHJlc3BvbnNlLmRhdGEucHJvamVjdHM7XHJcbiAgICAgICAgJHNjb3BlLnByb2plY3RRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEucHJvamVjdFF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS5wcm9qZWN0ID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld1Byb2plY3QgPSB7fTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9jb250cm9sbGVycy9wcm9qZWN0Q29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 36 */
/***/ function(module, exports) {

eval("app.controller(\"registerController\", function($scope, $rootScope, AuthService, NotifyService, ProfileService) {\r\n  console.log('registerController');\r\n  $scope.user = {};\r\n  $scope.date = {\r\n    min: new Date('1910-01-01').toString(),\r\n    max: new Date('2010-01-01').toString()\r\n  };\r\n\r\n  $scope.fetchProfile = function() {\r\n    ProfileService.show().then(function success(response) {\r\n      $rootScope.form.email = response.data.email;\r\n      $rootScope.form.name = response.data.person.first_name + \" \" + response.data.person.last_name;\r\n    });\r\n  };\r\n  $scope.register = function(user) {\r\n    AuthService.register(user).then(\r\n      function success(response) {\r\n        AuthService.put('userToken', response.data.userToken, 7);\r\n        AuthService.put('userRole', response.data.userRole, 7);\r\n        AuthService.put('userActive', true, 7);\r\n        AuthService.put('PUSHER_KEY', response.data.pusher_key, 7);\r\n        AuthService.header('userToken', response.data.userToken);\r\n        NotifyService.send('Notificacion del sistema', 'Usted se ha registrado correctamente.');\r\n        $rootScope.isActive = true;\r\n        $scope.user = {};\r\n        $scope.fetchProfile();\r\n        AuthService.redirect('/');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', response.data);\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3JlZ2lzdGVyQ29udHJvbGxlci5qcz9kZDYxIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5jb250cm9sbGVyKFwicmVnaXN0ZXJDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSwgQXV0aFNlcnZpY2UsIE5vdGlmeVNlcnZpY2UsIFByb2ZpbGVTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coJ3JlZ2lzdGVyQ29udHJvbGxlcicpO1xyXG4gICRzY29wZS51c2VyID0ge307XHJcbiAgJHNjb3BlLmRhdGUgPSB7XHJcbiAgICBtaW46IG5ldyBEYXRlKCcxOTEwLTAxLTAxJykudG9TdHJpbmcoKSxcclxuICAgIG1heDogbmV3IERhdGUoJzIwMTAtMDEtMDEnKS50b1N0cmluZygpXHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmZldGNoUHJvZmlsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgUHJvZmlsZVNlcnZpY2Uuc2hvdygpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkcm9vdFNjb3BlLmZvcm0uZW1haWwgPSByZXNwb25zZS5kYXRhLmVtYWlsO1xyXG4gICAgICAkcm9vdFNjb3BlLmZvcm0ubmFtZSA9IHJlc3BvbnNlLmRhdGEucGVyc29uLmZpcnN0X25hbWUgKyBcIiBcIiArIHJlc3BvbnNlLmRhdGEucGVyc29uLmxhc3RfbmFtZTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24odXNlcikge1xyXG4gICAgQXV0aFNlcnZpY2UucmVnaXN0ZXIodXNlcikudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgndXNlclRva2VuJywgcmVzcG9uc2UuZGF0YS51c2VyVG9rZW4sIDcpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgndXNlclJvbGUnLCByZXNwb25zZS5kYXRhLnVzZXJSb2xlLCA3KTtcclxuICAgICAgICBBdXRoU2VydmljZS5wdXQoJ3VzZXJBY3RpdmUnLCB0cnVlLCA3KTtcclxuICAgICAgICBBdXRoU2VydmljZS5wdXQoJ1BVU0hFUl9LRVknLCByZXNwb25zZS5kYXRhLnB1c2hlcl9rZXksIDcpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigndXNlclRva2VuJywgcmVzcG9uc2UuZGF0YS51c2VyVG9rZW4pO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ1VzdGVkIHNlIGhhIHJlZ2lzdHJhZG8gY29ycmVjdGFtZW50ZS4nKTtcclxuICAgICAgICAkcm9vdFNjb3BlLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUudXNlciA9IHt9O1xyXG4gICAgICAgICRzY29wZS5mZXRjaFByb2ZpbGUoKTtcclxuICAgICAgICBBdXRoU2VydmljZS5yZWRpcmVjdCgnLycpO1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3JlZ2lzdGVyQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 37 */
/***/ function(module, exports) {

eval("app.controller(\"solutionController\", function($scope, $stateParams, AuthService, NotifyService, SolutionService, CategoryService) {\r\n  console.log(\"solutionController\"); // DEBUGG\r\n  $scope.choice_category = {name: 'Ninguna'};\r\n  $scope.solutions = [];\r\n  $scope.solution = {};\r\n  $scope.solutionCounter = 0;\r\n  $scope.busy = false;\r\n  $scope.busyIcon = true;\r\n\r\n  $scope.fetchSolutions = function() {\r\n    $scope.busyIcon = true;\r\n    $scope.busy = true;\r\n    AuthService.header('choice_category', $scope.choice_category.name);\r\n    AuthService.header('solutionCounter', $scope.solutionCounter);\r\n    SolutionService.index().then(\r\n      function success(response) {\r\n        $scope.solutionCounter += 1;\r\n        // Push new solutions\r\n        $.each(response.data.solutions, function(index, val) {\r\n          $scope.solutions.push(val);\r\n        });\r\n        $scope.busy = false;\r\n        $scope.busyIcon = false;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        $scope.busy = true;\r\n        $scope.busyIcon = false;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.showSolution = function() {\r\n    SolutionService.show($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.solution = response.data.solution;\r\n    },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (AuthService.checkRoute('solution')) { $scope.showSolution() }\r\n\r\n  $scope.cleanSolutions = function() {\r\n    $scope.solutions = [];\r\n    $scope.solutionCounter = 0;\r\n    $scope.busyIcon = true;\r\n    $scope.busy = true;\r\n    AuthService.header('choice_category', $scope.choice_category.name);\r\n    AuthService.header('solutionCounter', $scope.solutionCounter);\r\n    SolutionService.index().then(\r\n      function success(response) {\r\n        $scope.solutionCounter += 1;\r\n        // Push new solutions\r\n        $.each(response.data.solutions, function(index, val) {\r\n          $scope.solutions.push(val);\r\n        });\r\n        $scope.busy = false;\r\n        $scope.busyIcon = false;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        $scope.busy = true;\r\n        $scope.busyText = '';\r\n        $scope.busyIcon = false;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.fetchCategories = function() {\r\n    CategoryService.index().then(function success(response) {\r\n      $scope.categories = response.data.categories;\r\n    });\r\n  };\r\n  $scope.fetchCategories();\r\n\r\n  $scope.changeCategory = function(categoryName) {\r\n    $scope.choice_category = {name: categoryName};\r\n    $scope.cleanSolutions();\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3NvbHV0aW9uQ29udHJvbGxlci5qcz8zY2U5Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5jb250cm9sbGVyKFwic29sdXRpb25Db250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBBdXRoU2VydmljZSwgTm90aWZ5U2VydmljZSwgU29sdXRpb25TZXJ2aWNlLCBDYXRlZ29yeVNlcnZpY2UpIHtcclxuICBjb25zb2xlLmxvZyhcInNvbHV0aW9uQ29udHJvbGxlclwiKTsgLy8gREVCVUdHXHJcbiAgJHNjb3BlLmNob2ljZV9jYXRlZ29yeSA9IHtuYW1lOiAnTmluZ3VuYSd9O1xyXG4gICRzY29wZS5zb2x1dGlvbnMgPSBbXTtcclxuICAkc2NvcGUuc29sdXRpb24gPSB7fTtcclxuICAkc2NvcGUuc29sdXRpb25Db3VudGVyID0gMDtcclxuICAkc2NvcGUuYnVzeSA9IGZhbHNlO1xyXG4gICRzY29wZS5idXN5SWNvbiA9IHRydWU7XHJcblxyXG4gICRzY29wZS5mZXRjaFNvbHV0aW9ucyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLmJ1c3lJY29uID0gdHJ1ZTtcclxuICAgICRzY29wZS5idXN5ID0gdHJ1ZTtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignY2hvaWNlX2NhdGVnb3J5JywgJHNjb3BlLmNob2ljZV9jYXRlZ29yeS5uYW1lKTtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcignc29sdXRpb25Db3VudGVyJywgJHNjb3BlLnNvbHV0aW9uQ291bnRlcik7XHJcbiAgICBTb2x1dGlvblNlcnZpY2UuaW5kZXgoKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnNvbHV0aW9uQ291bnRlciArPSAxO1xyXG4gICAgICAgIC8vIFB1c2ggbmV3IHNvbHV0aW9uc1xyXG4gICAgICAgICQuZWFjaChyZXNwb25zZS5kYXRhLnNvbHV0aW9ucywgZnVuY3Rpb24oaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgJHNjb3BlLnNvbHV0aW9ucy5wdXNoKHZhbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3kgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuYnVzeUljb24gPSBmYWxzZTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3kgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5idXN5SWNvbiA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5zaG93U29sdXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgIFNvbHV0aW9uU2VydmljZS5zaG93KCRzdGF0ZVBhcmFtcy5zbHVnKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnNvbHV0aW9uID0gcmVzcG9uc2UuZGF0YS5zb2x1dGlvbjtcclxuICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbiAgaWYgKEF1dGhTZXJ2aWNlLmNoZWNrUm91dGUoJ3NvbHV0aW9uJykpIHsgJHNjb3BlLnNob3dTb2x1dGlvbigpIH1cclxuXHJcbiAgJHNjb3BlLmNsZWFuU29sdXRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUuc29sdXRpb25zID0gW107XHJcbiAgICAkc2NvcGUuc29sdXRpb25Db3VudGVyID0gMDtcclxuICAgICRzY29wZS5idXN5SWNvbiA9IHRydWU7XHJcbiAgICAkc2NvcGUuYnVzeSA9IHRydWU7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ2Nob2ljZV9jYXRlZ29yeScsICRzY29wZS5jaG9pY2VfY2F0ZWdvcnkubmFtZSk7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3NvbHV0aW9uQ291bnRlcicsICRzY29wZS5zb2x1dGlvbkNvdW50ZXIpO1xyXG4gICAgU29sdXRpb25TZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5zb2x1dGlvbkNvdW50ZXIgKz0gMTtcclxuICAgICAgICAvLyBQdXNoIG5ldyBzb2x1dGlvbnNcclxuICAgICAgICAkLmVhY2gocmVzcG9uc2UuZGF0YS5zb2x1dGlvbnMsIGZ1bmN0aW9uKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgICRzY29wZS5zb2x1dGlvbnMucHVzaCh2YWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRzY29wZS5idXN5ID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3lJY29uID0gZmFsc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICRzY29wZS5idXN5ID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuYnVzeVRleHQgPSAnJztcclxuICAgICAgICAkc2NvcGUuYnVzeUljb24gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuZmV0Y2hDYXRlZ29yaWVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBDYXRlZ29yeVNlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSByZXNwb25zZS5kYXRhLmNhdGVnb3JpZXM7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gICRzY29wZS5mZXRjaENhdGVnb3JpZXMoKTtcclxuXHJcbiAgJHNjb3BlLmNoYW5nZUNhdGVnb3J5ID0gZnVuY3Rpb24oY2F0ZWdvcnlOYW1lKSB7XHJcbiAgICAkc2NvcGUuY2hvaWNlX2NhdGVnb3J5ID0ge25hbWU6IGNhdGVnb3J5TmFtZX07XHJcbiAgICAkc2NvcGUuY2xlYW5Tb2x1dGlvbnMoKTtcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9jb250cm9sbGVycy9zb2x1dGlvbkNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 38 */
/***/ function(module, exports) {

eval("app.controller(\"tagController\", function($scope, $stateParams, AuthService, NotifyService, TagService) {\r\n  console.log(\"tagController\"); // DEBUGG\r\n  $scope.tags = [];\r\n  $scope.tag = {};\r\n  $scope.newTag = {};\r\n  $scope.tagCounter = 0;\r\n  $scope.tagQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.tagCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('tagCounter', $scope.tagCounter);\r\n    TagService.index().then(function success(response) {\r\n      $scope.tags = response.data.tags;\r\n      $scope.tagQuantity = response.data.tagQuantity;\r\n      $scope.tag = {};\r\n      $scope.newTag = {};\r\n      if (!response.data.tags.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.tagCounter) {\r\n      $scope.tagCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('tagCounter', $scope.tagCounter);\r\n    TagService.index().then(function success(response) {\r\n      $scope.tags = response.data.tags;\r\n      $scope.tagQuantity = response.data.tagQuantity;\r\n      $scope.tag = {};\r\n      $scope.newTag = {}\r\n    });\r\n  };\r\n\r\n  $scope.fetchTags = function() {\r\n    $scope.tagCounter = 0;\r\n    AuthService.header('tagCounter', $scope.tagCounter);\r\n    TagService.index().then(\r\n      function success(response) {\r\n        $scope.tags = response.data.tags;\r\n        $scope.tagQuantity = response.data.tagQuantity;\r\n        $scope.tag = {};\r\n        $scope.newTag = {}\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (!$stateParams.slug) { $scope.fetchTags() }\r\n\r\n  $scope.showTag = function() {\r\n    $scope.tagCounter = 0;\r\n    AuthService.header('tagCounter', $scope.tagCounter);\r\n    TagService.show($stateParams.slug).then(function success(response) {\r\n      $scope.tags = {};\r\n      $scope.tag = response.tag.data;\r\n      $scope.newTag = {}\r\n    });\r\n  };\r\n  if ($stateParams.slug) { $scope.showTag() }\r\n\r\n  $scope.storeTag = function(tag) {\r\n    $scope.tagCounter = 0;\r\n    AuthService.header('tagCounter', $scope.tagCounter);\r\n    TagService.store(tag).then(\r\n      function success(response) {\r\n        $scope.tags = response.data.tags;\r\n        $scope.tagQuantity = response.data.tagQuantity;\r\n        $scope.tag = {};\r\n        $scope.newTag = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.updateTag = function(tag) {\r\n    $scope.tagCounter = 0;\r\n    AuthService.header('tagCounter', $scope.tagCounter);\r\n    TagService.update(tag).then(\r\n      function success(response) {\r\n        $scope.tags = response.data.tags;\r\n        $scope.tagQuantity = response.data.tagQuantity;\r\n        $scope.tag = {};\r\n        $scope.newTag = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n  $scope.destroyTag = function(tag) {\r\n    $scope.tagCounter = 0;\r\n    AuthService.header('tagCounter', $scope.tagCounter);\r\n    TagService.destroy(tag).then(\r\n      function success(response) {\r\n        $scope.tags = response.data.tags;\r\n        $scope.tagQuantity = response.data.tagQuantity;\r\n        $scope.tag = {};\r\n        $scope.newTag = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3RhZ0NvbnRyb2xsZXIuanM/NWJhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuY29udHJvbGxlcihcInRhZ0NvbnRyb2xsZXJcIiwgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlLCBUYWdTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJ0YWdDb250cm9sbGVyXCIpOyAvLyBERUJVR0dcclxuICAkc2NvcGUudGFncyA9IFtdO1xyXG4gICRzY29wZS50YWcgPSB7fTtcclxuICAkc2NvcGUubmV3VGFnID0ge307XHJcbiAgJHNjb3BlLnRhZ0NvdW50ZXIgPSAwO1xyXG4gICRzY29wZS50YWdRdWFudGl0eSA9IDA7XHJcbiAgJHNjb3BlLmFsbG93TmV4dCA9IHRydWU7XHJcbiAgJHNjb3BlLmFsbG93QmFjayA9IGZhbHNlO1xyXG5cclxuICAvLyBQQUdFUiBORVhUXHJcbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghJHNjb3BlLmFsbG93TmV4dCkgeyByZXR1cm4gfVxyXG4gICAgJHNjb3BlLnRhZ0NvdW50ZXIgKz0gMTtcclxuICAgICRzY29wZS5hbGxvd0JhY2sgPSB0cnVlO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCd0YWdDb3VudGVyJywgJHNjb3BlLnRhZ0NvdW50ZXIpO1xyXG4gICAgVGFnU2VydmljZS5pbmRleCgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUudGFncyA9IHJlc3BvbnNlLmRhdGEudGFncztcclxuICAgICAgJHNjb3BlLnRhZ1F1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS50YWdRdWFudGl0eTtcclxuICAgICAgJHNjb3BlLnRhZyA9IHt9O1xyXG4gICAgICAkc2NvcGUubmV3VGFnID0ge307XHJcbiAgICAgIGlmICghcmVzcG9uc2UuZGF0YS50YWdzLmxlbmd0aCkgeyAkc2NvcGUuYWxsb3dOZXh0ID0gZmFsc2UgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuICAvLyBQQUdFUiBCQUNLXHJcbiAgJHNjb3BlLmJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICgkc2NvcGUudGFnQ291bnRlcikge1xyXG4gICAgICAkc2NvcGUudGFnQ291bnRlciAtPSAxO1xyXG4gICAgICAkc2NvcGUuYWxsb3dCYWNrID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLmFsbG93TmV4dCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkc2NvcGUuYWxsb3dCYWNrID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigndGFnQ291bnRlcicsICRzY29wZS50YWdDb3VudGVyKTtcclxuICAgIFRhZ1NlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLnRhZ3MgPSByZXNwb25zZS5kYXRhLnRhZ3M7XHJcbiAgICAgICRzY29wZS50YWdRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEudGFnUXVhbnRpdHk7XHJcbiAgICAgICRzY29wZS50YWcgPSB7fTtcclxuICAgICAgJHNjb3BlLm5ld1RhZyA9IHt9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuZmV0Y2hUYWdzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUudGFnQ291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3RhZ0NvdW50ZXInLCAkc2NvcGUudGFnQ291bnRlcik7XHJcbiAgICBUYWdTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS50YWdzID0gcmVzcG9uc2UuZGF0YS50YWdzO1xyXG4gICAgICAgICRzY29wZS50YWdRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEudGFnUXVhbnRpdHk7XHJcbiAgICAgICAgJHNjb3BlLnRhZyA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdUYWcgPSB7fVxyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gIGlmICghJHN0YXRlUGFyYW1zLnNsdWcpIHsgJHNjb3BlLmZldGNoVGFncygpIH1cclxuXHJcbiAgJHNjb3BlLnNob3dUYWcgPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS50YWdDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigndGFnQ291bnRlcicsICRzY29wZS50YWdDb3VudGVyKTtcclxuICAgIFRhZ1NlcnZpY2Uuc2hvdygkc3RhdGVQYXJhbXMuc2x1ZykudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS50YWdzID0ge307XHJcbiAgICAgICRzY29wZS50YWcgPSByZXNwb25zZS50YWcuZGF0YTtcclxuICAgICAgJHNjb3BlLm5ld1RhZyA9IHt9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGlmICgkc3RhdGVQYXJhbXMuc2x1ZykgeyAkc2NvcGUuc2hvd1RhZygpIH1cclxuXHJcbiAgJHNjb3BlLnN0b3JlVGFnID0gZnVuY3Rpb24odGFnKSB7XHJcbiAgICAkc2NvcGUudGFnQ291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3RhZ0NvdW50ZXInLCAkc2NvcGUudGFnQ291bnRlcik7XHJcbiAgICBUYWdTZXJ2aWNlLnN0b3JlKHRhZykudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS50YWdzID0gcmVzcG9uc2UuZGF0YS50YWdzO1xyXG4gICAgICAgICRzY29wZS50YWdRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEudGFnUXVhbnRpdHk7XHJcbiAgICAgICAgJHNjb3BlLnRhZyA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdUYWcgPSB7fTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS51cGRhdGVUYWcgPSBmdW5jdGlvbih0YWcpIHtcclxuICAgICRzY29wZS50YWdDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigndGFnQ291bnRlcicsICRzY29wZS50YWdDb3VudGVyKTtcclxuICAgIFRhZ1NlcnZpY2UudXBkYXRlKHRhZykudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS50YWdzID0gcmVzcG9uc2UuZGF0YS50YWdzO1xyXG4gICAgICAgICRzY29wZS50YWdRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEudGFnUXVhbnRpdHk7XHJcbiAgICAgICAgJHNjb3BlLnRhZyA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdUYWcgPSB7fTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS5kZXN0cm95VGFnID0gZnVuY3Rpb24odGFnKSB7XHJcbiAgICAkc2NvcGUudGFnQ291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3RhZ0NvdW50ZXInLCAkc2NvcGUudGFnQ291bnRlcik7XHJcbiAgICBUYWdTZXJ2aWNlLmRlc3Ryb3kodGFnKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnRhZ3MgPSByZXNwb25zZS5kYXRhLnRhZ3M7XHJcbiAgICAgICAgJHNjb3BlLnRhZ1F1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS50YWdRdWFudGl0eTtcclxuICAgICAgICAkc2NvcGUudGFnID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld1RhZyA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdMb3MgZGF0b3MgcHJvcG9yY2lvbmFkb3Mgc29uIGluY29ycmVjdG9zLicpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3RhZ0NvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 39 */
/***/ function(module, exports) {

eval("app.controller(\"testimonialController\", function($scope, $stateParams, AuthService, NotifyService, TestimonialService) {\r\n  console.log(\"testimonialController\"); // DEBUGG\r\n  $scope.newTestimonial = {};\r\n  $scope.testimonials = [];\r\n  $scope.testimonialCounter = 0;\r\n  $scope.busy = false;\r\n  $scope.busyIcon = true;\r\n\r\n  $scope.fetchTestimonials = function() {\r\n    $scope.busyIcon = true;\r\n    $scope.busy = true;\r\n    AuthService.header('testimonialCounter', $scope.testimonialCounter);\r\n    TestimonialService.index($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.newTestimonial = {};\r\n        $scope.testimonialCounter += 1;\r\n        // Push new testimonials\r\n        $.each(response.data.testimonials, function(index, val) {\r\n          $scope.testimonials.push(val);\r\n        });\r\n        $scope.busy = false;\r\n        $scope.busyIcon = false;\r\n        $scope.notFound = false;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        $scope.busy = true;\r\n        $scope.busyIcon = false;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.storeTestimonial = function(testimonial) {\r\n    $scope.testimonialCounter = 0;\r\n    AuthService.header('testimonialCounter', $scope.testimonialCounter);\r\n    TestimonialService.store(testimonial, $stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.testimonials = response.data.testimonials;\r\n        $scope.newTestimonial = {};\r\n        NotifyService.send('Anuncio del sistema', 'El testimonio sera revisado por un administrador antes de su publicacion.')\r\n      },\r\n      function fail(response) {\r\n        NotifyService.send('Anuncio del sistema', 'Los datos enviados son incorrectos.')\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.destroyTestimonial = function(testimonial) {\r\n    $scope.testimonialCounter = 0;\r\n    AuthService.header('testimonialCounter', $scope.testimonialCounter);\r\n    TestimonialService.destroy(testimonial, $stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.testimonials = response.data.testimonials;\r\n        $scope.newTestimonial = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3Rlc3RpbW9uaWFsQ29udHJvbGxlci5qcz81ZWIzIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5jb250cm9sbGVyKFwidGVzdGltb25pYWxDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBBdXRoU2VydmljZSwgTm90aWZ5U2VydmljZSwgVGVzdGltb25pYWxTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJ0ZXN0aW1vbmlhbENvbnRyb2xsZXJcIik7IC8vIERFQlVHR1xyXG4gICRzY29wZS5uZXdUZXN0aW1vbmlhbCA9IHt9O1xyXG4gICRzY29wZS50ZXN0aW1vbmlhbHMgPSBbXTtcclxuICAkc2NvcGUudGVzdGltb25pYWxDb3VudGVyID0gMDtcclxuICAkc2NvcGUuYnVzeSA9IGZhbHNlO1xyXG4gICRzY29wZS5idXN5SWNvbiA9IHRydWU7XHJcblxyXG4gICRzY29wZS5mZXRjaFRlc3RpbW9uaWFscyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLmJ1c3lJY29uID0gdHJ1ZTtcclxuICAgICRzY29wZS5idXN5ID0gdHJ1ZTtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigndGVzdGltb25pYWxDb3VudGVyJywgJHNjb3BlLnRlc3RpbW9uaWFsQ291bnRlcik7XHJcbiAgICBUZXN0aW1vbmlhbFNlcnZpY2UuaW5kZXgoJHN0YXRlUGFyYW1zLnNsdWcpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUubmV3VGVzdGltb25pYWwgPSB7fTtcclxuICAgICAgICAkc2NvcGUudGVzdGltb25pYWxDb3VudGVyICs9IDE7XHJcbiAgICAgICAgLy8gUHVzaCBuZXcgdGVzdGltb25pYWxzXHJcbiAgICAgICAgJC5lYWNoKHJlc3BvbnNlLmRhdGEudGVzdGltb25pYWxzLCBmdW5jdGlvbihpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICAkc2NvcGUudGVzdGltb25pYWxzLnB1c2godmFsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUuYnVzeSA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5idXN5SWNvbiA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5ub3RGb3VuZCA9IGZhbHNlO1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAkc2NvcGUuYnVzeSA9IHRydWU7XHJcbiAgICAgICAgJHNjb3BlLmJ1c3lJY29uID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnN0b3JlVGVzdGltb25pYWwgPSBmdW5jdGlvbih0ZXN0aW1vbmlhbCkge1xyXG4gICAgJHNjb3BlLnRlc3RpbW9uaWFsQ291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rlc3RpbW9uaWFsQ291bnRlcicsICRzY29wZS50ZXN0aW1vbmlhbENvdW50ZXIpO1xyXG4gICAgVGVzdGltb25pYWxTZXJ2aWNlLnN0b3JlKHRlc3RpbW9uaWFsLCAkc3RhdGVQYXJhbXMuc2x1ZykudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS50ZXN0aW1vbmlhbHMgPSByZXNwb25zZS5kYXRhLnRlc3RpbW9uaWFscztcclxuICAgICAgICAkc2NvcGUubmV3VGVzdGltb25pYWwgPSB7fTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ0FudW5jaW8gZGVsIHNpc3RlbWEnLCAnRWwgdGVzdGltb25pbyBzZXJhIHJldmlzYWRvIHBvciB1biBhZG1pbmlzdHJhZG9yIGFudGVzIGRlIHN1IHB1YmxpY2FjaW9uLicpXHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ0FudW5jaW8gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIGVudmlhZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKVxyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmRlc3Ryb3lUZXN0aW1vbmlhbCA9IGZ1bmN0aW9uKHRlc3RpbW9uaWFsKSB7XHJcbiAgICAkc2NvcGUudGVzdGltb25pYWxDb3VudGVyID0gMDtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigndGVzdGltb25pYWxDb3VudGVyJywgJHNjb3BlLnRlc3RpbW9uaWFsQ291bnRlcik7XHJcbiAgICBUZXN0aW1vbmlhbFNlcnZpY2UuZGVzdHJveSh0ZXN0aW1vbmlhbCwgJHN0YXRlUGFyYW1zLnNsdWcpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUudGVzdGltb25pYWxzID0gcmVzcG9uc2UuZGF0YS50ZXN0aW1vbmlhbHM7XHJcbiAgICAgICAgJHNjb3BlLm5ld1Rlc3RpbW9uaWFsID0ge307XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3Rlc3RpbW9uaWFsQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 40 */
/***/ function(module, exports) {

eval("app.controller(\"testimonialRequestController\", function($scope, $stateParams, AuthService, NotifyService, TestimonialRequestService) {\r\n  console.log(\"testimonialRequestController\");\r\n  $scope.testimonials = [];\r\n  $scope.testimonialBody = '';\r\n  $scope.testimonialRequestCounter = 0;\r\n  $scope.testimonialQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.testimonialRequestCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('testimonialRequestCounter', $scope.testimonialRequestCounter);\r\n    TestimonialRequestService.index().then(function success(response) {\r\n      $scope.testimonials = response.data['testimonialRequests'];\r\n      $scope.testimonialQuantity = response.data['testimonialRequestQuantity'];\r\n      if (!response.data.testimonials.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.testimonialRequestCounter) {\r\n      $scope.testimonialRequestCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('testimonialRequestCounter', $scope.testimonialRequestCounter);\r\n    TestimonialRequestService.index().then(function success(response) {\r\n      $scope.testimonials = response.data['testimonialRequests'];\r\n        $scope.testimonialQuantity = response.data['testimonialRequestQuantity'];\r\n    });\r\n  };\r\n\r\n  $scope.fetchTestimonials = function() {\r\n    $scope.testimonialRequestCounter = 0;\r\n    AuthService.header('testimonialRequestCounter', $scope.testimonialRequestCounter);\r\n    TestimonialRequestService.index().then(\r\n      function success(response) {\r\n        $scope.testimonials = response.data['testimonialRequests'];\r\n        $scope.testimonialQuantity = response.data['testimonialRequestQuantity'];\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  $scope.fetchTestimonials();\r\n\r\n  $scope.storeTestimonial = function(testimonial) {\r\n    $scope.testimonialRequestCounter = 0;\r\n    AuthService.header('testimonialRequestCounter', $scope.testimonialRequestCounter);\r\n    TestimonialRequestService.store(testimonial).then(\r\n      function success(response) {\r\n        $scope.testimonials = response.data['testimonialRequests'];\r\n        $scope.testimonialQuantity = response.data['testimonialRequestQuantity'];\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.destroyTestimonial = function(testimonial) {\r\n    $scope.testimonialRequestCounter = 0;\r\n    AuthService.header('testimonialRequestCounter', $scope.testimonialRequestCounter);\r\n    TestimonialRequestService.destroy(testimonial).then(\r\n      function success(response) {\r\n        $scope.testimonials = response.data['testimonialRequests'];\r\n        $scope.testimonialQuantity = response.data['testimonialRequestQuantity'];\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.setTestimonial = function(testimonial) {\r\n    $scope.testimonialBody = testimonial.body;\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3Rlc3RpbW9uaWFsUmVxdWVzdENvbnRyb2xsZXIuanM/NzJhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuY29udHJvbGxlcihcInRlc3RpbW9uaWFsUmVxdWVzdENvbnRyb2xsZXJcIiwgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlLCBUZXN0aW1vbmlhbFJlcXVlc3RTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJ0ZXN0aW1vbmlhbFJlcXVlc3RDb250cm9sbGVyXCIpO1xyXG4gICRzY29wZS50ZXN0aW1vbmlhbHMgPSBbXTtcclxuICAkc2NvcGUudGVzdGltb25pYWxCb2R5ID0gJyc7XHJcbiAgJHNjb3BlLnRlc3RpbW9uaWFsUmVxdWVzdENvdW50ZXIgPSAwO1xyXG4gICRzY29wZS50ZXN0aW1vbmlhbFF1YW50aXR5ID0gMDtcclxuICAkc2NvcGUuYWxsb3dOZXh0ID0gdHJ1ZTtcclxuICAkc2NvcGUuYWxsb3dCYWNrID0gZmFsc2U7XHJcblxyXG4gIC8vIFBBR0VSIE5FWFRcclxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCEkc2NvcGUuYWxsb3dOZXh0KSB7IHJldHVybiB9XHJcbiAgICAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlciArPSAxO1xyXG4gICAgJHNjb3BlLmFsbG93QmFjayA9IHRydWU7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rlc3RpbW9uaWFsUmVxdWVzdENvdW50ZXInLCAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlcik7XHJcbiAgICBUZXN0aW1vbmlhbFJlcXVlc3RTZXJ2aWNlLmluZGV4KCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS50ZXN0aW1vbmlhbHMgPSByZXNwb25zZS5kYXRhWyd0ZXN0aW1vbmlhbFJlcXVlc3RzJ107XHJcbiAgICAgICRzY29wZS50ZXN0aW1vbmlhbFF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YVsndGVzdGltb25pYWxSZXF1ZXN0UXVhbnRpdHknXTtcclxuICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLnRlc3RpbW9uaWFscy5sZW5ndGgpIHsgJHNjb3BlLmFsbG93TmV4dCA9IGZhbHNlIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgLy8gUEFHRVIgQkFDS1xyXG4gICRzY29wZS5iYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoJHNjb3BlLnRlc3RpbW9uaWFsUmVxdWVzdENvdW50ZXIpIHtcclxuICAgICAgJHNjb3BlLnRlc3RpbW9uaWFsUmVxdWVzdENvdW50ZXIgLT0gMTtcclxuICAgICAgJHNjb3BlLmFsbG93QmFjayA9IHRydWU7XHJcbiAgICAgICRzY29wZS5hbGxvd05leHQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHNjb3BlLmFsbG93QmFjayA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rlc3RpbW9uaWFsUmVxdWVzdENvdW50ZXInLCAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlcik7XHJcbiAgICBUZXN0aW1vbmlhbFJlcXVlc3RTZXJ2aWNlLmluZGV4KCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS50ZXN0aW1vbmlhbHMgPSByZXNwb25zZS5kYXRhWyd0ZXN0aW1vbmlhbFJlcXVlc3RzJ107XHJcbiAgICAgICAgJHNjb3BlLnRlc3RpbW9uaWFsUXVhbnRpdHkgPSByZXNwb25zZS5kYXRhWyd0ZXN0aW1vbmlhbFJlcXVlc3RRdWFudGl0eSddO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmZldGNoVGVzdGltb25pYWxzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rlc3RpbW9uaWFsUmVxdWVzdENvdW50ZXInLCAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlcik7XHJcbiAgICBUZXN0aW1vbmlhbFJlcXVlc3RTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS50ZXN0aW1vbmlhbHMgPSByZXNwb25zZS5kYXRhWyd0ZXN0aW1vbmlhbFJlcXVlc3RzJ107XHJcbiAgICAgICAgJHNjb3BlLnRlc3RpbW9uaWFsUXVhbnRpdHkgPSByZXNwb25zZS5kYXRhWyd0ZXN0aW1vbmlhbFJlcXVlc3RRdWFudGl0eSddO1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS5mZXRjaFRlc3RpbW9uaWFscygpO1xyXG5cclxuICAkc2NvcGUuc3RvcmVUZXN0aW1vbmlhbCA9IGZ1bmN0aW9uKHRlc3RpbW9uaWFsKSB7XHJcbiAgICAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rlc3RpbW9uaWFsUmVxdWVzdENvdW50ZXInLCAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlcik7XHJcbiAgICBUZXN0aW1vbmlhbFJlcXVlc3RTZXJ2aWNlLnN0b3JlKHRlc3RpbW9uaWFsKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnRlc3RpbW9uaWFscyA9IHJlc3BvbnNlLmRhdGFbJ3Rlc3RpbW9uaWFsUmVxdWVzdHMnXTtcclxuICAgICAgICAkc2NvcGUudGVzdGltb25pYWxRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGFbJ3Rlc3RpbW9uaWFsUmVxdWVzdFF1YW50aXR5J107XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ0xvcyBkYXRvcyBwcm9wb3JjaW9uYWRvcyBzb24gaW5jb3JyZWN0b3MuJyk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmRlc3Ryb3lUZXN0aW1vbmlhbCA9IGZ1bmN0aW9uKHRlc3RpbW9uaWFsKSB7XHJcbiAgICAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rlc3RpbW9uaWFsUmVxdWVzdENvdW50ZXInLCAkc2NvcGUudGVzdGltb25pYWxSZXF1ZXN0Q291bnRlcik7XHJcbiAgICBUZXN0aW1vbmlhbFJlcXVlc3RTZXJ2aWNlLmRlc3Ryb3kodGVzdGltb25pYWwpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUudGVzdGltb25pYWxzID0gcmVzcG9uc2UuZGF0YVsndGVzdGltb25pYWxSZXF1ZXN0cyddO1xyXG4gICAgICAgICRzY29wZS50ZXN0aW1vbmlhbFF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YVsndGVzdGltb25pYWxSZXF1ZXN0UXVhbnRpdHknXTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuc2V0VGVzdGltb25pYWwgPSBmdW5jdGlvbih0ZXN0aW1vbmlhbCkge1xyXG4gICAgJHNjb3BlLnRlc3RpbW9uaWFsQm9keSA9IHRlc3RpbW9uaWFsLmJvZHk7XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvY29udHJvbGxlcnMvdGVzdGltb25pYWxSZXF1ZXN0Q29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 41 */
/***/ function(module, exports) {

eval("app.controller(\"toolController\", function($scope, $stateParams, AuthService, NotifyService, ToolService) {\r\n  console.log(\"toolController\"); // DEBUGG\r\n  $scope.tools = [];\r\n  $scope.tool = {};\r\n  $scope.newTool = {};\r\n  $scope.toolCounter = 0;\r\n  $scope.toolQuantity = 0;\r\n  $scope.allowNext = true;\r\n  $scope.allowBack = false;\r\n\r\n  // PAGER NEXT\r\n  $scope.next = function() {\r\n    if (!$scope.allowNext) { return }\r\n    $scope.toolCounter += 1;\r\n    $scope.allowBack = true;\r\n    AuthService.header('toolCounter', $scope.toolCounter);\r\n    ToolService.index().then(function success(response) {\r\n      $scope.tools = response.data.tools;\r\n      $scope.toolQuantity = response.data.toolQuantity;\r\n      $scope.tool = {};\r\n      $scope.newTool = {};\r\n      if (!response.data.tools.length) { $scope.allowNext = false }\r\n    });\r\n  };\r\n  // PAGER BACK\r\n  $scope.back = function() {\r\n    if ($scope.toolCounter) {\r\n      $scope.toolCounter -= 1;\r\n      $scope.allowBack = true;\r\n      $scope.allowNext = true;\r\n    } else {\r\n      $scope.allowBack = false;\r\n      return;\r\n    }\r\n    AuthService.header('toolCounter', $scope.toolCounter);\r\n    ToolService.index().then(function success(response) {\r\n      $scope.tools = response.data.tools;\r\n      $scope.toolQuantity = response.data.toolQuantity;\r\n      $scope.tool = {};\r\n      $scope.newTool = {}\r\n    });\r\n  };\r\n\r\n  $scope.fetchTools = function() {\r\n    $scope.toolCounter = 0;\r\n    AuthService.header('toolCounter', $scope.toolCounter);\r\n    ToolService.index().then(\r\n      function success(response) {\r\n        $scope.tools = response.data.tools;\r\n        $scope.toolQuantity = response.data.toolQuantity;\r\n        $scope.tool = {};\r\n        $scope.newTool = {}\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  $scope.fetchTools();\r\n\r\n  $scope.storeTool = function(tool) {\r\n    $scope.toolCounter = 0;\r\n    AuthService.header('toolCounter', $scope.toolCounter);\r\n    ToolService.store(tool).then(\r\n      function success(response) {\r\n        $scope.tools = response.data.tools;\r\n        $scope.toolQuantity = response.data.toolQuantity;\r\n        $scope.tool = {};\r\n        $scope.newTool = {};\r\n        AuthService.redirect('dashboard.tools');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.updateTool = function(tool) {\r\n    $scope.toolCounter = 0;\r\n    AuthService.header('toolCounter', $scope.toolCounter);\r\n    ToolService.update(tool).then(\r\n      function success(response) {\r\n        $scope.tools = response.data.tools;\r\n        $scope.toolQuantity = response.data.toolQuantity;\r\n        $scope.tool = {};\r\n        $scope.newTool = {};\r\n        AuthService.redirect('dashboard.tools');\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n\r\n  $scope.editTool = function() {\r\n    console.log('edit tool function');\r\n    ToolService.edit($stateParams.slug).then(\r\n      function success(response) {\r\n        $scope.rowTool = response.data.tool;\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n      }\r\n    );\r\n  };\r\n  if (AuthService.checkRoute('dashboard.edittool')) { $scope.editTool() }\r\n\r\n  $scope.destroyTool = function(tool) {\r\n    $scope.toolCounter = 0;\r\n    AuthService.header('toolCounter', $scope.toolCounter);\r\n    ToolService.destroy(tool).then(\r\n      function success(response) {\r\n        $scope.tools = response.data.tools;\r\n        $scope.toolQuantity = response.data.toolQuantity;\r\n        $scope.tool = {};\r\n        $scope.newTool = {};\r\n      },\r\n      function fail(response) {\r\n        $scope.debug = response.data;\r\n        NotifyService.send('Notificacion del sistema', 'Los datos proporcionados son incorrectos.');\r\n      }\r\n    );\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2NvbnRyb2xsZXJzL3Rvb2xDb250cm9sbGVyLmpzPzM2MTciXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmNvbnRyb2xsZXIoXCJ0b29sQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgQXV0aFNlcnZpY2UsIE5vdGlmeVNlcnZpY2UsIFRvb2xTZXJ2aWNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJ0b29sQ29udHJvbGxlclwiKTsgLy8gREVCVUdHXHJcbiAgJHNjb3BlLnRvb2xzID0gW107XHJcbiAgJHNjb3BlLnRvb2wgPSB7fTtcclxuICAkc2NvcGUubmV3VG9vbCA9IHt9O1xyXG4gICRzY29wZS50b29sQ291bnRlciA9IDA7XHJcbiAgJHNjb3BlLnRvb2xRdWFudGl0eSA9IDA7XHJcbiAgJHNjb3BlLmFsbG93TmV4dCA9IHRydWU7XHJcbiAgJHNjb3BlLmFsbG93QmFjayA9IGZhbHNlO1xyXG5cclxuICAvLyBQQUdFUiBORVhUXHJcbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghJHNjb3BlLmFsbG93TmV4dCkgeyByZXR1cm4gfVxyXG4gICAgJHNjb3BlLnRvb2xDb3VudGVyICs9IDE7XHJcbiAgICAkc2NvcGUuYWxsb3dCYWNrID0gdHJ1ZTtcclxuICAgIEF1dGhTZXJ2aWNlLmhlYWRlcigndG9vbENvdW50ZXInLCAkc2NvcGUudG9vbENvdW50ZXIpO1xyXG4gICAgVG9vbFNlcnZpY2UuaW5kZXgoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLnRvb2xzID0gcmVzcG9uc2UuZGF0YS50b29scztcclxuICAgICAgJHNjb3BlLnRvb2xRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEudG9vbFF1YW50aXR5O1xyXG4gICAgICAkc2NvcGUudG9vbCA9IHt9O1xyXG4gICAgICAkc2NvcGUubmV3VG9vbCA9IHt9O1xyXG4gICAgICBpZiAoIXJlc3BvbnNlLmRhdGEudG9vbHMubGVuZ3RoKSB7ICRzY29wZS5hbGxvd05leHQgPSBmYWxzZSB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIC8vIFBBR0VSIEJBQ0tcclxuICAkc2NvcGUuYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCRzY29wZS50b29sQ291bnRlcikge1xyXG4gICAgICAkc2NvcGUudG9vbENvdW50ZXIgLT0gMTtcclxuICAgICAgJHNjb3BlLmFsbG93QmFjayA9IHRydWU7XHJcbiAgICAgICRzY29wZS5hbGxvd05leHQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHNjb3BlLmFsbG93QmFjayA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rvb2xDb3VudGVyJywgJHNjb3BlLnRvb2xDb3VudGVyKTtcclxuICAgIFRvb2xTZXJ2aWNlLmluZGV4KCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS50b29scyA9IHJlc3BvbnNlLmRhdGEudG9vbHM7XHJcbiAgICAgICRzY29wZS50b29sUXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnRvb2xRdWFudGl0eTtcclxuICAgICAgJHNjb3BlLnRvb2wgPSB7fTtcclxuICAgICAgJHNjb3BlLm5ld1Rvb2wgPSB7fVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmZldGNoVG9vbHMgPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS50b29sQ291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rvb2xDb3VudGVyJywgJHNjb3BlLnRvb2xDb3VudGVyKTtcclxuICAgIFRvb2xTZXJ2aWNlLmluZGV4KCkudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS50b29scyA9IHJlc3BvbnNlLmRhdGEudG9vbHM7XHJcbiAgICAgICAgJHNjb3BlLnRvb2xRdWFudGl0eSA9IHJlc3BvbnNlLmRhdGEudG9vbFF1YW50aXR5O1xyXG4gICAgICAgICRzY29wZS50b29sID0ge307XHJcbiAgICAgICAgJHNjb3BlLm5ld1Rvb2wgPSB7fVxyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiBmYWlsKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmRlYnVnID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG4gICRzY29wZS5mZXRjaFRvb2xzKCk7XHJcblxyXG4gICRzY29wZS5zdG9yZVRvb2wgPSBmdW5jdGlvbih0b29sKSB7XHJcbiAgICAkc2NvcGUudG9vbENvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCd0b29sQ291bnRlcicsICRzY29wZS50b29sQ291bnRlcik7XHJcbiAgICBUb29sU2VydmljZS5zdG9yZSh0b29sKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnRvb2xzID0gcmVzcG9uc2UuZGF0YS50b29scztcclxuICAgICAgICAkc2NvcGUudG9vbFF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS50b29sUXVhbnRpdHk7XHJcbiAgICAgICAgJHNjb3BlLnRvb2wgPSB7fTtcclxuICAgICAgICAkc2NvcGUubmV3VG9vbCA9IHt9O1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlZGlyZWN0KCdkYXNoYm9hcmQudG9vbHMnKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUudXBkYXRlVG9vbCA9IGZ1bmN0aW9uKHRvb2wpIHtcclxuICAgICRzY29wZS50b29sQ291bnRlciA9IDA7XHJcbiAgICBBdXRoU2VydmljZS5oZWFkZXIoJ3Rvb2xDb3VudGVyJywgJHNjb3BlLnRvb2xDb3VudGVyKTtcclxuICAgIFRvb2xTZXJ2aWNlLnVwZGF0ZSh0b29sKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnRvb2xzID0gcmVzcG9uc2UuZGF0YS50b29scztcclxuICAgICAgICAkc2NvcGUudG9vbFF1YW50aXR5ID0gcmVzcG9uc2UuZGF0YS50b29sUXVhbnRpdHk7XHJcbiAgICAgICAgJHNjb3BlLnRvb2wgPSB7fTtcclxuICAgICAgICAkc2NvcGUubmV3VG9vbCA9IHt9O1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlZGlyZWN0KCdkYXNoYm9hcmQudG9vbHMnKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnTG9zIGRhdG9zIHByb3BvcmNpb25hZG9zIHNvbiBpbmNvcnJlY3Rvcy4nKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuZWRpdFRvb2wgPSBmdW5jdGlvbigpIHtcclxuICAgIGNvbnNvbGUubG9nKCdlZGl0IHRvb2wgZnVuY3Rpb24nKTtcclxuICAgIFRvb2xTZXJ2aWNlLmVkaXQoJHN0YXRlUGFyYW1zLnNsdWcpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUucm93VG9vbCA9IHJlc3BvbnNlLmRhdGEudG9vbDtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5kZWJ1ZyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb3V0ZSgnZGFzaGJvYXJkLmVkaXR0b29sJykpIHsgJHNjb3BlLmVkaXRUb29sKCkgfVxyXG5cclxuICAkc2NvcGUuZGVzdHJveVRvb2wgPSBmdW5jdGlvbih0b29sKSB7XHJcbiAgICAkc2NvcGUudG9vbENvdW50ZXIgPSAwO1xyXG4gICAgQXV0aFNlcnZpY2UuaGVhZGVyKCd0b29sQ291bnRlcicsICRzY29wZS50b29sQ291bnRlcik7XHJcbiAgICBUb29sU2VydmljZS5kZXN0cm95KHRvb2wpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUudG9vbHMgPSByZXNwb25zZS5kYXRhLnRvb2xzO1xyXG4gICAgICAgICRzY29wZS50b29sUXVhbnRpdHkgPSByZXNwb25zZS5kYXRhLnRvb2xRdWFudGl0eTtcclxuICAgICAgICAkc2NvcGUudG9vbCA9IHt9O1xyXG4gICAgICAgICRzY29wZS5uZXdUb29sID0ge307XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuZGVidWcgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnTm90aWZpY2FjaW9uIGRlbCBzaXN0ZW1hJywgJ0xvcyBkYXRvcyBwcm9wb3JjaW9uYWRvcyBzb24gaW5jb3JyZWN0b3MuJyk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvY29udHJvbGxlcnMvdG9vbENvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 42 */
/***/ function(module, exports) {

eval("app.directive(\"chatContainer\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'chatController',\r\n    templateUrl : '/angular/directives/chat/chatContainer.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvY2hhdC9jaGF0Q29udGFpbmVyLmpzPzNlZjciXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcImNoYXRDb250YWluZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICBjb250cm9sbGVyOiAnY2hhdENvbnRyb2xsZXInLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy9jaGF0L2NoYXRDb250YWluZXIuaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL2NoYXQvY2hhdENvbnRhaW5lci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 43 */
/***/ function(module, exports) {

eval("app.directive(\"chatRequestsModal\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'chatRequestController',\r\n    templateUrl : '/angular/directives/chat/chatRequestsModal.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvY2hhdC9jaGF0UmVxdWVzdHNNb2RhbC5qcz85MmY3Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJjaGF0UmVxdWVzdHNNb2RhbFwiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkVcIixcclxuICAgIGNvbnRyb2xsZXI6ICdjaGF0UmVxdWVzdENvbnRyb2xsZXInLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy9jaGF0L2NoYXRSZXF1ZXN0c01vZGFsLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9jaGF0L2NoYXRSZXF1ZXN0c01vZGFsLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 44 */
/***/ function(module, exports) {

eval("app.directive(\"commentContainer\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'commentController',\r\n    templateUrl : '/angular/directives/commentContainer.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvY29tbWVudENvbnRhaW5lci5qcz83Nzc5Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJjb21tZW50Q29udGFpbmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiRVwiLFxyXG4gICAgY29udHJvbGxlcjogJ2NvbW1lbnRDb250cm9sbGVyJyxcclxuICAgIHRlbXBsYXRlVXJsIDogJy9hbmd1bGFyL2RpcmVjdGl2ZXMvY29tbWVudENvbnRhaW5lci5odG1sJ1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvY29tbWVudENvbnRhaW5lci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 45 */
/***/ function(module, exports) {

eval("app.directive(\"commentForm\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'commentController',\r\n    templateUrl : '/angular/directives/commentForm.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvY29tbWVudEZvcm0uanM/MzM0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZGlyZWN0aXZlKFwiY29tbWVudEZvcm1cIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICBjb250cm9sbGVyOiAnY29tbWVudENvbnRyb2xsZXInLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy9jb21tZW50Rm9ybS5odG1sJ1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvY29tbWVudEZvcm0uanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 46 */
/***/ function(module, exports) {

eval("app.directive(\"contactModal\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'contactController',\r\n    templateUrl : '/angular/directives/contactModal.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvY29udGFjdE1vZGFsLmpzP2Y5OTAiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcImNvbnRhY3RNb2RhbFwiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkVcIixcclxuICAgIGNvbnRyb2xsZXI6ICdjb250YWN0Q29udHJvbGxlcicsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL2NvbnRhY3RNb2RhbC5odG1sJ1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvY29udGFjdE1vZGFsLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 47 */
/***/ function(module, exports) {

eval("app.directive(\"datagridAnnounces\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/dashboard/datagrid_announces.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkQW5ub3VuY2VzLmpzPzc5YmUiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcImRhdGFncmlkQW5ub3VuY2VzXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiRVwiLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRfYW5ub3VuY2VzLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRBbm5vdW5jZXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 48 */
/***/ function(module, exports) {

eval("app.directive(\"datagridCategories\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'categoryController',\r\n    templateUrl : '/angular/directives/dashboard/datagrid_categories.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkQ2F0ZWdvcmllcy5qcz80YzI4Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJkYXRhZ3JpZENhdGVnb3JpZXNcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICBjb250cm9sbGVyOiAnY2F0ZWdvcnlDb250cm9sbGVyJyxcclxuICAgIHRlbXBsYXRlVXJsIDogJy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkX2NhdGVnb3JpZXMuaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL2Rhc2hib2FyZC9kYXRhZ3JpZENhdGVnb3JpZXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 49 */
/***/ function(module, exports) {

eval("app.directive(\"datagridPosts\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/dashboard/datagrid_posts.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkUG9zdHMuanM/MTFmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZGlyZWN0aXZlKFwiZGF0YWdyaWRQb3N0c1wiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkVcIixcclxuICAgIHRlbXBsYXRlVXJsIDogJy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkX3Bvc3RzLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRQb3N0cy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 50 */
/***/ function(module, exports) {

eval("app.directive(\"datagridProjects\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/dashboard/datagrid_projects.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkUHJvamVjdHMuanM/YzNlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZGlyZWN0aXZlKFwiZGF0YWdyaWRQcm9qZWN0c1wiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkVcIixcclxuICAgIHRlbXBsYXRlVXJsIDogJy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkX3Byb2plY3RzLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRQcm9qZWN0cy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 51 */
/***/ function(module, exports) {

eval("app.directive(\"datagridSolutions\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/dashboard/datagrid_solutions.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkU29sdXRpb25zLmpzP2YxOGUiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcImRhdGFncmlkU29sdXRpb25zXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiRVwiLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRfc29sdXRpb25zLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRTb2x1dGlvbnMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 52 */
/***/ function(module, exports) {

eval("app.directive(\"datagridTags\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/dashboard/datagrid_tags.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkVGFncy5qcz9jYTNhIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJkYXRhZ3JpZFRhZ3NcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL2Rhc2hib2FyZC9kYXRhZ3JpZF90YWdzLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRUYWdzLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 53 */
/***/ function(module, exports) {

eval("app.directive(\"datagridTestimonials\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/dashboard/datagrid_testimonials.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkVGVzdGltb25pYWxzLmpzPzczNWYiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcImRhdGFncmlkVGVzdGltb25pYWxzXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiRVwiLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRfdGVzdGltb25pYWxzLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRUZXN0aW1vbmlhbHMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 54 */
/***/ function(module, exports) {

eval("app.directive(\"datagridTools\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/dashboard/datagrid_tools.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkVG9vbHMuanM/NjAzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZGlyZWN0aXZlKFwiZGF0YWdyaWRUb29sc1wiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkVcIixcclxuICAgIHRlbXBsYXRlVXJsIDogJy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL2RhdGFncmlkX3Rvb2xzLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9kYXNoYm9hcmQvZGF0YWdyaWRUb29scy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 55 */
/***/ function(module, exports) {

eval("app.directive(\"showTestimonial\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/dashboard/showTestimonial.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGFzaGJvYXJkL3Nob3dUZXN0aW1vbmlhbC5qcz8wMWMzIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJzaG93VGVzdGltb25pYWxcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL2Rhc2hib2FyZC9zaG93VGVzdGltb25pYWwuaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL2Rhc2hib2FyZC9zaG93VGVzdGltb25pYWwuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 56 */
/***/ function(module, exports) {

eval("app.directive(\"datagridControl\", function() {\r\n  return {\r\n    restrict : \"A\",\r\n    link: function(scope, iElement, iAttrs) {\r\n      scope.editRow = function() {\r\n        var row = iElement.parent().parent();\r\n        var spans = row.find('span');\r\n        var inputs = row.find('input');\r\n        var buttonEdit = row.find('button').first();\r\n        var buttonConfirm = buttonEdit.next();\r\n\r\n        buttonEdit.toggleClass('hidden');\r\n        buttonConfirm.toggleClass('hidden');\r\n        spans.toggleClass('hidden');\r\n        inputs.toggleClass('hidden');\r\n      };\r\n    }\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGF0YWdyaWRDb250cm9sLmpzPzY1OTIiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcImRhdGFncmlkQ29udHJvbFwiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkFcIixcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XHJcbiAgICAgIHNjb3BlLmVkaXRSb3cgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcm93ID0gaUVsZW1lbnQucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHNwYW5zID0gcm93LmZpbmQoJ3NwYW4nKTtcclxuICAgICAgICB2YXIgaW5wdXRzID0gcm93LmZpbmQoJ2lucHV0Jyk7XHJcbiAgICAgICAgdmFyIGJ1dHRvbkVkaXQgPSByb3cuZmluZCgnYnV0dG9uJykuZmlyc3QoKTtcclxuICAgICAgICB2YXIgYnV0dG9uQ29uZmlybSA9IGJ1dHRvbkVkaXQubmV4dCgpO1xyXG5cclxuICAgICAgICBidXR0b25FZGl0LnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICBidXR0b25Db25maXJtLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICBzcGFucy50b2dnbGVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgaW5wdXRzLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL2RhdGFncmlkQ29udHJvbC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 57 */
/***/ function(module, exports) {

eval("app.directive(\"debug\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/debug.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZGVidWcuanM/ZTdlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZGlyZWN0aXZlKFwiZGVidWdcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL2RlYnVnLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9kZWJ1Zy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 58 */
/***/ function(module, exports) {

eval("app.directive(\"googleMapContainer\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'googleMapController',\r\n    templateUrl : '/angular/directives/googleMapContainer.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvZ29vZ2xlTWFwQ29udGFpbmVyLmpzPzI1ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcImdvb2dsZU1hcENvbnRhaW5lclwiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkVcIixcclxuICAgIGNvbnRyb2xsZXI6ICdnb29nbGVNYXBDb250cm9sbGVyJyxcclxuICAgIHRlbXBsYXRlVXJsIDogJy9hbmd1bGFyL2RpcmVjdGl2ZXMvZ29vZ2xlTWFwQ29udGFpbmVyLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9nb29nbGVNYXBDb250YWluZXIuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 59 */
/***/ function(module, exports) {

eval("app.directive(\"jsSocials\", function() {\r\n  return {\r\n    restrict : \"A\",\r\n    link: function(scope, iElement, iAttrs) {\r\n      var shares = iAttrs.jsSocialsShares.split(', ');\r\n      iElement.jsSocials({\r\n        shares: shares,\r\n        shareIn: \"popup\",\r\n        showLabel: true,\r\n        showCount: false\r\n      });\r\n    }\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvanNTb2NpYWxzLmpzPzIxZjYiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcImpzU29jaWFsc1wiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkFcIixcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XHJcbiAgICAgIHZhciBzaGFyZXMgPSBpQXR0cnMuanNTb2NpYWxzU2hhcmVzLnNwbGl0KCcsICcpO1xyXG4gICAgICBpRWxlbWVudC5qc1NvY2lhbHMoe1xyXG4gICAgICAgIHNoYXJlczogc2hhcmVzLFxyXG4gICAgICAgIHNoYXJlSW46IFwicG9wdXBcIixcclxuICAgICAgICBzaG93TGFiZWw6IHRydWUsXHJcbiAgICAgICAgc2hvd0NvdW50OiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL2pzU29jaWFscy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 60 */
/***/ function(module, exports) {

eval("app.directive(\"loginModal\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'loginController',\r\n    templateUrl : '/angular/directives/loginModal.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvbG9naW5Nb2RhbC5qcz85NmUxIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJsb2dpbk1vZGFsXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiRVwiLFxyXG4gICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlcicsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL2xvZ2luTW9kYWwuaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL2xvZ2luTW9kYWwuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 61 */
/***/ function(module, exports) {

eval("app.directive(\"ngSlickSolutions\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'inventoryController',\r\n    templateUrl : '/angular/directives/ng-slick/solutions.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvbmctc2xpY2svc29sdXRpb25zLmpzPzg1YzMiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcIm5nU2xpY2tTb2x1dGlvbnNcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICBjb250cm9sbGVyOiAnaW52ZW50b3J5Q29udHJvbGxlcicsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL25nLXNsaWNrL3NvbHV0aW9ucy5odG1sJ1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvbmctc2xpY2svc29sdXRpb25zLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 62 */
/***/ function(module, exports) {

eval("app.directive(\"popover\", function() {\r\n  return {\r\n    restrict : \"A\",\r\n    link: function(scope, iElement, iAttrs) {\r\n      iElement.tooltip();\r\n    }\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvcG9wb3Zlci5qcz9lOGJhIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJwb3BvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiQVwiLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcclxuICAgICAgaUVsZW1lbnQudG9vbHRpcCgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvcG9wb3Zlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 63 */
/***/ function(module, exports) {

eval("app.directive(\"registerModal\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'registerController',\r\n    templateUrl : '/angular/directives/registerModal.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvcmVnaXN0ZXJNb2RhbC5qcz9lZTU5Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJyZWdpc3Rlck1vZGFsXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiRVwiLFxyXG4gICAgY29udHJvbGxlcjogJ3JlZ2lzdGVyQ29udHJvbGxlcicsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL3JlZ2lzdGVyTW9kYWwuaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL3JlZ2lzdGVyTW9kYWwuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 64 */
/***/ function(module, exports) {

eval("app.directive(\"slickCarouselAnnounces\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'announceController',\r\n    templateUrl : '/angular/directives/slickCarousel/Announces.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9Bbm5vdW5jZXMuanM/ZjAyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZGlyZWN0aXZlKFwic2xpY2tDYXJvdXNlbEFubm91bmNlc1wiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkVcIixcclxuICAgIGNvbnRyb2xsZXI6ICdhbm5vdW5jZUNvbnRyb2xsZXInLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy9zbGlja0Nhcm91c2VsL0Fubm91bmNlcy5odG1sJ1xyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9Bbm5vdW5jZXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 65 */
/***/ function(module, exports) {

eval("app.directive(\"slickCarouselControl\", function() {\r\n  return {\r\n    restrict : \"A\",\r\n    link: function(scope, iElement, iAttrs) {\r\n\r\n      var centerResponsiveConfig = [\r\n        {\r\n          breakpoint: 920,\r\n          settings: {\r\n            centerMode: true,\r\n            centerPadding: '20px',\r\n            autoplay: true,\r\n            autoplaySpeed: 2000,\r\n            arrows: true,\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 480,\r\n          settings: {\r\n            centerMode: false,\r\n            centerPadding: '0px',\r\n            autoplay: true,\r\n            autoplaySpeed: 2000,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            arrows: false,\r\n          }\r\n        }\r\n      ];\r\n\r\n      var type = {\r\n        center: function() {\r\n          iElement.slick({\r\n            dots: true,\r\n            arrows: true,\r\n            centerMode: true,\r\n            autoplay: true,\r\n            autoplaySpeed: 2000,\r\n            slidesToShow: 3,\r\n            slidesToScroll: 3,\r\n            mobileFirst: true,\r\n            adaptiveHeight: true,\r\n            responsive: centerResponsiveConfig\r\n          });\r\n        },\r\n        single: function() {\r\n          iElement.slick({\r\n            dots: true,\r\n            arrows: false,\r\n            autoplay: true,\r\n            autoplaySpeed: 4000,\r\n            mobileFirst: true\r\n          });\r\n        },\r\n        singleFade: function() {\r\n          iElement.slick({\r\n            dots: true,\r\n            arrows: false,\r\n            autoplay: true,\r\n            autoplaySpeed: 3500,\r\n            mobileFirst: true,\r\n            speed: 500,\r\n            fade: true,\r\n            cssEase: 'linear'\r\n          });\r\n        },\r\n        fade: function() {\r\n          iElement.slick({\r\n            dots: true,\r\n            infinite: true,\r\n            speed: 500,\r\n            fade: true,\r\n            mobileFirst: true,\r\n            cssEase: 'linear'\r\n          });\r\n        },\r\n        asNavFor: function() {\r\n          iElement.children().eq(0).slick({\r\n            dots: false,\r\n            arrows: false,\r\n            speed: 500,\r\n            fade: true,\r\n            cssEase: 'linear',\r\n            asNavFor: '.slider-nav'\r\n          });\r\n          iElement.children().eq(1).slick({\r\n            dots: true,\r\n            arrows: false,\r\n            slidesToShow: 3,\r\n            slidesToScroll: 1,\r\n            asNavFor: '.slider-for',\r\n            focusOnSelect: true,\r\n            autoplay: true,\r\n            autoplaySpeed: 3500\r\n          });\r\n        },\r\n        vertical: function() {\r\n          iElement.slick({\r\n            vertical: true,\r\n            verticalSwiping: true,\r\n            adaptiveHeight: true,\r\n            mobileFirst: true,\r\n            autoplay: true,\r\n            autoplaySpeed: 4000,\r\n            slidesToShow: 3,\r\n            slidesToScroll: 1,\r\n            dots: true,\r\n            arrows: false\r\n          });\r\n        }\r\n      };\r\n\r\n      type[iAttrs.slickType]();\r\n    }\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9Db250cm9sLmpzP2U0OGQiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcInNsaWNrQ2Fyb3VzZWxDb250cm9sXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiQVwiLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcclxuXHJcbiAgICAgIHZhciBjZW50ZXJSZXNwb25zaXZlQ29uZmlnID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDkyMCxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcyMHB4JyxcclxuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDIwMDAsXHJcbiAgICAgICAgICAgIGFycm93czogdHJ1ZSxcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ4MCxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDIwMDAsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdO1xyXG5cclxuICAgICAgdmFyIHR5cGUgPSB7XHJcbiAgICAgICAgY2VudGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlFbGVtZW50LnNsaWNrKHtcclxuICAgICAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICAgICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogMjAwMCxcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMyxcclxuICAgICAgICAgICAgbW9iaWxlRmlyc3Q6IHRydWUsXHJcbiAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxyXG4gICAgICAgICAgICByZXNwb25zaXZlOiBjZW50ZXJSZXNwb25zaXZlQ29uZmlnXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNpbmdsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpRWxlbWVudC5zbGljayh7XHJcbiAgICAgICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICBhdXRvcGxheVNwZWVkOiA0MDAwLFxyXG4gICAgICAgICAgICBtb2JpbGVGaXJzdDogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzaW5nbGVGYWRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlFbGVtZW50LnNsaWNrKHtcclxuICAgICAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDM1MDAsXHJcbiAgICAgICAgICAgIG1vYmlsZUZpcnN0OiB0cnVlLFxyXG4gICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICBmYWRlOiB0cnVlLFxyXG4gICAgICAgICAgICBjc3NFYXNlOiAnbGluZWFyJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmYWRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlFbGVtZW50LnNsaWNrKHtcclxuICAgICAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgIGZhZGU6IHRydWUsXHJcbiAgICAgICAgICAgIG1vYmlsZUZpcnN0OiB0cnVlLFxyXG4gICAgICAgICAgICBjc3NFYXNlOiAnbGluZWFyJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc05hdkZvcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpRWxlbWVudC5jaGlsZHJlbigpLmVxKDApLnNsaWNrKHtcclxuICAgICAgICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgIGZhZGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNzc0Vhc2U6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICBhc05hdkZvcjogJy5zbGlkZXItbmF2J1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpRWxlbWVudC5jaGlsZHJlbigpLmVxKDEpLnNsaWNrKHtcclxuICAgICAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgICAgYXNOYXZGb3I6ICcuc2xpZGVyLWZvcicsXHJcbiAgICAgICAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICBhdXRvcGxheVNwZWVkOiAzNTAwXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZlcnRpY2FsOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlFbGVtZW50LnNsaWNrKHtcclxuICAgICAgICAgICAgdmVydGljYWw6IHRydWUsXHJcbiAgICAgICAgICAgIHZlcnRpY2FsU3dpcGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXHJcbiAgICAgICAgICAgIG1vYmlsZUZpcnN0OiB0cnVlLFxyXG4gICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogNDAwMCxcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICAgICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdHlwZVtpQXR0cnMuc2xpY2tUeXBlXSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9Db250cm9sLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 66 */
/***/ function(module, exports) {

eval("app.directive(\"slickCarouselPosts\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'postController',\r\n    templateUrl : '/angular/directives/slickCarousel/Posts.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9Qb3N0cy5qcz9kMjUzIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJzbGlja0Nhcm91c2VsUG9zdHNcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICBjb250cm9sbGVyOiAncG9zdENvbnRyb2xsZXInLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy9zbGlja0Nhcm91c2VsL1Bvc3RzLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvZGlyZWN0aXZlcy9zbGlja0Nhcm91c2VsL1Bvc3RzLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 67 */
/***/ function(module, exports) {

eval("app.directive(\"slickCarouselProducts\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'inventoryController',\r\n    templateUrl : '/angular/directives/slickCarousel/Products.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9Qcm9kdWN0cy5qcz8xNWRmIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJzbGlja0Nhcm91c2VsUHJvZHVjdHNcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICBjb250cm9sbGVyOiAnaW52ZW50b3J5Q29udHJvbGxlcicsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL3NsaWNrQ2Fyb3VzZWwvUHJvZHVjdHMuaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL3NsaWNrQ2Fyb3VzZWwvUHJvZHVjdHMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 68 */
/***/ function(module, exports) {

eval("app.directive(\"slickCarouselServices\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    templateUrl : '/angular/directives/slickCarousel/Services.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpY2tDYXJvdXNlbC9TZXJ2aWNlcy5qcz84YjU2Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJzbGlja0Nhcm91c2VsU2VydmljZXNcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICB0ZW1wbGF0ZVVybCA6ICcvYW5ndWxhci9kaXJlY3RpdmVzL3NsaWNrQ2Fyb3VzZWwvU2VydmljZXMuaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL3NsaWNrQ2Fyb3VzZWwvU2VydmljZXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 69 */
/***/ function(module, exports) {

eval("app.directive('slideToggle', function() {\r\n  return {\r\n    restrict: 'A',\r\n    scope:{},\r\n    controller: function ($scope) {},\r\n    link: function(scope, element, attr) {\r\n      element.bind('click', function() {\r\n        var $slideBox = angular.element(attr.slideToggle);\r\n        var slideDuration = parseInt(attr.slideToggleDuration, 10) || 200;\r\n        $slideBox.stop().slideToggle(slideDuration);\r\n      });\r\n    }\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpZGVUb2dnbGUuanM/ZmEwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZGlyZWN0aXZlKCdzbGlkZVRvZ2dsZScsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgc2NvcGU6e30sXHJcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbiAoJHNjb3BlKSB7fSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgJHNsaWRlQm94ID0gYW5ndWxhci5lbGVtZW50KGF0dHIuc2xpZGVUb2dnbGUpO1xyXG4gICAgICAgIHZhciBzbGlkZUR1cmF0aW9uID0gcGFyc2VJbnQoYXR0ci5zbGlkZVRvZ2dsZUR1cmF0aW9uLCAxMCkgfHwgMjAwO1xyXG4gICAgICAgICRzbGlkZUJveC5zdG9wKCkuc2xpZGVUb2dnbGUoc2xpZGVEdXJhdGlvbik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvc2xpZGVUb2dnbGUuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 70 */
/***/ function(module, exports) {

eval("app.directive(\"testimonialContainer\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'testimonialController',\r\n    templateUrl : '/angular/directives/testimonialContainer.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvdGVzdGltb25pYWxDb250YWluZXIuanM/MWI1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZGlyZWN0aXZlKFwidGVzdGltb25pYWxDb250YWluZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0IDogXCJFXCIsXHJcbiAgICBjb250cm9sbGVyOiAndGVzdGltb25pYWxDb250cm9sbGVyJyxcclxuICAgIHRlbXBsYXRlVXJsIDogJy9hbmd1bGFyL2RpcmVjdGl2ZXMvdGVzdGltb25pYWxDb250YWluZXIuaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL3Rlc3RpbW9uaWFsQ29udGFpbmVyLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 71 */
/***/ function(module, exports) {

eval("app.directive(\"testimonialForm\", function() {\r\n  return {\r\n    restrict : \"E\",\r\n    controller: 'testimonialController',\r\n    templateUrl : '/angular/directives/testimonialForm.html'\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvdGVzdGltb25pYWxGb3JtLmpzPzI0YzIiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmRpcmVjdGl2ZShcInRlc3RpbW9uaWFsRm9ybVwiLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3QgOiBcIkVcIixcclxuICAgIGNvbnRyb2xsZXI6ICd0ZXN0aW1vbmlhbENvbnRyb2xsZXInLFxyXG4gICAgdGVtcGxhdGVVcmwgOiAnL2FuZ3VsYXIvZGlyZWN0aXZlcy90ZXN0aW1vbmlhbEZvcm0uaHRtbCdcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9kaXJlY3RpdmVzL3Rlc3RpbW9uaWFsRm9ybS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 72 */
/***/ function(module, exports) {

eval("app.directive(\"textareaAutosize\", function() {\r\n  return {\r\n    restrict : \"A\",\r\n    link: function(scope, iElement, iAttrs) {\r\n      iElement.textareaAutoSize();\r\n    }\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvdGV4dGFyZWFBdXRvc2l6ZS5qcz84YWE4Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJ0ZXh0YXJlYUF1dG9zaXplXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiQVwiLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcclxuICAgICAgaUVsZW1lbnQudGV4dGFyZWFBdXRvU2l6ZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvdGV4dGFyZWFBdXRvc2l6ZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 73 */
/***/ function(module, exports) {

eval("app.directive(\"tooltip\", function() {\r\n  return {\r\n    restrict : \"A\",\r\n    link: function(scope, iElement, iAttrs) {\r\n      iElement.tooltip();\r\n    }\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvdG9vbHRpcC5qcz8xMjg5Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5kaXJlY3RpdmUoXCJ0b29sdGlwXCIsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdCA6IFwiQVwiLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcclxuICAgICAgaUVsZW1lbnQudG9vbHRpcCgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2RpcmVjdGl2ZXMvdG9vbHRpcC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 74 */
/***/ function(module, exports) {

eval("app.factory(\"AnnounceService\", function($http, Upload){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"announces\");\r\n  };\r\n  var store = function(announce) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"announces\",\r\n      method: 'POST',\r\n      data: announce,\r\n    });\r\n  };\r\n  var update = function(announce) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"announces/\" + announce.slug,\r\n      method: 'POST',\r\n      data: announce,\r\n    });\r\n  };\r\n  var edit = function(slug) {\r\n    return $http.get(apiUrl + \"announces/\" + slug + \"/edit\");\r\n  };\r\n  var destroy = function(announce) {\r\n    return $http.delete(apiUrl + \"announces/\" + announce.slug);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    store: store,\r\n    edit: edit,\r\n    update: update,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2Fubm91bmNlU2VydmljZS5qcz83M2MxIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5mYWN0b3J5KFwiQW5ub3VuY2VTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwLCBVcGxvYWQpe1xyXG4gIHZhciBhcGlVcmwgPSBcIi9hcGkvXCI7XHJcblxyXG4gIHZhciBpbmRleCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcImFubm91bmNlc1wiKTtcclxuICB9O1xyXG4gIHZhciBzdG9yZSA9IGZ1bmN0aW9uKGFubm91bmNlKSB7XHJcbiAgICByZXR1cm4gVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgIHVybDogYXBpVXJsICsgXCJhbm5vdW5jZXNcIixcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGRhdGE6IGFubm91bmNlLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24oYW5ub3VuY2UpIHtcclxuICAgIHJldHVybiBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgdXJsOiBhcGlVcmwgKyBcImFubm91bmNlcy9cIiArIGFubm91bmNlLnNsdWcsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBkYXRhOiBhbm5vdW5jZSxcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgdmFyIGVkaXQgPSBmdW5jdGlvbihzbHVnKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwiYW5ub3VuY2VzL1wiICsgc2x1ZyArIFwiL2VkaXRcIik7XHJcbiAgfTtcclxuICB2YXIgZGVzdHJveSA9IGZ1bmN0aW9uKGFubm91bmNlKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKGFwaVVybCArIFwiYW5ub3VuY2VzL1wiICsgYW5ub3VuY2Uuc2x1Zyk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluZGV4OiBpbmRleCxcclxuICAgIHN0b3JlOiBzdG9yZSxcclxuICAgIGVkaXQ6IGVkaXQsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZSxcclxuICAgIGRlc3Ryb3k6IGRlc3Ryb3lcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9zZXJ2aWNlcy9hbm5vdW5jZVNlcnZpY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 75 */
/***/ function(module, exports) {

eval("// App service setup\r\napp.run(function(AuthService, $rootScope) {\r\n  // Set generic user role.\r\n  if (!AuthService.get('userRole')) { AuthService.put('userRole', 'general', 364) }\r\n\r\n  // Set user token.\r\n  AuthService.header('userToken', AuthService.get('userToken'));\r\n\r\n  // Set user status.\r\n  $rootScope.isActive = AuthService.get('userActive');\r\n});\r\n\r\napp.factory(\"AuthService\", function($http, $state, $rootScope, NotifyService){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var header = function(name, value) {\r\n    $http.defaults.headers.common[name] = value;\r\n  };\r\n\r\n  var put = function(name, data, days) {\r\n    return $cookies.set(name, data, { expires: days});\r\n  };\r\n\r\n  var get = function(name) {\r\n    return $cookies.get(name);\r\n  };\r\n\r\n  var remove = function(name) {\r\n    return $cookies.remove(name);\r\n  };\r\n\r\n  var redirect = function(url) {\r\n    return $state.go(url);\r\n  };\r\n\r\n  var checkRoute = function(name, options) {\r\n    return $state.is(name);\r\n  };\r\n\r\n  var login = function(user) {\r\n    return $http.post(apiUrl + \"login\", user);\r\n  };\r\n\r\n  var checkRoles = function(roles) {\r\n    for(role in roles) {\r\n      if ($cookies.get('userRole') === roles[role]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  var checkLogin = function() {\r\n    if ($cookies.get('userActive')) {\r\n\r\n      $state.go('/');\r\n    }\r\n  };\r\n\r\n  var register = function(user) {\r\n    return $http.post(apiUrl + \"register\", user);\r\n  };\r\n\r\n  return {\r\n    login: login,\r\n    register: register,\r\n    checkRoles: checkRoles,\r\n    checkLogin: checkLogin,\r\n    checkRoute: checkRoute,\r\n    redirect: redirect,\r\n    get: get,\r\n    put: put,\r\n    remove: remove,\r\n    header: header\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2F1dGhTZXJ2aWNlLmpzP2RhNmYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQXBwIHNlcnZpY2Ugc2V0dXBcclxuYXBwLnJ1bihmdW5jdGlvbihBdXRoU2VydmljZSwgJHJvb3RTY29wZSkge1xyXG4gIC8vIFNldCBnZW5lcmljIHVzZXIgcm9sZS5cclxuICBpZiAoIUF1dGhTZXJ2aWNlLmdldCgndXNlclJvbGUnKSkgeyBBdXRoU2VydmljZS5wdXQoJ3VzZXJSb2xlJywgJ2dlbmVyYWwnLCAzNjQpIH1cclxuXHJcbiAgLy8gU2V0IHVzZXIgdG9rZW4uXHJcbiAgQXV0aFNlcnZpY2UuaGVhZGVyKCd1c2VyVG9rZW4nLCBBdXRoU2VydmljZS5nZXQoJ3VzZXJUb2tlbicpKTtcclxuXHJcbiAgLy8gU2V0IHVzZXIgc3RhdHVzLlxyXG4gICRyb290U2NvcGUuaXNBY3RpdmUgPSBBdXRoU2VydmljZS5nZXQoJ3VzZXJBY3RpdmUnKTtcclxufSk7XHJcblxyXG5hcHAuZmFjdG9yeShcIkF1dGhTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwLCAkc3RhdGUsICRyb290U2NvcGUsIE5vdGlmeVNlcnZpY2Upe1xyXG4gIHZhciBhcGlVcmwgPSBcIi9hcGkvXCI7XHJcblxyXG4gIHZhciBoZWFkZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xyXG4gICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bbmFtZV0gPSB2YWx1ZTtcclxuICB9O1xyXG5cclxuICB2YXIgcHV0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSwgZGF5cykge1xyXG4gICAgcmV0dXJuICRjb29raWVzLnNldChuYW1lLCBkYXRhLCB7IGV4cGlyZXM6IGRheXN9KTtcclxuICB9O1xyXG5cclxuICB2YXIgZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgcmV0dXJuICRjb29raWVzLmdldChuYW1lKTtcclxuICB9O1xyXG5cclxuICB2YXIgcmVtb3ZlID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgcmV0dXJuICRjb29raWVzLnJlbW92ZShuYW1lKTtcclxuICB9O1xyXG5cclxuICB2YXIgcmVkaXJlY3QgPSBmdW5jdGlvbih1cmwpIHtcclxuICAgIHJldHVybiAkc3RhdGUuZ28odXJsKTtcclxuICB9O1xyXG5cclxuICB2YXIgY2hlY2tSb3V0ZSA9IGZ1bmN0aW9uKG5hbWUsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiAkc3RhdGUuaXMobmFtZSk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGxvZ2luID0gZnVuY3Rpb24odXNlcikge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVXJsICsgXCJsb2dpblwiLCB1c2VyKTtcclxuICB9O1xyXG5cclxuICB2YXIgY2hlY2tSb2xlcyA9IGZ1bmN0aW9uKHJvbGVzKSB7XHJcbiAgICBmb3Iocm9sZSBpbiByb2xlcykge1xyXG4gICAgICBpZiAoJGNvb2tpZXMuZ2V0KCd1c2VyUm9sZScpID09PSByb2xlc1tyb2xlXSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGNoZWNrTG9naW4gPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICgkY29va2llcy5nZXQoJ3VzZXJBY3RpdmUnKSkge1xyXG5cclxuICAgICAgJHN0YXRlLmdvKCcvJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIHJlZ2lzdGVyID0gZnVuY3Rpb24odXNlcikge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVXJsICsgXCJyZWdpc3RlclwiLCB1c2VyKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbG9naW46IGxvZ2luLFxyXG4gICAgcmVnaXN0ZXI6IHJlZ2lzdGVyLFxyXG4gICAgY2hlY2tSb2xlczogY2hlY2tSb2xlcyxcclxuICAgIGNoZWNrTG9naW46IGNoZWNrTG9naW4sXHJcbiAgICBjaGVja1JvdXRlOiBjaGVja1JvdXRlLFxyXG4gICAgcmVkaXJlY3Q6IHJlZGlyZWN0LFxyXG4gICAgZ2V0OiBnZXQsXHJcbiAgICBwdXQ6IHB1dCxcclxuICAgIHJlbW92ZTogcmVtb3ZlLFxyXG4gICAgaGVhZGVyOiBoZWFkZXJcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9zZXJ2aWNlcy9hdXRoU2VydmljZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 76 */
/***/ function(module, exports) {

eval("app.factory(\"CategoryService\", function($http){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"categories\");\r\n  };\r\n  var indexNames = function() {\r\n    return $http.get(apiUrl + \"categories-names\");\r\n  };\r\n  var show = function(slug) {\r\n    return $http.get(apiUrl + \"categories/\" + slug);\r\n  };\r\n  var store = function(category) {\r\n    return $http.post(apiUrl + \"categories\", category);\r\n  };\r\n  var update = function(category) {\r\n    return $http.put(apiUrl + \"categories/\" + category.slug, category);\r\n  };\r\n  var destroy = function(category) {\r\n    return $http.delete(apiUrl + \"categories/\" + category.slug);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    indexNames: indexNames,\r\n    show: show,\r\n    store: store,\r\n    update: update,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2NhdGVnb3J5U2VydmljZS5qcz9lMGEyIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5mYWN0b3J5KFwiQ2F0ZWdvcnlTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKXtcclxuICB2YXIgYXBpVXJsID0gXCIvYXBpL1wiO1xyXG5cclxuICB2YXIgaW5kZXggPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJjYXRlZ29yaWVzXCIpO1xyXG4gIH07XHJcbiAgdmFyIGluZGV4TmFtZXMgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJjYXRlZ29yaWVzLW5hbWVzXCIpO1xyXG4gIH07XHJcbiAgdmFyIHNob3cgPSBmdW5jdGlvbihzbHVnKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwiY2F0ZWdvcmllcy9cIiArIHNsdWcpO1xyXG4gIH07XHJcbiAgdmFyIHN0b3JlID0gZnVuY3Rpb24oY2F0ZWdvcnkpIHtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVybCArIFwiY2F0ZWdvcmllc1wiLCBjYXRlZ29yeSk7XHJcbiAgfTtcclxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24oY2F0ZWdvcnkpIHtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoYXBpVXJsICsgXCJjYXRlZ29yaWVzL1wiICsgY2F0ZWdvcnkuc2x1ZywgY2F0ZWdvcnkpO1xyXG4gIH07XHJcbiAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbihjYXRlZ29yeSkge1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZShhcGlVcmwgKyBcImNhdGVnb3JpZXMvXCIgKyBjYXRlZ29yeS5zbHVnKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5kZXg6IGluZGV4LFxyXG4gICAgaW5kZXhOYW1lczogaW5kZXhOYW1lcyxcclxuICAgIHNob3c6IHNob3csXHJcbiAgICBzdG9yZTogc3RvcmUsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZSxcclxuICAgIGRlc3Ryb3k6IGRlc3Ryb3lcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9zZXJ2aWNlcy9jYXRlZ29yeVNlcnZpY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 77 */
/***/ function(module, exports) {

eval("app.factory(\"ChatRequestService\", function($http, $rootScope, AuthService, NotifyService){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"chat-requests\");\r\n  };\r\n  var store = function(request) {\r\n    return $http.post(apiUrl + \"chat-requests\", request);\r\n  };\r\n  var destroy = function(request) {\r\n    return $http.delete(apiUrl + \"chat-requests/\" + request.id);\r\n  };\r\n  var acceptRequest = function(request) {\r\n    return $http.put(apiUrl + \"chat-requests/\" + request.id + \"/accept\", request);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    store: store,\r\n    destroy: destroy,\r\n    acceptRequest: acceptRequest\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2NoYXRSZXF1ZXN0U2VydmljZS5qcz9hOTM3Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5mYWN0b3J5KFwiQ2hhdFJlcXVlc3RTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwLCAkcm9vdFNjb3BlLCBBdXRoU2VydmljZSwgTm90aWZ5U2VydmljZSl7XHJcbiAgdmFyIGFwaVVybCA9IFwiL2FwaS9cIjtcclxuXHJcbiAgdmFyIGluZGV4ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwiY2hhdC1yZXF1ZXN0c1wiKTtcclxuICB9O1xyXG4gIHZhciBzdG9yZSA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVybCArIFwiY2hhdC1yZXF1ZXN0c1wiLCByZXF1ZXN0KTtcclxuICB9O1xyXG4gIHZhciBkZXN0cm95ID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZShhcGlVcmwgKyBcImNoYXQtcmVxdWVzdHMvXCIgKyByZXF1ZXN0LmlkKTtcclxuICB9O1xyXG4gIHZhciBhY2NlcHRSZXF1ZXN0ID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4gICAgcmV0dXJuICRodHRwLnB1dChhcGlVcmwgKyBcImNoYXQtcmVxdWVzdHMvXCIgKyByZXF1ZXN0LmlkICsgXCIvYWNjZXB0XCIsIHJlcXVlc3QpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbmRleDogaW5kZXgsXHJcbiAgICBzdG9yZTogc3RvcmUsXHJcbiAgICBkZXN0cm95OiBkZXN0cm95LFxyXG4gICAgYWNjZXB0UmVxdWVzdDogYWNjZXB0UmVxdWVzdFxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2NoYXRSZXF1ZXN0U2VydmljZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 78 */
/***/ function(module, exports) {

eval("app.run(function($rootScope, ChatService, AuthService) {\r\n  var checkStatus = function() {\r\n    var userActive = AuthService.get('userActive');\r\n    if (!userActive || $rootScope.connected) {return};\r\n    ChatService.checkStatus();\r\n  };\r\n\r\n  // Intervals\r\n  repeat('9s', checkStatus);\r\n});\r\n\r\napp.factory(\"ChatService\", function($http, $rootScope, AuthService){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"chat\");\r\n  };\r\n  var store = function(message) {\r\n    return $http.post(apiUrl + \"chat\", message);\r\n  };\r\n  var destroy = function() {\r\n    return $http.get(apiUrl + \"chat/close\");\r\n  };\r\n  var checkStatus = function() {\r\n    console.log('chat/status');\r\n    $http.get(apiUrl + \"chat/status\").then(\r\n      function success(response) {\r\n        var userActive = AuthService.get('userActive');\r\n        AuthService.put('room_name', response.data.room_name, 7);\r\n        AuthService.put('room_active', response.data.room_active, 7);\r\n        if (response.data.room_active && userActive) {\r\n          $rootScope.fetchMessages();\r\n        }\r\n      },\r\n      function fail(response) {\r\n        NotifyService.send('Notificacion del sistema', response.data);\r\n      }\r\n    );\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    store: store,\r\n    destroy: destroy,\r\n    checkStatus: checkStatus\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2NoYXRTZXJ2aWNlLmpzP2Q0YjAiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlLCBDaGF0U2VydmljZSwgQXV0aFNlcnZpY2UpIHtcclxuICB2YXIgY2hlY2tTdGF0dXMgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB1c2VyQWN0aXZlID0gQXV0aFNlcnZpY2UuZ2V0KCd1c2VyQWN0aXZlJyk7XHJcbiAgICBpZiAoIXVzZXJBY3RpdmUgfHwgJHJvb3RTY29wZS5jb25uZWN0ZWQpIHtyZXR1cm59O1xyXG4gICAgQ2hhdFNlcnZpY2UuY2hlY2tTdGF0dXMoKTtcclxuICB9O1xyXG5cclxuICAvLyBJbnRlcnZhbHNcclxuICByZXBlYXQoJzlzJywgY2hlY2tTdGF0dXMpO1xyXG59KTtcclxuXHJcbmFwcC5mYWN0b3J5KFwiQ2hhdFNlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHAsICRyb290U2NvcGUsIEF1dGhTZXJ2aWNlKXtcclxuICB2YXIgYXBpVXJsID0gXCIvYXBpL1wiO1xyXG5cclxuICB2YXIgaW5kZXggPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJjaGF0XCIpO1xyXG4gIH07XHJcbiAgdmFyIHN0b3JlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVXJsICsgXCJjaGF0XCIsIG1lc3NhZ2UpO1xyXG4gIH07XHJcbiAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJjaGF0L2Nsb3NlXCIpO1xyXG4gIH07XHJcbiAgdmFyIGNoZWNrU3RhdHVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZygnY2hhdC9zdGF0dXMnKTtcclxuICAgICRodHRwLmdldChhcGlVcmwgKyBcImNoYXQvc3RhdHVzXCIpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgdXNlckFjdGl2ZSA9IEF1dGhTZXJ2aWNlLmdldCgndXNlckFjdGl2ZScpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgncm9vbV9uYW1lJywgcmVzcG9uc2UuZGF0YS5yb29tX25hbWUsIDcpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnB1dCgncm9vbV9hY3RpdmUnLCByZXNwb25zZS5kYXRhLnJvb21fYWN0aXZlLCA3KTtcclxuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yb29tX2FjdGl2ZSAmJiB1c2VyQWN0aXZlKSB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLmZldGNoTWVzc2FnZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbmRleDogaW5kZXgsXHJcbiAgICBzdG9yZTogc3RvcmUsXHJcbiAgICBkZXN0cm95OiBkZXN0cm95LFxyXG4gICAgY2hlY2tTdGF0dXM6IGNoZWNrU3RhdHVzXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvc2VydmljZXMvY2hhdFNlcnZpY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 79 */
/***/ function(module, exports) {

eval("app.factory(\"CommentService\", function($http){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function(slug) {\r\n    return $http.get(apiUrl + \"posts/\" + slug + \"/comments\");\r\n  };\r\n  var store = function(comment, slug) {\r\n    return $http.post(apiUrl + \"posts/\" + slug + \"/comments\" , comment);\r\n  };\r\n  var destroy = function(comment, slug) {\r\n    return $http.delete(apiUrl + \"posts/\" + slug + \"/comments/\" + comment.id);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    store: store,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2NvbW1lbnRTZXJ2aWNlLmpzP2M0MzIiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmZhY3RvcnkoXCJDb21tZW50U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgdmFyIGFwaVVybCA9IFwiL2FwaS9cIjtcclxuXHJcbiAgdmFyIGluZGV4ID0gZnVuY3Rpb24oc2x1Zykge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcInBvc3RzL1wiICsgc2x1ZyArIFwiL2NvbW1lbnRzXCIpO1xyXG4gIH07XHJcbiAgdmFyIHN0b3JlID0gZnVuY3Rpb24oY29tbWVudCwgc2x1Zykge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVXJsICsgXCJwb3N0cy9cIiArIHNsdWcgKyBcIi9jb21tZW50c1wiICwgY29tbWVudCk7XHJcbiAgfTtcclxuICB2YXIgZGVzdHJveSA9IGZ1bmN0aW9uKGNvbW1lbnQsIHNsdWcpIHtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoYXBpVXJsICsgXCJwb3N0cy9cIiArIHNsdWcgKyBcIi9jb21tZW50cy9cIiArIGNvbW1lbnQuaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbmRleDogaW5kZXgsXHJcbiAgICBzdG9yZTogc3RvcmUsXHJcbiAgICBkZXN0cm95OiBkZXN0cm95XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvc2VydmljZXMvY29tbWVudFNlcnZpY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 80 */
/***/ function(module, exports) {

eval("app.factory(\"ContactService\", function($http){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var store = function(form) {\r\n    return $http.post(apiUrl + \"contact\", form);\r\n  };\r\n\r\n  return {\r\n    store: store\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2NvbnRhY3RTZXJ2aWNlLmpzPzM5OGUiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmZhY3RvcnkoXCJDb250YWN0U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgdmFyIGFwaVVybCA9IFwiL2FwaS9cIjtcclxuXHJcbiAgdmFyIHN0b3JlID0gZnVuY3Rpb24oZm9ybSkge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVXJsICsgXCJjb250YWN0XCIsIGZvcm0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBzdG9yZTogc3RvcmVcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9zZXJ2aWNlcy9jb250YWN0U2VydmljZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 81 */
/***/ function(module, exports) {

eval("app.factory(\"GoogleMapService\", function($http){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get();\r\n  };\r\n  var store = function() {\r\n    return $http.post();\r\n  };\r\n  var destroy = function() {\r\n    return $http.delete();\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    store: store,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2dvb2dsZU1hcFNlcnZpY2UuanM/Y2EyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZmFjdG9yeShcIkdvb2dsZU1hcFNlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHZhciBhcGlVcmwgPSBcIi9hcGkvXCI7XHJcblxyXG4gIHZhciBpbmRleCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgpO1xyXG4gIH07XHJcbiAgdmFyIHN0b3JlID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgpO1xyXG4gIH07XHJcbiAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5kZXg6IGluZGV4LFxyXG4gICAgc3RvcmU6IHN0b3JlLFxyXG4gICAgZGVzdHJveTogZGVzdHJveVxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL2dvb2dsZU1hcFNlcnZpY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 82 */
/***/ function(module, exports) {

eval("app.factory(\"NotifyService\", function(){\r\n  var config = {\r\n    glyphicon: 'envelope',\r\n    autoHide: true,\r\n    clickToHide: true,\r\n    style: 'metro',\r\n    color: 'white',\r\n    position: 'bottom left'\r\n  };\r\n\r\n  var send = function(title, text) {\r\n    $.notify({\r\n        title: title,\r\n        text: text,\r\n        image: '<i class=\"glyphicon glyphicon-'+config.glyphicon+'\" aria-hidden=\"true\" style=\"font-size: 24px\"></i>'\r\n      },\r\n      {\r\n        style: config.style,\r\n        className: config.color,\r\n        autoHide: config.autoHide,\r\n        clickToHide: config.clickToHide,\r\n        position: config.position\r\n      }\r\n    );\r\n  };\r\n\r\n  return {\r\n    send: send,\r\n    config: config\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL25vdGlmeVNlcnZpY2UuanM/NTEwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZmFjdG9yeShcIk5vdGlmeVNlcnZpY2VcIiwgZnVuY3Rpb24oKXtcclxuICB2YXIgY29uZmlnID0ge1xyXG4gICAgZ2x5cGhpY29uOiAnZW52ZWxvcGUnLFxyXG4gICAgYXV0b0hpZGU6IHRydWUsXHJcbiAgICBjbGlja1RvSGlkZTogdHJ1ZSxcclxuICAgIHN0eWxlOiAnbWV0cm8nLFxyXG4gICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICBwb3NpdGlvbjogJ2JvdHRvbSBsZWZ0J1xyXG4gIH07XHJcblxyXG4gIHZhciBzZW5kID0gZnVuY3Rpb24odGl0bGUsIHRleHQpIHtcclxuICAgICQubm90aWZ5KHtcclxuICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICBpbWFnZTogJzxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi0nK2NvbmZpZy5nbHlwaGljb24rJ1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPVwiZm9udC1zaXplOiAyNHB4XCI+PC9pPidcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHN0eWxlOiBjb25maWcuc3R5bGUsXHJcbiAgICAgICAgY2xhc3NOYW1lOiBjb25maWcuY29sb3IsXHJcbiAgICAgICAgYXV0b0hpZGU6IGNvbmZpZy5hdXRvSGlkZSxcclxuICAgICAgICBjbGlja1RvSGlkZTogY29uZmlnLmNsaWNrVG9IaWRlLFxyXG4gICAgICAgIHBvc2l0aW9uOiBjb25maWcucG9zaXRpb25cclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2VuZDogc2VuZCxcclxuICAgIGNvbmZpZzogY29uZmlnXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvc2VydmljZXMvbm90aWZ5U2VydmljZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 83 */
/***/ function(module, exports) {

eval("app.factory(\"PostService\", function($http){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"posts\");\r\n  };\r\n  var show = function(slug) {\r\n    return $http.get(apiUrl + \"posts/\" + slug);\r\n  };\r\n  var store = function(post) {\r\n    return $http.post(apiUrl + \"posts\", post);\r\n  };\r\n  var edit = function(slug) {\r\n    return $http.get(apiUrl + \"posts/\" + slug + \"/edit\");\r\n  };\r\n  var update = function(post) {\r\n    return $http.put(apiUrl + \"posts/\" + post.slug, post);\r\n  };\r\n  var destroy = function(post) {\r\n    return $http.delete(apiUrl + \"posts/\" + post.slug);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    show: show,\r\n    store: store,\r\n    edit: edit,\r\n    update: update,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3Bvc3RTZXJ2aWNlLmpzP2IzOTIiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmZhY3RvcnkoXCJQb3N0U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgdmFyIGFwaVVybCA9IFwiL2FwaS9cIjtcclxuXHJcbiAgdmFyIGluZGV4ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwicG9zdHNcIik7XHJcbiAgfTtcclxuICB2YXIgc2hvdyA9IGZ1bmN0aW9uKHNsdWcpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJwb3N0cy9cIiArIHNsdWcpO1xyXG4gIH07XHJcbiAgdmFyIHN0b3JlID0gZnVuY3Rpb24ocG9zdCkge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVXJsICsgXCJwb3N0c1wiLCBwb3N0KTtcclxuICB9O1xyXG4gIHZhciBlZGl0ID0gZnVuY3Rpb24oc2x1Zykge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcInBvc3RzL1wiICsgc2x1ZyArIFwiL2VkaXRcIik7XHJcbiAgfTtcclxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24ocG9zdCkge1xyXG4gICAgcmV0dXJuICRodHRwLnB1dChhcGlVcmwgKyBcInBvc3RzL1wiICsgcG9zdC5zbHVnLCBwb3N0KTtcclxuICB9O1xyXG4gIHZhciBkZXN0cm95ID0gZnVuY3Rpb24ocG9zdCkge1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZShhcGlVcmwgKyBcInBvc3RzL1wiICsgcG9zdC5zbHVnKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5kZXg6IGluZGV4LFxyXG4gICAgc2hvdzogc2hvdyxcclxuICAgIHN0b3JlOiBzdG9yZSxcclxuICAgIGVkaXQ6IGVkaXQsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZSxcclxuICAgIGRlc3Ryb3k6IGRlc3Ryb3lcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9zZXJ2aWNlcy9wb3N0U2VydmljZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 84 */
/***/ function(module, exports) {

eval("app.factory(\"ProfileService\", function($http, Upload){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var show = function() {\r\n    return $http.get(apiUrl + \"profile\");\r\n  };\r\n  var update = function(profile) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"profile/\",\r\n      method: 'POST',\r\n      data: profile,\r\n    });\r\n  };\r\n\r\n  return {\r\n    show: show,\r\n    update: update\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3Byb2ZpbGVTZXJ2aWNlLmpzPzg4ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmZhY3RvcnkoXCJQcm9maWxlU2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCwgVXBsb2FkKXtcclxuICB2YXIgYXBpVXJsID0gXCIvYXBpL1wiO1xyXG5cclxuICB2YXIgc2hvdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcInByb2ZpbGVcIik7XHJcbiAgfTtcclxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24ocHJvZmlsZSkge1xyXG4gICAgcmV0dXJuIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICB1cmw6IGFwaVVybCArIFwicHJvZmlsZS9cIixcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGRhdGE6IHByb2ZpbGUsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2hvdzogc2hvdyxcclxuICAgIHVwZGF0ZTogdXBkYXRlXHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvc2VydmljZXMvcHJvZmlsZVNlcnZpY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 85 */
/***/ function(module, exports) {

eval("app.factory(\"ProjectService\", function($http, Upload){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"projects\");\r\n  };\r\n  var indexNames = function() {\r\n    return $http.get(apiUrl + \"projects-names\");\r\n  };\r\n  var show = function(slug) {\r\n    return $http.get(apiUrl + \"projects/\" + slug);\r\n  };\r\n  var store = function(project) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"projects\",\r\n      method: 'POST',\r\n      data: project,\r\n    });\r\n  };\r\n  var edit = function(slug) {\r\n    return $http.get(apiUrl + \"projects/\" + slug + \"/edit\");\r\n  };\r\n  var update = function(project) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"projects/\" + project.slug,\r\n      method: 'POST',\r\n      data: project,\r\n    });\r\n  };\r\n  var destroy = function(project) {\r\n    return $http.delete(apiUrl + \"projects/\" + project.slug);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    indexNames: indexNames,\r\n    show: show,\r\n    store: store,\r\n    edit: edit,\r\n    update: update,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3Byb2plY3RTZXJ2aWNlLmpzPzc3MDciXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmZhY3RvcnkoXCJQcm9qZWN0U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCwgVXBsb2FkKXtcclxuICB2YXIgYXBpVXJsID0gXCIvYXBpL1wiO1xyXG5cclxuICB2YXIgaW5kZXggPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJwcm9qZWN0c1wiKTtcclxuICB9O1xyXG4gIHZhciBpbmRleE5hbWVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwicHJvamVjdHMtbmFtZXNcIik7XHJcbiAgfTtcclxuICB2YXIgc2hvdyA9IGZ1bmN0aW9uKHNsdWcpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJwcm9qZWN0cy9cIiArIHNsdWcpO1xyXG4gIH07XHJcbiAgdmFyIHN0b3JlID0gZnVuY3Rpb24ocHJvamVjdCkge1xyXG4gICAgcmV0dXJuIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICB1cmw6IGFwaVVybCArIFwicHJvamVjdHNcIixcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGRhdGE6IHByb2plY3QsXHJcbiAgICB9KTtcclxuICB9O1xyXG4gIHZhciBlZGl0ID0gZnVuY3Rpb24oc2x1Zykge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcInByb2plY3RzL1wiICsgc2x1ZyArIFwiL2VkaXRcIik7XHJcbiAgfTtcclxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24ocHJvamVjdCkge1xyXG4gICAgcmV0dXJuIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICB1cmw6IGFwaVVybCArIFwicHJvamVjdHMvXCIgKyBwcm9qZWN0LnNsdWcsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBkYXRhOiBwcm9qZWN0LFxyXG4gICAgfSk7XHJcbiAgfTtcclxuICB2YXIgZGVzdHJveSA9IGZ1bmN0aW9uKHByb2plY3QpIHtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoYXBpVXJsICsgXCJwcm9qZWN0cy9cIiArIHByb2plY3Quc2x1Zyk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluZGV4OiBpbmRleCxcclxuICAgIGluZGV4TmFtZXM6IGluZGV4TmFtZXMsXHJcbiAgICBzaG93OiBzaG93LFxyXG4gICAgc3RvcmU6IHN0b3JlLFxyXG4gICAgZWRpdDogZWRpdCxcclxuICAgIHVwZGF0ZTogdXBkYXRlLFxyXG4gICAgZGVzdHJveTogZGVzdHJveVxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3Byb2plY3RTZXJ2aWNlLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 86 */
/***/ function(module, exports) {

eval("app.factory(\"SolutionService\", function($http, Upload){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"solutions\");\r\n  };\r\n  var indexNames = function() {\r\n    return $http.get(apiUrl + \"solutions-names\");\r\n  };\r\n  var show = function(slug) {\r\n    return $http.get(apiUrl + \"solutions/\" + slug);\r\n  };\r\n  var store = function(solution) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"solutions\",\r\n      method: 'POST',\r\n      data: solution,\r\n    });\r\n  };\r\n  var edit = function(slug) {\r\n    return $http.get(apiUrl + \"solutions/\" + slug + \"/edit\");\r\n  };\r\n  var update = function(solution) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"solutions/\" + solution.slug,\r\n      method: 'POST',\r\n      data: solution,\r\n    });\r\n  };\r\n  var destroy = function(solution) {\r\n    return $http.delete(apiUrl + \"solutions/\" + solution.slug);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    indexNames: indexNames,\r\n    show: show,\r\n    store: store,\r\n    edit: edit,\r\n    update: update,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3NvbHV0aW9uU2VydmljZS5qcz81Njg4Il0sInNvdXJjZXNDb250ZW50IjpbImFwcC5mYWN0b3J5KFwiU29sdXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwLCBVcGxvYWQpe1xyXG4gIHZhciBhcGlVcmwgPSBcIi9hcGkvXCI7XHJcblxyXG4gIHZhciBpbmRleCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcInNvbHV0aW9uc1wiKTtcclxuICB9O1xyXG4gIHZhciBpbmRleE5hbWVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwic29sdXRpb25zLW5hbWVzXCIpO1xyXG4gIH07XHJcbiAgdmFyIHNob3cgPSBmdW5jdGlvbihzbHVnKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwic29sdXRpb25zL1wiICsgc2x1Zyk7XHJcbiAgfTtcclxuICB2YXIgc3RvcmUgPSBmdW5jdGlvbihzb2x1dGlvbikge1xyXG4gICAgcmV0dXJuIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICB1cmw6IGFwaVVybCArIFwic29sdXRpb25zXCIsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBkYXRhOiBzb2x1dGlvbixcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgdmFyIGVkaXQgPSBmdW5jdGlvbihzbHVnKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwic29sdXRpb25zL1wiICsgc2x1ZyArIFwiL2VkaXRcIik7XHJcbiAgfTtcclxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24oc29sdXRpb24pIHtcclxuICAgIHJldHVybiBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgdXJsOiBhcGlVcmwgKyBcInNvbHV0aW9ucy9cIiArIHNvbHV0aW9uLnNsdWcsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBkYXRhOiBzb2x1dGlvbixcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbihzb2x1dGlvbikge1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZShhcGlVcmwgKyBcInNvbHV0aW9ucy9cIiArIHNvbHV0aW9uLnNsdWcpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbmRleDogaW5kZXgsXHJcbiAgICBpbmRleE5hbWVzOiBpbmRleE5hbWVzLFxyXG4gICAgc2hvdzogc2hvdyxcclxuICAgIHN0b3JlOiBzdG9yZSxcclxuICAgIGVkaXQ6IGVkaXQsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZSxcclxuICAgIGRlc3Ryb3k6IGRlc3Ryb3lcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9zZXJ2aWNlcy9zb2x1dGlvblNlcnZpY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 87 */
/***/ function(module, exports) {

eval("app.factory(\"TagService\", function($http){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"tags\");\r\n  };\r\n  var indexNames = function() {\r\n    return $http.get(apiUrl + \"tags-names\");\r\n  };\r\n  var show = function(slug) {\r\n    return $http.get(apiUrl + \"tags/\" + slug);\r\n  };\r\n  var store = function(tag) {\r\n    return $http.post(apiUrl + \"tags\", tag);\r\n  };\r\n  var update = function(tag) {\r\n    return $http.put(apiUrl + \"tags/\" + tag.slug, tag);\r\n  };\r\n  var destroy = function(tag) {\r\n    return $http.delete(apiUrl + \"tags/\" + tag.slug);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    indexNames: indexNames,\r\n    show: show,\r\n    store: store,\r\n    update: update,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3RhZ1NlcnZpY2UuanM/OGM3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZmFjdG9yeShcIlRhZ1NlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHZhciBhcGlVcmwgPSBcIi9hcGkvXCI7XHJcblxyXG4gIHZhciBpbmRleCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcInRhZ3NcIik7XHJcbiAgfTtcclxuICB2YXIgaW5kZXhOYW1lcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcInRhZ3MtbmFtZXNcIik7XHJcbiAgfTtcclxuICB2YXIgc2hvdyA9IGZ1bmN0aW9uKHNsdWcpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJ0YWdzL1wiICsgc2x1Zyk7XHJcbiAgfTtcclxuICB2YXIgc3RvcmUgPSBmdW5jdGlvbih0YWcpIHtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVybCArIFwidGFnc1wiLCB0YWcpO1xyXG4gIH07XHJcbiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKHRhZykge1xyXG4gICAgcmV0dXJuICRodHRwLnB1dChhcGlVcmwgKyBcInRhZ3MvXCIgKyB0YWcuc2x1ZywgdGFnKTtcclxuICB9O1xyXG4gIHZhciBkZXN0cm95ID0gZnVuY3Rpb24odGFnKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKGFwaVVybCArIFwidGFncy9cIiArIHRhZy5zbHVnKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5kZXg6IGluZGV4LFxyXG4gICAgaW5kZXhOYW1lczogaW5kZXhOYW1lcyxcclxuICAgIHNob3c6IHNob3csXHJcbiAgICBzdG9yZTogc3RvcmUsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZSxcclxuICAgIGRlc3Ryb3k6IGRlc3Ryb3lcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvYW5ndWxhci9zZXJ2aWNlcy90YWdTZXJ2aWNlLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 88 */
/***/ function(module, exports) {

eval("app.factory(\"TestimonialRequestService\", function($http){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"testimonials-requests/\");\r\n  };\r\n  var store = function(testimonial) {\r\n    return $http.post(apiUrl + \"testimonials-requests/\" , testimonial);\r\n  };\r\n  var destroy = function(testimonial) {\r\n    return $http.delete(apiUrl + \"testimonials-requests/\" + testimonial.id);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    store: store,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3Rlc3RpbW9uaWFsUmVxdWVzdFNlcnZpY2UuanM/NjVjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJhcHAuZmFjdG9yeShcIlRlc3RpbW9uaWFsUmVxdWVzdFNlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHZhciBhcGlVcmwgPSBcIi9hcGkvXCI7XHJcblxyXG4gIHZhciBpbmRleCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVcmwgKyBcInRlc3RpbW9uaWFscy1yZXF1ZXN0cy9cIik7XHJcbiAgfTtcclxuICB2YXIgc3RvcmUgPSBmdW5jdGlvbih0ZXN0aW1vbmlhbCkge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVXJsICsgXCJ0ZXN0aW1vbmlhbHMtcmVxdWVzdHMvXCIgLCB0ZXN0aW1vbmlhbCk7XHJcbiAgfTtcclxuICB2YXIgZGVzdHJveSA9IGZ1bmN0aW9uKHRlc3RpbW9uaWFsKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKGFwaVVybCArIFwidGVzdGltb25pYWxzLXJlcXVlc3RzL1wiICsgdGVzdGltb25pYWwuaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbmRleDogaW5kZXgsXHJcbiAgICBzdG9yZTogc3RvcmUsXHJcbiAgICBkZXN0cm95OiBkZXN0cm95XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvc2VydmljZXMvdGVzdGltb25pYWxSZXF1ZXN0U2VydmljZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 89 */
/***/ function(module, exports) {

eval("app.factory(\"TestimonialService\", function($http){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function(slug) {\r\n    return $http.get(apiUrl + \"solutions/\" + slug + \"/testimonials\");\r\n  };\r\n  var store = function(testimonial, slug) {\r\n    return $http.post(apiUrl + \"solutions/\" + slug + \"/testimonials\" , testimonial);\r\n  };\r\n  var destroy = function(testimonial, slug) {\r\n    return $http.delete(apiUrl + \"solutions/\" + slug + \"/testimonials/\" + testimonial.id);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    store: store,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3Rlc3RpbW9uaWFsU2VydmljZS5qcz8yYzYyIl0sInNvdXJjZXNDb250ZW50IjpbImFwcC5mYWN0b3J5KFwiVGVzdGltb25pYWxTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKXtcclxuICB2YXIgYXBpVXJsID0gXCIvYXBpL1wiO1xyXG5cclxuICB2YXIgaW5kZXggPSBmdW5jdGlvbihzbHVnKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVybCArIFwic29sdXRpb25zL1wiICsgc2x1ZyArIFwiL3Rlc3RpbW9uaWFsc1wiKTtcclxuICB9O1xyXG4gIHZhciBzdG9yZSA9IGZ1bmN0aW9uKHRlc3RpbW9uaWFsLCBzbHVnKSB7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVcmwgKyBcInNvbHV0aW9ucy9cIiArIHNsdWcgKyBcIi90ZXN0aW1vbmlhbHNcIiAsIHRlc3RpbW9uaWFsKTtcclxuICB9O1xyXG4gIHZhciBkZXN0cm95ID0gZnVuY3Rpb24odGVzdGltb25pYWwsIHNsdWcpIHtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoYXBpVXJsICsgXCJzb2x1dGlvbnMvXCIgKyBzbHVnICsgXCIvdGVzdGltb25pYWxzL1wiICsgdGVzdGltb25pYWwuaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbmRleDogaW5kZXgsXHJcbiAgICBzdG9yZTogc3RvcmUsXHJcbiAgICBkZXN0cm95OiBkZXN0cm95XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvc2VydmljZXMvdGVzdGltb25pYWxTZXJ2aWNlLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 90 */
/***/ function(module, exports) {

eval("app.factory(\"ToolService\", function($http, Upload){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var index = function() {\r\n    return $http.get(apiUrl + \"tools\");\r\n  };\r\n  var store = function(tool) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"tools\",\r\n      method: 'POST',\r\n      data: tool,\r\n    });\r\n  };\r\n  var update = function(tool) {\r\n    return Upload.upload({\r\n      url: apiUrl + \"tools/\" + tool.slug,\r\n      method: 'POST',\r\n      data: tool,\r\n    });\r\n  };\r\n  var edit = function(slug) {\r\n    return $http.get(apiUrl + \"tools/\" + slug + \"/edit\");\r\n  };\r\n  var destroy = function(tool) {\r\n    return $http.delete(apiUrl + \"tools/\" + tool.slug);\r\n  };\r\n\r\n  return {\r\n    index: index,\r\n    store: store,\r\n    edit: edit,\r\n    update: update,\r\n    destroy: destroy\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3Rvb2xTZXJ2aWNlLmpzPzlmNTgiXSwic291cmNlc0NvbnRlbnQiOlsiYXBwLmZhY3RvcnkoXCJUb29sU2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCwgVXBsb2FkKXtcclxuICB2YXIgYXBpVXJsID0gXCIvYXBpL1wiO1xyXG5cclxuICB2YXIgaW5kZXggPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJ0b29sc1wiKTtcclxuICB9O1xyXG4gIHZhciBzdG9yZSA9IGZ1bmN0aW9uKHRvb2wpIHtcclxuICAgIHJldHVybiBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgdXJsOiBhcGlVcmwgKyBcInRvb2xzXCIsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBkYXRhOiB0b29sLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odG9vbCkge1xyXG4gICAgcmV0dXJuIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICB1cmw6IGFwaVVybCArIFwidG9vbHMvXCIgKyB0b29sLnNsdWcsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBkYXRhOiB0b29sLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuICB2YXIgZWRpdCA9IGZ1bmN0aW9uKHNsdWcpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoYXBpVXJsICsgXCJ0b29scy9cIiArIHNsdWcgKyBcIi9lZGl0XCIpO1xyXG4gIH07XHJcbiAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbih0b29sKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKGFwaVVybCArIFwidG9vbHMvXCIgKyB0b29sLnNsdWcpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbmRleDogaW5kZXgsXHJcbiAgICBzdG9yZTogc3RvcmUsXHJcbiAgICBlZGl0OiBlZGl0LFxyXG4gICAgdXBkYXRlOiB1cGRhdGUsXHJcbiAgICBkZXN0cm95OiBkZXN0cm95XHJcbiAgfTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyByZXNvdXJjZXMvYXNzZXRzL2FuZ3VsYXIvc2VydmljZXMvdG9vbFNlcnZpY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 91 */
/***/ function(module, exports) {

eval("// User-status Services setup.\r\napp.run(function(UserStatusService, AuthService) {\r\n  // User-status Services declaration.\r\n  var restart = function() {\r\n    if (!AuthService.get('userActive')) {return}\r\n    UserStatusService.restart();\r\n  };\r\n\r\n  // Admin-status Services declaration.\r\n  var restartAll = function() {\r\n    if (AuthService.checkRoles(['general', 'client']) || !AuthService.get('userActive')) {return}\r\n    UserStatusService.restartAll();\r\n  };\r\n\r\n  // Init services at startup.\r\n  restart();\r\n  restartAll();\r\n\r\n  // Intervals\r\n  repeat('10s', restart);\r\n  repeat('20s', restartAll);\r\n});\r\n\r\napp.factory(\"UserStatusService\", function($http, $rootScope, AuthService, NotifyService){\r\n  var apiUrl = \"/api/\";\r\n\r\n  var restart = function() {\r\n    console.log('client-status-service');\r\n    $http.get(apiUrl + \"client-status-service\").then(\r\n      function success(response) {\r\n      },\r\n      function fail(response) {\r\n        console.log(response);\r\n        NotifyService.send('Notificacion del sistema', 'Usted ha perdido la conexion con el servidor.');\r\n        AuthService.remove('userToken');\r\n        AuthService.remove('userRole');\r\n        AuthService.remove('userActive');\r\n        AuthService.remove('room_name');\r\n        AuthService.remove('room_active');\r\n        $rootScope.isActive = false;\r\n        $rootScope.chatActive = false;\r\n        NotifyService.send('error', response.data);\r\n        window.location.replace('/');\r\n      }\r\n    );\r\n  };\r\n\r\n  var restartAll = function() {\r\n    console.log('admin-status-service');\r\n    $http.get(apiUrl + \"admin-status-service\").then(\r\n      function succes(response) {\r\n      },\r\n      function fail(response) {\r\n        console.log(response);\r\n        NotifyService.send('Notificacion del sistema', 'Usted ha perdido la conexion con el servidor.');\r\n        AuthService.remove('userToken');\r\n        AuthService.remove('userRole');\r\n        AuthService.remove('userActive');\r\n        AuthService.remove('room_name');\r\n        AuthService.remove('room_active');\r\n        $rootScope.isActive = false;\r\n        $rootScope.chatActive = false;\r\n        NotifyService.send('error', response.data);\r\n        window.location.replace('/');\r\n      }\r\n    );\r\n  };\r\n\r\n  return {\r\n    restart: restart,\r\n    restartAll: restartAll\r\n  };\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3VzZXJTdGF0dXNTZXJ2aWNlLmpzP2IxZGYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVXNlci1zdGF0dXMgU2VydmljZXMgc2V0dXAuXHJcbmFwcC5ydW4oZnVuY3Rpb24oVXNlclN0YXR1c1NlcnZpY2UsIEF1dGhTZXJ2aWNlKSB7XHJcbiAgLy8gVXNlci1zdGF0dXMgU2VydmljZXMgZGVjbGFyYXRpb24uXHJcbiAgdmFyIHJlc3RhcnQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghQXV0aFNlcnZpY2UuZ2V0KCd1c2VyQWN0aXZlJykpIHtyZXR1cm59XHJcbiAgICBVc2VyU3RhdHVzU2VydmljZS5yZXN0YXJ0KCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gQWRtaW4tc3RhdHVzIFNlcnZpY2VzIGRlY2xhcmF0aW9uLlxyXG4gIHZhciByZXN0YXJ0QWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoQXV0aFNlcnZpY2UuY2hlY2tSb2xlcyhbJ2dlbmVyYWwnLCAnY2xpZW50J10pIHx8ICFBdXRoU2VydmljZS5nZXQoJ3VzZXJBY3RpdmUnKSkge3JldHVybn1cclxuICAgIFVzZXJTdGF0dXNTZXJ2aWNlLnJlc3RhcnRBbGwoKTtcclxuICB9O1xyXG5cclxuICAvLyBJbml0IHNlcnZpY2VzIGF0IHN0YXJ0dXAuXHJcbiAgcmVzdGFydCgpO1xyXG4gIHJlc3RhcnRBbGwoKTtcclxuXHJcbiAgLy8gSW50ZXJ2YWxzXHJcbiAgcmVwZWF0KCcxMHMnLCByZXN0YXJ0KTtcclxuICByZXBlYXQoJzIwcycsIHJlc3RhcnRBbGwpO1xyXG59KTtcclxuXHJcbmFwcC5mYWN0b3J5KFwiVXNlclN0YXR1c1NlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHAsICRyb290U2NvcGUsIEF1dGhTZXJ2aWNlLCBOb3RpZnlTZXJ2aWNlKXtcclxuICB2YXIgYXBpVXJsID0gXCIvYXBpL1wiO1xyXG5cclxuICB2YXIgcmVzdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc29sZS5sb2coJ2NsaWVudC1zdGF0dXMtc2VydmljZScpO1xyXG4gICAgJGh0dHAuZ2V0KGFwaVVybCArIFwiY2xpZW50LXN0YXR1cy1zZXJ2aWNlXCIpLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICBOb3RpZnlTZXJ2aWNlLnNlbmQoJ05vdGlmaWNhY2lvbiBkZWwgc2lzdGVtYScsICdVc3RlZCBoYSBwZXJkaWRvIGxhIGNvbmV4aW9uIGNvbiBlbCBzZXJ2aWRvci4nKTtcclxuICAgICAgICBBdXRoU2VydmljZS5yZW1vdmUoJ3VzZXJUb2tlbicpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlbW92ZSgndXNlclJvbGUnKTtcclxuICAgICAgICBBdXRoU2VydmljZS5yZW1vdmUoJ3VzZXJBY3RpdmUnKTtcclxuICAgICAgICBBdXRoU2VydmljZS5yZW1vdmUoJ3Jvb21fbmFtZScpO1xyXG4gICAgICAgIEF1dGhTZXJ2aWNlLnJlbW92ZSgncm9vbV9hY3RpdmUnKTtcclxuICAgICAgICAkcm9vdFNjb3BlLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgJHJvb3RTY29wZS5jaGF0QWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdlcnJvcicsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcvJyk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHJlc3RhcnRBbGwgPSBmdW5jdGlvbigpIHtcclxuICAgIGNvbnNvbGUubG9nKCdhZG1pbi1zdGF0dXMtc2VydmljZScpO1xyXG4gICAgJGh0dHAuZ2V0KGFwaVVybCArIFwiYWRtaW4tc3RhdHVzLXNlcnZpY2VcIikudGhlbihcclxuICAgICAgZnVuY3Rpb24gc3VjY2VzKHJlc3BvbnNlKSB7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIGZhaWwocmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgICAgTm90aWZ5U2VydmljZS5zZW5kKCdOb3RpZmljYWNpb24gZGVsIHNpc3RlbWEnLCAnVXN0ZWQgaGEgcGVyZGlkbyBsYSBjb25leGlvbiBjb24gZWwgc2Vydmlkb3IuJyk7XHJcbiAgICAgICAgQXV0aFNlcnZpY2UucmVtb3ZlKCd1c2VyVG9rZW4nKTtcclxuICAgICAgICBBdXRoU2VydmljZS5yZW1vdmUoJ3VzZXJSb2xlJyk7XHJcbiAgICAgICAgQXV0aFNlcnZpY2UucmVtb3ZlKCd1c2VyQWN0aXZlJyk7XHJcbiAgICAgICAgQXV0aFNlcnZpY2UucmVtb3ZlKCdyb29tX25hbWUnKTtcclxuICAgICAgICBBdXRoU2VydmljZS5yZW1vdmUoJ3Jvb21fYWN0aXZlJyk7XHJcbiAgICAgICAgJHJvb3RTY29wZS5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICRyb290U2NvcGUuY2hhdEFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIE5vdGlmeVNlcnZpY2Uuc2VuZCgnZXJyb3InLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLycpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXN0YXJ0OiByZXN0YXJ0LFxyXG4gICAgcmVzdGFydEFsbDogcmVzdGFydEFsbFxyXG4gIH07XHJcbn0pO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL3NlcnZpY2VzL3VzZXJTdGF0dXNTZXJ2aWNlLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 92 */
/***/ function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n * Selection save and restore module for Rangy.\r\n * Saves and restores user selections using marker invisible elements in the DOM.\r\n *\r\n * Part of Rangy, a cross-browser JavaScript range and selection library\r\n * https://github.com/timdown/rangy\r\n *\r\n * Depends on Rangy core.\r\n *\r\n * Copyright 2015, Tim Down\r\n * Licensed under the MIT license.\r\n * Version: 1.3.0\r\n * Build date: 10 May 2015\r\n */\r\n(function(factory, root) {\n    if (true) {\n        // AMD. Register as an anonymous module with a dependency on Rangy.\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module != \"undefined\" && typeof exports == \"object\") {\n        // Node/CommonJS style\n        module.exports = factory( require(\"rangy\") );\n    } else {\n        // No AMD or CommonJS support so we use the rangy property of root (probably the global variable)\n        factory(root.rangy);\n    }\n})(function(rangy) {\n    rangy.createModule(\"SaveRestore\", [\"WrappedRange\"], function(api, module) {\n        var dom = api.dom;\n        var removeNode = dom.removeNode;\n        var isDirectionBackward = api.Selection.isDirectionBackward;\n        var markerTextChar = \"\\ufeff\";\n\n        function gEBI(id, doc) {\n            return (doc || document).getElementById(id);\n        }\n\n        function insertRangeBoundaryMarker(range, atStart) {\n            var markerId = \"selectionBoundary_\" + (+new Date()) + \"_\" + (\"\" + Math.random()).slice(2);\n            var markerEl;\n            var doc = dom.getDocument(range.startContainer);\n\n            // Clone the Range and collapse to the appropriate boundary point\n            var boundaryRange = range.cloneRange();\n            boundaryRange.collapse(atStart);\n\n            // Create the marker element containing a single invisible character using DOM methods and insert it\n            markerEl = doc.createElement(\"span\");\n            markerEl.id = markerId;\n            markerEl.style.lineHeight = \"0\";\n            markerEl.style.display = \"none\";\n            markerEl.className = \"rangySelectionBoundary\";\n            markerEl.appendChild(doc.createTextNode(markerTextChar));\n\n            boundaryRange.insertNode(markerEl);\n            return markerEl;\n        }\n\n        function setRangeBoundary(doc, range, markerId, atStart) {\n            var markerEl = gEBI(markerId, doc);\n            if (markerEl) {\n                range[atStart ? \"setStartBefore\" : \"setEndBefore\"](markerEl);\n                removeNode(markerEl);\n            } else {\n                module.warn(\"Marker element has been removed. Cannot restore selection.\");\n            }\n        }\n\n        function compareRanges(r1, r2) {\n            return r2.compareBoundaryPoints(r1.START_TO_START, r1);\n        }\n\n        function saveRange(range, direction) {\n            var startEl, endEl, doc = api.DomRange.getRangeDocument(range), text = range.toString();\n            var backward = isDirectionBackward(direction);\n\n            if (range.collapsed) {\n                endEl = insertRangeBoundaryMarker(range, false);\n                return {\n                    document: doc,\n                    markerId: endEl.id,\n                    collapsed: true\n                };\n            } else {\n                endEl = insertRangeBoundaryMarker(range, false);\n                startEl = insertRangeBoundaryMarker(range, true);\n\n                return {\n                    document: doc,\n                    startMarkerId: startEl.id,\n                    endMarkerId: endEl.id,\n                    collapsed: false,\n                    backward: backward,\n                    toString: function() {\n                        return \"original text: '\" + text + \"', new text: '\" + range.toString() + \"'\";\n                    }\n                };\n            }\n        }\n\n        function restoreRange(rangeInfo, normalize) {\n            var doc = rangeInfo.document;\n            if (typeof normalize == \"undefined\") {\n                normalize = true;\n            }\n            var range = api.createRange(doc);\n            if (rangeInfo.collapsed) {\n                var markerEl = gEBI(rangeInfo.markerId, doc);\n                if (markerEl) {\n                    markerEl.style.display = \"inline\";\n                    var previousNode = markerEl.previousSibling;\n\n                    // Workaround for issue 17\n                    if (previousNode && previousNode.nodeType == 3) {\n                        removeNode(markerEl);\n                        range.collapseToPoint(previousNode, previousNode.length);\n                    } else {\n                        range.collapseBefore(markerEl);\n                        removeNode(markerEl);\n                    }\n                } else {\n                    module.warn(\"Marker element has been removed. Cannot restore selection.\");\n                }\n            } else {\n                setRangeBoundary(doc, range, rangeInfo.startMarkerId, true);\n                setRangeBoundary(doc, range, rangeInfo.endMarkerId, false);\n            }\n\n            if (normalize) {\n                range.normalizeBoundaries();\n            }\n\n            return range;\n        }\n\n        function saveRanges(ranges, direction) {\n            var rangeInfos = [], range, doc;\n            var backward = isDirectionBackward(direction);\n\n            // Order the ranges by position within the DOM, latest first, cloning the array to leave the original untouched\n            ranges = ranges.slice(0);\n            ranges.sort(compareRanges);\n\n            for (var i = 0, len = ranges.length; i < len; ++i) {\n                rangeInfos[i] = saveRange(ranges[i], backward);\n            }\n\n            // Now that all the markers are in place and DOM manipulation over, adjust each range's boundaries to lie\n            // between its markers\n            for (i = len - 1; i >= 0; --i) {\n                range = ranges[i];\n                doc = api.DomRange.getRangeDocument(range);\n                if (range.collapsed) {\n                    range.collapseAfter(gEBI(rangeInfos[i].markerId, doc));\n                } else {\n                    range.setEndBefore(gEBI(rangeInfos[i].endMarkerId, doc));\n                    range.setStartAfter(gEBI(rangeInfos[i].startMarkerId, doc));\n                }\n            }\n\n            return rangeInfos;\n        }\n\n        function saveSelection(win) {\n            if (!api.isSelectionValid(win)) {\n                module.warn(\"Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.\");\n                return null;\n            }\n            var sel = api.getSelection(win);\n            var ranges = sel.getAllRanges();\n            var backward = (ranges.length == 1 && sel.isBackward());\n\n            var rangeInfos = saveRanges(ranges, backward);\n\n            // Ensure current selection is unaffected\n            if (backward) {\n                sel.setSingleRange(ranges[0], backward);\n            } else {\n                sel.setRanges(ranges);\n            }\n\n            return {\n                win: win,\n                rangeInfos: rangeInfos,\n                restored: false\n            };\n        }\n\n        function restoreRanges(rangeInfos) {\n            var ranges = [];\n\n            // Ranges are in reverse order of appearance in the DOM. We want to restore earliest first to avoid\n            // normalization affecting previously restored ranges.\n            var rangeCount = rangeInfos.length;\n\n            for (var i = rangeCount - 1; i >= 0; i--) {\n                ranges[i] = restoreRange(rangeInfos[i], true);\n            }\n\n            return ranges;\n        }\n\n        function restoreSelection(savedSelection, preserveDirection) {\n            if (!savedSelection.restored) {\n                var rangeInfos = savedSelection.rangeInfos;\n                var sel = api.getSelection(savedSelection.win);\n                var ranges = restoreRanges(rangeInfos), rangeCount = rangeInfos.length;\n\n                if (rangeCount == 1 && preserveDirection && api.features.selectionHasExtend && rangeInfos[0].backward) {\n                    sel.removeAllRanges();\n                    sel.addRange(ranges[0], true);\n                } else {\n                    sel.setRanges(ranges);\n                }\n\n                savedSelection.restored = true;\n            }\n        }\n\n        function removeMarkerElement(doc, markerId) {\n            var markerEl = gEBI(markerId, doc);\n            if (markerEl) {\n                removeNode(markerEl);\n            }\n        }\n\n        function removeMarkers(savedSelection) {\n            var rangeInfos = savedSelection.rangeInfos;\n            for (var i = 0, len = rangeInfos.length, rangeInfo; i < len; ++i) {\n                rangeInfo = rangeInfos[i];\n                if (rangeInfo.collapsed) {\n                    removeMarkerElement(savedSelection.doc, rangeInfo.markerId);\n                } else {\n                    removeMarkerElement(savedSelection.doc, rangeInfo.startMarkerId);\n                    removeMarkerElement(savedSelection.doc, rangeInfo.endMarkerId);\n                }\n            }\n        }\n\n        api.util.extend(api, {\n            saveRange: saveRange,\n            restoreRange: restoreRange,\n            saveRanges: saveRanges,\n            restoreRanges: restoreRanges,\n            saveSelection: saveSelection,\n            restoreSelection: restoreSelection,\n            removeMarkerElement: removeMarkerElement,\n            removeMarkers: removeMarkers\n        });\n    });\n    \n    return rangy;\n}, this);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3Jhbmd5L2xpYi9yYW5neS1zZWxlY3Rpb25zYXZlcmVzdG9yZS5qcz9iZDliIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTZWxlY3Rpb24gc2F2ZSBhbmQgcmVzdG9yZSBtb2R1bGUgZm9yIFJhbmd5LlxyXG4gKiBTYXZlcyBhbmQgcmVzdG9yZXMgdXNlciBzZWxlY3Rpb25zIHVzaW5nIG1hcmtlciBpbnZpc2libGUgZWxlbWVudHMgaW4gdGhlIERPTS5cclxuICpcclxuICogUGFydCBvZiBSYW5neSwgYSBjcm9zcy1icm93c2VyIEphdmFTY3JpcHQgcmFuZ2UgYW5kIHNlbGVjdGlvbiBsaWJyYXJ5XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS90aW1kb3duL3Jhbmd5XHJcbiAqXHJcbiAqIERlcGVuZHMgb24gUmFuZ3kgY29yZS5cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTUsIFRpbSBEb3duXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuICogVmVyc2lvbjogMS4zLjBcclxuICogQnVpbGQgZGF0ZTogMTAgTWF5IDIwMTVcclxuICovXHJcbihmdW5jdGlvbihmYWN0b3J5LCByb290KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHdpdGggYSBkZXBlbmRlbmN5IG9uIFJhbmd5LlxuICAgICAgICBkZWZpbmUoW1wiLi9yYW5neS1jb3JlXCJdLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlMgc3R5bGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCByZXF1aXJlKFwicmFuZ3lcIikgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBObyBBTUQgb3IgQ29tbW9uSlMgc3VwcG9ydCBzbyB3ZSB1c2UgdGhlIHJhbmd5IHByb3BlcnR5IG9mIHJvb3QgKHByb2JhYmx5IHRoZSBnbG9iYWwgdmFyaWFibGUpXG4gICAgICAgIGZhY3Rvcnkocm9vdC5yYW5neSk7XG4gICAgfVxufSkoZnVuY3Rpb24ocmFuZ3kpIHtcbiAgICByYW5neS5jcmVhdGVNb2R1bGUoXCJTYXZlUmVzdG9yZVwiLCBbXCJXcmFwcGVkUmFuZ2VcIl0sIGZ1bmN0aW9uKGFwaSwgbW9kdWxlKSB7XG4gICAgICAgIHZhciBkb20gPSBhcGkuZG9tO1xuICAgICAgICB2YXIgcmVtb3ZlTm9kZSA9IGRvbS5yZW1vdmVOb2RlO1xuICAgICAgICB2YXIgaXNEaXJlY3Rpb25CYWNrd2FyZCA9IGFwaS5TZWxlY3Rpb24uaXNEaXJlY3Rpb25CYWNrd2FyZDtcbiAgICAgICAgdmFyIG1hcmtlclRleHRDaGFyID0gXCJcXHVmZWZmXCI7XG5cbiAgICAgICAgZnVuY3Rpb24gZ0VCSShpZCwgZG9jKSB7XG4gICAgICAgICAgICByZXR1cm4gKGRvYyB8fCBkb2N1bWVudCkuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5zZXJ0UmFuZ2VCb3VuZGFyeU1hcmtlcihyYW5nZSwgYXRTdGFydCkge1xuICAgICAgICAgICAgdmFyIG1hcmtlcklkID0gXCJzZWxlY3Rpb25Cb3VuZGFyeV9cIiArICgrbmV3IERhdGUoKSkgKyBcIl9cIiArIChcIlwiICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMik7XG4gICAgICAgICAgICB2YXIgbWFya2VyRWw7XG4gICAgICAgICAgICB2YXIgZG9jID0gZG9tLmdldERvY3VtZW50KHJhbmdlLnN0YXJ0Q29udGFpbmVyKTtcblxuICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIFJhbmdlIGFuZCBjb2xsYXBzZSB0byB0aGUgYXBwcm9wcmlhdGUgYm91bmRhcnkgcG9pbnRcbiAgICAgICAgICAgIHZhciBib3VuZGFyeVJhbmdlID0gcmFuZ2UuY2xvbmVSYW5nZSgpO1xuICAgICAgICAgICAgYm91bmRhcnlSYW5nZS5jb2xsYXBzZShhdFN0YXJ0KTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBtYXJrZXIgZWxlbWVudCBjb250YWluaW5nIGEgc2luZ2xlIGludmlzaWJsZSBjaGFyYWN0ZXIgdXNpbmcgRE9NIG1ldGhvZHMgYW5kIGluc2VydCBpdFxuICAgICAgICAgICAgbWFya2VyRWwgPSBkb2MuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICBtYXJrZXJFbC5pZCA9IG1hcmtlcklkO1xuICAgICAgICAgICAgbWFya2VyRWwuc3R5bGUubGluZUhlaWdodCA9IFwiMFwiO1xuICAgICAgICAgICAgbWFya2VyRWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgbWFya2VyRWwuY2xhc3NOYW1lID0gXCJyYW5neVNlbGVjdGlvbkJvdW5kYXJ5XCI7XG4gICAgICAgICAgICBtYXJrZXJFbC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUobWFya2VyVGV4dENoYXIpKTtcblxuICAgICAgICAgICAgYm91bmRhcnlSYW5nZS5pbnNlcnROb2RlKG1hcmtlckVsKTtcbiAgICAgICAgICAgIHJldHVybiBtYXJrZXJFbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldFJhbmdlQm91bmRhcnkoZG9jLCByYW5nZSwgbWFya2VySWQsIGF0U3RhcnQpIHtcbiAgICAgICAgICAgIHZhciBtYXJrZXJFbCA9IGdFQkkobWFya2VySWQsIGRvYyk7XG4gICAgICAgICAgICBpZiAobWFya2VyRWwpIHtcbiAgICAgICAgICAgICAgICByYW5nZVthdFN0YXJ0ID8gXCJzZXRTdGFydEJlZm9yZVwiIDogXCJzZXRFbmRCZWZvcmVcIl0obWFya2VyRWwpO1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUobWFya2VyRWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUud2FybihcIk1hcmtlciBlbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQuIENhbm5vdCByZXN0b3JlIHNlbGVjdGlvbi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb21wYXJlUmFuZ2VzKHIxLCByMikge1xuICAgICAgICAgICAgcmV0dXJuIHIyLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhyMS5TVEFSVF9UT19TVEFSVCwgcjEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2F2ZVJhbmdlKHJhbmdlLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBzdGFydEVsLCBlbmRFbCwgZG9jID0gYXBpLkRvbVJhbmdlLmdldFJhbmdlRG9jdW1lbnQocmFuZ2UpLCB0ZXh0ID0gcmFuZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBiYWNrd2FyZCA9IGlzRGlyZWN0aW9uQmFja3dhcmQoZGlyZWN0aW9uKTtcblxuICAgICAgICAgICAgaWYgKHJhbmdlLmNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIGVuZEVsID0gaW5zZXJ0UmFuZ2VCb3VuZGFyeU1hcmtlcihyYW5nZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50OiBkb2MsXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcklkOiBlbmRFbC5pZCxcbiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VkOiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kRWwgPSBpbnNlcnRSYW5nZUJvdW5kYXJ5TWFya2VyKHJhbmdlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc3RhcnRFbCA9IGluc2VydFJhbmdlQm91bmRhcnlNYXJrZXIocmFuZ2UsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQ6IGRvYyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNYXJrZXJJZDogc3RhcnRFbC5pZCxcbiAgICAgICAgICAgICAgICAgICAgZW5kTWFya2VySWQ6IGVuZEVsLmlkLFxuICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBiYWNrd2FyZDogYmFja3dhcmQsXG4gICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9yaWdpbmFsIHRleHQ6ICdcIiArIHRleHQgKyBcIicsIG5ldyB0ZXh0OiAnXCIgKyByYW5nZS50b1N0cmluZygpICsgXCInXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzdG9yZVJhbmdlKHJhbmdlSW5mbywgbm9ybWFsaXplKSB7XG4gICAgICAgICAgICB2YXIgZG9jID0gcmFuZ2VJbmZvLmRvY3VtZW50O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBub3JtYWxpemUgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBhcGkuY3JlYXRlUmFuZ2UoZG9jKTtcbiAgICAgICAgICAgIGlmIChyYW5nZUluZm8uY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlckVsID0gZ0VCSShyYW5nZUluZm8ubWFya2VySWQsIGRvYyk7XG4gICAgICAgICAgICAgICAgaWYgKG1hcmtlckVsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckVsLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZVwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNOb2RlID0gbWFya2VyRWwucHJldmlvdXNTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGlzc3VlIDE3XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c05vZGUgJiYgcHJldmlvdXNOb2RlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUobWFya2VyRWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2VUb1BvaW50KHByZXZpb3VzTm9kZSwgcHJldmlvdXNOb2RlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZUJlZm9yZShtYXJrZXJFbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKG1hcmtlckVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS53YXJuKFwiTWFya2VyIGVsZW1lbnQgaGFzIGJlZW4gcmVtb3ZlZC4gQ2Fubm90IHJlc3RvcmUgc2VsZWN0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFJhbmdlQm91bmRhcnkoZG9jLCByYW5nZSwgcmFuZ2VJbmZvLnN0YXJ0TWFya2VySWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIHNldFJhbmdlQm91bmRhcnkoZG9jLCByYW5nZSwgcmFuZ2VJbmZvLmVuZE1hcmtlcklkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub3JtYWxpemUpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5ub3JtYWxpemVCb3VuZGFyaWVzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVSYW5nZXMocmFuZ2VzLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciByYW5nZUluZm9zID0gW10sIHJhbmdlLCBkb2M7XG4gICAgICAgICAgICB2YXIgYmFja3dhcmQgPSBpc0RpcmVjdGlvbkJhY2t3YXJkKGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgIC8vIE9yZGVyIHRoZSByYW5nZXMgYnkgcG9zaXRpb24gd2l0aGluIHRoZSBET00sIGxhdGVzdCBmaXJzdCwgY2xvbmluZyB0aGUgYXJyYXkgdG8gbGVhdmUgdGhlIG9yaWdpbmFsIHVudG91Y2hlZFxuICAgICAgICAgICAgcmFuZ2VzID0gcmFuZ2VzLnNsaWNlKDApO1xuICAgICAgICAgICAgcmFuZ2VzLnNvcnQoY29tcGFyZVJhbmdlcyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICByYW5nZUluZm9zW2ldID0gc2F2ZVJhbmdlKHJhbmdlc1tpXSwgYmFja3dhcmQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3cgdGhhdCBhbGwgdGhlIG1hcmtlcnMgYXJlIGluIHBsYWNlIGFuZCBET00gbWFuaXB1bGF0aW9uIG92ZXIsIGFkanVzdCBlYWNoIHJhbmdlJ3MgYm91bmRhcmllcyB0byBsaWVcbiAgICAgICAgICAgIC8vIGJldHdlZW4gaXRzIG1hcmtlcnNcbiAgICAgICAgICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgICAgICAgICAgZG9jID0gYXBpLkRvbVJhbmdlLmdldFJhbmdlRG9jdW1lbnQocmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2VBZnRlcihnRUJJKHJhbmdlSW5mb3NbaV0ubWFya2VySWQsIGRvYykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZEJlZm9yZShnRUJJKHJhbmdlSW5mb3NbaV0uZW5kTWFya2VySWQsIGRvYykpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEFmdGVyKGdFQkkocmFuZ2VJbmZvc1tpXS5zdGFydE1hcmtlcklkLCBkb2MpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByYW5nZUluZm9zO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2F2ZVNlbGVjdGlvbih3aW4pIHtcbiAgICAgICAgICAgIGlmICghYXBpLmlzU2VsZWN0aW9uVmFsaWQod2luKSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS53YXJuKFwiQ2Fubm90IHNhdmUgc2VsZWN0aW9uLiBUaGlzIHVzdWFsbHkgaGFwcGVucyB3aGVuIHRoZSBzZWxlY3Rpb24gaXMgY29sbGFwc2VkIGFuZCB0aGUgc2VsZWN0aW9uIGRvY3VtZW50IGhhcyBsb3N0IGZvY3VzLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzZWwgPSBhcGkuZ2V0U2VsZWN0aW9uKHdpbik7XG4gICAgICAgICAgICB2YXIgcmFuZ2VzID0gc2VsLmdldEFsbFJhbmdlcygpO1xuICAgICAgICAgICAgdmFyIGJhY2t3YXJkID0gKHJhbmdlcy5sZW5ndGggPT0gMSAmJiBzZWwuaXNCYWNrd2FyZCgpKTtcblxuICAgICAgICAgICAgdmFyIHJhbmdlSW5mb3MgPSBzYXZlUmFuZ2VzKHJhbmdlcywgYmFja3dhcmQpO1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgY3VycmVudCBzZWxlY3Rpb24gaXMgdW5hZmZlY3RlZFxuICAgICAgICAgICAgaWYgKGJhY2t3YXJkKSB7XG4gICAgICAgICAgICAgICAgc2VsLnNldFNpbmdsZVJhbmdlKHJhbmdlc1swXSwgYmFja3dhcmQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWwuc2V0UmFuZ2VzKHJhbmdlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd2luOiB3aW4sXG4gICAgICAgICAgICAgICAgcmFuZ2VJbmZvczogcmFuZ2VJbmZvcyxcbiAgICAgICAgICAgICAgICByZXN0b3JlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXN0b3JlUmFuZ2VzKHJhbmdlSW5mb3MpIHtcbiAgICAgICAgICAgIHZhciByYW5nZXMgPSBbXTtcblxuICAgICAgICAgICAgLy8gUmFuZ2VzIGFyZSBpbiByZXZlcnNlIG9yZGVyIG9mIGFwcGVhcmFuY2UgaW4gdGhlIERPTS4gV2Ugd2FudCB0byByZXN0b3JlIGVhcmxpZXN0IGZpcnN0IHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBub3JtYWxpemF0aW9uIGFmZmVjdGluZyBwcmV2aW91c2x5IHJlc3RvcmVkIHJhbmdlcy5cbiAgICAgICAgICAgIHZhciByYW5nZUNvdW50ID0gcmFuZ2VJbmZvcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSByYW5nZUNvdW50IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICByYW5nZXNbaV0gPSByZXN0b3JlUmFuZ2UocmFuZ2VJbmZvc1tpXSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXN0b3JlU2VsZWN0aW9uKHNhdmVkU2VsZWN0aW9uLCBwcmVzZXJ2ZURpcmVjdGlvbikge1xuICAgICAgICAgICAgaWYgKCFzYXZlZFNlbGVjdGlvbi5yZXN0b3JlZCkge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZUluZm9zID0gc2F2ZWRTZWxlY3Rpb24ucmFuZ2VJbmZvcztcbiAgICAgICAgICAgICAgICB2YXIgc2VsID0gYXBpLmdldFNlbGVjdGlvbihzYXZlZFNlbGVjdGlvbi53aW4pO1xuICAgICAgICAgICAgICAgIHZhciByYW5nZXMgPSByZXN0b3JlUmFuZ2VzKHJhbmdlSW5mb3MpLCByYW5nZUNvdW50ID0gcmFuZ2VJbmZvcy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VDb3VudCA9PSAxICYmIHByZXNlcnZlRGlyZWN0aW9uICYmIGFwaS5mZWF0dXJlcy5zZWxlY3Rpb25IYXNFeHRlbmQgJiYgcmFuZ2VJbmZvc1swXS5iYWNrd2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZXNbMF0sIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5zZXRSYW5nZXMocmFuZ2VzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzYXZlZFNlbGVjdGlvbi5yZXN0b3JlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVNYXJrZXJFbGVtZW50KGRvYywgbWFya2VySWQpIHtcbiAgICAgICAgICAgIHZhciBtYXJrZXJFbCA9IGdFQkkobWFya2VySWQsIGRvYyk7XG4gICAgICAgICAgICBpZiAobWFya2VyRWwpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVOb2RlKG1hcmtlckVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZU1hcmtlcnMoc2F2ZWRTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciByYW5nZUluZm9zID0gc2F2ZWRTZWxlY3Rpb24ucmFuZ2VJbmZvcztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByYW5nZUluZm9zLmxlbmd0aCwgcmFuZ2VJbmZvOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICByYW5nZUluZm8gPSByYW5nZUluZm9zW2ldO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZUluZm8uY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU1hcmtlckVsZW1lbnQoc2F2ZWRTZWxlY3Rpb24uZG9jLCByYW5nZUluZm8ubWFya2VySWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU1hcmtlckVsZW1lbnQoc2F2ZWRTZWxlY3Rpb24uZG9jLCByYW5nZUluZm8uc3RhcnRNYXJrZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU1hcmtlckVsZW1lbnQoc2F2ZWRTZWxlY3Rpb24uZG9jLCByYW5nZUluZm8uZW5kTWFya2VySWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFwaS51dGlsLmV4dGVuZChhcGksIHtcbiAgICAgICAgICAgIHNhdmVSYW5nZTogc2F2ZVJhbmdlLFxuICAgICAgICAgICAgcmVzdG9yZVJhbmdlOiByZXN0b3JlUmFuZ2UsXG4gICAgICAgICAgICBzYXZlUmFuZ2VzOiBzYXZlUmFuZ2VzLFxuICAgICAgICAgICAgcmVzdG9yZVJhbmdlczogcmVzdG9yZVJhbmdlcyxcbiAgICAgICAgICAgIHNhdmVTZWxlY3Rpb246IHNhdmVTZWxlY3Rpb24sXG4gICAgICAgICAgICByZXN0b3JlU2VsZWN0aW9uOiByZXN0b3JlU2VsZWN0aW9uLFxuICAgICAgICAgICAgcmVtb3ZlTWFya2VyRWxlbWVudDogcmVtb3ZlTWFya2VyRWxlbWVudCxcbiAgICAgICAgICAgIHJlbW92ZU1hcmtlcnM6IHJlbW92ZU1hcmtlcnNcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHJhbmd5O1xufSwgdGhpcyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Jhbmd5L2xpYi9yYW5neS1zZWxlY3Rpb25zYXZlcmVzdG9yZS5qc1xuLy8gbW9kdWxlIGlkID0gOTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 93 */
/***/ function(module, exports, __webpack_require__) {

eval("// Angular - Plugins\n__webpack_require__(10);\n//require('./plugins/textAngular-rangy.js');\n__webpack_require__(12);\n__webpack_require__(13);\n//require('angular-cookies');\n__webpack_require__(2);\n__webpack_require__(17);\n__webpack_require__(3);\n__webpack_require__(5);\n__webpack_require__(11);\n__webpack_require__(19);\n__webpack_require__(4);\n__webpack_require__(18);\n__webpack_require__(16);\n__webpack_require__(1);\n__webpack_require__(9);\n// Angular - Modules\nwindow.app = angular.module(\"main\", [\n  'ui.router',\n  'validation',\n  'validation.rule',\n  'ngSanitize',\n  'textAngular',\n  'infinite-scroll',\n  'angular.chosen',\n  'ngFileUpload',\n  'pusher-angular',\n  'ngMap',\n  'luegg.directives',\n  'ngComboDatePicker',\n  'slickCarousel'\n]);\n__webpack_require__(7);\n__webpack_require__(14);\n__webpack_require__(6);\n__webpack_require__(15);\n__webpack_require__(8);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2FwcC5qcz80N2FjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFuZ3VsYXIgLSBQbHVnaW5zXG5yZXF1aXJlKCcuL3BsdWdpbnMvYW5ndWxhci1sb2NhbGVfZXMtZXMnKTtcbi8vcmVxdWlyZSgnLi9wbHVnaW5zL3RleHRBbmd1bGFyLXJhbmd5LmpzJyk7XG5yZXF1aXJlKCcuL3BsdWdpbnMvdGV4dEFuZ3VsYXItc2FuaXRpemUubWluJyk7XG5yZXF1aXJlKCcuL3BsdWdpbnMvdGV4dEFuZ3VsYXIubWluJyk7XG4vL3JlcXVpcmUoJ2FuZ3VsYXItY29va2llcycpO1xucmVxdWlyZSgnYW5ndWxhci11aS1yb3V0ZXInKTtcbnJlcXVpcmUoJ25nLWluZmluaXRlLXNjcm9sbCcpO1xucmVxdWlyZSgnYW5ndWxhci12YWxpZGF0aW9uJyk7XG5yZXF1aXJlKCcuL2FuZ3VsYXItdmFsaWRhdGlvbi1ydWxlJyk7XG5yZXF1aXJlKCcuL3BsdWdpbnMvbmctZmlsZS11cGxvYWQtYWxsLm1pbicpO1xucmVxdWlyZSgncHVzaGVyLWFuZ3VsYXInKTtcbnJlcXVpcmUoJ2FuZ3VsYXJqcy1zY3JvbGwtZ2x1ZScpO1xucmVxdWlyZSgnbmdtYXAnKTtcbnJlcXVpcmUoJ25nLWNvbWJvLWRhdGUtcGlja2VyJyk7XG5yZXF1aXJlKCdhbmd1bGFyLXNsaWNrLWNhcm91c2VsJyk7XG5yZXF1aXJlKCcuL3BsdWdpbnMvYW5ndWxhci1jaG9zZW4ubWluJyk7XG4vLyBBbmd1bGFyIC0gTW9kdWxlc1xud2luZG93LmFwcCA9IGFuZ3VsYXIubW9kdWxlKFwibWFpblwiLCBbXG4gICd1aS5yb3V0ZXInLFxuICAndmFsaWRhdGlvbicsXG4gICd2YWxpZGF0aW9uLnJ1bGUnLFxuICAnbmdTYW5pdGl6ZScsXG4gICd0ZXh0QW5ndWxhcicsXG4gICdpbmZpbml0ZS1zY3JvbGwnLFxuICAnYW5ndWxhci5jaG9zZW4nLFxuICAnbmdGaWxlVXBsb2FkJyxcbiAgJ3B1c2hlci1hbmd1bGFyJyxcbiAgJ25nTWFwJyxcbiAgJ2x1ZWdnLmRpcmVjdGl2ZXMnLFxuICAnbmdDb21ib0RhdGVQaWNrZXInLFxuICAnc2xpY2tDYXJvdXNlbCdcbl0pO1xucmVxdWlyZSgnLi9kaXJlY3RpdmVzJyk7XG5yZXF1aXJlKCcuL3JvdXRlcycpO1xucmVxdWlyZSgnLi9jb250cm9sbGVycycpO1xucmVxdWlyZSgnLi9zZXJ2aWNlcycpO1xucmVxdWlyZSgnLi9maWx0ZXJzJyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hbmd1bGFyL2FwcC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }
/******/ ]);